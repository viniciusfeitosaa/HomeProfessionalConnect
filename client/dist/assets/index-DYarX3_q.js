const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-BGvNjoJd.js","assets/vendor-Bs7gn1Hv.js","assets/ui-CzKFRJXK.js","assets/utils--BulIq_u.js"])))=>i.map(i=>d[i]);
import{r as M,j as e,P as ls,c as yo,a as _f,u as br,B as cx,b as Yo,d as ou,e as Wt,f as Ko,g as lu,R as dx,h as jf,i as Wn,k as ux,l as hx,m as Mc,D as Sf,C as kf,n as Pf,o as Hl,p as Cf,A as Lf,q as Af,S as fx,O as cu,s as Tf,t as du,v as uu,T as hu,w as fu,x as Ef,y as Mf,z as mx,E as If,F as px,I as gx,G as Rf,H as Of,J as Df,K as xx,L as Ff,M as zf,N as Bf,Q as qf,U as Hf,V as Uf,W as $f,X as vx,Y as yx,Z as bx,_ as Wf,$ as wx,a0 as Nx,a1 as _c,a2 as _x,a3 as jx,a4 as Sx,a5 as kx,a6 as Px,a7 as Vf,a8 as Cx}from"./ui-CzKFRJXK.js";import{a as Lx,r as Ax,g as Zf,b as Tx,c as Ex}from"./vendor-Bs7gn1Hv.js";import{t as Mx,c as Ix,a as Ic}from"./utils--BulIq_u.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var dc={},fh;function Rx(){if(fh)return dc;fh=1;var s=Lx();return dc.createRoot=s.createRoot,dc.hydrateRoot=s.hydrateRoot,dc}var Ox=Rx(),ol=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fo=typeof window>"u"||"Deno"in globalThis;function tn(){}function Dx(s,r){return typeof s=="function"?s(r):s}function Ld(s){return typeof s=="number"&&s>=0&&s!==1/0}function Gf(s,r){return Math.max(s+(r||0)-Date.now(),0)}function Si(s,r){return typeof s=="function"?s(r):s}function la(s,r){return typeof s=="function"?s(r):s}function mh(s,r){const{type:n="all",exact:a,fetchStatus:o,predicate:l,queryKey:d,stale:f}=s;if(d){if(a){if(r.queryHash!==mu(d,r.options))return!1}else if(!Ml(r.queryKey,d))return!1}if(n!=="all"){const u=r.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof f=="boolean"&&r.isStale()!==f||o&&o!==r.state.fetchStatus||l&&!l(r))}function ph(s,r){const{exact:n,status:a,predicate:o,mutationKey:l}=s;if(l){if(!r.options.mutationKey)return!1;if(n){if(mo(r.options.mutationKey)!==mo(l))return!1}else if(!Ml(r.options.mutationKey,l))return!1}return!(a&&r.state.status!==a||o&&!o(r))}function mu(s,r){return(r?.queryKeyHashFn||mo)(s)}function mo(s){return JSON.stringify(s,(r,n)=>Ad(n)?Object.keys(n).sort().reduce((a,o)=>(a[o]=n[o],a),{}):n)}function Ml(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(n=>Ml(s[n],r[n])):!1}function Yf(s,r){if(s===r)return s;const n=gh(s)&&gh(r);if(n||Ad(s)&&Ad(r)){const a=n?s:Object.keys(s),o=a.length,l=n?r:Object.keys(r),d=l.length,f=n?[]:{},u=new Set(a);let x=0;for(let w=0;w<d;w++){const v=n?w:l[w];(!n&&u.has(v)||n)&&s[v]===void 0&&r[v]===void 0?(f[v]=void 0,x++):(f[v]=Yf(s[v],r[v]),f[v]===s[v]&&s[v]!==void 0&&x++)}return o===d&&x===o?s:f}return r}function jc(s,r){if(!r||Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}function gh(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Ad(s){if(!xh(s))return!1;const r=s.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!xh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function xh(s){return Object.prototype.toString.call(s)==="[object Object]"}function Fx(s){return new Promise(r=>{setTimeout(r,s)})}function Td(s,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,r):n.structuralSharing!==!1?Yf(s,r):r}function zx(s,r,n=0){const a=[...s,r];return n&&a.length>n?a.slice(1):a}function Bx(s,r,n=0){const a=[r,...s];return n&&a.length>n?a.slice(0,-1):a}var pu=Symbol();function Kf(s,r){return!s.queryFn&&r?.initialPromise?()=>r.initialPromise:!s.queryFn||s.queryFn===pu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Jf(s,r){return typeof s=="function"?s(...r):!!s}var qx=class extends ol{#t;#e;#s;constructor(){super(),this.#s=s=>{if(!fo&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(s){this.#s=s,this.#e?.(),this.#e=s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(s){this.#t!==s&&(this.#t=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},gu=new qx,Hx=class extends ol{#t=!0;#e;#s;constructor(){super(),this.#s=s=>{if(!fo&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(s){this.#s=s,this.#e?.(),this.#e=s(this.setOnline.bind(this))}setOnline(s){this.#t!==s&&(this.#t=s,this.listeners.forEach(n=>{n(s)}))}isOnline(){return this.#t}},Sc=new Hx;function Ed(){let s,r;const n=new Promise((o,l)=>{s=o,r=l});n.status="pending",n.catch(()=>{});function a(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{a({status:"fulfilled",value:o}),s(o)},n.reject=o=>{a({status:"rejected",reason:o}),r(o)},n}function Ux(s){return Math.min(1e3*2**s,3e4)}function Qf(s){return(s??"online")==="online"?Sc.isOnline():!0}var Xf=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function ud(s){return s instanceof Xf}function em(s){let r=!1,n=0,a=!1,o;const l=Ed(),d=_=>{a||(j(new Xf(_)),s.abort?.())},f=()=>{r=!0},u=()=>{r=!1},x=()=>gu.isFocused()&&(s.networkMode==="always"||Sc.isOnline())&&s.canRun(),w=()=>Qf(s.networkMode)&&s.canRun(),v=_=>{a||(a=!0,s.onSuccess?.(_),o?.(),l.resolve(_))},j=_=>{a||(a=!0,s.onError?.(_),o?.(),l.reject(_))},p=()=>new Promise(_=>{o=I=>{(a||x())&&_(I)},s.onPause?.()}).then(()=>{o=void 0,a||s.onContinue?.()}),k=()=>{if(a)return;let _;const I=n===0?s.initialPromise:void 0;try{_=I??s.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(v).catch(S=>{if(a)return;const N=s.retry??(fo?0:3),A=s.retryDelay??Ux,D=typeof A=="function"?A(n,S):A,q=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,S);if(r||!q){j(S);return}n++,s.onFail?.(n,S),Fx(D).then(()=>x()?void 0:p()).then(()=>{r?j(S):k()})})};return{promise:l,cancel:d,continue:()=>(o?.(),l),cancelRetry:f,continueRetry:u,canStart:w,start:()=>(w()?k():p().then(k),l)}}var $x=s=>setTimeout(s,0);function Wx(){let s=[],r=0,n=f=>{f()},a=f=>{f()},o=$x;const l=f=>{r?s.push(f):o(()=>{n(f)})},d=()=>{const f=s;s=[],f.length&&o(()=>{a(()=>{f.forEach(u=>{n(u)})})})};return{batch:f=>{let u;r++;try{u=f()}finally{r--,r||d()}return u},batchCalls:f=>(...u)=>{l(()=>{f(...u)})},schedule:l,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var cr=Wx(),tm=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ld(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(fo?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Vx=class extends tm{#t;#e;#s;#r;#n;#i;#o;constructor(s){super(),this.#o=!1,this.#i=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#r=s.client,this.#s=this.#r.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#t=Zx(this.options),this.state=s.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(s){this.options={...this.#i,...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(s,r){const n=Td(this.state.data,s,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),n}setState(s,r){this.#a({type:"setState",state:s,setStateOptions:r})}cancel(s){const r=this.#n?.promise;return this.#n?.cancel(s),r?r.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(s=>la(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Si(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Gf(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(s,r){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(s&&this.setOptions(s),!this.options.queryFn){const u=this.observers.find(x=>x.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,a=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},o=()=>{const u=Kf(this.options,r),w=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(v),v})();return this.#o=!1,this.options.persister?this.options.persister(u,w,this):u(w)},d=(()=>{const u={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return a(u),u})();this.options.behavior?.onFetch(d,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta});const f=u=>{ud(u)&&u.silent||this.#a({type:"error",error:u}),ud(u)||(this.#s.config.onError?.(u,this),this.#s.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=em({initialPromise:r?.initialPromise,fn:d.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(u===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(x){f(x);return}this.#s.config.onSuccess?.(u,this),this.#s.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:f,onFail:(u,x)=>{this.#a({type:"failed",failureCount:u,error:x})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sm(n.data,this.options),fetchMeta:s.meta??null};case"success":return this.#e=void 0,{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return ud(a)&&a.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:s})})}};function sm(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qf(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Zx(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,n=r!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gx=class extends ol{constructor(s={}){super(),this.config=s,this.#t=new Map}#t;build(s,r,n){const a=r.queryKey,o=r.queryHash??mu(a,r);let l=this.get(o);return l||(l=new Vx({client:s,queryKey:a,queryHash:o,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){this.#t.has(s.queryHash)||(this.#t.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=this.#t.get(s.queryHash);r&&(s.destroy(),r===s&&this.#t.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){cr.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#t.get(s)}getAll(){return[...this.#t.values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>mh(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>mh(s,n)):r}notify(s){cr.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Yx=class extends tm{#t;#e;#s;constructor(s){super(),this.mutationId=s.mutationId,this.#e=s.mutationCache,this.#t=[],this.state=s.state||rm(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(r=>r!==s),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const r=()=>{this.#r({type:"continue"})};this.#s=em({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#r({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",a=!this.#s.canStart();try{if(n)r();else{this.#r({type:"pending",variables:s,isPaused:a}),await this.#e.config.onMutate?.(s,this);const l=await this.options.onMutate?.(s);l!==this.state.context&&this.#r({type:"pending",context:l,variables:s,isPaused:a})}const o=await this.#s.start();return await this.#e.config.onSuccess?.(o,s,this.state.context,this),await this.options.onSuccess?.(o,s,this.state.context),await this.#e.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,s,this.state.context),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#e.config.onError?.(o,s,this.state.context,this),await this.options.onError?.(o,s,this.state.context),await this.#e.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,s,this.state.context),o}finally{this.#r({type:"error",error:o})}}finally{this.#e.runNext(this)}}#r(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(s)}),this.#e.notify({mutation:this,type:"updated",action:s})})}};function rm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kx=class extends ol{constructor(s={}){super(),this.config=s,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(s,r,n){const a=new Yx({mutationCache:this,mutationId:++this.#s,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){this.#t.add(s);const r=uc(s);if(typeof r=="string"){const n=this.#e.get(r);n?n.push(s):this.#e.set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#t.delete(s)){const r=uc(s);if(typeof r=="string"){const n=this.#e.get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&this.#e.delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=uc(s);if(typeof r=="string"){const a=this.#e.get(r)?.find(o=>o.state.status==="pending");return!a||a===s}else return!0}runNext(s){const r=uc(s);return typeof r=="string"?this.#e.get(r)?.find(a=>a!==s&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){cr.batch(()=>{this.#t.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(s){const r={exact:!0,...s};return this.getAll().find(n=>ph(r,n))}findAll(s={}){return this.getAll().filter(r=>ph(s,r))}notify(s){cr.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return cr.batch(()=>Promise.all(s.map(r=>r.continue().catch(tn))))}};function uc(s){return s.options.scope?.id}function vh(s){return{onFetch:(r,n)=>{const a=r.options,o=r.fetchOptions?.meta?.fetchMore?.direction,l=r.state.data?.pages||[],d=r.state.data?.pageParams||[];let f={pages:[],pageParams:[]},u=0;const x=async()=>{let w=!1;const v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(r.signal.aborted?w=!0:r.signal.addEventListener("abort",()=>{w=!0}),r.signal)})},j=Kf(r.options,r.fetchOptions),p=async(k,_,I)=>{if(w)return Promise.reject();if(_==null&&k.pages.length)return Promise.resolve(k);const N=(()=>{const ee={client:r.client,queryKey:r.queryKey,pageParam:_,direction:I?"backward":"forward",meta:r.options.meta};return v(ee),ee})(),A=await j(N),{maxPages:D}=r.options,q=I?Bx:zx;return{pages:q(k.pages,A,D),pageParams:q(k.pageParams,_,D)}};if(o&&l.length){const k=o==="backward",_=k?Jx:yh,I={pages:l,pageParams:d},S=_(a,I);f=await p(I,S,k)}else{const k=s??l.length;do{const _=u===0?d[0]??a.initialPageParam:yh(a,f);if(u>0&&_==null)break;f=await p(f,_),u++}while(u<k)}return f};r.options.persister?r.fetchFn=()=>r.options.persister?.(x,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n):r.fetchFn=x}}}function yh(s,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?s.getNextPageParam(r[a],r,n[a],n):void 0}function Jx(s,{pages:r,pageParams:n}){return r.length>0?s.getPreviousPageParam?.(r[0],r,n[0],n):void 0}var nm=class{#t;#e;#s;#r;#n;#i;#o;#a;constructor(s={}){this.#t=s.queryCache||new Gx,this.#e=s.mutationCache||new Kx,this.#s=s.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=gu.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Sc.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(s){return this.#t.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#e.findAll({...s,status:"pending"}).length}getQueryData(s){const r=this.defaultQueryOptions({queryKey:s});return this.#t.get(r.queryHash)?.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),n=this.#t.build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(Si(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(s){return this.#t.findAll(s).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(s,r,n){const a=this.defaultQueryOptions({queryKey:s}),l=this.#t.get(a.queryHash)?.state.data,d=Dx(r,l);if(d!==void 0)return this.#t.build(this,a).setData(d,{...n,manual:!0})}setQueriesData(s,r,n){return cr.batch(()=>this.#t.findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(s){const r=this.defaultQueryOptions({queryKey:s});return this.#t.get(r.queryHash)?.state}removeQueries(s){const r=this.#t;cr.batch(()=>{r.findAll(s).forEach(n=>{r.remove(n)})})}resetQueries(s,r){const n=this.#t;return cr.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const n={revert:!0,...r},a=cr.batch(()=>this.#t.findAll(s).map(o=>o.cancel(n)));return Promise.all(a).then(tn).catch(tn)}invalidateQueries(s,r={}){return cr.batch(()=>(this.#t.findAll(s).forEach(n=>{n.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},r)))}refetchQueries(s,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=cr.batch(()=>this.#t.findAll(s).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(tn)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(tn)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const n=this.#t.build(this,r);return n.isStaleByTime(Si(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(tn).catch(tn)}fetchInfiniteQuery(s){return s.behavior=vh(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(tn).catch(tn)}ensureInfiniteQueryData(s){return s.behavior=vh(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Sc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(s){this.#s=s}setQueryDefaults(s,r){this.#r.set(mo(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...this.#r.values()],n={};return r.forEach(a=>{Ml(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,r){this.#n.set(mo(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...this.#n.values()],n={};return r.forEach(a=>{Ml(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const r={...this.#s.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=mu(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===pu&&(r.enabled=!1),r}defaultMutationOptions(s){return s?._defaulted?s:{...this.#s.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Qx=class extends ol{constructor(s,r){super(),this.options=r,this.#t=s,this.#a=null,this.#o=Ed(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}#t;#e=void 0;#s=void 0;#r=void 0;#n;#i;#o;#a;#p;#h;#f;#c;#d;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),bh(this.#e,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Md(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Md(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(s){const r=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof la(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#e.setOptions(this.options),r._defaulted&&!jc(this.options,r)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const a=this.hasListeners();a&&wh(this.#e,n,this.options,r)&&this.#u(),this.updateResult(),a&&(this.#e!==n||la(this.options.enabled,this.#e)!==la(r.enabled,this.#e)||Si(this.options.staleTime,this.#e)!==Si(r.staleTime,this.#e))&&this.#g();const o=this.#x();a&&(this.#e!==n||la(this.options.enabled,this.#e)!==la(r.enabled,this.#e)||o!==this.#l)&&this.#v(o)}getOptimisticResult(s){const r=this.#t.getQueryCache().build(this.#t,s),n=this.createResult(r,s);return ev(this,n)&&(this.#r=n,this.#i=this.options,this.#n=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r?.(a),Reflect.get(n,a))})}trackProp(s){this.#m.add(s)}getCurrentQuery(){return this.#e}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=this.#t.defaultQueryOptions(s),n=this.#t.getQueryCache().build(this.#t,r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return this.#u({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(s){this.#N();let r=this.#e.fetch(this.options,s);return s?.throwOnError||(r=r.catch(tn)),r}#g(){this.#b();const s=Si(this.options.staleTime,this.#e);if(fo||this.#r.isStale||!Ld(s))return;const n=Gf(this.#r.dataUpdatedAt,s)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(s){this.#w(),this.#l=s,!(fo||la(this.options.enabled,this.#e)===!1||!Ld(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||gu.isFocused())&&this.#u()},this.#l))}#y(){this.#g(),this.#v(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(s,r){const n=this.#e,a=this.options,o=this.#r,l=this.#n,d=this.#i,u=s!==n?s.state:this.#s,{state:x}=s;let w={...x},v=!1,j;if(r._optimisticResults){const U=this.hasListeners(),Y=!U&&bh(s,r),ie=U&&wh(s,n,r,a);(Y||ie)&&(w={...w,...sm(x.data,s.options)}),r._optimisticResults==="isRestoring"&&(w.fetchStatus="idle")}let{error:p,errorUpdatedAt:k,status:_}=w;j=w.data;let I=!1;if(r.placeholderData!==void 0&&j===void 0&&_==="pending"){let U;o?.isPlaceholderData&&r.placeholderData===d?.placeholderData?(U=o.data,I=!0):U=typeof r.placeholderData=="function"?r.placeholderData(this.#f?.state.data,this.#f):r.placeholderData,U!==void 0&&(_="success",j=Td(o?.data,U,r),v=!0)}if(r.select&&j!==void 0&&!I)if(o&&j===l?.data&&r.select===this.#p)j=this.#h;else try{this.#p=r.select,j=r.select(j),j=Td(o?.data,j,r),this.#h=j,this.#a=null}catch(U){this.#a=U}this.#a&&(p=this.#a,j=this.#h,k=Date.now(),_="error");const S=w.fetchStatus==="fetching",N=_==="pending",A=_==="error",D=N&&S,q=j!==void 0,$={status:_,fetchStatus:w.fetchStatus,isPending:N,isSuccess:_==="success",isError:A,isInitialLoading:D,isLoading:D,data:j,dataUpdatedAt:w.dataUpdatedAt,error:p,errorUpdatedAt:k,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>u.dataUpdateCount||w.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:A&&!q,isPaused:w.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:A&&q,isStale:xu(s,r),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const U=E=>{$.status==="error"?E.reject($.error):$.data!==void 0&&E.resolve($.data)},Y=()=>{const E=this.#o=$.promise=Ed();U(E)},ie=this.#o;switch(ie.status){case"pending":s.queryHash===n.queryHash&&U(ie);break;case"fulfilled":($.status==="error"||$.data!==ie.value)&&Y();break;case"rejected":($.status!=="error"||$.error!==ie.reason)&&Y();break}}return $}updateResult(){const s=this.#r,r=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#i=this.options,this.#n.data!==void 0&&(this.#f=this.#e),jc(r,s))return;this.#r=r;const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(d=>{const f=d;return this.#r[f]!==s[f]&&l.has(f)})};this.#_({listeners:n()})}#N(){const s=this.#t.getQueryCache().build(this.#t,this.options);if(s===this.#e)return;const r=this.#e;this.#e=s,this.#s=s.state,this.hasListeners()&&(r?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(s){cr.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Xx(s,r){return la(r.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&r.retryOnMount===!1)}function bh(s,r){return Xx(s,r)||s.state.data!==void 0&&Md(s,r,r.refetchOnMount)}function Md(s,r,n){if(la(r.enabled,s)!==!1&&Si(r.staleTime,s)!=="static"){const a=typeof n=="function"?n(s):n;return a==="always"||a!==!1&&xu(s,r)}return!1}function wh(s,r,n,a){return(s!==r||la(a.enabled,s)===!1)&&(!n.suspense||s.state.status!=="error")&&xu(s,n)}function xu(s,r){return la(r.enabled,s)!==!1&&s.isStaleByTime(Si(r.staleTime,s))}function ev(s,r){return!jc(s.getCurrentResult(),r)}var tv=class extends ol{#t;#e=void 0;#s;#r;constructor(r,n){super(),this.#t=r,this.setOptions(n),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const n=this.options;this.options=this.#t.defaultMutationOptions(r),jc(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&mo(n.mutationKey)!==mo(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(r){this.#n(),this.#i(r)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#i()}mutate(r,n){return this.#r=n,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(r)}#n(){const r=this.#s?.state??rm();this.#e={...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset}}#i(r){cr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,a=this.#e.context;r?.type==="success"?(this.#r.onSuccess?.(r.data,n,a),this.#r.onSettled?.(r.data,null,n,a)):r?.type==="error"&&(this.#r.onError?.(r.error,n,a),this.#r.onSettled?.(void 0,r.error,n,a))}this.listeners.forEach(n=>{n(this.#e)})})}},am=M.createContext(void 0),vu=s=>{const r=M.useContext(am);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},im=({client:s,children:r})=>(M.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(am.Provider,{value:s,children:r})),om=M.createContext(!1),sv=()=>M.useContext(om);om.Provider;function rv(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var nv=M.createContext(rv()),av=()=>M.useContext(nv),iv=(s,r)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(r.isReset()||(s.retryOnMount=!1))},ov=s=>{M.useEffect(()=>{s.clearReset()},[s])},lv=({result:s,errorResetBoundary:r,throwOnError:n,query:a,suspense:o})=>s.isError&&!r.isReset()&&!s.isFetching&&a&&(o&&s.data===void 0||Jf(n,[s.error,a])),cv=s=>{if(s.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=s.staleTime;s.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},dv=(s,r)=>s.isLoading&&s.isFetching&&!r,uv=(s,r)=>s?.suspense&&r.isPending,Nh=(s,r,n)=>r.fetchOptimistic(s).catch(()=>{n.clearReset()});function hv(s,r,n){const a=sv(),o=av(),l=vu(),d=l.defaultQueryOptions(s);l.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=a?"isRestoring":"optimistic",cv(d),iv(d,o),ov(o);const f=!l.getQueryCache().get(d.queryHash),[u]=M.useState(()=>new r(l,d)),x=u.getOptimisticResult(d),w=!a&&s.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(v=>{const j=w?u.subscribe(cr.batchCalls(v)):tn;return u.updateResult(),j},[u,w]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),M.useEffect(()=>{u.setOptions(d)},[d,u]),uv(d,x))throw Nh(d,u,o);if(lv({result:x,errorResetBoundary:o,throwOnError:d.throwOnError,query:l.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw x.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(d,x),d.experimental_prefetchInRender&&!fo&&dv(x,a)&&(f?Nh(d,u,o):l.getQueryCache().get(d.queryHash)?.promise)?.catch(tn).finally(()=>{u.updateResult()}),d.notifyOnChangeProps?x:u.trackResult(x)}function kc(s,r){return hv(s,Qx)}function _h(s,r){const n=vu(),[a]=M.useState(()=>new tv(n,s));M.useEffect(()=>{a.setOptions(s)},[a,s]);const o=M.useSyncExternalStore(M.useCallback(d=>a.subscribe(cr.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=M.useCallback((d,f)=>{a.mutate(d,f).catch(tn)},[a]);if(o.error&&Jf(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}const fv={development:{baseUrl:"https://lifebee-backend.onrender.com"},production:{baseUrl:"https://lifebee-backend.onrender.com"}},pt=()=>fv["production"]?.baseUrl;async function mv(s){const r=pt(),n=s.startsWith("http")?s:`${r}${s}`,a=localStorage.getItem("token"),o={"Content-Type":"application/json",Accept:"application/json"};a&&(o.Authorization=`Bearer ${a}`);try{const l=await fetch(n,{method:"GET",headers:o,mode:"cors",credentials:"include"});return l.ok?await l.json():null}catch{return null}}const pv=async({queryKey:s})=>await mv(s[0]),lm=new nm({defaultOptions:{queries:{queryFn:pv,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:5*60*1e3},mutations:{retry:!1}}}),gv={theme:"system",setTheme:()=>null},cm=M.createContext(gv);function dm({children:s,defaultTheme:r="system",storageKey:n="lifebee-ui-theme",...a}){const[o,l]=M.useState(()=>{try{return localStorage.getItem(n)||r}catch{return r}});M.useEffect(()=>{const f=window.document.documentElement;if(f.classList.remove("light","dark"),o==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";f.classList.add(u);return}f.classList.add(o)},[o]);const d={theme:o,setTheme:f=>{try{localStorage.setItem(n,f)}catch{}l(f)}};return e.jsx(cm.Provider,{...a,value:d,children:s})}const um=()=>{const s=M.useContext(cm);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},xv=1,vv=1e6;let hd=0;function yv(){return hd=(hd+1)%Number.MAX_SAFE_INTEGER,hd.toString()}const fd=new Map,jh=s=>{if(fd.has(s))return;const r=setTimeout(()=>{fd.delete(s),Sl({type:"REMOVE_TOAST",toastId:s})},vv);fd.set(s,r)},bv=(s,r)=>{switch(r.type){case"ADD_TOAST":return{...s,toasts:[r.toast,...s.toasts].slice(0,xv)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?jh(n):s.toasts.forEach(a=>{jh(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(n=>n.id!==r.toastId)}}},vc=[];let yc={toasts:[]};function Sl(s){yc=bv(yc,s),vc.forEach(r=>{r(yc)})}function wv({...s}){const r=yv(),n=o=>Sl({type:"UPDATE_TOAST",toast:{...o,id:r}}),a=()=>Sl({type:"DISMISS_TOAST",toastId:r});return Sl({type:"ADD_TOAST",toast:{...s,id:r,open:!0,onOpenChange:o=>{o||a()}}}),{id:r,dismiss:a,update:n}}function wr(){const[s,r]=M.useState(yc);return M.useEffect(()=>(vc.push(r),()=>{const n=vc.indexOf(r);n>-1&&vc.splice(n,1)}),[s]),{...s,toast:wv,dismiss:n=>Sl({type:"DISMISS_TOAST",toastId:n})}}var hm=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Nv="VisuallyHidden",Rc=M.forwardRef((s,r)=>e.jsx(ls.span,{...s,ref:r,style:{...hm,...s.style}}));Rc.displayName=Nv;var _v=Rc,yu="ToastProvider",[bu,jv,Sv]=_f("Toast"),[fm,Hw]=yo("Toast",[Sv]),[kv,Oc]=fm(yu),mm=s=>{const{__scopeToast:r,label:n="Notification",duration:a=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=s,[f,u]=M.useState(null),[x,w]=M.useState(0),v=M.useRef(!1),j=M.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yu}\`. Expected non-empty \`string\`.`),e.jsx(bu.Provider,{scope:r,children:e.jsx(kv,{scope:r,label:n,duration:a,swipeDirection:o,swipeThreshold:l,toastCount:x,viewport:f,onViewportChange:u,onToastAdd:M.useCallback(()=>w(p=>p+1),[]),onToastRemove:M.useCallback(()=>w(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:j,children:d})})};mm.displayName=yu;var pm="ToastViewport",Pv=["F8"],Id="toast.viewportPause",Rd="toast.viewportResume",gm=M.forwardRef((s,r)=>{const{__scopeToast:n,hotkey:a=Pv,label:o="Notifications ({hotkey})",...l}=s,d=Oc(pm,n),f=jv(n),u=M.useRef(null),x=M.useRef(null),w=M.useRef(null),v=M.useRef(null),j=br(r,v,d.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=d.toastCount>0;M.useEffect(()=>{const I=S=>{a.length!==0&&a.every(A=>S[A]||S.code===A)&&v.current?.focus()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[a]),M.useEffect(()=>{const I=u.current,S=v.current;if(k&&I&&S){const N=()=>{if(!d.isClosePausedRef.current){const ee=new CustomEvent(Id);S.dispatchEvent(ee),d.isClosePausedRef.current=!0}},A=()=>{if(d.isClosePausedRef.current){const ee=new CustomEvent(Rd);S.dispatchEvent(ee),d.isClosePausedRef.current=!1}},D=ee=>{!I.contains(ee.relatedTarget)&&A()},q=()=>{I.contains(document.activeElement)||A()};return I.addEventListener("focusin",N),I.addEventListener("focusout",D),I.addEventListener("pointermove",N),I.addEventListener("pointerleave",q),window.addEventListener("blur",N),window.addEventListener("focus",A),()=>{I.removeEventListener("focusin",N),I.removeEventListener("focusout",D),I.removeEventListener("pointermove",N),I.removeEventListener("pointerleave",q),window.removeEventListener("blur",N),window.removeEventListener("focus",A)}}},[k,d.isClosePausedRef]);const _=M.useCallback(({tabbingDirection:I})=>{const N=f().map(A=>{const D=A.ref.current,q=[D,...Bv(D)];return I==="forwards"?q:q.reverse()});return(I==="forwards"?N.reverse():N).flat()},[f]);return M.useEffect(()=>{const I=v.current;if(I){const S=N=>{const A=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!A){const q=document.activeElement,ee=N.shiftKey;if(N.target===I&&ee){x.current?.focus();return}const Y=_({tabbingDirection:ee?"backwards":"forwards"}),ie=Y.findIndex(E=>E===q);md(Y.slice(ie+1))?N.preventDefault():ee?x.current?.focus():w.current?.focus()}};return I.addEventListener("keydown",S),()=>I.removeEventListener("keydown",S)}},[f,_]),e.jsxs(cx,{ref:u,role:"region","aria-label":o.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&e.jsx(Od,{ref:x,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"forwards"});md(I)}}),e.jsx(bu.Slot,{scope:n,children:e.jsx(ls.ol,{tabIndex:-1,...l,ref:j})}),k&&e.jsx(Od,{ref:w,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"backwards"});md(I)}})]})});gm.displayName=pm;var xm="ToastFocusProxy",Od=M.forwardRef((s,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...o}=s,l=Oc(xm,n);return e.jsx(Rc,{"aria-hidden":!0,tabIndex:0,...o,ref:r,style:{position:"fixed"},onFocus:d=>{const f=d.relatedTarget;!l.viewport?.contains(f)&&a()}})});Od.displayName=xm;var Ul="Toast",Cv="toast.swipeStart",Lv="toast.swipeMove",Av="toast.swipeCancel",Tv="toast.swipeEnd",vm=M.forwardRef((s,r)=>{const{forceMount:n,open:a,defaultOpen:o,onOpenChange:l,...d}=s,[f,u]=Yo({prop:a,defaultProp:o??!0,onChange:l,caller:Ul});return e.jsx(ou,{present:n||f,children:e.jsx(Iv,{open:f,...d,ref:r,onClose:()=>u(!1),onPause:Ko(s.onPause),onResume:Ko(s.onResume),onSwipeStart:Wt(s.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Wt(s.onSwipeMove,x=>{const{x:w,y:v}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${w}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Wt(s.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Wt(s.onSwipeEnd,x=>{const{x:w,y:v}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${w}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),u(!1)})})})});vm.displayName=Ul;var[Ev,Mv]=fm(Ul,{onClose(){}}),Iv=M.forwardRef((s,r)=>{const{__scopeToast:n,type:a="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:f,onPause:u,onResume:x,onSwipeStart:w,onSwipeMove:v,onSwipeCancel:j,onSwipeEnd:p,...k}=s,_=Oc(Ul,n),[I,S]=M.useState(null),N=br(r,F=>S(F)),A=M.useRef(null),D=M.useRef(null),q=o||_.duration,ee=M.useRef(0),$=M.useRef(q),U=M.useRef(0),{onToastAdd:Y,onToastRemove:ie}=_,E=Ko(()=>{I?.contains(document.activeElement)&&_.viewport?.focus(),d()}),T=M.useCallback(F=>{!F||F===1/0||(window.clearTimeout(U.current),ee.current=new Date().getTime(),U.current=window.setTimeout(E,F))},[E]);M.useEffect(()=>{const F=_.viewport;if(F){const le=()=>{T($.current),x?.()},X=()=>{const O=new Date().getTime()-ee.current;$.current=$.current-O,window.clearTimeout(U.current),u?.()};return F.addEventListener(Id,X),F.addEventListener(Rd,le),()=>{F.removeEventListener(Id,X),F.removeEventListener(Rd,le)}}},[_.viewport,q,u,x,T]),M.useEffect(()=>{l&&!_.isClosePausedRef.current&&T(q)},[l,q,_.isClosePausedRef,T]),M.useEffect(()=>(Y(),()=>ie()),[Y,ie]);const z=M.useMemo(()=>I?Sm(I):null,[I]);return _.viewport?e.jsxs(e.Fragment,{children:[z&&e.jsx(Rv,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),e.jsx(Ev,{scope:n,onClose:E,children:lu.createPortal(e.jsx(bu.ItemSlot,{scope:n,children:e.jsx(dx,{asChild:!0,onEscapeKeyDown:Wt(f,()=>{_.isFocusedToastEscapeKeyDownRef.current||E(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ls.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":_.swipeDirection,...k,ref:N,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:Wt(s.onKeyDown,F=>{F.key==="Escape"&&(f?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Wt(s.onPointerDown,F=>{F.button===0&&(A.current={x:F.clientX,y:F.clientY})}),onPointerMove:Wt(s.onPointerMove,F=>{if(!A.current)return;const le=F.clientX-A.current.x,X=F.clientY-A.current.y,O=!!D.current,G=["left","right"].includes(_.swipeDirection),J=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,ce=G?J(0,le):0,ve=G?0:J(0,X),R=F.pointerType==="touch"?10:2,K={x:ce,y:ve},Q={originalEvent:F,delta:K};O?(D.current=K,hc(Lv,v,Q,{discrete:!1})):Sh(K,_.swipeDirection,R)?(D.current=K,hc(Cv,w,Q,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(le)>R||Math.abs(X)>R)&&(A.current=null)}),onPointerUp:Wt(s.onPointerUp,F=>{const le=D.current,X=F.target;if(X.hasPointerCapture(F.pointerId)&&X.releasePointerCapture(F.pointerId),D.current=null,A.current=null,le){const O=F.currentTarget,G={originalEvent:F,delta:le};Sh(le,_.swipeDirection,_.swipeThreshold)?hc(Tv,p,G,{discrete:!0}):hc(Av,j,G,{discrete:!0}),O.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),Rv=s=>{const{__scopeToast:r,children:n,...a}=s,o=Oc(Ul,r),[l,d]=M.useState(!1),[f,u]=M.useState(!1);return Fv(()=>d(!0)),M.useEffect(()=>{const x=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(x)},[]),f?null:e.jsx(jf,{asChild:!0,children:e.jsx(Rc,{...a,children:l&&e.jsxs(e.Fragment,{children:[o.label," ",n]})})})},Ov="ToastTitle",ym=M.forwardRef((s,r)=>{const{__scopeToast:n,...a}=s;return e.jsx(ls.div,{...a,ref:r})});ym.displayName=Ov;var Dv="ToastDescription",bm=M.forwardRef((s,r)=>{const{__scopeToast:n,...a}=s;return e.jsx(ls.div,{...a,ref:r})});bm.displayName=Dv;var wm="ToastAction",Nm=M.forwardRef((s,r)=>{const{altText:n,...a}=s;return n.trim()?e.jsx(jm,{altText:n,asChild:!0,children:e.jsx(wu,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${wm}\`. Expected non-empty \`string\`.`),null)});Nm.displayName=wm;var _m="ToastClose",wu=M.forwardRef((s,r)=>{const{__scopeToast:n,...a}=s,o=Mv(_m,n);return e.jsx(jm,{asChild:!0,children:e.jsx(ls.button,{type:"button",...a,ref:r,onClick:Wt(s.onClick,o.onClose)})})});wu.displayName=_m;var jm=M.forwardRef((s,r)=>{const{__scopeToast:n,altText:a,...o}=s;return e.jsx(ls.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...o,ref:r})});function Sm(s){const r=[];return Array.from(s.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),zv(a)){const o=a.ariaHidden||a.hidden||a.style.display==="none",l=a.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=a.dataset.radixToastAnnounceAlt;d&&r.push(d)}else r.push(...Sm(a))}}),r}function hc(s,r,n,{discrete:a}){const o=n.originalEvent.currentTarget,l=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:n});r&&o.addEventListener(s,r,{once:!0}),a?ux(o,l):o.dispatchEvent(l)}var Sh=(s,r,n=0)=>{const a=Math.abs(s.x),o=Math.abs(s.y),l=a>o;return r==="left"||r==="right"?l&&a>n:!l&&o>n};function Fv(s=()=>{}){const r=Ko(s);Wn(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[r])}function zv(s){return s.nodeType===s.ELEMENT_NODE}function Bv(s){const r=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function md(s){const r=document.activeElement;return s.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}var qv=mm,km=gm,Pm=vm,Cm=ym,Lm=bm,Am=Nm,Tm=wu;/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rt=(s,r)=>{const n=M.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:f="",children:u,...x},w)=>M.createElement("svg",{ref:w,...Hv,width:o,height:o,stroke:a,strokeWidth:d?Number(l)*24/Number(o):l,className:["lucide",`lucide-${Uv(s)}`,f].join(" "),...x},[...r.map(([v,j])=>M.createElement(v,j)),...Array.isArray(u)?u:[u]]));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=rt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=rt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=rt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=rt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=rt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=rt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=rt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=rt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=rt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=rt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=rt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=rt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=rt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=rt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=rt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=rt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=rt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=rt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=rt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=rt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=rt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=rt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=rt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=rt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=rt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=rt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=rt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=rt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=rt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=rt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=rt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=rt("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=rt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=rt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=rt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=rt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ht(...s){return Mx(Ix(s))}const r1=qv,Ym=M.forwardRef(({className:s,...r},n)=>e.jsx(km,{ref:n,className:ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] pointer-events-none",s),...r}));Ym.displayName=km.displayName;const n1=Ic("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-xl",destructive:"destructive group border-red-200 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 shadow-xl"}},defaultVariants:{variant:"default"}}),Km=M.forwardRef(({className:s,variant:r,...n},a)=>e.jsx(Pm,{ref:a,className:ht(n1({variant:r}),s),...n}));Km.displayName=Pm.displayName;const a1=M.forwardRef(({className:s,...r},n)=>e.jsx(Am,{ref:n,className:ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...r}));a1.displayName=Am.displayName;const Jm=M.forwardRef(({className:s,...r},n)=>e.jsx(Tm,{ref:n,className:ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...r,children:e.jsx(Wl,{className:"h-4 w-4"})}));Jm.displayName=Tm.displayName;const Qm=M.forwardRef(({className:s,...r},n)=>e.jsx(Cm,{ref:n,className:ht("text-sm font-semibold",s),...r}));Qm.displayName=Cm.displayName;const Xm=M.forwardRef(({className:s,...r},n)=>e.jsx(Lm,{ref:n,className:ht("text-sm opacity-90",s),...r}));Xm.displayName=Lm.displayName;function ep(){const{toasts:s}=wr();return e.jsxs(r1,{children:[s.map(function({id:r,title:n,description:a,action:o,...l}){return e.jsxs(Km,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Qm,{children:n}),a&&e.jsx(Xm,{children:a})]}),o,e.jsx(Jm,{})]},r)}),e.jsx(Ym,{})]})}class i1 extends M.Component{state={hasError:!1};static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.warn("Error caught by boundary:",r,n)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Algo deu errado"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Ocorreu um erro inesperado. Tente recarregar a pgina."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-black px-4 py-2 rounded-lg font-medium",children:"Recarregar pgina"})]})}):this.props.children}}function o1(s,r){if(s instanceof RegExp)return{keys:!1,pattern:s};var n,a,o,l,d=[],f="",u=s.split("/");for(u[0]||u.shift();o=u.shift();)n=o[0],n==="*"?(d.push(n),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=o.indexOf("?",1),l=o.indexOf(".",1),d.push(o.substring(1,~a?a:~l?l:o.length)),f+=~a&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(f+=(~a?"?":"")+"\\"+o.substring(l))):f+="/"+o;return{keys:d,pattern:new RegExp("^"+f+(r?"(?=$|/)":"/?$"),"i")}}var pd={exports:{}},gd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function l1(){if(Lh)return gd;Lh=1;var s=Ax();function r(v,j){return v===j&&(v!==0||1/v===1/j)||v!==v&&j!==j}var n=typeof Object.is=="function"?Object.is:r,a=s.useState,o=s.useEffect,l=s.useLayoutEffect,d=s.useDebugValue;function f(v,j){var p=j(),k=a({inst:{value:p,getSnapshot:j}}),_=k[0].inst,I=k[1];return l(function(){_.value=p,_.getSnapshot=j,u(_)&&I({inst:_})},[v,p,j]),o(function(){return u(_)&&I({inst:_}),v(function(){u(_)&&I({inst:_})})},[v]),d(p),p}function u(v){var j=v.getSnapshot;v=v.value;try{var p=j();return!n(v,p)}catch{return!0}}function x(v,j){return j()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:f;return gd.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:w,gd}var Ah;function c1(){return Ah||(Ah=1,pd.exports=l1()),pd.exports}var tp=c1();const d1=hx.useInsertionEffect,u1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h1=u1?M.useLayoutEffect:M.useEffect,f1=d1||h1,sp=s=>{const r=M.useRef([s,(...n)=>r[0](...n)]).current;return f1(()=>{r[0]=s}),r[1]},m1="popstate",ku="pushState",Pu="replaceState",p1="hashchange",Th=[m1,ku,Pu,p1],g1=s=>{for(const r of Th)addEventListener(r,s);return()=>{for(const r of Th)removeEventListener(r,s)}},rp=(s,r)=>tp.useSyncExternalStore(g1,s,r),x1=()=>location.search,v1=({ssrSearch:s=""}={})=>rp(x1,()=>s),Eh=()=>location.pathname,y1=({ssrPath:s}={})=>rp(Eh,s?()=>s:Eh),b1=(s,{replace:r=!1,state:n=null}={})=>history[r?Pu:ku](n,"",s),w1=(s={})=>[y1(s),b1],Mh=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Mh]>"u"){for(const s of[ku,Pu]){const r=history[s];history[s]=function(){const n=r.apply(this,arguments),a=new Event(s);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,Mh,{value:!0})}const N1=(s,r)=>r.toLowerCase().indexOf(s.toLowerCase())?"~"+r:r.slice(s.length)||"/",np=(s="")=>s==="/"?"":s,_1=(s,r)=>s[0]==="~"?s.slice(1):np(r)+s,j1=(s="",r)=>N1(Ih(np(s)),Ih(r)),Ih=s=>{try{return decodeURI(s)}catch{return s}},ap={hook:w1,searchHook:v1,parser:o1,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},ip=M.createContext(ap),ll=()=>M.useContext(ip),op={},lp=M.createContext(op),cp=()=>M.useContext(lp),Dc=s=>{const[r,n]=s.hook(s);return[j1(s.base,r),sp((a,o)=>n(_1(a,s.base),o))]},Tr=()=>Dc(ll()),Cu=(s,r,n,a)=>{const{pattern:o,keys:l}=r instanceof RegExp?{keys:!1,pattern:r}:s(r||"*",a),d=o.exec(n)||[],[f,...u]=d;return f!==void 0?[!0,(()=>{const x=l!==!1?Object.fromEntries(l.map((v,j)=>[v,u[j]])):d.groups;let w={...u};return x&&Object.assign(w,x),w})(),...a?[f]:[]]:[!1,null]},dp=s=>Cu(ll().parser,s,Tr()[0]),S1=({children:s,...r})=>{const n=ll(),a=r.hook?ap:n;let o=a;const[l,d]=r.ssrPath?.split("?")??[];d&&(r.ssrSearch=d,r.ssrPath=l),r.hrefs=r.hrefs??r.hook?.hrefs;let f=M.useRef({}),u=f.current,x=u;for(let w in a){const v=w==="base"?a[w]+(r[w]||""):r[w]||a[w];u===x&&v!==x[w]&&(f.current=x={...x}),x[w]=v,(v!==a[w]||v!==o[w])&&(o=x)}return M.createElement(ip.Provider,{value:o,children:s})},Rh=({children:s,component:r},n)=>r?M.createElement(r,{params:n}):typeof s=="function"?s(n):s,k1=s=>{let r=M.useRef(op);const n=r.current;return r.current=Object.keys(s).length!==Object.keys(n).length||Object.entries(s).some(([a,o])=>o!==n[a])?s:n},os=({path:s,nest:r,match:n,...a})=>{const o=ll(),[l]=Dc(o),[d,f,u]=n??Cu(o.parser,s,l,r),x=k1({...cp(),...f});if(!d)return null;const w=u?M.createElement(S1,{base:u},Rh(a,x)):Rh(a,x);return M.createElement(lp.Provider,{value:x,children:w})},As=M.forwardRef((s,r)=>{const n=ll(),[a,o]=Dc(n),{to:l="",href:d=l,onClick:f,asChild:u,children:x,className:w,replace:v,state:j,...p}=s,k=sp(I=>{I.ctrlKey||I.metaKey||I.altKey||I.shiftKey||I.button!==0||(f?.(I),I.defaultPrevented||(I.preventDefault(),o(d,s)))}),_=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return u&&M.isValidElement(x)?M.cloneElement(x,{onClick:k,href:_}):M.createElement("a",{...p,onClick:k,href:_,className:w?.call?w(a===d):w,children:x,ref:r})}),up=s=>Array.isArray(s)?s.flatMap(r=>up(r&&r.type===M.Fragment?r.props.children:r)):[s],xd=({children:s,location:r})=>{const n=ll(),[a]=Dc(n);for(const o of up(s)){let l=0;if(M.isValidElement(o)&&(l=Cu(n.parser,o.props.path,r||a,o.props.nest))[0])return M.cloneElement(o,{match:l})}return null};var[Fc,Uw]=yo("Tooltip",[Mc]),zc=Mc(),hp="TooltipProvider",P1=700,Dd="tooltip.open",[C1,Lu]=Fc(hp),fp=s=>{const{__scopeTooltip:r,delayDuration:n=P1,skipDelayDuration:a=300,disableHoverableContent:o=!1,children:l}=s,d=M.useRef(!0),f=M.useRef(!1),u=M.useRef(0);return M.useEffect(()=>{const x=u.current;return()=>window.clearTimeout(x)},[]),e.jsx(C1,{scope:r,isOpenDelayedRef:d,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(u.current),d.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:M.useCallback(x=>{f.current=x},[]),disableHoverableContent:o,children:l})};fp.displayName=hp;var Rl="Tooltip",[L1,Bc]=Fc(Rl),mp=s=>{const{__scopeTooltip:r,children:n,open:a,defaultOpen:o,onOpenChange:l,disableHoverableContent:d,delayDuration:f}=s,u=Lu(Rl,s.__scopeTooltip),x=zc(r),[w,v]=M.useState(null),j=Hl(),p=M.useRef(0),k=d??u.disableHoverableContent,_=f??u.delayDuration,I=M.useRef(!1),[S,N]=Yo({prop:a,defaultProp:o??!1,onChange:$=>{$?(u.onOpen(),document.dispatchEvent(new CustomEvent(Dd))):u.onClose(),l?.($)},caller:Rl}),A=M.useMemo(()=>S?I.current?"delayed-open":"instant-open":"closed",[S]),D=M.useCallback(()=>{window.clearTimeout(p.current),p.current=0,I.current=!1,N(!0)},[N]),q=M.useCallback(()=>{window.clearTimeout(p.current),p.current=0,N(!1)},[N]),ee=M.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{I.current=!0,N(!0),p.current=0},_)},[_,N]);return M.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(Cf,{...x,children:e.jsx(L1,{scope:r,contentId:j,open:S,stateAttribute:A,trigger:w,onTriggerChange:v,onTriggerEnter:M.useCallback(()=>{u.isOpenDelayedRef.current?ee():D()},[u.isOpenDelayedRef,ee,D]),onTriggerLeave:M.useCallback(()=>{k?q():(window.clearTimeout(p.current),p.current=0)},[q,k]),onOpen:D,onClose:q,disableHoverableContent:k,children:n})})};mp.displayName=Rl;var Fd="TooltipTrigger",pp=M.forwardRef((s,r)=>{const{__scopeTooltip:n,...a}=s,o=Bc(Fd,n),l=Lu(Fd,n),d=zc(n),f=M.useRef(null),u=br(r,f,o.onTriggerChange),x=M.useRef(!1),w=M.useRef(!1),v=M.useCallback(()=>x.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),e.jsx(Lf,{asChild:!0,...d,children:e.jsx(ls.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...a,ref:u,onPointerMove:Wt(s.onPointerMove,j=>{j.pointerType!=="touch"&&!w.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),w.current=!0)}),onPointerLeave:Wt(s.onPointerLeave,()=>{o.onTriggerLeave(),w.current=!1}),onPointerDown:Wt(s.onPointerDown,()=>{o.open&&o.onClose(),x.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Wt(s.onFocus,()=>{x.current||o.onOpen()}),onBlur:Wt(s.onBlur,o.onClose),onClick:Wt(s.onClick,o.onClose)})})});pp.displayName=Fd;var A1="TooltipPortal",[$w,T1]=Fc(A1,{forceMount:void 0}),Xo="TooltipContent",gp=M.forwardRef((s,r)=>{const n=T1(Xo,s.__scopeTooltip),{forceMount:a=n.forceMount,side:o="top",...l}=s,d=Bc(Xo,s.__scopeTooltip);return e.jsx(ou,{present:a||d.open,children:d.disableHoverableContent?e.jsx(xp,{side:o,...l,ref:r}):e.jsx(E1,{side:o,...l,ref:r})})}),E1=M.forwardRef((s,r)=>{const n=Bc(Xo,s.__scopeTooltip),a=Lu(Xo,s.__scopeTooltip),o=M.useRef(null),l=br(r,o),[d,f]=M.useState(null),{trigger:u,onClose:x}=n,w=o.current,{onPointerInTransitChange:v}=a,j=M.useCallback(()=>{f(null),v(!1)},[v]),p=M.useCallback((k,_)=>{const I=k.currentTarget,S={x:k.clientX,y:k.clientY},N=D1(S,I.getBoundingClientRect()),A=F1(S,N),D=z1(_.getBoundingClientRect()),q=q1([...A,...D]);f(q),v(!0)},[v]);return M.useEffect(()=>()=>j(),[j]),M.useEffect(()=>{if(u&&w){const k=I=>p(I,w),_=I=>p(I,u);return u.addEventListener("pointerleave",k),w.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",k),w.removeEventListener("pointerleave",_)}}},[u,w,p,j]),M.useEffect(()=>{if(d){const k=_=>{const I=_.target,S={x:_.clientX,y:_.clientY},N=u?.contains(I)||w?.contains(I),A=!B1(S,d);N?j():A&&(j(),x())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[u,w,d,x,j]),e.jsx(xp,{...s,ref:l})}),[M1,I1]=Fc(Rl,{isInside:!1}),R1=Pf("TooltipContent"),xp=M.forwardRef((s,r)=>{const{__scopeTooltip:n,children:a,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:d,...f}=s,u=Bc(Xo,n),x=zc(n),{onClose:w}=u;return M.useEffect(()=>(document.addEventListener(Dd,w),()=>document.removeEventListener(Dd,w)),[w]),M.useEffect(()=>{if(u.trigger){const v=j=>{j.target?.contains(u.trigger)&&w()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[u.trigger,w]),e.jsx(Sf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:v=>v.preventDefault(),onDismiss:w,children:e.jsxs(kf,{"data-state":u.stateAttribute,...x,...f,ref:r,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(R1,{children:a}),e.jsx(M1,{scope:n,isInside:!0,children:e.jsx(_v,{id:u.contentId,role:"tooltip",children:o||a})})]})})});gp.displayName=Xo;var vp="TooltipArrow",O1=M.forwardRef((s,r)=>{const{__scopeTooltip:n,...a}=s,o=zc(n);return I1(vp,n).isInside?null:e.jsx(Af,{...o,...a,ref:r})});O1.displayName=vp;function D1(s,r){const n=Math.abs(r.top-s.y),a=Math.abs(r.bottom-s.y),o=Math.abs(r.right-s.x),l=Math.abs(r.left-s.x);switch(Math.min(n,a,o,l)){case l:return"left";case o:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function F1(s,r,n=5){const a=[];switch(r){case"top":a.push({x:s.x-n,y:s.y+n},{x:s.x+n,y:s.y+n});break;case"bottom":a.push({x:s.x-n,y:s.y-n},{x:s.x+n,y:s.y-n});break;case"left":a.push({x:s.x+n,y:s.y-n},{x:s.x+n,y:s.y+n});break;case"right":a.push({x:s.x-n,y:s.y-n},{x:s.x-n,y:s.y+n});break}return a}function z1(s){const{top:r,right:n,bottom:a,left:o}=s;return[{x:o,y:r},{x:n,y:r},{x:n,y:a},{x:o,y:a}]}function B1(s,r){const{x:n,y:a}=s;let o=!1;for(let l=0,d=r.length-1;l<r.length;d=l++){const f=r[l],u=r[d],x=f.x,w=f.y,v=u.x,j=u.y;w>a!=j>a&&n<(v-x)*(a-w)/(j-w)+x&&(o=!o)}return o}function q1(s){const r=s.slice();return r.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),H1(r)}function H1(s){if(s.length<=1)return s.slice();const r=[];for(let a=0;a<s.length;a++){const o=s[a];for(;r.length>=2;){const l=r[r.length-1],d=r[r.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))r.pop();else break}r.push(o)}r.pop();const n=[];for(let a=s.length-1;a>=0;a--){const o=s[a];for(;n.length>=2;){const l=n[n.length-1],d=n[n.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var U1=fp,$1=mp,W1=pp,yp=gp;const bp=U1,V1=$1,Z1=W1,wp=M.forwardRef(({className:s,sideOffset:r=4,...n},a)=>e.jsx(yp,{ref:a,sideOffset:r,className:ht("z-50 overflow-hidden rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-white shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...n}));wp.displayName=yp.displayName;const G1="/assets/new-logo-ISLgSUsv.png";function Vl({size:s=40,className:r=""}){return e.jsx("img",{src:G1,alt:"Logo LifeBee",width:s,height:s,className:r,style:{objectFit:"contain",display:"block"}})}function Y1({onComplete:s}){const[r,n]=M.useState(0);return M.useEffect(()=>{const a=setInterval(()=>{n(o=>o>=100?(clearInterval(a),setTimeout(s,500),100):o+2)},30);return()=>clearInterval(a)},[s]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] via-[#f4c430] to-[#fdf6e3] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-[#fdf6e3]/20 backdrop-blur-sm rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center shadow-2xl animate-pulse",children:e.jsx("div",{className:"bg-[#fdf6e3] rounded-full w-24 h-24 flex items-center justify-center",children:e.jsx(Vl,{size:60,className:"animate-bounce"})})}),e.jsx("h1",{className:"text-4xl font-bold text-[#fdf6e3] mb-2",children:"LifeBee"}),e.jsx("p",{className:"text-[#fdf6e3]/80 text-lg mb-8",children:"Conectando voc aos melhores profissionais de sade"}),e.jsx("div",{className:"w-64 mx-auto bg-[#fdf6e3]/20 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#fdf6e3] transition-all duration-300 ease-out rounded-full",style:{width:`${r}%`}})}),e.jsxs("p",{className:"text-[#fdf6e3]/70 text-sm mt-4",children:["Carregando... ",r,"%"]})]})})}function rn(){const[s,r]=M.useState({user:null,isLoading:!0,isAuthenticated:!1});return M.useEffect(()=>{(async()=>{const l=localStorage.getItem("token"),d=localStorage.getItem("user");if(l&&d)try{const f=await fetch(`${pt()}/api/user`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(f.ok){const u=await f.json();r({user:u,isLoading:!1,isAuthenticated:!0})}else localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,isLoading:!1,isAuthenticated:!1})}catch(f){console.error("Error verifying token:",f);try{const u=JSON.parse(d);r({user:u,isLoading:!1,isAuthenticated:!0})}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,isLoading:!1,isAuthenticated:!1})}}else r({user:null,isLoading:!1,isAuthenticated:!1})})()},[]),{...s,login:(o,l)=>{localStorage.setItem("token",o),localStorage.setItem("user",JSON.stringify(l)),r({user:l,isLoading:!1,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r({user:null,isLoading:!1,isAuthenticated:!1})}}}function Ma({hidePlus:s}){const[r]=Tr(),n=[{label:"Incio",to:"/",icon:e.jsx(ju,{className:"h-6 w-6"}),show:!0},{label:"Servios",to:"/services",icon:e.jsx(qn,{className:"h-6 w-6"}),show:!0},{label:"Adicionar",to:"/servico",isCenter:!0,show:!s},{label:"Chat",to:"/messages",icon:e.jsx(Hn,{className:"h-6 w-6"}),show:!0},{label:"Perfil",to:"/profile",icon:e.jsx(sn,{className:"h-6 w-6"}),show:!0}];return e.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 left-0 w-full z-50 shadow rounded-t-xl px-0",children:e.jsx("ul",{className:"flex justify-around items-center h-16 max-w-full px-2 sm:px-4",children:n.filter(a=>a.show).map(a=>e.jsx("li",{className:a.isCenter?"relative -mt-10 z-10":"",children:a.isCenter?e.jsx(As,{href:a.to,"aria-label":"Criar Servio",children:e.jsx("button",{className:"gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 rounded-full bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-xl hover:shadow-2xl hover:from-yellow-600 hover:to-yellow-700 w-16 h-16 flex items-center justify-center transition-all duration-300 border-4 border-white dark:border-gray-900 focus:ring-4 focus:ring-yellow-200 dark:focus:ring-yellow-800 ring-4 ring-yellow-200 dark:ring-yellow-800",tabIndex:0,type:"button",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus h-8 w-8",children:[e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M12 5v14"})]})})}):e.jsxs(As,{href:a.to,className:`flex flex-col items-center text-xs font-medium transition-colors duration-200 ${r===a.to?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:[a.icon,e.jsx("span",{className:"mt-1",children:a.label})]})},a.to))})})}function K1(){const{toast:s}=wr(),{user:r}=rn(),[n,a]=M.useState(""),[o,l]=M.useState([]),[d,f]=M.useState(!0),[,u]=Tr();M.useEffect(()=>{x()},[]);const x=async()=>{try{f(!0);const k=await fetch(`${pt()}/api/professionals`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(k.ok){const _=await k.json();l(_)}else console.error("Erro ao buscar profissionais:",k.statusText),l([]),s({title:"Erro",description:"No foi possvel carregar os profissionais",variant:"destructive"})}catch(k){console.error("Erro ao buscar profissionais:",k),s({title:"Erro",description:"No foi possvel carregar os profissionais",variant:"destructive"})}finally{f(!1)}},w=async(k,_)=>{try{const I=localStorage.getItem("token"),S=await fetch(`${pt()}/api/messages/start-conversation`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({professionalId:k,message:"Ol! Gostaria de conversar sobre seus servios."})});if(S.ok){const N=await S.json();console.log("Resposta do backend:",N),s({title:"Conversa iniciada!",description:`Voc pode conversar com ${_} agora`});const A=N.conversationId||N.id||N.conversationID;u(A?`/messages/${A}`:"/messages")}else s({title:"Erro",description:"No foi possvel iniciar a conversa",variant:"destructive"})}catch(I){console.error("Erro ao iniciar conversa:",I),s({title:"Erro",description:"Erro de conexo ao iniciar conversa",variant:"destructive"})}},v=k=>{window.location.href=`tel:${k}`},j=k=>{switch(k){case"Home":u("/");break;case"Chat":u("/messages");break;case"Servios":u("/services");break;case"Perfil":u("/profile");break;default:u("/")}};if(d)return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen flex items-center justify-center px-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium text-sm sm:text-base",children:"Carregando profissionais..."})]}),e.jsx(Ma,{})]});if(o.length===0)return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Ol,"}),e.jsx("p",{className:"font-semibold text-base sm:text-lg text-gray-900",children:r?.name||"Usurio"})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-yellow-600 transition-colors",onClick:()=>u("/profile"),children:e.jsx(sn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})})]}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] px-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",children:e.jsx(ki,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Nenhum profissional disponvel"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"No momento no h profissionais cadastrados na sua regio. Tente novamente mais tarde."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-full font-medium hover:bg-yellow-600 transition-colors text-sm sm:text-base",children:"Tentar novamente"})]})}),e.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 flex justify-around py-2 sm:py-3",children:[{icon:ju,label:"Home"},{icon:Ar,label:"Chat"},{icon:qn,label:"Servios"},{icon:sn,label:"Perfil"}].map((k,_)=>e.jsxs("button",{className:"flex flex-col items-center text-xs text-gray-600 hover:text-yellow-500 transition-colors",onClick:()=>j(k.label),children:[e.jsx(k.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 mb-1"}),k.label]},_))}),e.jsx(Ma,{})]});const p=o.filter(k=>k.name.toLowerCase().includes(n.toLowerCase())||k.specialization.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Ol,"}),e.jsx("p",{className:"font-semibold text-base sm:text-lg text-gray-900",children:r?.name||"Usurio"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(kl,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:"3"})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-yellow-600 transition-colors",onClick:()=>u("/profile"),children:e.jsx(sn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})})]})]}),e.jsx("div",{className:"px-3 sm:px-4 mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ki,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar profissional...",className:"w-full bg-white rounded-full px-10 sm:px-12 py-3 sm:py-4 text-sm sm:text-base text-gray-900 placeholder-gray-500 border-0 shadow-lg focus:ring-2 focus:ring-yellow-400 focus:outline-none",value:n,onChange:k=>a(k.target.value)})]})}),e.jsx("div",{className:"px-3 sm:px-4 mb-4 sm:mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white rounded-2xl p-3 sm:p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg",children:"Emergncia 24h"}),e.jsx("p",{className:"text-xs sm:text-sm opacity-90",children:"Profissionais disponveis agora"})]}),e.jsx("div",{className:"text-2xl sm:text-3xl",children:""})]})})}),e.jsxs("div",{className:"px-3 sm:px-4 pb-20 sm:pb-24",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:n?`Resultados para "${n}"`:"Profissionais Disponveis"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:p.map(k=>e.jsx("div",{className:"bg-white rounded-2xl p-3 sm:p-4 shadow-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:k.imageUrl?e.jsx("img",{src:k.imageUrl,alt:k.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover"}):e.jsx(sn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1",children:k.name}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-2",children:k.specialization}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Un,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:k.rating})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(vs,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"truncate",children:k.location})]}),e.jsxs("div",{className:"text-xs sm:text-sm font-medium text-green-600",children:["R$ ",k.hourlyRate,"/h"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{className:"flex-1 bg-yellow-500 text-white py-2 px-3 sm:px-4 rounded-full font-medium hover:bg-yellow-600 transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>w(k.userId,k.name),children:[e.jsx(Ar,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Conversar"]}),k.phone&&e.jsxs("button",{className:"bg-green-500 text-white py-2 px-3 sm:px-4 rounded-full font-medium hover:bg-green-600 transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>v(k.phone),children:[e.jsx(Ci,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Ligar"]})]})]})]})},k.id))}),p.length===0&&n&&e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(ki,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Nenhum profissional encontrado"})]})]}),e.jsx(Ma,{})]})}const Au=Ic("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ie=M.forwardRef(({className:s,variant:r,size:n,asChild:a=!1,...o},l)=>{const d=a?fx:"button";return e.jsx(d,{className:ht(Au({variant:r,size:n,className:s})),ref:l,...o})});Ie.displayName="Button";const ct=M.forwardRef(({className:s,...r},n)=>e.jsx("div",{ref:n,className:ht("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r}));ct.displayName="Card";const ts=M.forwardRef(({className:s,...r},n)=>e.jsx("div",{ref:n,className:ht("flex flex-col space-y-1.5 p-6",s),...r}));ts.displayName="CardHeader";const ds=M.forwardRef(({className:s,...r},n)=>e.jsx("div",{ref:n,className:ht("text-2xl font-semibold leading-none tracking-tight",s),...r}));ds.displayName="CardTitle";const J1=M.forwardRef(({className:s,...r},n)=>e.jsx("div",{ref:n,className:ht("text-sm text-muted-foreground",s),...r}));J1.displayName="CardDescription";const dt=M.forwardRef(({className:s,...r},n)=>e.jsx("div",{ref:n,className:ht("p-6 pt-0",s),...r}));dt.displayName="CardContent";const Q1=M.forwardRef(({className:s,...r},n)=>e.jsx("div",{ref:n,className:ht("flex items-center p-6 pt-0",s),...r}));Q1.displayName="CardFooter";const X1=Ic("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Os({className:s,variant:r,...n}){return e.jsx("div",{className:ht(X1({variant:r}),s),...n})}function e2(){return tp.useSyncExternalStore(t2,()=>!0,()=>!1)}function t2(){return()=>{}}var Tu="Avatar",[s2,Ww]=yo(Tu),[r2,Np]=s2(Tu),_p=M.forwardRef((s,r)=>{const{__scopeAvatar:n,...a}=s,[o,l]=M.useState("idle");return e.jsx(r2,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:e.jsx(ls.span,{...a,ref:r})})});_p.displayName=Tu;var jp="AvatarImage",Sp=M.forwardRef((s,r)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:o=()=>{},...l}=s,d=Np(jp,n),f=n2(a,l),u=Ko(x=>{o(x),d.onImageLoadingStatusChange(x)});return Wn(()=>{f!=="idle"&&u(f)},[f,u]),f==="loaded"?e.jsx(ls.img,{...l,ref:r,src:a}):null});Sp.displayName=jp;var kp="AvatarFallback",Pp=M.forwardRef((s,r)=>{const{__scopeAvatar:n,delayMs:a,...o}=s,l=Np(kp,n),[d,f]=M.useState(a===void 0);return M.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>f(!0),a);return()=>window.clearTimeout(u)}},[a]),d&&l.imageLoadingStatus!=="loaded"?e.jsx(ls.span,{...o,ref:r}):null});Pp.displayName=kp;function Oh(s,r){return s?r?(s.src!==r&&(s.src=r),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n2(s,{referrerPolicy:r,crossOrigin:n}){const a=e2(),o=M.useRef(null),l=a?(o.current||(o.current=new window.Image),o.current):null,[d,f]=M.useState(()=>Oh(l,s));return Wn(()=>{f(Oh(l,s))},[l,s]),Wn(()=>{const u=v=>()=>{f(v)};if(!l)return;const x=u("loaded"),w=u("error");return l.addEventListener("load",x),l.addEventListener("error",w),r&&(l.referrerPolicy=r),typeof n=="string"&&(l.crossOrigin=n),()=>{l.removeEventListener("load",x),l.removeEventListener("error",w)}},[l,n,r]),d}var Cp=_p,Lp=Sp,Ap=Pp;const Li=M.forwardRef(({className:s,...r},n)=>e.jsx(Cp,{ref:n,className:ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r}));Li.displayName=Cp.displayName;const Ai=M.forwardRef(({className:s,src:r,...n},a)=>e.jsx(Lp,{ref:a,className:ht("aspect-square h-full w-full",s),src:r,onError:o=>{},...n}));Ai.displayName=Lp.displayName;const Ti=M.forwardRef(({className:s,...r},n)=>e.jsx(Ap,{ref:n,className:ht("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r}));Ti.displayName=Ap.displayName;const Ol=Ef,zd=Mf,a2=Tf,Tp=M.forwardRef(({className:s,...r},n)=>e.jsx(cu,{ref:n,className:ht("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),style:{backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:50,width:"100vw",height:"100vh"},...r}));Tp.displayName=cu.displayName;const el=M.forwardRef(({className:s,children:r,...n},a)=>e.jsxs(a2,{children:[e.jsx(Tp,{}),e.jsxs(du,{ref:a,className:ht("fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg overflow-y-auto",s),style:{backgroundColor:"var(--background)",border:"1px solid var(--border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",width:"min(95vw, 32rem)",maxWidth:"min(95vw, 32rem)",maxHeight:"min(85vh, 90vh)",height:"auto",minHeight:"auto"},...n,children:[r,e.jsxs(uu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Wl,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));el.displayName=du.displayName;const tl=({className:s,...r})=>e.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",s),...r});tl.displayName="DialogHeader";const sl=M.forwardRef(({className:s,...r},n)=>e.jsx(hu,{ref:n,className:ht("text-lg font-semibold leading-none tracking-tight",s),...r}));sl.displayName=hu.displayName;const Ep=M.forwardRef(({className:s,...r},n)=>e.jsx(fu,{ref:n,className:ht("text-sm text-muted-foreground",s),...r}));Ep.displayName=fu.displayName;function vn(s){const r=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&r==="[object Date]"?new s.constructor(+s):typeof s=="number"||r==="[object Number]"||typeof s=="string"||r==="[object String]"?new Date(s):new Date(NaN)}function Ei(s,r){return s instanceof Date?new s.constructor(r):new Date(r)}function Mp(s,r){const n=vn(s);return isNaN(r)?Ei(s,NaN):(r&&n.setDate(n.getDate()+r),n)}const Ip=6048e5,i2=864e5;let o2={};function qc(){return o2}function rl(s,r){const n=qc(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=vn(s),l=o.getDay(),d=(l<a?7:0)+l-a;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function Lc(s){return rl(s,{weekStartsOn:1})}function Rp(s){const r=vn(s),n=r.getFullYear(),a=Ei(s,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Lc(a),l=Ei(s,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const d=Lc(l);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Ac(s){const r=vn(s);return r.setHours(0,0,0,0),r}function Dh(s){const r=vn(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function l2(s,r){const n=Ac(s),a=Ac(r),o=+n-Dh(n),l=+a-Dh(a);return Math.round((o-l)/i2)}function c2(s){const r=Rp(s),n=Ei(s,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Lc(n)}function Op(s,r){const n=r*7;return Mp(s,n)}function vd(s,r){const n=Ac(s),a=Ac(r);return+n==+a}function d2(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function u2(s){if(!d2(s)&&typeof s!="number")return!1;const r=vn(s);return!isNaN(Number(r))}function h2(s){const r=vn(s),n=Ei(s,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const f2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m2=(s,r,n)=>{let a;const o=f2[s];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Zo(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const p2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},g2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},x2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v2={date:Zo({formats:p2,defaultWidth:"full"}),time:Zo({formats:g2,defaultWidth:"full"}),dateTime:Zo({formats:x2,defaultWidth:"full"})},y2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b2=(s,r,n,a)=>y2[s];function Aa(s){return(r,n)=>{const a=n?.context?String(n.context):"standalone";let o;if(a==="formatting"&&s.formattingValues){const d=s.defaultFormattingWidth||s.defaultWidth,f=n?.width?String(n.width):d;o=s.formattingValues[f]||s.formattingValues[d]}else{const d=s.defaultWidth,f=n?.width?String(n.width):s.defaultWidth;o=s.values[f]||s.values[d]}const l=s.argumentCallback?s.argumentCallback(r):r;return o[l]}}const w2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},k2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},P2=(s,r)=>{const n=Number(s),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},C2={ordinalNumber:P2,era:Aa({values:w2,defaultWidth:"wide"}),quarter:Aa({values:N2,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Aa({values:_2,defaultWidth:"wide"}),day:Aa({values:j2,defaultWidth:"wide"}),dayPeriod:Aa({values:S2,defaultWidth:"wide",formattingValues:k2,defaultFormattingWidth:"wide"})};function Ta(s){return(r,n={})=>{const a=n.width,o=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],l=r.match(o);if(!l)return null;const d=l[0],f=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],u=Array.isArray(f)?A2(f,v=>v.test(d)):L2(f,v=>v.test(d));let x;x=s.valueCallback?s.valueCallback(u):u,x=n.valueCallback?n.valueCallback(x):x;const w=r.slice(d.length);return{value:x,rest:w}}}function L2(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function A2(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function Dp(s){return(r,n={})=>{const a=r.match(s.matchPattern);if(!a)return null;const o=a[0],l=r.match(s.parsePattern);if(!l)return null;let d=s.valueCallback?s.valueCallback(l[0]):l[0];d=n.valueCallback?n.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}const T2=/^(\d+)(th|st|nd|rd)?/i,E2=/\d+/i,M2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},I2={any:[/^b/i,/^(a|c)/i]},R2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O2={any:[/1/i,/2/i,/3/i,/4/i]},D2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},z2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},H2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U2={ordinalNumber:Dp({matchPattern:T2,parsePattern:E2,valueCallback:s=>parseInt(s,10)}),era:Ta({matchPatterns:M2,defaultMatchWidth:"wide",parsePatterns:I2,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:R2,defaultMatchWidth:"wide",parsePatterns:O2,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ta({matchPatterns:D2,defaultMatchWidth:"wide",parsePatterns:F2,defaultParseWidth:"any"}),day:Ta({matchPatterns:z2,defaultMatchWidth:"wide",parsePatterns:B2,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:q2,defaultMatchWidth:"any",parsePatterns:H2,defaultParseWidth:"any"})},$2={code:"en-US",formatDistance:m2,formatLong:v2,formatRelative:b2,localize:C2,match:U2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function W2(s){const r=vn(s);return l2(r,h2(r))+1}function V2(s){const r=vn(s),n=+Lc(r)-+c2(r);return Math.round(n/Ip)+1}function Fp(s,r){const n=vn(s),a=n.getFullYear(),o=qc(),l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=Ei(s,0);d.setFullYear(a+1,0,l),d.setHours(0,0,0,0);const f=rl(d,r),u=Ei(s,0);u.setFullYear(a,0,l),u.setHours(0,0,0,0);const x=rl(u,r);return n.getTime()>=f.getTime()?a+1:n.getTime()>=x.getTime()?a:a-1}function Z2(s,r){const n=qc(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Fp(s,r),l=Ei(s,0);return l.setFullYear(o,0,a),l.setHours(0,0,0,0),rl(l,r)}function G2(s,r){const n=vn(s),a=+rl(n,r)-+Z2(n,r);return Math.round(a/Ip)+1}function xs(s,r){const n=s<0?"-":"",a=Math.abs(s).toString().padStart(r,"0");return n+a}const yi={y(s,r){const n=s.getFullYear(),a=n>0?n:1-n;return xs(r==="yy"?a%100:a,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):xs(n+1,2)},d(s,r){return xs(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return xs(s.getHours()%12||12,r.length)},H(s,r){return xs(s.getHours(),r.length)},m(s,r){return xs(s.getMinutes(),r.length)},s(s,r){return xs(s.getSeconds(),r.length)},S(s,r){const n=r.length,a=s.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return xs(o,r.length)}},Ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fh={G:function(s,r,n){const a=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const a=s.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return yi.y(s,r)},Y:function(s,r,n,a){const o=Fp(s,a),l=o>0?o:1-o;if(r==="YY"){const d=l%100;return xs(d,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):xs(l,r.length)},R:function(s,r){const n=Rp(s);return xs(n,r.length)},u:function(s,r){const n=s.getFullYear();return xs(n,r.length)},Q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return xs(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return xs(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,r,n){const a=s.getMonth();switch(r){case"M":case"MM":return yi.M(s,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(s,r,n){const a=s.getMonth();switch(r){case"L":return String(a+1);case"LL":return xs(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(s,r,n,a){const o=G2(s,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):xs(o,r.length)},I:function(s,r,n){const a=V2(s);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):xs(a,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):yi.d(s,r)},D:function(s,r,n){const a=W2(s);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):xs(a,r.length)},E:function(s,r,n){const a=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(s,r,n,a){const o=s.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return xs(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(s,r,n,a){const o=s.getDay(),l=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return xs(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(s,r,n){const a=s.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return xs(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(s,r,n){const o=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,r,n){const a=s.getHours();let o;switch(a===12?o=Ho.noon:a===0?o=Ho.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,r,n){const a=s.getHours();let o;switch(a>=17?o=Ho.evening:a>=12?o=Ho.afternoon:a>=4?o=Ho.morning:o=Ho.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let a=s.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return yi.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):yi.H(s,r)},K:function(s,r,n){const a=s.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):xs(a,r.length)},k:function(s,r,n){let a=s.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):xs(a,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):yi.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):yi.s(s,r)},S:function(s,r){return yi.S(s,r)},X:function(s,r,n){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Bh(a);case"XXXX":case"XX":return ro(a);case"XXXXX":case"XXX":default:return ro(a,":")}},x:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"x":return Bh(a);case"xxxx":case"xx":return ro(a);case"xxxxx":case"xxx":default:return ro(a,":")}},O:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zh(a,":");case"OOOO":default:return"GMT"+ro(a,":")}},z:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zh(a,":");case"zzzz":default:return"GMT"+ro(a,":")}},t:function(s,r,n){const a=Math.trunc(s.getTime()/1e3);return xs(a,r.length)},T:function(s,r,n){const a=s.getTime();return xs(a,r.length)}};function zh(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),o=Math.trunc(a/60),l=a%60;return l===0?n+String(o):n+String(o)+r+xs(l,2)}function Bh(s,r){return s%60===0?(s>0?"-":"+")+xs(Math.abs(s)/60,2):ro(s,r)}function ro(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),o=xs(Math.trunc(a/60),2),l=xs(a%60,2);return n+o+r+l}const qh=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},zp=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Y2=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return qh(s,r);let l;switch(a){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",qh(a,r)).replace("{{time}}",zp(o,r))},K2={p:zp,P:Y2},J2=/^D+$/,Q2=/^Y+$/,X2=["D","DD","YY","YYYY"];function ey(s){return J2.test(s)}function ty(s){return Q2.test(s)}function sy(s,r,n){const a=ry(s,r,n);if(console.warn(a),X2.includes(s))throw new RangeError(a)}function ry(s,r,n){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ny=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ay=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iy=/^'([^]*?)'?$/,oy=/''/g,ly=/[a-zA-Z]/;function Nl(s,r,n){const a=qc(),o=n?.locale??a.locale??$2,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,d=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,f=vn(s);if(!u2(f))throw new RangeError("Invalid time value");let u=r.match(ay).map(w=>{const v=w[0];if(v==="p"||v==="P"){const j=K2[v];return j(w,o.formatLong)}return w}).join("").match(ny).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:cy(w)};if(Fh[v])return{isToken:!0,value:w};if(v.match(ly))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});o.localize.preprocessor&&(u=o.localize.preprocessor(f,u));const x={firstWeekContainsDate:l,weekStartsOn:d,locale:o};return u.map(w=>{if(!w.isToken)return w.value;const v=w.value;(!n?.useAdditionalWeekYearTokens&&ty(v)||!n?.useAdditionalDayOfYearTokens&&ey(v))&&sy(v,r,String(s));const j=Fh[v[0]];return j(f,v,o.localize,x)}).join("")}function cy(s){const r=s.match(iy);return r?r[1].replace(oy,"'"):s}function dy(s,r){const n=vn(s),a=vn(r);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function uy(s,r){return Op(s,-4)}const hy={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},fy=(s,r,n)=>{let a;const o=hy[s];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",String(r)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},my={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},py={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},gy={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xy={date:Zo({formats:my,defaultWidth:"full"}),time:Zo({formats:py,defaultWidth:"full"}),dateTime:Zo({formats:gy,defaultWidth:"full"})},vy={lastWeek:s=>{const r=s.getDay();return"'"+(r===0||r===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},yy=(s,r,n,a)=>{const o=vy[s];return typeof o=="function"?o(r):o},by={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},wy={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Ny={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},_y={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},jy={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Sy={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ky=(s,r)=>{const n=Number(s);return r?.unit==="week"?n+"":n+""},Py={ordinalNumber:ky,era:Aa({values:by,defaultWidth:"wide"}),quarter:Aa({values:wy,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Aa({values:Ny,defaultWidth:"wide"}),day:Aa({values:_y,defaultWidth:"wide"}),dayPeriod:Aa({values:jy,defaultWidth:"wide",formattingValues:Sy,defaultFormattingWidth:"wide"})},Cy=/^(\d+)[o]?/i,Ly=/\d+/i,Ay={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Ty={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Ey={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},My={any:[/1/i,/2/i,/3/i,/4/i]},Iy={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Ry={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Oy={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Dy={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Fy={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},zy={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},By={ordinalNumber:Dp({matchPattern:Cy,parsePattern:Ly,valueCallback:s=>parseInt(s,10)}),era:Ta({matchPatterns:Ay,defaultMatchWidth:"wide",parsePatterns:Ty,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:Ey,defaultMatchWidth:"wide",parsePatterns:My,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ta({matchPatterns:Iy,defaultMatchWidth:"wide",parsePatterns:Ry,defaultParseWidth:"any"}),day:Ta({matchPatterns:Oy,defaultMatchWidth:"wide",parsePatterns:Dy,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:Fy,defaultMatchWidth:"any",parsePatterns:zy,defaultParseWidth:"any"})},Bd={code:"pt-BR",formatDistance:fy,formatLong:xy,formatRelative:yy,localize:Py,match:By,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hh(){const{toast:s}=wr(),[r,n]=M.useState(new Date),[a,o]=M.useState(new Date),[l,d]=M.useState(null),[f,u]=M.useState(!1),[x,w]=M.useState("all"),v=Y=>{switch(Y){case"agendado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"confirmado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"em_andamento":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"concluido":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},j=Y=>{switch(Y){case"confirmado":return e.jsx(dr,{className:"h-3 w-3"});case"cancelado":return e.jsx(go,{className:"h-3 w-3"});case"em_andamento":return e.jsx(Em,{className:"h-3 w-3"});case"concluido":return e.jsx(dr,{className:"h-3 w-3"});default:return e.jsx(po,{className:"h-3 w-3"})}},p=Y=>{switch(Y){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return Y}},k=[],_=Y=>k.filter(ie=>vd(ie.date,Y)),I=()=>{const Y=rl(new Date(r.getFullYear(),r.getMonth(),1)),ie=[];for(let E=0;E<42;E++)ie.push(Mp(Y,E));return ie},S=()=>{n(uy(r))},N=()=>{n(Op(r,4))},A=Y=>{d(Y),u(!0)},D=()=>{s({title:"Agendamento cancelado",description:"Seu agendamento foi cancelado com sucesso."}),u(!1)},q=()=>{s({title:"Reagendamento",description:"Redirecionando para reagendar consulta..."}),u(!1)},ee=()=>{l?.meetingLink&&(window.open(l.meetingLink,"_blank"),s({title:"Videochamada iniciada",description:"Abrindo link da reunio..."}))},$=()=>{l?.professionalPhone&&window.open(`tel:${l.professionalPhone}`)},U=()=>{if(l?.location){const Y=encodeURIComponent(l.location);window.open(`https://maps.google.com/?q=${Y}`,"_blank")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Minha Agenda"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-4 lg:p-8",children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agenda"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gerencie seus agendamentos"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Ie,{variant:"outline",children:[e.jsx(Jv,{className:"h-4 w-4 mr-2"}),"Filtros"]}),e.jsxs(Ie,{className:"bg-yellow-500 hover:bg-yellow-600",children:[e.jsx(Su,{className:"h-4 w-4 mr-2"}),"Nova Consulta"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6 overflow-x-auto",children:[e.jsx(Ie,{variant:x==="all"?"default":"outline",size:"sm",onClick:()=>w("all"),className:x==="all"?"bg-yellow-500 hover:bg-yellow-600":"",children:"Todos"}),e.jsx(Ie,{variant:x==="agendado"?"default":"outline",size:"sm",onClick:()=>w("agendado"),className:x==="agendado"?"bg-blue-500 hover:bg-blue-600":"",children:"Agendados"}),e.jsx(Ie,{variant:x==="confirmado"?"default":"outline",size:"sm",onClick:()=>w("confirmado"),className:x==="confirmado"?"bg-green-500 hover:bg-green-600":"",children:"Confirmados"}),e.jsx(Ie,{variant:x==="concluido"?"default":"outline",size:"sm",onClick:()=>w("concluido"),className:x==="concluido"?"bg-gray-500 hover:bg-gray-600":"",children:"Concludos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ct,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(ds,{className:"text-lg",children:Nl(r,"MMMM yyyy",{locale:Bd})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{variant:"outline",size:"sm",onClick:S,children:e.jsx(Zv,{className:"h-4 w-4"})}),e.jsx(Ie,{variant:"outline",size:"sm",onClick:N,children:e.jsx(Dm,{className:"h-4 w-4"})})]})]}),e.jsxs(dt,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map(Y=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-600 dark:text-gray-400",children:Y},Y))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:I().map((Y,ie)=>{const E=_(Y),T=dy(Y,r),z=vd(Y,new Date),F=vd(Y,a);return e.jsxs("div",{className:`
                            min-h-[80px] p-1 border border-gray-200 dark:border-gray-700 cursor-pointer transition-colors
                            ${T?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900"}
                            ${z?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700":""}
                            ${F?"ring-2 ring-yellow-500":""}
                            hover:bg-gray-50 dark:hover:bg-gray-700
                          `,onClick:()=>o(Y),children:[e.jsx("div",{className:`
                            text-sm font-medium mb-1
                            ${T?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-600"}
                            ${z?"text-yellow-600 dark:text-yellow-400":""}
                          `,children:Nl(Y,"d")}),e.jsxs("div",{className:"space-y-1",children:[E.slice(0,2).map(le=>e.jsxs("div",{className:`
                                  text-xs p-1 rounded cursor-pointer truncate
                                  ${v(le.status)}
                                `,onClick:X=>{X.stopPropagation(),A(le)},children:[le.time," - ",le.professionalName]},le.id)),E.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 p-1",children:["+",E.length-2," mais"]})]})]},ie)})})]})]})}),e.jsx("div",{children:e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"text-lg",children:["Agendamentos - ",Nl(a,"dd/MM/yyyy")]})}),e.jsx(dt,{className:"space-y-4",children:_(a).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(er,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Nenhum agendamento para este dia"})]}):_(a).map(Y=>e.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>A(Y),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(Li,{className:"w-10 h-10",children:[e.jsx(Ai,{src:Y.professionalAvatar,alt:Y.professionalName}),e.jsx(Ti,{children:Y.professionalName.split(" ").map(ie=>ie[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:Y.professionalName}),e.jsxs(Os,{className:`text-xs ${v(Y.status)}`,children:[j(Y.status),e.jsx("span",{className:"ml-1",children:p(Y.status)})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:Y.specialization}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yr,{className:"h-3 w-3"}),Y.time," (",Y.duration,"min)"]}),Y.type==="presencial"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"h-3 w-3"}),"Presencial"]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(wc,{className:"h-3 w-3"}),"Online"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["R$ ",Y.price]}),Y.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:Y.rating})]})]})]})]})},Y.id))})]})})]}),e.jsx(Ol,{open:f,onOpenChange:u,children:e.jsxs(el,{className:"max-w-2xl",children:[e.jsx(tl,{children:e.jsxs(sl,{className:"flex items-center gap-3",children:[e.jsxs(Li,{className:"w-12 h-12",children:[e.jsx(Ai,{src:l?.professionalAvatar,alt:l?.professionalName}),e.jsx(Ti,{children:l?.professionalName.split(" ").map(Y=>Y[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:l?.professionalName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:l?.specialization})]})]})}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Os,{className:`${v(l.status)}`,children:[j(l.status),e.jsx("span",{className:"ml-1",children:p(l.status)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.type==="online"&&l.meetingLink&&e.jsxs(Ie,{size:"sm",onClick:ee,className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(wc,{className:"h-4 w-4 mr-2"}),"Entrar na Reunio"]}),l.professionalPhone&&e.jsxs(Ie,{variant:"outline",size:"sm",onClick:$,children:[e.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ligar"]}),e.jsxs(Ie,{variant:"outline",size:"sm",children:[e.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Mensagem"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Data e Horrio"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(er,{className:"h-4 w-4"}),Nl(l.date,"dd 'de' MMMM 'de' yyyy",{locale:Bd})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 mt-1",children:[e.jsx(yr,{className:"h-4 w-4"}),l.time," - ",l.duration," minutos"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Tipo de Consulta"}),e.jsx("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:l.type==="presencial"?e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"h-4 w-4"}),"Presencial"]}):e.jsxs(e.Fragment,{children:[e.jsx(wc,{className:"h-4 w-4"}),"Online"]})})]}),l.location&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Local"}),e.jsxs("div",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(vs,{className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{children:l.location}),e.jsxs(Ie,{variant:"link",size:"sm",className:"p-0 h-auto text-yellow-600 hover:text-yellow-700",onClick:U,children:[e.jsx(Hm,{className:"h-3 w-3 mr-1"}),"Ver no mapa"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Valor"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",l.price]})]}),l.rating&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Avaliao"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold",children:l.rating})]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Excelente profissional"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Contato"}),l.professionalPhone&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(Ci,{className:"h-4 w-4"}),l.professionalPhone]})]})]})]}),l.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Observaes"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:l.notes})]}),l.status!=="concluido"&&l.status!=="cancelado"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[l.canReschedule&&e.jsxs(Ie,{variant:"outline",onClick:()=>q(),children:[e.jsx(er,{className:"h-4 w-4 mr-2"}),"Reagendar"]}),l.canCancel&&e.jsxs(Ie,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/20",onClick:()=>D(),children:[e.jsx(go,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]})]})]})})]}),e.jsx(Ma,{})]})}const Nt=M.forwardRef(({className:s,type:r,...n},a)=>e.jsx("input",{type:r,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n}));Nt.displayName="Input";var qy="Label",Bp=M.forwardRef((s,r)=>e.jsx(ls.label,{...s,ref:r,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(s.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Bp.displayName=qy;var qp=Bp;const Hy=Ic("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Bn=M.forwardRef(({className:s,...r},n)=>e.jsx(qp,{ref:n,className:ht(Hy(),s),...r}));Bn.displayName=qp.displayName;const $n=M.forwardRef(({className:s,...r},n)=>e.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...r}));$n.displayName="Textarea";function Uh(){const[,s]=Tr(),{logout:r}=rn(),{toast:n}=wr(),a=vu(),[o,l]=M.useState(!1),[d,f]=M.useState(!1),[u,x]=M.useState(!1),w=M.useRef(null),[v,j]=M.useState({name:"",email:"",phone:"",address:""}),{data:p,isLoading:k}=kc({queryKey:["/api/user"]}),{data:_=[]}=kc({queryKey:["/api/appointments"]});M.useEffect(()=>{p&&j({name:p.name||"",email:p.email||"",phone:p.phone||"",address:p.address||""})},[p]);const I=(_||[]).filter(F=>new Date(F.scheduledFor)<=new Date).length,S=_h({mutationFn:async F=>{const le=localStorage.getItem("token");if(!le)throw new Error("Token no encontrado");const X=await fetch(`${pt()}/api/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify(F)});if(!X.ok)throw new Error("Erro ao atualizar perfil");return X.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/user"]}),l(!1),n({title:"Perfil atualizado",description:"Suas informaes foram atualizadas com sucesso."})},onError:F=>{n({title:"Erro",description:"No foi possvel atualizar o perfil. Tente novamente.",variant:"destructive"})}}),N=_h({mutationFn:async F=>{const le=localStorage.getItem("token");if(!le)throw new Error("Token no encontrado");const X=new FormData;X.append("profileImage",F);const O=await fetch(`${pt()}/api/user/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${le}`},body:X});if(!O.ok)throw new Error("Erro ao fazer upload da imagem");return O.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/user"]}),f(!1),x(!1),n({title:"Foto atualizada",description:"Sua foto de perfil foi atualizada com sucesso."})},onError:F=>{f(!1),n({title:"Erro",description:"No foi possvel fazer upload da imagem. Tente novamente.",variant:"destructive"})}}),A=()=>{l(!0)},D=()=>{S.mutate(v)},q=()=>{l(!1),p&&j({name:p.name||"",email:p.email||"",phone:p.phone||"",address:p.address||""})},ee=()=>{w.current?.click()},$=F=>{const le=F.target.files?.[0];le&&(f(!0),N.mutate(le))},U=(F,le)=>{j(X=>({...X,[F]:le}))},Y=()=>{s("/payment")},ie=()=>{console.log("Opening privacy settings")},E=()=>{console.log("Opening help center")},T=()=>{s("/my-requests")},z=()=>{r(),window.location.href="/",n({title:"Logout realizado",description:"Voc foi desconectado com sucesso."})};return k?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando perfil..."})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:e.jsxs("div",{className:"w-full max-w-sm lg:max-w-none mx-auto lg:mx-0 relative px-3 sm:px-4 lg:px-8 py-3 sm:py-4 lg:py-6",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>s("/"),className:"mr-2 p-2 lg:hidden",children:e.jsx(tr,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Meu Perfil"})]}),e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"relative inline-block mb-3 sm:mb-4",children:[p?.profileImage&&!u?e.jsx("img",{src:`${pt()}${p.profileImage}`,alt:`Foto de ${p?.name||"Cliente"}`,className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto rounded-full object-cover border-4 border-white shadow-lg",onError:()=>{console.log("Erro ao carregar imagem:",p.profileImage),x(!0)},onLoad:()=>{console.log("Imagem carregada com sucesso:",p.profileImage),x(!1)}}):e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto bg-yellow-500 rounded-full flex items-center justify-center border-4 border-white shadow-lg",children:e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:p?.name?.charAt(0)||"G"})}),e.jsx(Ie,{size:"sm",variant:"secondary",className:"absolute -bottom-1 -right-1 sm:-bottom-2 sm:-right-2 rounded-full w-6 h-6 sm:w-8 sm:h-8 p-0 bg-white border-2 border-gray-200 hover:bg-gray-50",onClick:ee,disabled:d,children:d?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-gray-600"}):e.jsx(bo,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.jsx("input",{ref:w,type:"file",accept:"image/*",onChange:$,className:"hidden"})]}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:p?.name||"Gustavo Silva"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Membro desde Janeiro 2024"}),e.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:_?.length||0}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Agendamentos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:I}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Concludos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:"4.8"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Avaliao"})]})]}),o?e.jsxs("div",{className:"flex gap-2 mb-4 sm:mb-6",children:[e.jsxs(Ie,{onClick:D,className:"flex-1 h-10 sm:h-12 text-sm sm:text-base",disabled:S.isPending,children:[S.isPending?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Salvar"]}),e.jsx(Ie,{variant:"outline",onClick:q,className:"h-10 sm:h-12 text-sm sm:text-base",children:e.jsx(Wl,{className:"h-4 w-4"})})]}):e.jsxs(Ie,{onClick:A,className:"w-full mb-4 sm:mb-6 h-10 sm:h-12 text-sm sm:text-base",children:[e.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]}),e.jsxs(ct,{className:"mb-4 sm:mb-6",children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsx(ds,{className:"text-base sm:text-lg",children:"Informaes Pessoais"})}),e.jsx(dt,{className:"space-y-3 sm:space-y-4",children:o?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Bn,{htmlFor:"name",className:"text-xs sm:text-sm text-gray-600",children:"Nome"}),e.jsx(Nt,{id:"name",value:v.name,onChange:F=>U("name",F.target.value),className:"mt-1",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx(Bn,{htmlFor:"email",className:"text-xs sm:text-sm text-gray-600",children:"Email"}),e.jsx(Nt,{id:"email",type:"email",value:v.email,onChange:F=>U("email",F.target.value),className:"mt-1",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx(Bn,{htmlFor:"phone",className:"text-xs sm:text-sm text-gray-600",children:"Telefone"}),e.jsx(Nt,{id:"phone",value:v.phone,onChange:F=>U("phone",F.target.value),className:"mt-1",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx(Bn,{htmlFor:"address",className:"text-xs sm:text-sm text-gray-600",children:"Endereo"}),e.jsx($n,{id:"address",value:v.address,onChange:F=>U("address",F.target.value),className:"mt-1",placeholder:"Seu endereo completo",rows:3})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Pc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:p?.email||"gustavo@email.com"})]})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Ci,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Telefone"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:p?.phone||"(11) 99999-9999"})]})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(vs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Endereo"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:p?.address||"So Paulo, SP"})]})]})]})})]}),e.jsx(ct,{className:"mb-4 sm:mb-6 border-green-100 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsx(dt,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Jo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:"Conta Verificada"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Sua identidade foi confirmada com sucesso"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Os,{className:"bg-green-500 text-white shadow-md hover:bg-green-600 transition-colors px-3 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm font-medium border-0",children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("span",{className:"text-base sm:text-lg",children:""}),e.jsx("span",{children:"Verificado"})]})})})]})})}),e.jsxs("div",{className:"space-y-2 mb-16 sm:mb-20",children:[e.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:T,children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(_u,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Minhas Solicitaes"})]}),e.jsx("span",{className:"text-gray-400",children:""})]})})}),e.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:Y,children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Fm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Formas de Pagamento"})]}),e.jsx("span",{className:"text-gray-400",children:""})]})})}),e.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>s("/settings"),children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Wm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Configuraes"})]}),e.jsx("span",{className:"text-gray-400",children:""})]})})}),e.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:ie,children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Jo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Privacidade e Segurana"})]}),e.jsx("span",{className:"text-gray-400",children:""})]})})}),e.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:E,children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(zm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Ajuda e Suporte"})]}),e.jsx("span",{className:"text-gray-400",children:""})]})})}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700 my-3 sm:my-4"}),e.jsx(ct,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:z,children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Il,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-red-500 text-sm sm:text-base",children:"Sair da Conta"})]})})})]}),e.jsx(Ma,{})]})})})}function Hp(s){const r=M.useRef({value:s,previous:s});return M.useMemo(()=>(r.current.value!==s&&(r.current.previous=r.current.value,r.current.value=s),r.current.previous),[s])}var Hc="Switch",[Uy,Vw]=yo(Hc),[$y,Wy]=Uy(Hc),Up=M.forwardRef((s,r)=>{const{__scopeSwitch:n,name:a,checked:o,defaultChecked:l,required:d,disabled:f,value:u="on",onCheckedChange:x,form:w,...v}=s,[j,p]=M.useState(null),k=br(r,A=>p(A)),_=M.useRef(!1),I=j?w||!!j.closest("form"):!0,[S,N]=Yo({prop:o,defaultProp:l??!1,onChange:x,caller:Hc});return e.jsxs($y,{scope:n,checked:S,disabled:f,children:[e.jsx(ls.button,{type:"button",role:"switch","aria-checked":S,"aria-required":d,"data-state":Zp(S),"data-disabled":f?"":void 0,disabled:f,value:u,...v,ref:k,onClick:Wt(s.onClick,A=>{N(D=>!D),I&&(_.current=A.isPropagationStopped(),_.current||A.stopPropagation())})}),I&&e.jsx(Vp,{control:j,bubbles:!_.current,name:a,value:u,checked:S,required:d,disabled:f,form:w,style:{transform:"translateX(-100%)"}})]})});Up.displayName=Hc;var $p="SwitchThumb",Wp=M.forwardRef((s,r)=>{const{__scopeSwitch:n,...a}=s,o=Wy($p,n);return e.jsx(ls.span,{"data-state":Zp(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:r})});Wp.displayName=$p;var Vy="SwitchBubbleInput",Vp=M.forwardRef(({__scopeSwitch:s,control:r,checked:n,bubbles:a=!0,...o},l)=>{const d=M.useRef(null),f=br(d,l),u=Hp(n),x=mx(r);return M.useEffect(()=>{const w=d.current;if(!w)return;const v=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(v,"checked").set;if(u!==n&&p){const k=new Event("click",{bubbles:a});p.call(w,n),w.dispatchEvent(k)}},[u,n,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:f,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vp.displayName=Vy;function Zp(s){return s?"checked":"unchecked"}var Gp=Up,Zy=Wp;const Ni=M.forwardRef(({className:s,...r},n)=>e.jsx(Gp,{className:ht("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md active:scale-95",s),...r,ref:n,children:e.jsx(Zy,{className:ht("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-300 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 hover:shadow-xl")})}));Ni.displayName=Gp.displayName;async function Gy(s){if(!s.ok){const r=await s.text()||s.statusText;throw new Error(`${s.status}: ${r}`)}}async function Dl(s,r,n){const a=n?{"Content-Type":"application/json"}:{},o=localStorage.getItem("token");o&&(a.Authorization=`Bearer ${o}`);const d=r.startsWith("http")?r:`https://lifebee-backend.onrender.com${r}`;let f=await fetch(d,{method:s,headers:a,body:n?JSON.stringify(n):void 0,credentials:"include"});return f.status===401?(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload(),f):(await Gy(f),f)}const Yy=({on401:s})=>async({queryKey:r})=>{try{const n="https://lifebee-backend.onrender.com",a=r[0],o=a.startsWith("http")?a:`${n}${a}`,l=localStorage.getItem("token"),d={};l&&(d.Authorization=`Bearer ${l}`);const f=new AbortController,u=setTimeout(()=>f.abort(),1e4);let x=await fetch(o,{headers:d,credentials:"include",signal:f.signal});if(clearTimeout(u),s==="returnNull"&&(x.status===401||x.status===403))return null;if(!x.ok){if(s==="returnNull")return null;const w=await x.text()||x.statusText;throw new Error(`${x.status}: ${w}`)}return await x.json()}catch(n){return console.warn("API request failed:",n.message),null}};new nm({defaultOptions:{queries:{queryFn:Yy({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:!1,retryOnMount:!1,refetchOnReconnect:!1},mutations:{retry:!1}}});function $h(){const{theme:s,setTheme:r}=um(),{user:n,logout:a}=rn(),{toast:o}=wr(),[l,d]=M.useState(!1),[f,u]=M.useState(!1),[x,w]=M.useState(!1),[v,j]=M.useState({name:n?.name||"",email:n?.email||"",phone:n?.phone||"",address:"",bio:""}),[p,k]=M.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[_,I]=M.useState({current:!1,new:!1,confirm:!1}),[S,N]=M.useState({appointments:!0,messages:!0,promotions:!1,emailUpdates:!0,smsAlerts:!0}),A=async()=>{try{(await Dl("PUT","/api/user/profile",v)).ok&&(o({title:"Perfil atualizado",description:"Suas informaes foram salvas com sucesso."}),d(!1))}catch{o({title:"Erro",description:"No foi possvel atualizar o perfil.",variant:"destructive"})}},D=async()=>{if(p.newPassword!==p.confirmPassword){o({title:"Erro",description:"As senhas no coincidem.",variant:"destructive"});return}try{(await Dl("PUT","/api/user/password",{currentPassword:p.currentPassword,newPassword:p.newPassword})).ok&&(o({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."}),u(!1),k({currentPassword:"",newPassword:"",confirmPassword:""}))}catch{o({title:"Erro",description:"No foi possvel alterar a senha.",variant:"destructive"})}},q=()=>{a(),window.location.href="/"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"lg:hidden sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-3 sm:px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>window.history.back(),children:e.jsx(tr,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Configuraes"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-8 space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx(Vl,{size:24,className:"sm:w-8 sm:h-8"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Configuraes"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Gerencie sua conta e preferncias"})]})]})}),e.jsxs(ct,{children:[e.jsxs(ts,{className:"flex flex-row items-center justify-between space-y-0 pb-3 sm:pb-4",children:[e.jsxs(ds,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(sn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Perfil"]}),e.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>d(!l),className:"text-xs sm:text-sm",children:[e.jsx($m,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),l?"Cancelar":"Editar"]})]}),e.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(sn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:n?.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 truncate",children:n?.email}),e.jsx(Os,{variant:"secondary",className:"mt-1 text-xs",children:n?.userType==="client"?"Cliente":"Profissional"})]}),l&&e.jsx(Ie,{variant:"outline",size:"sm",className:"flex-shrink-0",children:e.jsx(bo,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 pt-3 sm:pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome"}),e.jsx(Nt,{value:v.name,onChange:ee=>j({...v,name:ee.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(Nt,{value:v.email,onChange:ee=>j({...v,email:ee.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),e.jsx(Nt,{value:v.phone,onChange:ee=>j({...v,phone:ee.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Endereo"}),e.jsx(Nt,{value:v.address,onChange:ee=>j({...v,address:ee.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),e.jsx("textarea",{value:v.bio,onChange:ee=>j({...v,bio:ee.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",rows:3,placeholder:"Conte um pouco sobre voc..."})]}),e.jsx("div",{className:"md:col-span-2 flex gap-2",children:e.jsxs(Ie,{onClick:A,className:"bg-yellow-500 hover:bg-yellow-600 text-sm",children:[e.jsx(Cc,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Salvar"]})})]})]})]}),e.jsxs(ct,{children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsxs(ds,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(kl,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Notificaes"]})}),e.jsx(dt,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Agendamentos"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Receber notificaes sobre consultas"})]}),e.jsx(Ni,{checked:S.appointments,onCheckedChange:ee=>N({...S,appointments:ee})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Mensagens"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Notificaes de novas mensagens"})]}),e.jsx(Ni,{checked:S.messages,onCheckedChange:ee=>N({...S,messages:ee})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Promoes"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Ofertas e descontos especiais"})]}),e.jsx(Ni,{checked:S.promotions,onCheckedChange:ee=>N({...S,promotions:ee})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Receber atualizaes por email"})]}),e.jsx(Ni,{checked:S.emailUpdates,onCheckedChange:ee=>N({...S,emailUpdates:ee})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"SMS"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Alertas importantes via SMS"})]}),e.jsx(Ni,{checked:S.smsAlerts,onCheckedChange:ee=>N({...S,smsAlerts:ee})})]})]})})]}),e.jsxs(ct,{children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsxs(ds,{className:"flex items-center gap-2 text-base sm:text-lg",children:[s==="dark"?e.jsx(Bm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}):e.jsx(Gm,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Aparncia"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Modo Escuro"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Alternar entre tema claro e escuro"})]}),e.jsx(Ni,{checked:s==="dark",onCheckedChange:ee=>r(ee?"dark":"light")})]})})]}),e.jsxs(ct,{children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsxs(ds,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Jo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Segurana"]})}),e.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[e.jsxs(Ie,{variant:"outline",onClick:()=>u(!f),className:"w-full justify-start text-sm",children:[e.jsx(Qv,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Alterar Senha"]}),f&&e.jsxs("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha Atual"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Nt,{type:_.current?"text":"password",value:p.currentPassword,onChange:ee=>k({...p,currentPassword:ee.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>I({..._,current:!_.current}),children:_.current?e.jsx(bc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx(oo,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Nt,{type:_.new?"text":"password",value:p.newPassword,onChange:ee=>k({...p,newPassword:ee.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>I({..._,new:!_.new}),children:_.new?e.jsx(bc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx(oo,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(Nt,{type:_.confirm?"text":"password",value:p.confirmPassword,onChange:ee=>k({...p,confirmPassword:ee.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>I({..._,confirm:!_.confirm}),children:_.confirm?e.jsx(bc,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx(oo,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs(Ie,{onClick:D,className:"bg-yellow-500 hover:bg-yellow-600 text-sm",children:[e.jsx(Cc,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Alterar Senha"]})]})]})]}),e.jsxs(ct,{className:"border-red-200 dark:border-red-800",children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsxs(ds,{className:"flex items-center gap-2 text-base sm:text-lg text-red-600 dark:text-red-400",children:[e.jsx(Qo,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Zona de Perigo"]})}),e.jsx(dt,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Excluir Conta"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Esta ao no pode ser desfeita. Sua conta ser permanentemente removida."}),e.jsxs(Ie,{variant:"destructive",onClick:()=>w(!0),className:"text-sm",children:[e.jsx(Qo,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Excluir Conta"]})]})})]}),e.jsx("div",{className:"pt-4 sm:pt-6",children:e.jsxs(Ie,{variant:"outline",onClick:q,className:"w-full text-red-600 border-red-200 hover:bg-red-50 dark:border-red-800 dark:hover:bg-red-900/20 text-sm",children:[e.jsx(Il,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Sair da Conta"]})})]})]})}const Ky=({amount:s})=>{const{toast:r}=wr(),[,n]=Tr(),[a,o]=M.useState(!1),[l,d]=M.useState(""),[f,u]=M.useState(""),[x,w]=M.useState(""),[v,j]=M.useState(""),p=async k=>{k.preventDefault(),o(!0);try{(await Dl("POST","/api/create-payment-intent",{amount:s,card:{cardNumber:l,expiryDate:f,cvv:x,cardHolder:v}})).ok&&(r({title:"Pagamento Realizado",description:"Seu pagamento foi processado com sucesso!"}),n("/profile"))}catch(_){r({title:"Erro no Pagamento",description:_.message||"Erro ao processar pagamento",variant:"destructive"})}o(!1)};return e.jsxs("form",{onSubmit:p,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Nome no Carto"}),e.jsx(Nt,{type:"text",placeholder:"Joo da Silva",value:v,onChange:k=>j(k.target.value),className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Nmero do Carto"}),e.jsx(Nt,{type:"text",placeholder:"0000 0000 0000 0000",value:l,onChange:k=>d(k.target.value),maxLength:19,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Validade"}),e.jsx(Nt,{type:"text",placeholder:"MM/AA",value:f,onChange:k=>u(k.target.value),maxLength:5,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"CVV"}),e.jsx(Nt,{type:"text",placeholder:"123",value:x,onChange:k=>w(k.target.value),maxLength:4,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]})]})]}),e.jsx(Ie,{type:"submit",disabled:a,className:"w-full h-10 sm:h-12 text-sm sm:text-base font-semibold",children:a?"Processando...":`Pagar R$ ${s.toFixed(2)}`})]})};function Jy(){const[,s]=Tr(),r=150;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:e.jsx("div",{className:"max-w-lg mx-auto px-3 sm:px-4 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Ie,{variant:"ghost",size:"sm",onClick:()=>s("/"),className:"flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[e.jsx(tr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold",children:"Pagamento"}),e.jsx("div",{className:"w-12 sm:w-16"})]})})}),e.jsxs("div",{className:"max-w-lg mx-auto p-3 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(ct,{children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsxs(ds,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Fm,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Resumo do Servio"]})}),e.jsxs(dt,{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{children:"Consulta Fisioterapia"}),e.jsx("span",{children:"R$ 120,00"})]}),e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{children:"Taxa de servio"}),e.jsx("span",{children:"R$ 30,00"})]}),e.jsx("div",{className:"border-t pt-2 sm:pt-3",children:e.jsxs("div",{className:"flex justify-between font-semibold text-base sm:text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["R$ ",r.toFixed(2)]})]})})]})]}),e.jsxs(ct,{children:[e.jsx(ts,{className:"pb-3 sm:pb-4",children:e.jsx(ds,{className:"text-base sm:text-lg",children:"Informaes de Pagamento"})}),e.jsx(dt,{children:e.jsx(Ky,{amount:r})})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx(Jo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-800 dark:text-green-300",children:"Pagamento Seguro"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Suas informaes so protegidas com criptografia SSL"})]}),e.jsx($l,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"})]})]}),e.jsx(Ma,{hidePlus:!0})]})}var Uc="Tabs",[Qy,Zw]=yo(Uc,[If]),Yp=If(),[Xy,Eu]=Qy(Uc),Kp=M.forwardRef((s,r)=>{const{__scopeTabs:n,value:a,onValueChange:o,defaultValue:l,orientation:d="horizontal",dir:f,activationMode:u="automatic",...x}=s,w=Rf(f),[v,j]=Yo({prop:a,onChange:o,defaultProp:l??"",caller:Uc});return e.jsx(Xy,{scope:n,baseId:Hl(),value:v,onValueChange:j,orientation:d,dir:w,activationMode:u,children:e.jsx(ls.div,{dir:w,"data-orientation":d,...x,ref:r})})});Kp.displayName=Uc;var Jp="TabsList",Qp=M.forwardRef((s,r)=>{const{__scopeTabs:n,loop:a=!0,...o}=s,l=Eu(Jp,n),d=Yp(n);return e.jsx(px,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:a,children:e.jsx(ls.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:r})})});Qp.displayName=Jp;var Xp="TabsTrigger",eg=M.forwardRef((s,r)=>{const{__scopeTabs:n,value:a,disabled:o=!1,...l}=s,d=Eu(Xp,n),f=Yp(n),u=rg(d.baseId,a),x=ng(d.baseId,a),w=a===d.value;return e.jsx(gx,{asChild:!0,...f,focusable:!o,active:w,children:e.jsx(ls.button,{type:"button",role:"tab","aria-selected":w,"aria-controls":x,"data-state":w?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...l,ref:r,onMouseDown:Wt(s.onMouseDown,v=>{!o&&v.button===0&&v.ctrlKey===!1?d.onValueChange(a):v.preventDefault()}),onKeyDown:Wt(s.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&d.onValueChange(a)}),onFocus:Wt(s.onFocus,()=>{const v=d.activationMode!=="manual";!w&&!o&&v&&d.onValueChange(a)})})})});eg.displayName=Xp;var tg="TabsContent",sg=M.forwardRef((s,r)=>{const{__scopeTabs:n,value:a,forceMount:o,children:l,...d}=s,f=Eu(tg,n),u=rg(f.baseId,a),x=ng(f.baseId,a),w=a===f.value,v=M.useRef(w);return M.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),e.jsx(ou,{present:o||w,children:({present:j})=>e.jsx(ls.div,{"data-state":w?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":u,hidden:!j,id:x,tabIndex:0,...d,ref:r,style:{...s.style,animationDuration:v.current?"0s":void 0},children:j&&l})})});sg.displayName=tg;function rg(s,r){return`${s}-trigger-${r}`}function ng(s,r){return`${s}-content-${r}`}var e5=Kp,ag=Qp,ig=eg,og=sg;const lg=e5,Mu=M.forwardRef(({className:s,...r},n)=>e.jsx(ag,{ref:n,className:ht("inline-flex h-auto min-h-12 items-center justify-center rounded-md bg-muted p-1.5 text-muted-foreground w-full border border-border shadow-sm",s),...r}));Mu.displayName=ag.displayName;const ao=M.forwardRef(({className:s,...r},n)=>e.jsx(ig,{ref:n,className:ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm hover:bg-accent/50 hover:text-accent-foreground min-h-10 sm:min-h-11",s),...r}));ao.displayName=ig.displayName;const Ya=M.forwardRef(({className:s,...r},n)=>e.jsx(og,{ref:n,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));Ya.displayName=og.displayName;function t5({params:s}){const[r,n]=M.useState(void 0),[a,o]=M.useState(new Date),[l,d]=M.useState(""),[f,u]=M.useState(!1);Tr();const{data:x}=kc({queryKey:[`/api/professionals/${s.id}`]}),{data:w=[]}=kc({queryKey:["/api/professionals"]}),v=x||w.find(q=>q.id===parseInt(s.id));if(!v)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profissional no encontrado"}),e.jsx(As,{href:"/",children:e.jsx(Ie,{children:"Voltar para Home"})})]})});const j={fisioterapeuta:"",acompanhante_hospitalar:"",tecnico_enfermagem:""},p={fisioterapeuta:"Fisioterapeuta",acompanhante_hospitalar:"Acompanhante Hospitalar",tecnico_enfermagem:"Tcnico em Enfermagem"},k=j[v.category]||"",_=p[v.category]||v.category,S=(()=>{const q=[];for(let ee=8;ee<=18;ee++)for(let $ of[0,30]){const U=`${ee.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`;q.push(U)}return q})(),N=()=>{l.trim()&&(console.log("Sending message:",l),d(""),u(!1))},A=[],D=[];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(As,{href:"/",children:e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(tr,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Perfil do Profissional"}),e.jsx("div",{className:"ml-auto flex gap-2",children:e.jsx(Ie,{variant:"outline",size:"sm",children:e.jsx(e1,{className:"h-4 w-4"})})})]})}),e.jsxs("div",{className:"p-4 pb-20 space-y-6",children:[e.jsx(ct,{children:e.jsx(dt,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:v.imageUrl||void 0,alt:v.name,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover mx-auto sm:mx-0"})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:v.name}),e.jsxs("p",{className:"text-lg text-primary font-semibold flex items-center justify-center sm:justify-start gap-2 mb-2",children:[e.jsx("span",{children:k}),_]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:v.specialization})]}),e.jsx(Os,{variant:v.available?"secondary":"outline",className:`${v.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:v.available?"Disponvel":"Ocupado"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Un,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-semibold",children:v.rating})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Avaliao"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold mb-1",children:v.totalReviews}),e.jsx("p",{className:"text-xs text-gray-500",children:"Avaliaes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold mb-1",children:v.experience}),e.jsx("p",{className:"text-xs text-gray-500",children:"Experincia"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-semibold mb-1 text-primary",children:["R$ ",v.hourlyRate,"/h"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor"})]})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-400 mb-6",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{children:v.location}),e.jsx("span",{children:""}),e.jsxs("span",{children:[v.distance," km de voc"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(Ie,{className:"flex-1",children:[e.jsx(er,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]}),e.jsxs(Ol,{open:f,onOpenChange:u,children:[e.jsx(zd,{asChild:!0,children:e.jsxs(Ie,{variant:"outline",className:"flex-1",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})}),e.jsxs(el,{children:[e.jsx(tl,{children:e.jsxs(sl,{children:["Enviar mensagem para ",v.name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($n,{placeholder:"Digite sua mensagem sobre o servio que voc precisa...",value:l,onChange:q=>d(q.target.value),rows:4}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ie,{onClick:N,disabled:!l.trim(),children:"Enviar Mensagem"}),e.jsx(Ie,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"})]})]})]})]}),e.jsxs(Ie,{variant:"outline",children:[e.jsx(wc,{className:"h-4 w-4 mr-2"}),"Videochamada"]})]})]})]})})}),e.jsxs(lg,{defaultValue:"about",className:"space-y-4 sm:space-y-6",children:[e.jsxs(Mu,{className:"grid w-full grid-cols-4 h-auto sm:h-10 p-1 gap-1",children:[e.jsx(ao,{value:"about",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Sobre"}),e.jsx(ao,{value:"portfolio",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Portflio"}),e.jsx(ao,{value:"reviews",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Avaliaes"}),e.jsx(ao,{value:"schedule",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Agendar"})]}),e.jsxs(Ya,{value:"about",className:"space-y-6",children:[e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(Wv,{className:"h-5 w-5"}),"Sobre o Profissional"]})}),e.jsx(dt,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:v.description})})]}),e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(Rm,{className:"h-5 w-5"}),"Certificaes e Qualificaes"]})}),e.jsx(dt,{children:e.jsx("div",{className:"space-y-3",children:v.certifications?.split(",").map((q,ee)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(dr,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:q.trim()})]},ee))})})]}),e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(Ci,{className:"h-5 w-5"}),"Informaes de Contato"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vs,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:v.location})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:"Atendimento de segunda a sbado"})]})]})})]})]}),e.jsx(Ya,{value:"portfolio",className:"space-y-6",children:e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(bo,{className:"h-5 w-5"}),"Portflio de Servios"]})}),e.jsx(dt,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(q=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-sm border",children:[e.jsx("img",{src:q.image,alt:q.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx(Os,{variant:"outline",className:"mb-2",children:q.category}),e.jsx("h3",{className:"font-semibold mb-2",children:q.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:q.description})]})]},q.id))})})]})}),e.jsx(Ya,{value:"reviews",className:"space-y-6",children:e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(Un,{className:"h-5 w-5"}),"Avaliaes dos Pacientes"]})}),e.jsx(dt,{children:e.jsx("div",{className:"space-y-6",children:D.map(q=>e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:q.patient[0]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:q.patient}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(q.date).toLocaleDateString("pt-BR")})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ee,$)=>e.jsx(Un,{className:`h-4 w-4 ${$<q.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},$))})]}),e.jsx(Os,{variant:"outline",className:"mb-2",children:q.service}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:q.comment})]},q.id))})})]})}),e.jsx(Ya,{value:"schedule",className:"space-y-6",children:e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-5 w-5"}),"Agendar Consulta"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Selecione a data"}),e.jsx("input",{type:"date",value:a.toISOString().split("T")[0],onChange:q=>o(new Date(q.target.value)),className:"w-full p-3 border rounded-lg",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Horrios disponveis"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:S.map(q=>e.jsx(Ie,{variant:r===q?"default":"outline",size:"sm",onClick:()=>n(q),className:"text-xs",children:q},q))})]}),r&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Agendamento"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Profissional:"})," ",v.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Servio:"})," ",v.specialization]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data:"})," ",a.toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Horrio:"})," ",r]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Valor:"})," R$ ",v.hourlyRate,"/hora"]})]}),e.jsx(As,{href:"/payment",children:e.jsx(Ie,{className:"w-full mt-4",children:"Confirmar Agendamento"})})]})]})})]})})]})]})]})}const s5=vx,r5=yx,n5=M.forwardRef(({className:s,inset:r,children:n,...a},o)=>e.jsxs(Of,{ref:o,className:ht("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...a,children:[n,e.jsx(Dm,{className:"ml-auto"})]}));n5.displayName=Of.displayName;const a5=M.forwardRef(({className:s,...r},n)=>e.jsx(Df,{ref:n,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...r}));a5.displayName=Df.displayName;const cg=M.forwardRef(({className:s,sideOffset:r=4,...n},a)=>e.jsx(xx,{children:e.jsx(Ff,{ref:a,sideOffset:r,className:ht("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",s),...n})}));cg.displayName=Ff.displayName;const Ca=M.forwardRef(({className:s,inset:r,...n},a)=>e.jsx(zf,{ref:a,className:ht("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...n}));Ca.displayName=zf.displayName;const i5=M.forwardRef(({className:s,children:r,checked:n,...a},o)=>e.jsxs(Bf,{ref:o,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(qf,{children:e.jsx($l,{className:"h-4 w-4"})})}),r]}));i5.displayName=Bf.displayName;const o5=M.forwardRef(({className:s,children:r,...n},a)=>e.jsxs(Hf,{ref:a,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(qf,{children:e.jsx(Yv,{className:"h-2 w-2 fill-current"})})}),r]}));o5.displayName=Hf.displayName;const l5=M.forwardRef(({className:s,inset:r,...n},a)=>e.jsx(Uf,{ref:a,className:ht("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n}));l5.displayName=Uf.displayName;const qd=M.forwardRef(({className:s,...r},n)=>e.jsx($f,{ref:n,className:ht("-mx-1 my-1 h-px bg-muted",s),...r}));qd.displayName=$f.displayName;const c5=wx,d5=Nx,dg=M.forwardRef(({className:s,align:r="center",sideOffset:n=4,...a},o)=>e.jsx(bx,{children:e.jsx(Wf,{ref:o,align:r,sideOffset:n,className:ht("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",s),...a})}));dg.displayName=Wf.displayName;const u5=[{label:"Incio",to:"/provider-dashboard",icon:e.jsx(ju,{className:"h-6 w-6"})},{label:"Agenda",to:"/agenda-profissional",icon:e.jsx(er,{className:"h-6 w-6"})},{label:"Chat",to:"/messages-provider",icon:e.jsx(Hn,{className:"h-6 w-6"})},{label:"Pedidos",to:"/provider-orders",icon:e.jsx(Kv,{className:"h-6 w-6"})},{label:"Perfil",to:"/provider-profile",icon:e.jsx(sn,{className:"h-6 w-6"})}];function Hd(){const[s]=Tr();return e.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 left-0 w-full z-50 shadow rounded-t-xl px-0",children:e.jsx("ul",{className:"flex justify-around items-center h-16 max-w-full px-2 sm:px-4",children:u5.map(r=>e.jsx("li",{children:e.jsxs(As,{href:r.to,className:`flex flex-col items-center text-xs font-medium transition-colors duration-200 ${s===r.to?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:[r.icon,e.jsx("span",{className:"mt-1",children:r.label})]})},r.to))})})}function nl({children:s}){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"flex-1 flex flex-col",children:s}),e.jsx(Hd,{})]})}function h5(s,r){const n=M.useRef(r);M.useEffect(function(){r!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),r!=null&&s.attributionControl.addAttribution(r)),n.current=r},[s,r])}const f5=1;function m5(s){return Object.freeze({__version:f5,map:s})}function Iu(s,r){return Object.freeze({...s,...r})}const ug=M.createContext(null),Ru=ug.Provider;function $c(){const s=M.useContext(ug);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function hg(s){function r(n,a){const{instance:o,context:l}=s(n).current;return M.useImperativeHandle(a,()=>o),n.children==null?null:_c.createElement(Ru,{value:l},n.children)}return M.forwardRef(r)}function p5(s){function r(n,a){const{instance:o}=s(n).current;return M.useImperativeHandle(a,()=>o),null}return M.forwardRef(r)}function g5(s){return function(n){const a=$c(),o=s(n,a),{instance:l}=o.current,d=M.useRef(n.position),{position:f}=n;return M.useEffect(function(){return l.addTo(a.map),function(){l.remove()}},[a.map,l]),M.useEffect(function(){f!=null&&f!==d.current&&(l.setPosition(f),d.current=f)},[l,f]),o}}function x5(s,r){const n=M.useRef();M.useEffect(function(){return r!=null&&s.instance.on(r),n.current=r,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,r])}function fg(s,r){const n=s.pane??r.pane;return n?{...s,pane:n}:s}var _l={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var v5=_l.exports,Wh;function y5(){return Wh||(Wh=1,function(s,r){(function(n,a){a(r)})(v5,function(n){var a="1.9.4";function o(t){var i,h,y,C;for(h=1,y=arguments.length;h<y;h++){C=arguments[h];for(i in C)t[i]=C[i]}return t}var l=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function d(t,i){var h=Array.prototype.slice;if(t.bind)return t.bind.apply(t,h.call(arguments,1));var y=h.call(arguments,2);return function(){return t.apply(i,y.length?y.concat(h.call(arguments)):arguments)}}var f=0;function u(t){return"_leaflet_id"in t||(t._leaflet_id=++f),t._leaflet_id}function x(t,i,h){var y,C,Z,me;return me=function(){y=!1,C&&(Z.apply(h,C),C=!1)},Z=function(){y?C=arguments:(t.apply(h,arguments),setTimeout(me,i),y=!0)},Z}function w(t,i,h){var y=i[1],C=i[0],Z=y-C;return t===y&&h?t:((t-C)%Z+Z)%Z+C}function v(){return!1}function j(t,i){if(i===!1)return t;var h=Math.pow(10,i===void 0?6:i);return Math.round(t*h)/h}function p(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(t){return p(t).split(/\s+/)}function _(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?l(t.options):{});for(var h in i)t.options[h]=i[h];return t.options}function I(t,i,h){var y=[];for(var C in t)y.push(encodeURIComponent(h?C.toUpperCase():C)+"="+encodeURIComponent(t[C]));return(!i||i.indexOf("?")===-1?"?":"&")+y.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function N(t,i){return t.replace(S,function(h,y){var C=i[y];if(C===void 0)throw new Error("No value provided for variable "+h);return typeof C=="function"&&(C=C(i)),C})}var A=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function D(t,i){for(var h=0;h<t.length;h++)if(t[h]===i)return h;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var $=0;function U(t){var i=+new Date,h=Math.max(0,16-(i-$));return $=i+h,window.setTimeout(t,h)}var Y=window.requestAnimationFrame||ee("RequestAnimationFrame")||U,ie=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function E(t,i,h){if(h&&Y===U)t.call(i);else return Y.call(window,d(t,i))}function T(t){t&&ie.call(window,t)}var z={__proto__:null,extend:o,create:l,bind:d,get lastId(){return f},stamp:u,throttle:x,wrapNum:w,falseFn:v,formatNum:j,trim:p,splitWords:k,setOptions:_,getParamString:I,template:N,isArray:A,indexOf:D,emptyImageUrl:q,requestFn:Y,cancelFn:ie,requestAnimFrame:E,cancelAnimFrame:T};function F(){}F.extend=function(t){var i=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=i.__super__=this.prototype,y=l(h);y.constructor=i,i.prototype=y;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(i[C]=this[C]);return t.statics&&o(i,t.statics),t.includes&&(le(t.includes),o.apply(null,[y].concat(t.includes))),o(y,t),delete y.statics,delete y.includes,y.options&&(y.options=h.options?l(h.options):{},o(y.options,t.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,me=y._initHooks.length;Z<me;Z++)y._initHooks[Z].call(this)}},i},F.include=function(t){var i=this.prototype.options;return o(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},F.mergeOptions=function(t){return o(this.prototype.options,t),this},F.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),h=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function le(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=A(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(t,i,h){if(typeof t=="object")for(var y in t)this._on(y,t[y],i);else{t=k(t);for(var C=0,Z=t.length;C<Z;C++)this._on(t[C],i,h)}return this},off:function(t,i,h){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var y in t)this._off(y,t[y],i);else{t=k(t);for(var C=arguments.length===1,Z=0,me=t.length;Z<me;Z++)C?this._off(t[Z]):this._off(t[Z],i,h)}return this},_on:function(t,i,h,y){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,h)===!1){h===this&&(h=void 0);var C={fn:i,ctx:h};y&&(C.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(C)}},_off:function(t,i,h){var y,C,Z;if(this._events&&(y=this._events[t],!!y)){if(arguments.length===1){if(this._firingCount)for(C=0,Z=y.length;C<Z;C++)y[C].fn=v;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var me=this._listens(t,i,h);if(me!==!1){var Se=y[me];this._firingCount&&(Se.fn=v,this._events[t]=y=y.slice()),y.splice(me,1)}}},fire:function(t,i,h){if(!this.listens(t,h))return this;var y=o({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var C=this._events[t];if(C){this._firingCount=this._firingCount+1||1;for(var Z=0,me=C.length;Z<me;Z++){var Se=C[Z],Le=Se.fn;Se.once&&this.off(t,Le,Se.ctx),Le.call(Se.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(t,i,h,y){typeof t!="string"&&console.warn('"string" type argument expected');var C=i;typeof i!="function"&&(y=!!i,C=void 0,h=void 0);var Z=this._events&&this._events[t];if(Z&&Z.length&&this._listens(t,C,h)!==!1)return!0;if(y){for(var me in this._eventParents)if(this._eventParents[me].listens(t,i,h,y))return!0}return!1},_listens:function(t,i,h){if(!this._events)return!1;var y=this._events[t]||[];if(!i)return!!y.length;h===this&&(h=void 0);for(var C=0,Z=y.length;C<Z;C++)if(y[C].fn===i&&y[C].ctx===h)return C;return!1},once:function(t,i,h){if(typeof t=="object")for(var y in t)this._on(y,t[y],i,!0);else{t=k(t);for(var C=0,Z=t.length;C<Z;C++)this._on(t[C],i,h,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[u(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[u(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,o({layer:t.target,propagatedFrom:t.target},t),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var O=F.extend(X);function G(t,i,h){this.x=h?Math.round(t):t,this.y=h?Math.round(i):i}var J=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(t){return this.clone()._add(ce(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(ce(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new G(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new G(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(t){t=ce(t);var i=t.x-this.x,h=t.y-this.y;return Math.sqrt(i*i+h*h)},equals:function(t){return t=ce(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=ce(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function ce(t,i,h){return t instanceof G?t:A(t)?new G(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new G(t.x,t.y):new G(t,i,h)}function ve(t,i){if(t)for(var h=i?[t,i]:t,y=0,C=h.length;y<C;y++)this.extend(h[y])}ve.prototype={extend:function(t){var i,h;if(!t)return this;if(t instanceof G||typeof t[0]=="number"||"x"in t)i=h=ce(t);else if(t=R(t),i=t.min,h=t.max,!i||!h)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=h.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(t){return ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return ce(this.min.x,this.max.y)},getTopRight:function(){return ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,h;return typeof t[0]=="number"||t instanceof G?t=ce(t):t=R(t),t instanceof ve?(i=t.min,h=t.max):i=h=t,i.x>=this.min.x&&h.x<=this.max.x&&i.y>=this.min.y&&h.y<=this.max.y},intersects:function(t){t=R(t);var i=this.min,h=this.max,y=t.min,C=t.max,Z=C.x>=i.x&&y.x<=h.x,me=C.y>=i.y&&y.y<=h.y;return Z&&me},overlaps:function(t){t=R(t);var i=this.min,h=this.max,y=t.min,C=t.max,Z=C.x>i.x&&y.x<h.x,me=C.y>i.y&&y.y<h.y;return Z&&me},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,h=this.max,y=Math.abs(i.x-h.x)*t,C=Math.abs(i.y-h.y)*t;return R(ce(i.x-y,i.y-C),ce(h.x+y,h.y+C))},equals:function(t){return t?(t=R(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function R(t,i){return!t||t instanceof ve?t:new ve(t,i)}function K(t,i){if(t)for(var h=i?[t,i]:t,y=0,C=h.length;y<C;y++)this.extend(h[y])}K.prototype={extend:function(t){var i=this._southWest,h=this._northEast,y,C;if(t instanceof se)y=t,C=t;else if(t instanceof K){if(y=t._southWest,C=t._northEast,!y||!C)return this}else return t?this.extend(ae(t)||Q(t)):this;return!i&&!h?(this._southWest=new se(y.lat,y.lng),this._northEast=new se(C.lat,C.lng)):(i.lat=Math.min(y.lat,i.lat),i.lng=Math.min(y.lng,i.lng),h.lat=Math.max(C.lat,h.lat),h.lng=Math.max(C.lng,h.lng)),this},pad:function(t){var i=this._southWest,h=this._northEast,y=Math.abs(i.lat-h.lat)*t,C=Math.abs(i.lng-h.lng)*t;return new K(new se(i.lat-y,i.lng-C),new se(h.lat+y,h.lng+C))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof se||"lat"in t?t=ae(t):t=Q(t);var i=this._southWest,h=this._northEast,y,C;return t instanceof K?(y=t.getSouthWest(),C=t.getNorthEast()):y=C=t,y.lat>=i.lat&&C.lat<=h.lat&&y.lng>=i.lng&&C.lng<=h.lng},intersects:function(t){t=Q(t);var i=this._southWest,h=this._northEast,y=t.getSouthWest(),C=t.getNorthEast(),Z=C.lat>=i.lat&&y.lat<=h.lat,me=C.lng>=i.lng&&y.lng<=h.lng;return Z&&me},overlaps:function(t){t=Q(t);var i=this._southWest,h=this._northEast,y=t.getSouthWest(),C=t.getNorthEast(),Z=C.lat>i.lat&&y.lat<h.lat,me=C.lng>i.lng&&y.lng<h.lng;return Z&&me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=Q(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(t,i){return t instanceof K?t:new K(t,i)}function se(t,i,h){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,h!==void 0&&(this.alt=+h)}se.prototype={equals:function(t,i){if(!t)return!1;t=ae(t);var h=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return h<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+j(this.lat,t)+", "+j(this.lng,t)+")"},distanceTo:function(t){return we.distance(this,ae(t))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,h=i/Math.cos(Math.PI/180*this.lat);return Q([this.lat-i,this.lng-h],[this.lat+i,this.lng+h])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function ae(t,i,h){return t instanceof se?t:A(t)&&typeof t[0]!="object"?t.length===3?new se(t[0],t[1],t[2]):t.length===2?new se(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new se(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new se(t,i,h)}var he={latLngToPoint:function(t,i){var h=this.projection.project(t),y=this.scale(i);return this.transformation._transform(h,y)},pointToLatLng:function(t,i){var h=this.scale(i),y=this.transformation.untransform(t,h);return this.projection.unproject(y)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,h=this.scale(t),y=this.transformation.transform(i.min,h),C=this.transformation.transform(i.max,h);return new ve(y,C)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?w(t.lng,this.wrapLng,!0):t.lng,h=this.wrapLat?w(t.lat,this.wrapLat,!0):t.lat,y=t.alt;return new se(h,i,y)},wrapLatLngBounds:function(t){var i=t.getCenter(),h=this.wrapLatLng(i),y=i.lat-h.lat,C=i.lng-h.lng;if(y===0&&C===0)return t;var Z=t.getSouthWest(),me=t.getNorthEast(),Se=new se(Z.lat-y,Z.lng-C),Le=new se(me.lat-y,me.lng-C);return new K(Se,Le)}},we=o({},he,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var h=Math.PI/180,y=t.lat*h,C=i.lat*h,Z=Math.sin((i.lat-t.lat)*h/2),me=Math.sin((i.lng-t.lng)*h/2),Se=Z*Z+Math.cos(y)*Math.cos(C)*me*me,Le=2*Math.atan2(Math.sqrt(Se),Math.sqrt(1-Se));return this.R*Le}}),fe=6378137,ge={R:fe,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,t.lat),-h),C=Math.sin(y*i);return new G(this.R*t.lng*i,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(t){var i=180/Math.PI;return new se((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=fe*Math.PI;return new ve([-t,-t],[t,t])}()};function pe(t,i,h,y){if(A(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=h,this._d=y}pe.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new G((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function Ae(t,i,h,y){return new pe(t,i,h,y)}var Re=o({},we,{code:"EPSG:3857",projection:ge,transformation:function(){var t=.5/(Math.PI*ge.R);return Ae(t,.5,-t,.5)}()}),We=o({},Re,{code:"EPSG:900913"});function Ce(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ue(t,i){var h="",y,C,Z,me,Se,Le;for(y=0,Z=t.length;y<Z;y++){for(Se=t[y],C=0,me=Se.length;C<me;C++)Le=Se[C],h+=(C?"L":"M")+Le.x+" "+Le.y;h+=i?ne.svg?"z":"x":""}return h||"M0 0"}var lt=document.documentElement.style,et="ActiveXObject"in window,He=et&&!document.addEventListener,$e="msLaunchUri"in navigator&&!("documentMode"in document),Ze=as("webkit"),Ve=as("android"),at=as("android 2")||as("android 3"),xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_t=Ve&&as("Google")&&xt<537&&!("AudioNode"in window),Lt=!!window.opera,Ut=!$e&&as("chrome"),Qt=as("gecko")&&!Ze&&!Lt&&!et,vt=!Ut&&as("safari"),Rt=as("phantom"),Ge="OTransition"in lt,Ks=navigator.platform.indexOf("Win")===0,Bt=et&&"transition"in lt,Nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,ss="MozPerspective"in lt,bs=!window.L_DISABLE_3D&&(Bt||Nr||ss)&&!Ge&&!Rt,ur=typeof orientation<"u"||as("mobile"),Xt=ur&&Ze,Vn=ur&&Nr,_s=!window.PointerEvent&&window.MSPointerEvent,Er=!!(window.PointerEvent||_s),Mr="ontouchstart"in window||!!window.TouchEvent,ws=!window.L_NO_TOUCH&&(Mr||Er),ft=ur&&Lt,es=ur&&Qt,Zn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Hs=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",v,i),window.removeEventListener("testPassiveEventSupport",v,i)}catch{}return t}(),nn=function(){return!!document.createElement("canvas").getContext}(),Ir=!!(document.createElementNS&&Ce("svg").createSVGRect),gt=!!Ir&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$r=!Ir&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),Wr=navigator.platform.indexOf("Mac")===0,Js=navigator.platform.indexOf("Linux")===0;function as(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var ne={ie:et,ielt9:He,edge:$e,webkit:Ze,android:Ve,android23:at,androidStock:_t,opera:Lt,chrome:Ut,gecko:Qt,safari:vt,phantom:Rt,opera12:Ge,win:Ks,ie3d:Bt,webkit3d:Nr,gecko3d:ss,any3d:bs,mobile:ur,mobileWebkit:Xt,mobileWebkit3d:Vn,msPointer:_s,pointer:Er,touch:ws,touchNative:Mr,mobileOpera:ft,mobileGecko:es,retina:Zn,passiveEvents:Hs,canvas:nn,svg:Ir,vml:$r,inlineSvg:gt,mac:Wr,linux:Js},Te=ne.msPointer?"MSPointerDown":"pointerdown",Ue=ne.msPointer?"MSPointerMove":"pointermove",tt=ne.msPointer?"MSPointerUp":"pointerup",ot=ne.msPointer?"MSPointerCancel":"pointercancel",qt={touchstart:Te,touchmove:Ue,touchend:tt,touchcancel:ot},yt={touchstart:an,touchmove:Us,touchend:Us,touchcancel:Us},jt={},kt=!1;function Zt(t,i,h){return i==="touchstart"&&js(),yt[i]?(h=yt[i].bind(this,h),t.addEventListener(qt[i],h,!1),h):(console.warn("wrong event specified:",i),v)}function Gt(t,i,h){if(!qt[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(qt[i],h,!1)}function It(t){jt[t.pointerId]=t}function it(t){jt[t.pointerId]&&(jt[t.pointerId]=t)}function rs(t){delete jt[t.pointerId]}function js(){kt||(document.addEventListener(Te,It,!0),document.addEventListener(Ue,it,!0),document.addEventListener(tt,rs,!0),document.addEventListener(ot,rs,!0),kt=!0)}function Us(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var h in jt)i.touches.push(jt[h]);i.changedTouches=[i],t(i)}}function an(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&Ms(i),Us(t,i)}function Ft(t){var i={},h,y;for(y in t)h=t[y],i[y]=h&&h.bind?h.bind(t):h;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var $t=200;function cs(t,i){t.addEventListener("dblclick",i);var h=0,y;function C(Z){if(Z.detail!==1){y=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var me=Jn(Z);if(!(me.some(function(Le){return Le instanceof HTMLLabelElement&&Le.attributes.for})&&!me.some(function(Le){return Le instanceof HTMLInputElement||Le instanceof HTMLSelectElement}))){var Se=Date.now();Se-h<=$t?(y++,y===2&&i(Ft(Z))):y=1,h=Se}}}return t.addEventListener("click",C),{dblclick:i,simDblclick:C}}function Ja(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var sr=Qa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),An=Qa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ua=An==="webkitTransition"||An==="OTransition"?An+"End":"transitionend";function Oa(t){return typeof t=="string"?document.getElementById(t):t}function _r(t,i){var h=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(t,null);h=y?y[i]:null}return h==="auto"?null:h}function Dt(t,i,h){var y=document.createElement(t);return y.className=i||"",h&&h.appendChild(y),y}function ut(t){var i=t.parentNode;i&&i.removeChild(t)}function hr(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function bn(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function wn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function on(t,i){if(t.classList!==void 0)return t.classList.contains(i);var h=rr(t);return h.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(h)}function At(t,i){if(t.classList!==void 0)for(var h=k(i),y=0,C=h.length;y<C;y++)t.classList.add(h[y]);else if(!on(t,i)){var Z=rr(t);ha(t,(Z?Z+" ":"")+i)}}function Jt(t,i){t.classList!==void 0?t.classList.remove(i):ha(t,p((" "+rr(t)+" ").replace(" "+i+" "," ")))}function ha(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function rr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function fr(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&No(t,i)}function No(t,i){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=t.filters.item(y)}catch{if(i===1)return}i=Math.round(i*100),h?(h.Enabled=i!==100,h.Opacity=i):t.style.filter+=" progid:"+y+"(opacity="+i+")"}function Qa(t){for(var i=document.documentElement.style,h=0;h<t.length;h++)if(t[h]in i)return t[h];return!1}function Tn(t,i,h){var y=i||new G(0,0);t.style[sr]=(ne.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function Es(t,i){t._leaflet_pos=i,ne.any3d?Tn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function En(t){return t._leaflet_pos||new G(0,0)}var Da,Gn,Di;if("onselectstart"in document)Da=function(){Tt(window,"selectstart",Ms)},Gn=function(){Vt(window,"selectstart",Ms)};else{var Fa=Qa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Da=function(){if(Fa){var t=document.documentElement.style;Di=t[Fa],t[Fa]="none"}},Gn=function(){Fa&&(document.documentElement.style[Fa]=Di,Di=void 0)}}function Fi(){Tt(window,"dragstart",Ms)}function Nn(){Vt(window,"dragstart",Ms)}var Yn,fa;function Xa(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&($s(),Yn=t,fa=t.style.outlineStyle,t.style.outlineStyle="none",Tt(window,"keydown",$s))}function $s(){Yn&&(Yn.style.outlineStyle=fa,Yn=void 0,fa=void 0,Vt(window,"keydown",$s))}function _o(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ei(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Pt={__proto__:null,TRANSFORM:sr,TRANSITION:An,TRANSITION_END:ua,get:Oa,getStyle:_r,create:Dt,remove:ut,empty:hr,toFront:bn,toBack:wn,hasClass:on,addClass:At,removeClass:Jt,setClass:ha,getClass:rr,setOpacity:fr,testProp:Qa,setTransform:Tn,setPosition:Es,getPosition:En,get disableTextSelection(){return Da},get enableTextSelection(){return Gn},disableImageDrag:Fi,enableImageDrag:Nn,preventOutline:Xa,restoreOutline:$s,getSizedParentNode:_o,getScale:ei};function Tt(t,i,h,y){if(i&&typeof i=="object")for(var C in i)ma(t,C,i[C],h);else{i=k(i);for(var Z=0,me=i.length;Z<me;Z++)ma(t,i[Z],h,y)}return this}var ln="_leaflet_events";function Vt(t,i,h,y){if(arguments.length===1)zi(t),delete t[ln];else if(i&&typeof i=="object")for(var C in i)za(t,C,i[C],h);else if(i=k(i),arguments.length===2)zi(t,function(Se){return D(i,Se)!==-1});else for(var Z=0,me=i.length;Z<me;Z++)za(t,i[Z],h,y);return this}function zi(t,i){for(var h in t[ln]){var y=h.split(/\d/)[0];(!i||i(y))&&za(t,y,null,null,h)}}var ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ma(t,i,h,y){var C=i+u(h)+(y?"_"+u(y):"");if(t[ln]&&t[ln][C])return this;var Z=function(Se){return h.call(y||t,Se||window.event)},me=Z;!ne.touchNative&&ne.pointer&&i.indexOf("touch")===0?Z=Zt(t,i,Z):ne.touch&&i==="dblclick"?Z=cs(t,Z):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(ti[i]||i,Z,ne.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(Z=function(Se){Se=Se||window.event,pa(t,Se)&&me(Se)},t.addEventListener(ti[i],Z,!1)):t.addEventListener(i,me,!1):t.attachEvent("on"+i,Z),t[ln]=t[ln]||{},t[ln][C]=Z}function za(t,i,h,y,C){C=C||i+u(h)+(y?"_"+u(y):"");var Z=t[ln]&&t[ln][C];if(!Z)return this;!ne.touchNative&&ne.pointer&&i.indexOf("touch")===0?Gt(t,i,Z):ne.touch&&i==="dblclick"?Ja(t,Z):"removeEventListener"in t?t.removeEventListener(ti[i]||i,Z,!1):t.detachEvent("on"+i,Z),t[ln][C]=null}function Kn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Bi(t){return ma(t,"wheel",Kn),this}function Ba(t){return Tt(t,"mousedown touchstart dblclick contextmenu",Kn),t._leaflet_disable_click=!0,this}function Ms(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Vr(t){return Ms(t),Kn(t),this}function Jn(t){if(t.composedPath)return t.composedPath();for(var i=[],h=t.target;h;)i.push(h),h=h.parentNode;return i}function jo(t,i){if(!i)return new G(t.clientX,t.clientY);var h=ei(i),y=h.boundingClientRect;return new G((t.clientX-y.left)/h.x-i.clientLeft,(t.clientY-y.top)/h.y-i.clientTop)}var qa=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function si(t){return ne.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/qa:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function pa(t,i){var h=i.relatedTarget;if(!h)return!0;try{for(;h&&h!==t;)h=h.parentNode}catch{return!1}return h!==t}var So={__proto__:null,on:Tt,off:Vt,stopPropagation:Kn,disableScrollPropagation:Bi,disableClickPropagation:Ba,preventDefault:Ms,stop:Vr,getPropagationPath:Jn,getMousePosition:jo,getWheelDelta:si,isExternalTarget:pa,addListener:Tt,removeListener:Vt},qi=O.extend({run:function(t,i,h,y){this.stop(),this._el=t,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=En(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,h=this._duration*1e3;i<h?this._runFrame(this._easeOut(i/h),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var h=this._startPos.add(this._offset.multiplyBy(t));i&&h._round(),Es(this._el,h),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ht=O.extend({options:{crs:Re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=_(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(ae(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=An&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Tt(this._proxy,ua,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,h){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(ae(t),i,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=o({animate:h.animate},h.zoom),h.pan=o({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,h.zoom):this._tryAnimatedPan(t,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,h.pan&&h.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,h){var y=this.getZoomScale(i),C=this.getSize().divideBy(2),Z=t instanceof G?t:this.latLngToContainerPoint(t),me=Z.subtract(C).multiplyBy(1-1/y),Se=this.containerPointToLatLng(C.add(me));return this.setView(Se,i,{zoom:h})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():Q(t);var h=ce(i.paddingTopLeft||i.padding||[0,0]),y=ce(i.paddingBottomRight||i.padding||[0,0]),C=this.getBoundsZoom(t,!1,h.add(y));if(C=typeof i.maxZoom=="number"?Math.min(i.maxZoom,C):C,C===1/0)return{center:t.getCenter(),zoom:C};var Z=y.subtract(h).divideBy(2),me=this.project(t.getSouthWest(),C),Se=this.project(t.getNorthEast(),C),Le=this.unproject(me.add(Se).divideBy(2).add(Z),C);return{center:Le,zoom:C}},fitBounds:function(t,i){if(t=Q(t),!t.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(t,i);return this.setView(h.center,h.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=ce(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,h,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,h){if(h=h||{},h.animate===!1||!ne.any3d)return this.setView(t,i,h);this._stop();var y=this.project(this.getCenter()),C=this.project(t),Z=this.getSize(),me=this._zoom;t=ae(t),i=i===void 0?me:i;var Se=Math.max(Z.x,Z.y),Le=Se*this.getZoomScale(me,i),ze=C.distanceTo(y)||1,Qe=1.42,mt=Qe*Qe;function zt(ms){var Pr=ms?-1:1,Xc=ms?Le:Se,ed=Le*Le-Se*Se+Pr*mt*mt*ze*ze,Yl=2*Xc*mt*ze,Do=ed/Yl,ml=Math.sqrt(Do*Do+1)-Do,Kl=ml<1e-9?-18:Math.log(ml);return Kl}function kr(ms){return(Math.exp(ms)-Math.exp(-ms))/2}function Vs(ms){return(Math.exp(ms)+Math.exp(-ms))/2}function fn(ms){return kr(ms)/Vs(ms)}var Fr=zt(0);function fi(ms){return Se*(Vs(Fr)/Vs(Fr+Qe*ms))}function Jc(ms){return Se*(Vs(Fr)*fn(Fr+Qe*ms)-kr(Fr))/mt}function ka(ms){return 1-Math.pow(1-ms,1.5)}var kn=Date.now(),Fn=(zt(1)-Fr)/Qe,Qc=h.duration?1e3*h.duration:1e3*Fn*.8;function fl(){var ms=(Date.now()-kn)/Qc,Pr=ka(ms)*Fn;ms<=1?(this._flyToFrame=E(fl,this),this._move(this.unproject(y.add(C.subtract(y).multiplyBy(Jc(Pr)/ze)),me),this.getScaleZoom(Se/fi(Pr),me),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),fl.call(this),this},flyToBounds:function(t,i){var h=this._getBoundsCenterZoom(t,i);return this.flyTo(h.center,h.zoom,i)},setMaxBounds:function(t){return t=Q(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,Q(t));return h.equals(y)||this.panTo(y,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var h=ce(i.paddingTopLeft||i.padding||[0,0]),y=ce(i.paddingBottomRight||i.padding||[0,0]),C=this.project(this.getCenter()),Z=this.project(t),me=this.getPixelBounds(),Se=R([me.min.add(h),me.max.subtract(y)]),Le=Se.getSize();if(!Se.contains(Z)){this._enforcingBounds=!0;var ze=Z.subtract(Se.getCenter()),Qe=Se.extend(Z).getSize().subtract(Le);C.x+=ze.x<0?-Qe.x:Qe.x,C.y+=ze.y<0?-Qe.y:Qe.y,this.panTo(this.unproject(C),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=o({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=i.divideBy(2).round(),C=h.divideBy(2).round(),Z=y.subtract(C);return!Z.x&&!Z.y?this:(t.animate&&t.pan?this.panBy(Z):(t.pan&&this._rawPanBy(Z),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=o({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=d(this._handleGeolocationResponse,this),h=d(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,h,t):navigator.geolocation.getCurrentPosition(i,h,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,h=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,h=t.coords.longitude,y=new se(i,h),C=y.toBounds(t.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var me=this.getBoundsZoom(C);this.setView(y,Z.maxZoom?Math.min(me,Z.maxZoom):me)}var Se={latlng:y,bounds:C,timestamp:t.timestamp};for(var Le in t.coords)typeof t.coords[Le]=="number"&&(Se[Le]=t.coords[Le]);this.fire("locationfound",Se)}},addHandler:function(t,i){if(!i)return this;var h=this[t]=new i(this);return this._handlers.push(h),this.options[t]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ut(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var h="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),y=Dt("div",h,i||this._mapPane);return t&&(this._panes[t]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),h=this.unproject(t.getTopRight());return new K(i,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,h){t=Q(t),h=ce(h||[0,0]);var y=this.getZoom()||0,C=this.getMinZoom(),Z=this.getMaxZoom(),me=t.getNorthWest(),Se=t.getSouthEast(),Le=this.getSize().subtract(h),ze=R(this.project(Se,y),this.project(me,y)).getSize(),Qe=ne.any3d?this.options.zoomSnap:1,mt=Le.x/ze.x,zt=Le.y/ze.y,kr=i?Math.max(mt,zt):Math.min(mt,zt);return y=this.getScaleZoom(kr,y),Qe&&(y=Math.round(y/(Qe/100))*(Qe/100),y=i?Math.ceil(y/Qe)*Qe:Math.floor(y/Qe)*Qe),Math.max(C,Math.min(Z,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var h=this._getTopLeftPoint(t,i);return new ve(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var h=this.options.crs;return i=i===void 0?this._zoom:i,h.scale(t)/h.scale(i)},getScaleZoom:function(t,i){var h=this.options.crs;i=i===void 0?this._zoom:i;var y=h.zoom(t*h.scale(i));return isNaN(y)?1/0:y},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(ae(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(ce(t),i)},layerPointToLatLng:function(t){var i=ce(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(ae(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ae(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Q(t))},distance:function(t,i){return this.options.crs.distance(ae(t),ae(i))},containerPointToLayerPoint:function(t){return ce(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return ce(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(ce(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(t)))},mouseEventToContainerPoint:function(t){return jo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=Oa(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Tt(i,"scroll",this._onScroll,this),this._containerId=u(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,At(t,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=_r(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Es(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(t.markerPane,"leaflet-zoom-hide"),At(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,h){Es(this._mapPane,new G(0,0));var y=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var C=this._zoom!==i;this._moveStart(C,h)._move(t,i)._moveEnd(C),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,h,y){i===void 0&&(i=this._zoom);var C=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),y?h&&h.pinch&&this.fire("zoom",h):((C||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Es(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[u(this._container)]=this;var i=t?Vt:Tt;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var h=[],y,C=i==="mouseout"||i==="mouseover",Z=t.target||t.srcElement,me=!1;Z;){if(y=this._targets[u(Z)],y&&(i==="click"||i==="preclick")&&this._draggableMoved(y)){me=!0;break}if(y&&y.listens(i,!0)&&(C&&!pa(Z,t)||(h.push(y),C))||Z===this._container)break;Z=Z.parentNode}return!h.length&&!me&&!C&&this.listens(i,!0)&&(h=[this]),h},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var h=t.type;h==="mousedown"&&Xa(i),this._fireDOMEvent(t,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,h){if(t.type==="click"){var y=o({},t);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var C=this._findEventTargets(t,i);if(h){for(var Z=[],me=0;me<h.length;me++)h[me].listens(i,!0)&&Z.push(h[me]);C=Z.concat(C)}if(C.length){i==="contextmenu"&&Ms(t);var Se=C[0],Le={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ze=Se.getLatLng&&(!Se._radius||Se._radius<=10);Le.containerPoint=ze?this.latLngToContainerPoint(Se.getLatLng()):this.mouseEventToContainerPoint(t),Le.layerPoint=this.containerPointToLayerPoint(Le.containerPoint),Le.latlng=ze?Se.getLatLng():this.layerPointToLatLng(Le.layerPoint)}for(me=0;me<C.length;me++)if(C[me].fire(i,Le,!0),Le.originalEvent._stopped||C[me].options.bubblingMouseEvents===!1&&D(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return En(this._mapPane)||new G(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var h=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var h=this.getSize()._divideBy(2);return this.project(t,i)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,h){var y=this._getNewPixelOrigin(h,i);return this.project(t,i)._subtract(y)},_latLngBoundsToNewLayerBounds:function(t,i,h){var y=this._getNewPixelOrigin(h,i);return R([this.project(t.getSouthWest(),i)._subtract(y),this.project(t.getNorthWest(),i)._subtract(y),this.project(t.getSouthEast(),i)._subtract(y),this.project(t.getNorthEast(),i)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,h){if(!h)return t;var y=this.project(t,i),C=this.getSize().divideBy(2),Z=new ve(y.subtract(C),y.add(C)),me=this._getBoundsOffset(Z,h,i);return Math.abs(me.x)<=1&&Math.abs(me.y)<=1?t:this.unproject(y.add(me),i)},_limitOffset:function(t,i){if(!i)return t;var h=this.getPixelBounds(),y=new ve(h.min.add(t),h.max.add(t));return t.add(this._getBoundsOffset(y,i))},_getBoundsOffset:function(t,i,h){var y=R(this.project(i.getNorthEast(),h),this.project(i.getSouthWest(),h)),C=y.min.subtract(t.min),Z=y.max.subtract(t.max),me=this._rebound(C.x,-Z.x),Se=this._rebound(C.y,-Z.y);return new G(me,Se)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),h=this.getMaxZoom(),y=ne.any3d?this.options.zoomSnap:1;return y&&(t=Math.round(t/y)*y),Math.max(i,Math.min(h,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var h=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,i),!0)},_createAnimProxy:function(){var t=this._proxy=Dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var h=sr,y=this._proxy.style[h];Tn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Tn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(i),C=this._getCenterOffset(t)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(C)?!1:(E(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ko(t,i){return new Ht(t,i)}var Ds=F.extend({options:{position:"topright"},initialize:function(t){_(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),h=this.getPosition(),y=t._controlCorners[h];return At(i,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(i,y.firstChild):y.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Zr=function(t){return new Ds(t)};Ht.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",h=this._controlContainer=Dt("div",i+"control-container",this._container);function y(C,Z){var me=i+C+" "+i+Z;t[C+Z]=Dt("div",me,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ut(this._controlCorners[t]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Po=Ds.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,h,y){return h<y?-1:y<h?1:0}},initialize:function(t,i,h){_(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in t)this._addLayer(t[y],y);for(y in i)this._addLayer(i[y],y,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ds.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(u(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Dt("div",t),h=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Ba(i),Bi(i);var y=this._section=Dt("section",t+"-list");h&&(this._map.on("click",this.collapse,this),Tt(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Dt("a",t+"-toggle",i);C.href="#",C.title="Layers",C.setAttribute("role","button"),Tt(C,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){Ms(Z),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Dt("div",t+"-base",y),this._separator=Dt("div",t+"-separator",y),this._overlaysList=Dt("div",t+"-overlays",y),i.appendChild(y)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&u(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,h){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:h}),this.options.sortLayers&&this._layers.sort(d(function(y,C){return this.options.sortFunction(y.layer,C.layer,y.name,C.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hr(this._baseLayersList),hr(this._overlaysList),this._layerControlInputs=[];var t,i,h,y,C=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),i=i||y.overlay,t=t||!y.overlay,C+=y.overlay?0:1;return this.options.hideSingleBase&&(t=t&&C>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(u(t.target)),h=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;h&&this._map.fire(h,i)},_createRadioElement:function(t,i){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(t){var i=document.createElement("label"),h=this._map.hasLayer(t.layer),y;t.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+u(this),h),this._layerControlInputs.push(y),y.layerId=u(t.layer),Tt(y,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+t.name;var Z=document.createElement("span");i.appendChild(Z),Z.appendChild(y),Z.appendChild(C);var me=t.overlay?this._overlaysList:this._baseLayersList;return me.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,h,y=[],C=[];this._handlingClick=!0;for(var Z=t.length-1;Z>=0;Z--)i=t[Z],h=this._getLayer(i.layerId).layer,i.checked?y.push(h):i.checked||C.push(h);for(Z=0;Z<C.length;Z++)this._map.hasLayer(C[Z])&&this._map.removeLayer(C[Z]);for(Z=0;Z<y.length;Z++)this._map.hasLayer(y[Z])||this._map.addLayer(y[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,h,y=this._map.getZoom(),C=t.length-1;C>=0;C--)i=t[C],h=this._getLayer(i.layerId).layer,i.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Tt(t,"click",Ms),this.expand();var i=this;setTimeout(function(){Vt(t,"click",Ms),i._preventClick=!1})}}),ga=function(t,i,h){return new Po(t,i,h)},Gr=Ds.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",h=Dt("div",i+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,i+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,i+"-out",h,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,h,y,C){var Z=Dt("a",h,y);return Z.innerHTML=t,Z.href="#",Z.title=i,Z.setAttribute("role","button"),Z.setAttribute("aria-label",i),Ba(Z),Tt(Z,"click",Vr),Tt(Z,"click",C,this),Tt(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";Jt(this._zoomInButton,i),Jt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(At(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(At(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Gr,this.addControl(this.zoomControl))});var Hi=function(t){return new Gr(t)},xa=Ds.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",h=Dt("div",i),y=this.options;return this._addScales(y,i+"-line",h),t.on(y.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),h},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,h){t.metric&&(this._mScale=Dt("div",i,h)),t.imperial&&(this._iScale=Dt("div",i,h))},_update:function(){var t=this._map,i=t.getSize().y/2,h=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(h)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),h=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,h,i/t)},_updateImperial:function(t){var i=t*3.2808399,h,y,C;i>5280?(h=i/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(C=this._getRoundNum(i),this._updateScale(this._iScale,C+" ft",C/i))},_updateScale:function(t,i,h){t.style.width=Math.round(this.options.maxWidth*h)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),h=t/i;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,i*h}}),dl=function(t){return new xa(t)},ri='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ui=Ds.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?ri+" ":"")+"Leaflet</a>"},initialize:function(t){_(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Dt("div","leaflet-control-attribution"),Ba(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var h=[];this.options.prefix&&h.push(this.options.prefix),t.length&&h.push(t.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook(function(){this.options.attributionControl&&new Ui().addTo(this)});var $i=function(t){return new Ui(t)};Ds.Layers=Po,Ds.Zoom=Gr,Ds.Scale=xa,Ds.Attribution=Ui,Zr.layers=ga,Zr.zoom=Hi,Zr.scale=dl,Zr.attribution=$i;var Rr=F.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rr.addTo=function(t,i){return t.addHandler(i,this),this};var Co={Events:X},Ha=ne.touch?"touchstart mousedown":"mousedown",cn=O.extend({options:{clickTolerance:3},initialize:function(t,i,h,y){_(this,y),this._element=t,this._dragStartTarget=i||t,this._preventOutline=h},enable:function(){this._enabled||(Tt(this._dragStartTarget,Ha,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),Vt(this._dragStartTarget,Ha,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!on(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(cn._dragging=this,this._preventOutline&&Xa(this._element),Fi(),Da(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,h=_o(this._element);this._startPoint=new G(i.clientX,i.clientY),this._startPos=En(this._element),this._parentScale=ei(h);var y=t.type==="mousedown";Tt(document,y?"mousemove":"touchmove",this._onMove,this),Tt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,h=new G(i.clientX,i.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ms(t),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Es(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vt(document,"mousemove touchmove",this._onMove,this),Vt(document,"mouseup touchend touchcancel",this._onUp,this),Nn(),Gn();var i=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ni(t,i,h){var y,C=[1,4,2,8],Z,me,Se,Le,ze,Qe,mt,zt;for(Z=0,Qe=t.length;Z<Qe;Z++)t[Z]._code=Ee(t[Z],i);for(Se=0;Se<4;Se++){for(mt=C[Se],y=[],Z=0,Qe=t.length,me=Qe-1;Z<Qe;me=Z++)Le=t[Z],ze=t[me],Le._code&mt?ze._code&mt||(zt=je(ze,Le,mt,i,h),zt._code=Ee(zt,i),y.push(zt)):(ze._code&mt&&(zt=je(ze,Le,mt,i,h),zt._code=Ee(zt,i),y.push(zt)),y.push(Le));t=y}return t}function Wi(t,i){var h,y,C,Z,me,Se,Le,ze,Qe;if(!t||t.length===0)throw new Error("latlngs not passed");st(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var mt=ae([0,0]),zt=Q(t),kr=zt.getNorthWest().distanceTo(zt.getSouthWest())*zt.getNorthEast().distanceTo(zt.getNorthWest());kr<1700&&(mt=Vi(t));var Vs=t.length,fn=[];for(h=0;h<Vs;h++){var Fr=ae(t[h]);fn.push(i.project(ae([Fr.lat-mt.lat,Fr.lng-mt.lng])))}for(Se=Le=ze=0,h=0,y=Vs-1;h<Vs;y=h++)C=fn[h],Z=fn[y],me=C.y*Z.x-Z.y*C.x,Le+=(C.x+Z.x)*me,ze+=(C.y+Z.y)*me,Se+=me*3;Se===0?Qe=fn[0]:Qe=[Le/Se,ze/Se];var fi=i.unproject(ce(Qe));return ae([fi.lat+mt.lat,fi.lng+mt.lng])}function Vi(t){for(var i=0,h=0,y=0,C=0;C<t.length;C++){var Z=ae(t[C]);i+=Z.lat,h+=Z.lng,y++}return ae([i/y,h/y])}var ai={__proto__:null,clipPolygon:ni,polygonCenter:Wi,centroid:Vi};function va(t,i){if(!i||!t.length)return t.slice();var h=i*i;return t=H(t,h),t=Zi(t,h),t}function ii(t,i,h){return Math.sqrt(Ke(t,i,h,!0))}function ya(t,i,h){return Ke(t,i,h)}function Zi(t,i){var h=t.length,y=typeof Uint8Array<"u"?Uint8Array:Array,C=new y(h);C[0]=C[h-1]=1,g(t,C,i,0,h-1);var Z,me=[];for(Z=0;Z<h;Z++)C[Z]&&me.push(t[Z]);return me}function g(t,i,h,y,C){var Z=0,me,Se,Le;for(Se=y+1;Se<=C-1;Se++)Le=Ke(t[Se],t[y],t[C],!0),Le>Z&&(me=Se,Z=Le);Z>h&&(i[me]=1,g(t,i,h,y,me),g(t,i,h,me,C))}function H(t,i){for(var h=[t[0]],y=1,C=0,Z=t.length;y<Z;y++)qe(t[y],t[C])>i&&(h.push(t[y]),C=y);return C<Z-1&&h.push(t[Z-1]),h}var de;function xe(t,i,h,y,C){var Z=y?de:Ee(t,h),me=Ee(i,h),Se,Le,ze;for(de=me;;){if(!(Z|me))return[t,i];if(Z&me)return!1;Se=Z||me,Le=je(t,i,Se,h,C),ze=Ee(Le,h),Se===Z?(t=Le,Z=ze):(i=Le,me=ze)}}function je(t,i,h,y,C){var Z=i.x-t.x,me=i.y-t.y,Se=y.min,Le=y.max,ze,Qe;return h&8?(ze=t.x+Z*(Le.y-t.y)/me,Qe=Le.y):h&4?(ze=t.x+Z*(Se.y-t.y)/me,Qe=Se.y):h&2?(ze=Le.x,Qe=t.y+me*(Le.x-t.x)/Z):h&1&&(ze=Se.x,Qe=t.y+me*(Se.x-t.x)/Z),new G(ze,Qe,C)}function Ee(t,i){var h=0;return t.x<i.min.x?h|=1:t.x>i.max.x&&(h|=2),t.y<i.min.y?h|=4:t.y>i.max.y&&(h|=8),h}function qe(t,i){var h=i.x-t.x,y=i.y-t.y;return h*h+y*y}function Ke(t,i,h,y){var C=i.x,Z=i.y,me=h.x-C,Se=h.y-Z,Le=me*me+Se*Se,ze;return Le>0&&(ze=((t.x-C)*me+(t.y-Z)*Se)/Le,ze>1?(C=h.x,Z=h.y):ze>0&&(C+=me*ze,Z+=Se*ze)),me=t.x-C,Se=t.y-Z,y?me*me+Se*Se:new G(C,Z)}function st(t){return!A(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Et(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),st(t)}function Ct(t,i){var h,y,C,Z,me,Se,Le,ze;if(!t||t.length===0)throw new Error("latlngs not passed");st(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Qe=ae([0,0]),mt=Q(t),zt=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());zt<1700&&(Qe=Vi(t));var kr=t.length,Vs=[];for(h=0;h<kr;h++){var fn=ae(t[h]);Vs.push(i.project(ae([fn.lat-Qe.lat,fn.lng-Qe.lng])))}for(h=0,y=0;h<kr-1;h++)y+=Vs[h].distanceTo(Vs[h+1])/2;if(y===0)ze=Vs[0];else for(h=0,Z=0;h<kr-1;h++)if(me=Vs[h],Se=Vs[h+1],C=me.distanceTo(Se),Z+=C,Z>y){Le=(Z-y)/C,ze=[Se.x-Le*(Se.x-me.x),Se.y-Le*(Se.y-me.y)];break}var Fr=i.unproject(ce(ze));return ae([Fr.lat+Qe.lat,Fr.lng+Qe.lng])}var Yt={__proto__:null,simplify:va,pointToSegmentDistance:ii,closestPointOnSegment:ya,clipSegment:xe,_getEdgeIntersection:je,_getBitCode:Ee,_sqClosestPointOnSegment:Ke,isFlat:st,_flat:Et,polylineCenter:Ct},Ss={project:function(t){return new G(t.lng,t.lat)},unproject:function(t){return new se(t.y,t.x)},bounds:new ve([-180,-90],[180,90])},Cs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,h=this.R,y=t.lat*i,C=this.R_MINOR/h,Z=Math.sqrt(1-C*C),me=Z*Math.sin(y),Se=Math.tan(Math.PI/4-y/2)/Math.pow((1-me)/(1+me),Z/2);return y=-h*Math.log(Math.max(Se,1e-10)),new G(t.lng*i*h,y)},unproject:function(t){for(var i=180/Math.PI,h=this.R,y=this.R_MINOR/h,C=Math.sqrt(1-y*y),Z=Math.exp(-t.y/h),me=Math.PI/2-2*Math.atan(Z),Se=0,Le=.1,ze;Se<15&&Math.abs(Le)>1e-7;Se++)ze=C*Math.sin(me),ze=Math.pow((1-ze)/(1+ze),C/2),Le=Math.PI/2-2*Math.atan(Z*ze)-me,me+=Le;return new se(me*i,t.x*i/h)}},Fs={__proto__:null,LonLat:Ss,Mercator:Cs,SphericalMercator:ge},mr=o({},we,{code:"EPSG:3395",projection:Cs,transformation:function(){var t=.5/(Math.PI*Cs.R);return Ae(t,.5,-t,.5)}()}),Ws=o({},we,{code:"EPSG:4326",projection:Ss,transformation:Ae(1/180,1,-1/180,.5)}),_n=o({},he,{projection:Ss,transformation:Ae(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var h=i.lng-t.lng,y=i.lat-t.lat;return Math.sqrt(h*h+y*y)},infinite:!0});he.Earth=we,he.EPSG3395=mr,he.EPSG3857=Re,he.EPSG900913=We,he.EPSG4326=Ws,he.Simple=_n;var Ls=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[u(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[u(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var h=this.getEvents();i.on(h,this),this.once("remove",function(){i.off(h,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=u(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=u(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return u(t)in this._layers},eachLayer:function(t,i){for(var h in this._layers)t.call(i,this._layers[h]);return this},_addLayers:function(t){t=t?A(t)?t:[t]:[];for(var i=0,h=t.length;i<h;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[u(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=u(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var C=this._zoomBoundLayers[y].options;t=C.minZoom===void 0?t:Math.min(t,C.minZoom),i=C.maxZoom===void 0?i:Math.max(i,C.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jr=Ls.extend({initialize:function(t,i){_(this,i),this._layers={};var h,y;if(t)for(h=0,y=t.length;h<y;h++)this.addLayer(t[h])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[t]&&y[t].apply(y,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var h in this._layers)t.call(i,this._layers[h]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return u(t)}}),Lo=function(t,i){return new jr(t,i)},Yr=jr.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),jr.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),jr.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new K;for(var i in this._layers){var h=this._layers[i];t.extend(h.getBounds?h.getBounds():h.getLatLng())}return t}}),Gi=function(t,i){return new Yr(t,i)},jn=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){_(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var h=this._getIconUrl(t);if(!h){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(y,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(t,i){var h=this.options,y=h[i+"Size"];typeof y=="number"&&(y=[y,y]);var C=ce(y),Z=ce(i==="shadow"&&h.shadowAnchor||h.iconAnchor||C&&C.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(h.className||""),Z&&(t.style.marginLeft=-Z.x+"px",t.style.marginTop=-Z.y+"px"),C&&(t.style.width=C.x+"px",t.style.height=C.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return ne.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Yi(t){return new jn(t)}var Qn=jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Qn.imagePath!="string"&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+jn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(h,y,C){var Z=y.exec(h);return Z&&Z[C]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Dt("div","leaflet-default-icon-path",document.body),i=_r(t,"background-image")||_r(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Ua=Rr.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,h=i._map,y=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,Z=En(i._icon),me=h.getPixelBounds(),Se=h.getPixelOrigin(),Le=R(me.min._subtract(Se).add(C),me.max._subtract(Se).subtract(C));if(!Le.contains(Z)){var ze=ce((Math.max(Le.max.x,Z.x)-Le.max.x)/(me.max.x-Le.max.x)-(Math.min(Le.min.x,Z.x)-Le.min.x)/(me.min.x-Le.min.x),(Math.max(Le.max.y,Z.y)-Le.max.y)/(me.max.y-Le.max.y)-(Math.min(Le.min.y,Z.y)-Le.min.y)/(me.min.y-Le.min.y)).multiplyBy(y);h.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),Es(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=E(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,h=i._shadow,y=En(i._icon),C=i._map.layerPointToLatLng(y);h&&Es(h,y),i._latlng=C,t.latlng=C,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),zs=Ls.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){_(this,i),this._latlng=ae(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=ae(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=t.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,t.title&&(h.title=t.title),h.tagName==="IMG"&&(h.alt=t.alt||"")),At(h,i),t.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(h,"focus",this._panOnFocus,this);var C=t.icon.createShadow(this._shadow),Z=!1;C!==this._shadow&&(this._removeShadow(),Z=!0),C&&(At(C,i),C.alt=""),this._shadow=C,t.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&Z&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Es(this._icon,t),this._shadow&&Es(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ua)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ua(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&fr(this._icon,t),this._shadow&&fr(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,h=i.iconSize?ce(i.iconSize):ce(0,0),y=i.iconAnchor?ce(i.iconAnchor):ce(0,0);t.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oi(t,i){return new zs(t,i)}var Kr=Ls.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return _(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Xn=Kr.extend({options:{fill:!0,radius:10},initialize:function(t,i){_(this,i),this._latlng=ae(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=ae(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return Kr.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,h=this._clickTolerance(),y=[t+h,i+h];this._pxBounds=new ve(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ki(t,i){return new Xn(t,i)}var pr=Xn.extend({initialize:function(t,i,h){if(typeof i=="number"&&(i=o({},h,{radius:i})),_(this,i),this._latlng=ae(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Kr.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===we.distance){var C=Math.PI/180,Z=this._mRadius/we.R/C,me=h.project([i+Z,t]),Se=h.project([i-Z,t]),Le=me.add(Se).divideBy(2),ze=h.unproject(Le).lat,Qe=Math.acos((Math.cos(Z*C)-Math.sin(i*C)*Math.sin(ze*C))/(Math.cos(i*C)*Math.cos(ze*C)))/C;(isNaN(Qe)||Qe===0)&&(Qe=Z/Math.cos(Math.PI/180*i)),this._point=Le.subtract(h.getPixelOrigin()),this._radius=isNaN(Qe)?0:Le.x-h.project([ze,t-Qe]).x,this._radiusY=Le.y-me.y}else{var mt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(mt).x}this._updateBounds()}});function ul(t,i,h){return new pr(t,i,h)}var Jr=Kr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){_(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,h=null,y=Ke,C,Z,me=0,Se=this._parts.length;me<Se;me++)for(var Le=this._parts[me],ze=1,Qe=Le.length;ze<Qe;ze++){C=Le[ze-1],Z=Le[ze];var mt=y(t,C,Z,!0);mt<i&&(i=mt,h=y(t,C,Z))}return h&&(h.distance=Math.sqrt(i)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ct(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=ae(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new K,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return st(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],h=st(t),y=0,C=t.length;y<C;y++)h?(i[y]=ae(t[y]),this._bounds.extend(i[y])):i[y]=this._convertLatLngs(t[y]);return i},_project:function(){var t=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new G(t,t);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,h){var y=t[0]instanceof se,C=t.length,Z,me;if(y){for(me=[],Z=0;Z<C;Z++)me[Z]=this._map.latLngToLayerPoint(t[Z]),h.extend(me[Z]);i.push(me)}else for(Z=0;Z<C;Z++)this._projectLatlngs(t[Z],i,h)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,h,y,C,Z,me,Se,Le;for(h=0,C=0,Z=this._rings.length;h<Z;h++)for(Le=this._rings[h],y=0,me=Le.length;y<me-1;y++)Se=xe(Le[y],Le[y+1],t,y,!0),Se&&(i[C]=i[C]||[],i[C].push(Se[0]),(Se[1]!==Le[y+1]||y===me-2)&&(i[C].push(Se[1]),C++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,h=0,y=t.length;h<y;h++)t[h]=va(t[h],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var h,y,C,Z,me,Se,Le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,Z=this._parts.length;h<Z;h++)for(Se=this._parts[h],y=0,me=Se.length,C=me-1;y<me;C=y++)if(!(!i&&y===0)&&ii(t,Se[C],Se[y])<=Le)return!0;return!1}});function Ao(t,i){return new Jr(t,i)}Jr._flat=Et;var nr=Jr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=Jr.prototype._convertLatLngs.call(this,t),h=i.length;return h>=2&&i[0]instanceof se&&i[0].equals(i[h-1])&&i.pop(),i},_setLatLngs:function(t){Jr.prototype._setLatLngs.call(this,t),st(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return st(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,h=new G(i,i);if(t=new ve(t.min.subtract(h),t.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,C=this._rings.length,Z;y<C;y++)Z=ni(this._rings[y],t,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,h,y,C,Z,me,Se,Le,ze;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(Z=0,Le=this._parts.length;Z<Le;Z++)for(h=this._parts[Z],me=0,ze=h.length,Se=ze-1;me<ze;Se=me++)y=h[me],C=h[Se],y.y>t.y!=C.y>t.y&&t.x<(C.x-y.x)*(t.y-y.y)/(C.y-y.y)+y.x&&(i=!i);return i||Jr.prototype._containsPoint.call(this,t,!0)}});function li(t,i){return new nr(t,i)}var dn=Yr.extend({initialize:function(t,i){_(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=A(t)?t:t.features,h,y,C;if(i){for(h=0,y=i.length;h<y;h++)C=i[h],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var Z=this.options;if(Z.filter&&!Z.filter(t))return this;var me=$a(t,Z);return me?(me.feature=un(t),me.defaultOptions=me.options,this.resetStyle(me),Z.onEachFeature&&Z.onEachFeature(t,me),this.addLayer(me)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=o({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function $a(t,i){var h=t.type==="Feature"?t.geometry:t,y=h?h.coordinates:null,C=[],Z=i&&i.pointToLayer,me=i&&i.coordsToLatLng||ta,Se,Le,ze,Qe;if(!y&&!h)return null;switch(h.type){case"Point":return Se=me(y),ea(Z,t,Se,i);case"MultiPoint":for(ze=0,Qe=y.length;ze<Qe;ze++)Se=me(y[ze]),C.push(ea(Z,t,Se,i));return new Yr(C);case"LineString":case"MultiLineString":return Le=ar(y,h.type==="LineString"?0:1,me),new Jr(Le,i);case"Polygon":case"MultiPolygon":return Le=ar(y,h.type==="Polygon"?1:2,me),new nr(Le,i);case"GeometryCollection":for(ze=0,Qe=h.geometries.length;ze<Qe;ze++){var mt=$a({geometry:h.geometries[ze],type:"Feature",properties:t.properties},i);mt&&C.push(mt)}return new Yr(C);case"FeatureCollection":for(ze=0,Qe=h.features.length;ze<Qe;ze++){var zt=$a(h.features[ze],i);zt&&C.push(zt)}return new Yr(C);default:throw new Error("Invalid GeoJSON object.")}}function ea(t,i,h,y){return t?t(i,h):new zs(h,y&&y.markersInheritOptions&&y)}function ta(t){return new se(t[1],t[0],t[2])}function ar(t,i,h){for(var y=[],C=0,Z=t.length,me;C<Z;C++)me=i?ar(t[C],i-1,h):(h||ta)(t[C]),y.push(me);return y}function ir(t,i){return t=ae(t),t.alt!==void 0?[j(t.lng,i),j(t.lat,i),j(t.alt,i)]:[j(t.lng,i),j(t.lat,i)]}function Sn(t,i,h,y){for(var C=[],Z=0,me=t.length;Z<me;Z++)C.push(i?Sn(t[Z],st(t[Z])?0:i-1,h,y):ir(t[Z],y));return!i&&h&&C.length>0&&C.push(C[0].slice()),C}function Or(t,i){return t.feature?o({},t.feature,{geometry:i}):un(i)}function un(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ba={toGeoJSON:function(t){return Or(this,{type:"Point",coordinates:ir(this.getLatLng(),t)})}};zs.include(ba),pr.include(ba),Xn.include(ba),Jr.include({toGeoJSON:function(t){var i=!st(this._latlngs),h=Sn(this._latlngs,i?1:0,!1,t);return Or(this,{type:(i?"Multi":"")+"LineString",coordinates:h})}}),nr.include({toGeoJSON:function(t){var i=!st(this._latlngs),h=i&&!st(this._latlngs[0]),y=Sn(this._latlngs,h?2:i?1:0,!0,t);return i||(y=[y]),Or(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),jr.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(h){i.push(h.toGeoJSON(t).geometry.coordinates)}),Or(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var h=i==="GeometryCollection",y=[];return this.eachLayer(function(C){if(C.toGeoJSON){var Z=C.toGeoJSON(t);if(h)y.push(Z.geometry);else{var me=un(Z);me.type==="FeatureCollection"?y.push.apply(y,me.features):y.push(me)}}}),h?Or(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Mn(t,i){return new dn(t,i)}var Is=Mn,wa=Ls.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,h){this._url=t,this._bounds=Q(i),_(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&bn(this._image),this},bringToBack:function(){return this._map&&wn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Q(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Dt("img");if(At(i,"leaflet-image-layer"),this._zoomAnimated&&At(i,"leaflet-zoom-animated"),this.options.className&&At(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onload=d(this.fire,this,"load"),i.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Tn(this._image,h,i)},_reset:function(){var t=this._image,i=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=i.getSize();Es(t,i.min),t.style.width=h.x+"px",t.style.height=h.y+"px"},_updateOpacity:function(){fr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Sr=function(t,i,h){return new wa(t,i,h)},Qr=wa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Dt("video");if(At(i,"leaflet-image-layer"),this._zoomAnimated&&At(i,"leaflet-zoom-animated"),this.options.className&&At(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onloadeddata=d(this.fire,this,"load"),t){for(var h=i.getElementsByTagName("source"),y=[],C=0;C<h.length;C++)y.push(h[C].src);this._url=h.length>0?y:[i.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var me=Dt("source");me.src=this._url[Z],i.appendChild(me)}}});function ci(t,i,h){return new Qr(t,i,h)}var Ji=wa.extend({_initImage:function(){var t=this._image=this._url;At(t,"leaflet-image-layer"),this._zoomAnimated&&At(t,"leaflet-zoom-animated"),this.options.className&&At(t,this.options.className),t.onselectstart=v,t.onmousemove=v}});function Qi(t,i,h){return new Ji(t,i,h)}var gr=Ls.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof se||A(t))?(this._latlng=ae(t),_(this,i)):(_(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&fr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&fr(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(fr(this._container,0),this._removeTimeout=setTimeout(d(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ae(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bn(this._container),this},bringToBack:function(){return this._map&&wn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Yr){i=null;var h=this._source._layers;for(var y in h)if(h[y]._map){i=h[y];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=ce(this.options.offset),h=this._getAnchor();this._zoomAnimated?Es(this._container,t.add(h)):i=i.add(t).add(h);var y=this._containerBottom=-i.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=y+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(t,i,h,y){var C=i;return C instanceof t||(C=new t(y).setContent(i)),h&&C.setLatLng(h),C}}),Ls.include({_initOverlay:function(t,i,h,y){var C=h;return C instanceof t?(_(C,y),C._source=this):(C=i&&!y?i:new t(y,this),C.setContent(h)),C}});var In=gr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,gr.prototype.openOn.call(this,t)},onAdd:function(t){gr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kr||this._source.on("preclick",Kn))},onRemove:function(t){gr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kr||this._source.off("preclick",Kn))},getEvents:function(){var t=gr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Dt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Dt("div",t+"-content-wrapper",i);if(this._contentNode=Dt("div",t+"-content",h),Ba(i),Bi(this._contentNode),Tt(i,"contextmenu",Kn),this._tipContainer=Dt("div",t+"-tip-container",i),this._tip=Dt("div",t+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Dt("a",t+"-close-button",i);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Tt(y,"click",function(C){Ms(C),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var h=t.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),i.width=h+1+"px",i.whiteSpace="",i.height="";var y=t.offsetHeight,C=this.options.maxHeight,Z="leaflet-popup-scrolled";C&&y>C?(i.height=C+"px",At(t,Z)):Jt(t,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),h=this._getAnchor();Es(this._container,i.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(_r(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+i,y=this._containerWidth,C=new G(this._containerLeft,-h-this._containerBottom);C._add(En(this._container));var Z=t.layerPointToContainerPoint(C),me=ce(this.options.autoPanPadding),Se=ce(this.options.autoPanPaddingTopLeft||me),Le=ce(this.options.autoPanPaddingBottomRight||me),ze=t.getSize(),Qe=0,mt=0;Z.x+y+Le.x>ze.x&&(Qe=Z.x+y-ze.x+Le.x),Z.x-Qe-Se.x<0&&(Qe=Z.x-Se.x),Z.y+h+Le.y>ze.y&&(mt=Z.y+h-ze.y+Le.y),Z.y-mt-Se.y<0&&(mt=Z.y-Se.y),(Qe||mt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Qe,mt]))}},_getAnchor:function(){return ce(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Na=function(t,i){return new In(t,i)};Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(t,i,h){return this._initOverlay(In,t,i,h).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ls.include({bindPopup:function(t,i){return this._popup=this._initOverlay(In,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Yr||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Vr(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof Kr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Rn=gr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){gr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){gr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=gr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Dt("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,h,y=this._map,C=this._container,Z=y.latLngToContainerPoint(y.getCenter()),me=y.layerPointToContainerPoint(t),Se=this.options.direction,Le=C.offsetWidth,ze=C.offsetHeight,Qe=ce(this.options.offset),mt=this._getAnchor();Se==="top"?(i=Le/2,h=ze):Se==="bottom"?(i=Le/2,h=0):Se==="center"?(i=Le/2,h=ze/2):Se==="right"?(i=0,h=ze/2):Se==="left"?(i=Le,h=ze/2):me.x<Z.x?(Se="right",i=0,h=ze/2):(Se="left",i=Le+(Qe.x+mt.x)*2,h=ze/2),t=t.subtract(ce(i,h,!0)).add(Qe).add(mt),Jt(C,"leaflet-tooltip-right"),Jt(C,"leaflet-tooltip-left"),Jt(C,"leaflet-tooltip-top"),Jt(C,"leaflet-tooltip-bottom"),At(C,"leaflet-tooltip-"+Se),Es(C,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&fr(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return ce(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),di=function(t,i){return new Rn(t,i)};Ht.include({openTooltip:function(t,i,h){return this._initOverlay(Rn,t,i,h).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ls.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rn,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[i](h),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Yr||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Tt(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Tt(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,h,y;this._tooltip.options.sticky&&t.originalEvent&&(h=this._map.mouseEventToContainerPoint(t.originalEvent),y=this._map.containerPointToLayerPoint(h),i=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(i)}});var _a=jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),h=this.options;if(h.html instanceof Element?(hr(i),i.appendChild(h.html)):i.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=ce(h.bgPos);i.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function ja(t){return new _a(t)}jn.Default=Qn;var sa=Ls.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){_(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ut(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof G?t:new G(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,h=-t(-1/0,1/0),y=0,C=i.length,Z;y<C;y++)Z=i[y].style.zIndex,i[y]!==this._container&&Z&&(h=t(h,+Z));isFinite(h)&&(this.options.zIndex=h+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){fr(this._container,this.options.opacity);var t=+new Date,i=!1,h=!1;for(var y in this._tiles){var C=this._tiles[y];if(!(!C.current||!C.loaded)){var Z=Math.min(1,(t-C.loaded)/200);fr(C.el,Z),Z<1?i=!0:(C.active?h=!0:this._onOpaqueTile(C),C.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),i&&(T(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===t?(this._levels[h].el.style.zIndex=i-Math.abs(t-h),this._onUpdateLevel(h)):(ut(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[t],C=this._map;return y||(y=this._levels[t]={},y.el=Dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=i,y.origin=C.project(C.unproject(C.getPixelOrigin()),t).round(),y.zoom=t,this._setZoomTransform(y,C.getCenter(),C.getZoom()),v(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var t,i,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var y=i.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ut(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,h,y){var C=Math.floor(t/2),Z=Math.floor(i/2),me=h-1,Se=new G(+C,+Z);Se.z=+me;var Le=this._tileCoordsToKey(Se),ze=this._tiles[Le];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),me>y?this._retainParent(C,Z,me,y):!1)},_retainChildren:function(t,i,h,y){for(var C=2*t;C<2*t+2;C++)for(var Z=2*i;Z<2*i+2;Z++){var me=new G(C,Z);me.z=h+1;var Se=this._tileCoordsToKey(me),Le=this._tiles[Se];if(Le&&Le.active){Le.retain=!0;continue}else Le&&Le.loaded&&(Le.retain=!0);h+1<y&&this._retainChildren(C,Z,h+1,y)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,h,y){var C=Math.round(i);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var Z=this.options.updateWhenZooming&&C!==this._tileZoom;(!y||Z)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(t),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var h in this._levels)this._setZoomTransform(this._levels[h],t,i)},_setZoomTransform:function(t,i,h){var y=this._map.getZoomScale(h,t.zoom),C=t.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(i,h)).round();ne.any3d?Tn(t.el,C,y):Es(t.el,C)},_resetGrid:function(){var t=this._map,i=t.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],y).x/h.x),Math.ceil(t.project([0,i.wrapLng[1]],y).x/h.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],y).y/h.x),Math.ceil(t.project([i.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,h=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),y=i.getZoomScale(h,this._tileZoom),C=i.project(t,this._tileZoom).floor(),Z=i.getSize().divideBy(y*2);return new ve(C.subtract(Z),C.add(Z))},_update:function(t){var i=this._map;if(i){var h=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(t),C=this._pxBoundsToTileRange(y),Z=C.getCenter(),me=[],Se=this.options.keepBuffer,Le=new ve(C.getBottomLeft().subtract([Se,-Se]),C.getTopRight().add([Se,-Se]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var Qe=this._tiles[ze].coords;(Qe.z!==this._tileZoom||!Le.contains(new G(Qe.x,Qe.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(t,h);return}for(var mt=C.min.y;mt<=C.max.y;mt++)for(var zt=C.min.x;zt<=C.max.x;zt++){var kr=new G(zt,mt);if(kr.z=this._tileZoom,!!this._isValidTile(kr)){var Vs=this._tiles[this._tileCoordsToKey(kr)];Vs?Vs.current=!0:me.push(kr)}}if(me.sort(function(Fr,fi){return Fr.distanceTo(Z)-fi.distanceTo(Z)}),me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fn=document.createDocumentFragment();for(zt=0;zt<me.length;zt++)this._addTile(me[zt],fn);this._level.el.appendChild(fn)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var h=this._globalTileRange;if(!i.wrapLng&&(t.x<h.min.x||t.x>h.max.x)||!i.wrapLat&&(t.y<h.min.y||t.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(t);return Q(this.options.bounds).overlaps(y)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,h=this.getTileSize(),y=t.scaleBy(h),C=y.add(h),Z=i.unproject(y,t.z),me=i.unproject(C,t.z);return[Z,me]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),h=new K(i[0],i[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),h=new G(+i[0],+i[1]);return h.z=+i[2],h},_removeTile:function(t){var i=this._tiles[t];i&&(ut(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){At(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=v,t.onmousemove=v,ne.ielt9&&this.options.opacity<1&&fr(t,this.options.opacity)},_addTile:function(t,i){var h=this._getTilePos(t),y=this._tileCoordsToKey(t),C=this.createTile(this._wrapCoords(t),d(this._tileReady,this,t));this._initTile(C),this.createTile.length<2&&E(d(this._tileReady,this,t,null,C)),Es(C,h),this._tiles[y]={el:C,coords:t,current:!0},i.appendChild(C),this.fire("tileloadstart",{tile:C,coords:t})},_tileReady:function(t,i,h){i&&this.fire("tileerror",{error:i,tile:h,coords:t});var y=this._tileCoordsToKey(t);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(fr(h.el,0),T(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),i||(At(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new G(this._wrapX?w(t.x,this._wrapX):t.x,this._wrapY?w(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new ve(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function hn(t){return new sa(t)}var or=sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=_(this,i),i.detectRetina&&ne.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var h=document.createElement("img");return Tt(h,"load",d(this._tileOnLoad,this,i,h)),Tt(h,"error",d(this._tileOnError,this,i,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(t),h},getTileUrl:function(t){var i={r:ne.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=h),i["-y"]=h}return N(this._url,o(i,this.options))},_tileOnLoad:function(t,i){ne.ielt9?setTimeout(d(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,h){var y=this.options.errorTileUrl;y&&i.getAttribute("src")!==y&&(i.src=y),t(h,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(t=i-t),t+y},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=v,i.onerror=v,!i.complete)){i.src=q;var h=this._tiles[t].coords;ut(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:h})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",q),sa.prototype._removeTile.call(this,t)},_tileReady:function(t,i,h){if(!(!this._map||h&&h.getAttribute("src")===q))return sa.prototype._tileReady.call(this,t,i,h)}});function us(t,i){return new or(t,i)}var hs=or.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var h=o({},this.defaultWmsParams);for(var y in i)y in this.options||(h[y]=i[y]);i=_(this,i);var C=i.detectRetina&&ne.retina?2:1,Z=this.getTileSize();h.width=Z.x*C,h.height=Z.y*C,this.wmsParams=h},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,or.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),h=this._crs,y=R(h.project(i[0]),h.project(i[1])),C=y.min,Z=y.max,me=(this._wmsVersion>=1.3&&this._crs===Ws?[C.y,C.x,Z.y,Z.x]:[C.x,C.y,Z.x,Z.y]).join(","),Se=or.prototype.getTileUrl.call(this,t);return Se+I(this.wmsParams,Se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+me},setParams:function(t,i){return o(this.wmsParams,t),i||this.redraw(),this}});function Rs(t,i){return new hs(t,i)}or.WMS=hs,us.wms=Rs;var fs=Ls.extend({options:{padding:.1},initialize:function(t){_(this,t),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var h=this._map.getZoomScale(i,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,i),Z=y.multiplyBy(-h).add(C).subtract(this._map._getNewPixelOrigin(t,i));ne.any3d?Tn(this._container,Z,h):Es(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),h=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new ve(h,h.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),On=fs.extend({options:{tolerance:0},getEvents:function(){var t=fs.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Tt(t,"mousemove",this._onMouseMove,this),Tt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Tt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,ut(this._container),Vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fs.prototype._update.call(this);var t=this._bounds,i=this._container,h=t.getSize(),y=ne.retina?2:1;Es(i,t.min),i.width=y*h.x,i.height=y*h.y,i.style.width=h.x+"px",i.style.height=h.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){fs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[u(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,h=i.next,y=i.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete t._order,delete this._layers[u(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),h=[],y,C;for(C=0;C<i.length;C++){if(y=Number(i[C]),isNaN(y))return;h.push(y)}t.options._dashArray=h}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var h=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)t=y.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var h,y,C,Z,me=t._parts,Se=me.length,Le=this._ctx;if(Se){for(Le.beginPath(),h=0;h<Se;h++){for(y=0,C=me[h].length;y<C;y++)Z=me[h][y],Le[y?"lineTo":"moveTo"](Z.x,Z.y);i&&Le.closePath()}this._fillStroke(Le,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,h=this._ctx,y=Math.max(Math.round(t._radius),1),C=(Math.max(Math.round(t._radiusY),1)||y)/y;C!==1&&(h.save(),h.scale(1,C)),h.beginPath(),h.arc(i.x,i.y/C,y,0,Math.PI*2,!1),C!==1&&h.restore(),this._fillStroke(h,t)}},_fillStroke:function(t,i){var h=i.options;h.fill&&(t.globalAlpha=h.fillOpacity,t.fillStyle=h.fillColor||h.color,t.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=h.opacity,t.lineWidth=h.weight,t.strokeStyle=h.color,t.lineCap=h.lineCap,t.lineJoin=h.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),h,y,C=this._drawFirst;C;C=C.next)h=C.layer,h.options.interactive&&h._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var h,y,C=this._drawFirst;C;C=C.next)h=C.layer,h.options.interactive&&h._containsPoint(i)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(t),y&&(At(this._container,"leaflet-interactive"),this._fireEvent([y],t,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,h){this._map._fireDOMEvent(i,h||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var h=i.next,y=i.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var h=i.next,y=i.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function ui(t){return ne.canvas?new On(t):null}var Dn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),To={_initContainer:function(){this._container=Dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fs.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=Dn("shape");At(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=Dn("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[u(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;ut(i),t.removeInteractiveTarget(i),delete this._layers[u(t)]},_updateStyle:function(t){var i=t._stroke,h=t._fill,y=t.options,C=t._container;C.stroked=!!y.stroke,C.filled=!!y.fill,y.stroke?(i||(i=t._stroke=Dn("stroke")),C.appendChild(i),i.weight=y.weight+"px",i.color=y.color,i.opacity=y.opacity,y.dashArray?i.dashStyle=A(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=y.lineCap.replace("butt","flat"),i.joinstyle=y.lineJoin):i&&(C.removeChild(i),t._stroke=null),y.fill?(h||(h=t._fill=Dn("fill")),C.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(C.removeChild(h),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),h=Math.round(t._radius),y=Math.round(t._radiusY||h);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){bn(t._container)},_bringToBack:function(t){wn(t._container)}},hi=ne.vml?Dn:Ce,Sa=fs.extend({_initContainer:function(){this._container=hi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),Vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fs.prototype._update.call(this);var t=this._bounds,i=t.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,h.setAttribute("width",i.x),h.setAttribute("height",i.y)),Es(h,t.min),h.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=hi("path");t.options.className&&At(i,t.options.className),t.options.interactive&&At(i,"leaflet-interactive"),this._updateStyle(t),this._layers[u(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ut(t._path),t.removeInteractiveTarget(t._path),delete this._layers[u(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,h=t.options;i&&(h.stroke?(i.setAttribute("stroke",h.color),i.setAttribute("stroke-opacity",h.opacity),i.setAttribute("stroke-width",h.weight),i.setAttribute("stroke-linecap",h.lineCap),i.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?i.setAttribute("stroke-dasharray",h.dashArray):i.removeAttribute("stroke-dasharray"),h.dashOffset?i.setAttribute("stroke-dashoffset",h.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),h.fill?(i.setAttribute("fill",h.fillColor||h.color),i.setAttribute("fill-opacity",h.fillOpacity),i.setAttribute("fill-rule",h.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,ue(t._parts,i))},_updateCircle:function(t){var i=t._point,h=Math.max(Math.round(t._radius),1),y=Math.max(Math.round(t._radiusY),1)||h,C="a"+h+","+y+" 0 1,0 ",Z=t._empty()?"M0 0":"M"+(i.x-h)+","+i.y+C+h*2+",0 "+C+-h*2+",0 ";this._setPath(t,Z)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){bn(t._path)},_bringToBack:function(t){wn(t._path)}});ne.vml&&Sa.include(To);function Dr(t){return ne.svg||ne.vml?new Sa(t):null}Ht.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&ui(t)||Dr(t)}});var Xr=nr.extend({initialize:function(t,i){nr.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Q(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Eo(t,i){return new Xr(t,i)}Sa.create=hi,Sa.pointsToPath=ue,dn.geometryToLayer=$a,dn.coordsToLatLng=ta,dn.coordsToLatLngs=ar,dn.latLngToCoords=ir,dn.latLngsToCoords=Sn,dn.getFeature=Or,dn.asFeature=un,Ht.mergeOptions({boxZoom:!0});var Xi=Rr.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Da(),Fi(),this._startPoint=this._map.mouseEventToContainerPoint(t),Tt(document,{contextmenu:Vr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Dt("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new ve(this._point,this._startPoint),h=i.getSize();Es(this._box,i.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ut(this._box),Jt(this._container,"leaflet-crosshair")),Gn(),Nn(),Vt(document,{contextmenu:Vr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var i=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",Xi),Ht.mergeOptions({doubleClickZoom:!0});var hl=Rr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,h=i.getZoom(),y=i.options.zoomDelta,C=t.originalEvent.shiftKey?h-y:h+y;i.options.doubleClickZoom==="center"?i.setZoom(C):i.setZoomAround(t.containerPoint,C)}});Ht.addInitHook("addHandler","doubleClickZoom",hl),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var eo=Rr.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=Q(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,C=(y-i+h)%t+i-h,Z=(y+i+h)%t-i-h,me=Math.abs(C+h)<Math.abs(Z+h)?C:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=me},_onDragEnd:function(t){var i=this._map,h=i.options,y=!h.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),y)i.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,me=h.easeLinearity,Se=C.multiplyBy(me/Z),Le=Se.distanceTo([0,0]),ze=Math.min(h.inertiaMaxSpeed,Le),Qe=Se.multiplyBy(ze/Le),mt=ze/(h.inertiaDeceleration*me),zt=Qe.multiplyBy(-mt/2).round();!zt.x&&!zt.y?i.fire("moveend"):(zt=i._limitOffset(zt,i.options.maxBounds),E(function(){i.panBy(zt,{duration:mt,easeLinearity:me,noMoveStart:!0,animate:!0})}))}}});Ht.addInitHook("addHandler","dragging",eo),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var to=Rr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Tt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,h=t.scrollTop||i.scrollTop,y=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},h=this.keyCodes,y,C;for(y=0,C=h.left.length;y<C;y++)i[h.left[y]]=[-1*t,0];for(y=0,C=h.right.length;y<C;y++)i[h.right[y]]=[t,0];for(y=0,C=h.down.length;y<C;y++)i[h.down[y]]=[0,t];for(y=0,C=h.up.length;y<C;y++)i[h.up[y]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},h=this.keyCodes,y,C;for(y=0,C=h.zoomIn.length;y<C;y++)i[h.zoomIn[y]]=t;for(y=0,C=h.zoomOut.length;y<C;y++)i[h.zoomOut[y]]=-t},_addHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,h=this._map,y;if(i in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[i],t.shiftKey&&(y=ce(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(ce(y),h.options.maxBounds)),h.options.worldCopyJump){var C=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(C)}else h.panBy(y)}else if(i in this._zoomKeys)h.setZoom(h.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Vr(t)}}});Ht.addInitHook("addHandler","keyboard",to),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mo=Rr.extend({addHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=si(t),h=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),y),Vr(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),h=this._map.options.zoomSnap||0;t._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,Z=h?Math.ceil(C/h)*h:C,me=t._limitZoom(i+(this._delta>0?Z:-Z))-i;this._delta=0,this._startTime=null,me&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+me):t.setZoomAround(this._lastMousePos,i+me))}});Ht.addInitHook("addHandler","scrollWheelZoom",Mo);var Gl=600;Ht.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var Io=Rr.extend({addHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new G(i.clientX,i.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Tt(document,"touchend",Ms),Tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Gl),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Vt(document,"touchend",Ms),Vt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new G(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var h=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});h._simulated=!0,i.target.dispatchEvent(h)}});Ht.addInitHook("addHandler","tapHold",Io),Ht.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var Ro=Rr.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var h=i.mouseEventToContainerPoint(t.touches[0]),y=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),Ms(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,h=i.mouseEventToContainerPoint(t.touches[0]),y=i.mouseEventToContainerPoint(t.touches[1]),C=h.distanceTo(y)/this._startDist;if(this._zoom=i.getScaleZoom(C,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&C<1||this._zoom>i.getMaxZoom()&&C>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var Z=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(C===1&&Z.x===0&&Z.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var me=d(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(me,this,!0),Ms(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,T(this._animRequest),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ht.addInitHook("addHandler","touchZoom",Ro),Ht.BoxZoom=Xi,Ht.DoubleClickZoom=hl,Ht.Drag=eo,Ht.Keyboard=to,Ht.ScrollWheelZoom=Mo,Ht.TapHold=Io,Ht.TouchZoom=Ro,n.Bounds=ve,n.Browser=ne,n.CRS=he,n.Canvas=On,n.Circle=pr,n.CircleMarker=Xn,n.Class=F,n.Control=Ds,n.DivIcon=_a,n.DivOverlay=gr,n.DomEvent=So,n.DomUtil=Pt,n.Draggable=cn,n.Evented=O,n.FeatureGroup=Yr,n.GeoJSON=dn,n.GridLayer=sa,n.Handler=Rr,n.Icon=jn,n.ImageOverlay=wa,n.LatLng=se,n.LatLngBounds=K,n.Layer=Ls,n.LayerGroup=jr,n.LineUtil=Yt,n.Map=Ht,n.Marker=zs,n.Mixin=Co,n.Path=Kr,n.Point=G,n.PolyUtil=ai,n.Polygon=nr,n.Polyline=Jr,n.Popup=In,n.PosAnimation=qi,n.Projection=Fs,n.Rectangle=Xr,n.Renderer=fs,n.SVG=Sa,n.SVGOverlay=Ji,n.TileLayer=or,n.Tooltip=Rn,n.Transformation=pe,n.Util=z,n.VideoOverlay=Qr,n.bind=d,n.bounds=R,n.canvas=ui,n.circle=ul,n.circleMarker=Ki,n.control=Zr,n.divIcon=ja,n.extend=o,n.featureGroup=Gi,n.geoJSON=Mn,n.geoJson=Is,n.gridLayer=hn,n.icon=Yi,n.imageOverlay=Sr,n.latLng=ae,n.latLngBounds=Q,n.layerGroup=Lo,n.map=ko,n.marker=oi,n.point=ce,n.polygon=li,n.polyline=Ao,n.popup=Na,n.rectangle=Eo,n.setOptions=_,n.stamp=u,n.svg=Dr,n.svgOverlay=Qi,n.tileLayer=us,n.tooltip=di,n.transformation=Ae,n.version=a,n.videoOverlay=ci;var Oo=window.L;n.noConflict=function(){return window.L=Oo,this},window.L=n})}(_l,_l.exports)),_l.exports}var Zl=y5();const Vh=Zf(Zl);function Ou(s,r,n){return Object.freeze({instance:s,context:r,container:n})}function Du(s,r){return r==null?function(a,o){const l=M.useRef();return l.current||(l.current=s(a,o)),l}:function(a,o){const l=M.useRef();l.current||(l.current=s(a,o));const d=M.useRef(a),{instance:f}=l.current;return M.useEffect(function(){d.current!==a&&(r(f,a,d.current),d.current=a)},[f,a,o]),l}}function b5(s,r){M.useEffect(function(){return(r.layerContainer??r.map).addLayer(s.instance),function(){r.layerContainer?.removeLayer(s.instance),r.map.removeLayer(s.instance)}},[r,s])}function mg(s){return function(n){const a=$c(),o=s(fg(n,a),a);return h5(a.map,n.attribution),x5(o.current,n.eventHandlers),b5(o.current,a),o}}function w5(s,r){const n=Du(s,r),a=mg(n);return hg(a)}function N5(s,r){const n=Du(s,r),a=mg(n);return p5(a)}function _5(s,r,n){const{opacity:a,zIndex:o}=r;a!=null&&a!==n.opacity&&s.setOpacity(a),o!=null&&o!==n.zIndex&&s.setZIndex(o)}function j5(){return $c().map}const S5=Du(function({children:r,...n},a){const o=new Zl.Control.Layers(void 0,void 0,n);return Ou(o,Iu(a,{layersControl:o}))},function(r,n,a){n.collapsed!==a.collapsed&&(n.collapsed===!0?r.collapse():r.expand())}),k5=g5(S5),Pl=hg(k5);function pg(s){return function(n){const a=$c(),o=M.useRef(n),[l,d]=M.useState(null),{layersControl:f,map:u}=a,x=M.useCallback(j=>{f!=null&&(o.current.checked&&u.addLayer(j),s(f,j,o.current.name),d(j))},[f,u]),w=M.useCallback(j=>{f?.removeLayer(j),d(null)},[f]),v=M.useMemo(()=>Iu(a,{layerContainer:{addLayer:x,removeLayer:w}}),[a,x,w]);return M.useEffect(()=>{l!==null&&o.current!==n&&(n.checked===!0&&(o.current.checked==null||o.current.checked===!1)?u.addLayer(l):o.current.checked===!0&&(n.checked==null||n.checked===!1)&&u.removeLayer(l),o.current=n)}),n.children?_c.createElement(Ru,{value:v},n.children):null}}Pl.BaseLayer=pg(function(r,n,a){r.addBaseLayer(n,a)});Pl.Overlay=pg(function(r,n,a){r.addOverlay(n,a)});function Ud(){return Ud=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Ud.apply(this,arguments)}function P5({bounds:s,boundsOptions:r,center:n,children:a,className:o,id:l,placeholder:d,style:f,whenReady:u,zoom:x,...w},v){const[j]=M.useState({className:o,id:l,style:f}),[p,k]=M.useState(null);M.useImperativeHandle(v,()=>p?.map??null,[p]);const _=M.useCallback(S=>{if(S!==null&&p===null){const N=new Zl.Map(S,w);n!=null&&x!=null?N.setView(n,x):s!=null&&N.fitBounds(s,r),u!=null&&N.whenReady(u),k(m5(N))}},[]);M.useEffect(()=>()=>{p?.map.remove()},[p]);const I=p?_c.createElement(Ru,{value:p},a):d??null;return _c.createElement("div",Ud({},j,{ref:_}),I)}const C5=M.forwardRef(P5),Zh=w5(function({position:r,...n},a){const o=new Zl.Marker(r,n);return Ou(o,Iu(a,{overlayContainer:o}))},function(r,n,a){n.position!==a.position&&r.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&r.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&r.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&r.setOpacity(n.opacity),r.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?r.dragging.enable():r.dragging.disable())}),Gh=N5(function({url:r,...n},a){const o=new Zl.TileLayer(r,fg(n,a));return Ou(o,a)},function(r,n,a){_5(r,n,a);const{url:o}=n;o!=null&&o!==a.url&&r.setUrl(o)}),L5="modulepreload",A5=function(s){return"/"+s},Yh={},$d=function(r,n,a){let o=Promise.resolve();if(n&&n.length>0){let u=function(x){return Promise.all(x.map(w=>Promise.resolve(w).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=u(n.map(x=>{if(x=A5(x),x in Yh)return;Yh[x]=!0;const w=x.endsWith(".css"),v=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${v}`))return;const j=document.createElement("link");if(j.rel=w?"stylesheet":L5,w||(j.as="script"),j.crossOrigin="",j.href=x,f&&j.setAttribute("nonce",f),document.head.appendChild(j),w)return new Promise((p,k)=>{j.addEventListener("load",p),j.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${x}`)))})}))}function l(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return o.then(d=>{for(const f of d||[])f.status==="rejected"&&l(f.reason);return r().catch(l)})};function ys(s){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ys(s)}var Ur=Uint8Array,Ln=Uint16Array,Fu=Int32Array,Wc=new Ur([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vc=new Ur([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Wd=new Ur([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gg=function(s,r){for(var n=new Ln(31),a=0;a<31;++a)n[a]=r+=1<<s[a-1];for(var o=new Fu(n[30]),a=1;a<30;++a)for(var l=n[a];l<n[a+1];++l)o[l]=l-n[a]<<5|a;return{b:n,r:o}},xg=gg(Wc,2),vg=xg.b,Vd=xg.r;vg[28]=258,Vd[258]=28;var yg=gg(Vc,0),T5=yg.b,Kh=yg.r,Zd=new Ln(32768);for(var Ts=0;Ts<32768;++Ts){var bi=(Ts&43690)>>1|(Ts&21845)<<1;bi=(bi&52428)>>2|(bi&13107)<<2,bi=(bi&61680)>>4|(bi&3855)<<4,Zd[Ts]=((bi&65280)>>8|(bi&255)<<8)>>1}var Ia=function(s,r,n){for(var a=s.length,o=0,l=new Ln(r);o<a;++o)s[o]&&++l[s[o]-1];var d=new Ln(r);for(o=1;o<r;++o)d[o]=d[o-1]+l[o-1]<<1;var f;if(n){f=new Ln(1<<r);var u=15-r;for(o=0;o<a;++o)if(s[o])for(var x=o<<4|s[o],w=r-s[o],v=d[s[o]-1]++<<w,j=v|(1<<w)-1;v<=j;++v)f[Zd[v]>>u]=x}else for(f=new Ln(a),o=0;o<a;++o)s[o]&&(f[o]=Zd[d[s[o]-1]++]>>15-s[o]);return f},Mi=new Ur(288);for(var Ts=0;Ts<144;++Ts)Mi[Ts]=8;for(var Ts=144;Ts<256;++Ts)Mi[Ts]=9;for(var Ts=256;Ts<280;++Ts)Mi[Ts]=7;for(var Ts=280;Ts<288;++Ts)Mi[Ts]=8;var Fl=new Ur(32);for(var Ts=0;Ts<32;++Ts)Fl[Ts]=5;var E5=Ia(Mi,9,0),M5=Ia(Mi,9,1),I5=Ia(Fl,5,0),R5=Ia(Fl,5,1),yd=function(s){for(var r=s[0],n=1;n<s.length;++n)s[n]>r&&(r=s[n]);return r},na=function(s,r,n){var a=r/8|0;return(s[a]|s[a+1]<<8)>>(r&7)&n},bd=function(s,r){var n=r/8|0;return(s[n]|s[n+1]<<8|s[n+2]<<16)>>(r&7)},zu=function(s){return(s+7)/8|0},bg=function(s,r,n){return(n==null||n>s.length)&&(n=s.length),new Ur(s.subarray(r,n))},O5=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],oa=function(s,r,n){var a=new Error(r||O5[s]);if(a.code=s,Error.captureStackTrace&&Error.captureStackTrace(a,oa),!n)throw a;return a},D5=function(s,r,n,a){var o=s.length,l=0;if(!o||r.f&&!r.l)return n||new Ur(0);var d=!n,f=d||r.i!=2,u=r.i;d&&(n=new Ur(o*3));var x=function(pe){var Ae=n.length;if(pe>Ae){var Re=new Ur(Math.max(Ae*2,pe));Re.set(n),n=Re}},w=r.f||0,v=r.p||0,j=r.b||0,p=r.l,k=r.d,_=r.m,I=r.n,S=o*8;do{if(!p){w=na(s,v,1);var N=na(s,v+1,3);if(v+=3,N)if(N==1)p=M5,k=R5,_=9,I=5;else if(N==2){var ee=na(s,v,31)+257,$=na(s,v+10,15)+4,U=ee+na(s,v+5,31)+1;v+=14;for(var Y=new Ur(U),ie=new Ur(19),E=0;E<$;++E)ie[Wd[E]]=na(s,v+E*3,7);v+=$*3;for(var T=yd(ie),z=(1<<T)-1,F=Ia(ie,T,1),E=0;E<U;){var le=F[na(s,v,z)];v+=le&15;var A=le>>4;if(A<16)Y[E++]=A;else{var X=0,O=0;for(A==16?(O=3+na(s,v,3),v+=2,X=Y[E-1]):A==17?(O=3+na(s,v,7),v+=3):A==18&&(O=11+na(s,v,127),v+=7);O--;)Y[E++]=X}}var G=Y.subarray(0,ee),J=Y.subarray(ee);_=yd(G),I=yd(J),p=Ia(G,_,1),k=Ia(J,I,1)}else oa(1);else{var A=zu(v)+4,D=s[A-4]|s[A-3]<<8,q=A+D;if(q>o){u&&oa(0);break}f&&x(j+D),n.set(s.subarray(A,q),j),r.b=j+=D,r.p=v=q*8,r.f=w;continue}if(v>S){u&&oa(0);break}}f&&x(j+131072);for(var ce=(1<<_)-1,ve=(1<<I)-1,R=v;;R=v){var X=p[bd(s,v)&ce],K=X>>4;if(v+=X&15,v>S){u&&oa(0);break}if(X||oa(2),K<256)n[j++]=K;else if(K==256){R=v,p=null;break}else{var Q=K-254;if(K>264){var E=K-257,se=Wc[E];Q=na(s,v,(1<<se)-1)+vg[E],v+=se}var ae=k[bd(s,v)&ve],he=ae>>4;ae||oa(3),v+=ae&15;var J=T5[he];if(he>3){var se=Vc[he];J+=bd(s,v)&(1<<se)-1,v+=se}if(v>S){u&&oa(0);break}f&&x(j+131072);var we=j+Q;if(j<J){var fe=l-J,ge=Math.min(J,we);for(fe+j<0&&oa(3);j<ge;++j)n[j]=a[fe+j]}for(;j<we;++j)n[j]=n[j-J]}}r.l=p,r.p=R,r.b=j,r.f=w,p&&(w=1,r.m=_,r.d=k,r.n=I)}while(!w);return j!=n.length&&d?bg(n,0,j):n.subarray(0,j)},Za=function(s,r,n){n<<=r&7;var a=r/8|0;s[a]|=n,s[a+1]|=n>>8},bl=function(s,r,n){n<<=r&7;var a=r/8|0;s[a]|=n,s[a+1]|=n>>8,s[a+2]|=n>>16},wd=function(s,r){for(var n=[],a=0;a<s.length;++a)s[a]&&n.push({s:a,f:s[a]});var o=n.length,l=n.slice();if(!o)return{t:Ng,l:0};if(o==1){var d=new Ur(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function(q,ee){return q.f-ee.f}),n.push({s:-1,f:25001});var f=n[0],u=n[1],x=0,w=1,v=2;for(n[0]={s:-1,f:f.f+u.f,l:f,r:u};w!=o-1;)f=n[n[x].f<n[v].f?x++:v++],u=n[x!=w&&n[x].f<n[v].f?x++:v++],n[w++]={s:-1,f:f.f+u.f,l:f,r:u};for(var j=l[0].s,a=1;a<o;++a)l[a].s>j&&(j=l[a].s);var p=new Ln(j+1),k=Gd(n[w-1],p,0);if(k>r){var a=0,_=0,I=k-r,S=1<<I;for(l.sort(function(ee,$){return p[$.s]-p[ee.s]||ee.f-$.f});a<o;++a){var N=l[a].s;if(p[N]>r)_+=S-(1<<k-p[N]),p[N]=r;else break}for(_>>=I;_>0;){var A=l[a].s;p[A]<r?_-=1<<r-p[A]++-1:++a}for(;a>=0&&_;--a){var D=l[a].s;p[D]==r&&(--p[D],++_)}k=r}return{t:new Ur(p),l:k}},Gd=function(s,r,n){return s.s==-1?Math.max(Gd(s.l,r,n+1),Gd(s.r,r,n+1)):r[s.s]=n},Jh=function(s){for(var r=s.length;r&&!s[--r];);for(var n=new Ln(++r),a=0,o=s[0],l=1,d=function(u){n[a++]=u},f=1;f<=r;++f)if(s[f]==o&&f!=r)++l;else{if(!o&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(o),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(o);l=1,o=s[f]}return{c:n.subarray(0,a),n:r}},wl=function(s,r){for(var n=0,a=0;a<r.length;++a)n+=s[a]*r[a];return n},wg=function(s,r,n){var a=n.length,o=zu(r+2);s[o]=a&255,s[o+1]=a>>8,s[o+2]=s[o]^255,s[o+3]=s[o+1]^255;for(var l=0;l<a;++l)s[o+l+4]=n[l];return(o+4+a)*8},Qh=function(s,r,n,a,o,l,d,f,u,x,w){Za(r,w++,n),++o[256];for(var v=wd(o,15),j=v.t,p=v.l,k=wd(l,15),_=k.t,I=k.l,S=Jh(j),N=S.c,A=S.n,D=Jh(_),q=D.c,ee=D.n,$=new Ln(19),U=0;U<N.length;++U)++$[N[U]&31];for(var U=0;U<q.length;++U)++$[q[U]&31];for(var Y=wd($,7),ie=Y.t,E=Y.l,T=19;T>4&&!ie[Wd[T-1]];--T);var z=x+5<<3,F=wl(o,Mi)+wl(l,Fl)+d,le=wl(o,j)+wl(l,_)+d+14+3*T+wl($,ie)+2*$[16]+3*$[17]+7*$[18];if(u>=0&&z<=F&&z<=le)return wg(r,w,s.subarray(u,u+x));var X,O,G,J;if(Za(r,w,1+(le<F)),w+=2,le<F){X=Ia(j,p,0),O=j,G=Ia(_,I,0),J=_;var ce=Ia(ie,E,0);Za(r,w,A-257),Za(r,w+5,ee-1),Za(r,w+10,T-4),w+=14;for(var U=0;U<T;++U)Za(r,w+3*U,ie[Wd[U]]);w+=3*T;for(var ve=[N,q],R=0;R<2;++R)for(var K=ve[R],U=0;U<K.length;++U){var Q=K[U]&31;Za(r,w,ce[Q]),w+=ie[Q],Q>15&&(Za(r,w,K[U]>>5&127),w+=K[U]>>12)}}else X=E5,O=Mi,G=I5,J=Fl;for(var U=0;U<f;++U){var se=a[U];if(se>255){var Q=se>>18&31;bl(r,w,X[Q+257]),w+=O[Q+257],Q>7&&(Za(r,w,se>>23&31),w+=Wc[Q]);var ae=se&31;bl(r,w,G[ae]),w+=J[ae],ae>3&&(bl(r,w,se>>5&8191),w+=Vc[ae])}else bl(r,w,X[se]),w+=O[se]}return bl(r,w,X[256]),w+O[256]},F5=new Fu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ng=new Ur(0),z5=function(s,r,n,a,o,l){var d=l.z||s.length,f=new Ur(a+d+5*(1+Math.ceil(d/7e3))+o),u=f.subarray(a,f.length-o),x=l.l,w=(l.r||0)&7;if(r){w&&(u[0]=l.r>>3);for(var v=F5[r-1],j=v>>13,p=v&8191,k=(1<<n)-1,_=l.p||new Ln(32768),I=l.h||new Ln(k+1),S=Math.ceil(n/3),N=2*S,A=function(We){return(s[We]^s[We+1]<<S^s[We+2]<<N)&k},D=new Fu(25e3),q=new Ln(288),ee=new Ln(32),$=0,U=0,Y=l.i||0,ie=0,E=l.w||0,T=0;Y+2<d;++Y){var z=A(Y),F=Y&32767,le=I[z];if(_[F]=le,I[z]=F,E<=Y){var X=d-Y;if(($>7e3||ie>24576)&&(X>423||!x)){w=Qh(s,u,0,D,q,ee,U,ie,T,Y-T,w),ie=$=U=0,T=Y;for(var O=0;O<286;++O)q[O]=0;for(var O=0;O<30;++O)ee[O]=0}var G=2,J=0,ce=p,ve=F-le&32767;if(X>2&&z==A(Y-ve))for(var R=Math.min(j,X)-1,K=Math.min(32767,Y),Q=Math.min(258,X);ve<=K&&--ce&&F!=le;){if(s[Y+G]==s[Y+G-ve]){for(var se=0;se<Q&&s[Y+se]==s[Y+se-ve];++se);if(se>G){if(G=se,J=ve,se>R)break;for(var ae=Math.min(ve,se-2),he=0,O=0;O<ae;++O){var we=Y-ve+O&32767,fe=_[we],ge=we-fe&32767;ge>he&&(he=ge,le=we)}}}F=le,le=_[F],ve+=F-le&32767}if(J){D[ie++]=268435456|Vd[G]<<18|Kh[J];var pe=Vd[G]&31,Ae=Kh[J]&31;U+=Wc[pe]+Vc[Ae],++q[257+pe],++ee[Ae],E=Y+G,++$}else D[ie++]=s[Y],++q[s[Y]]}}for(Y=Math.max(Y,E);Y<d;++Y)D[ie++]=s[Y],++q[s[Y]];w=Qh(s,u,x,D,q,ee,U,ie,T,Y-T,w),x||(l.r=w&7|u[w/8|0]<<3,w-=7,l.h=I,l.p=_,l.i=Y,l.w=E)}else{for(var Y=l.w||0;Y<d+x;Y+=65535){var Re=Y+65535;Re>=d&&(u[w/8|0]=x,Re=d),w=wg(u,w+1,s.subarray(Y,Re))}l.i=d}return bg(f,0,a+zu(w)+o)},_g=function(){var s=1,r=0;return{p:function(n){for(var a=s,o=r,l=n.length|0,d=0;d!=l;){for(var f=Math.min(d+2655,l);d<f;++d)o+=a+=n[d];a=(a&65535)+15*(a>>16),o=(o&65535)+15*(o>>16)}s=a,r=o},d:function(){return s%=65521,r%=65521,(s&255)<<24|(s&65280)<<8|(r&255)<<8|r>>8}}},B5=function(s,r,n,a,o){if(!o&&(o={l:1},r.dictionary)){var l=r.dictionary.subarray(-32768),d=new Ur(l.length+s.length);d.set(l),d.set(s,l.length),s=d,o.w=l.length}return z5(s,r.level==null?6:r.level,r.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+r.mem,n,a,o)},jg=function(s,r,n){for(;n;++r)s[r]=n,n>>>=8},q5=function(s,r){var n=r.level,a=n==0?0:n<6?1:n==9?3:2;if(s[0]=120,s[1]=a<<6|(r.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,r.dictionary){var o=_g();o.p(r.dictionary),jg(s,2,o.d())}},H5=function(s,r){return((s[0]&15)!=8||s[0]>>4>7||(s[0]<<8|s[1])%31)&&oa(6,"invalid zlib data"),(s[1]>>5&1)==1&&oa(6,"invalid zlib data: "+(s[1]&32?"need":"unexpected")+" dictionary"),(s[1]>>3&4)+2};function Yd(s,r){r||(r={});var n=_g();n.p(s);var a=B5(s,r,r.dictionary?6:2,4);return q5(a,r),jg(a,a.length-4,n.d()),a}function U5(s,r){return D5(s.subarray(H5(s),-4),{i:2},r,r)}var $5=typeof TextDecoder<"u"&&new TextDecoder,W5=0;try{$5.decode(Ng,{stream:!0}),W5=1}catch{}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Nd(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Ps={log:Nd,warn:function(s){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):Nd.call(null,arguments))},error:function(s){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):Nd(s))}};function _d(s,r,n){var a=new XMLHttpRequest;a.open("GET",s),a.responseType="blob",a.onload=function(){no(a.response,r,n)},a.onerror=function(){Ps.error("could not download file")},a.send()}function Xh(s){var r=new XMLHttpRequest;r.open("HEAD",s,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function fc(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(r)}}var Cl,Kd,no=St.saveAs||((typeof window>"u"?"undefined":ys(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,r,n){var a=St.URL||St.webkitURL,o=document.createElement("a");r=r||s.name||"download",o.download=r,o.rel="noopener",typeof s=="string"?(o.href=s,o.origin!==location.origin?Xh(o.href)?_d(s,r,n):fc(o,o.target="_blank"):fc(o)):(o.href=a.createObjectURL(s),setTimeout(function(){a.revokeObjectURL(o.href)},4e4),setTimeout(function(){fc(o)},0))}:"msSaveOrOpenBlob"in navigator?function(s,r,n){if(r=r||s.name||"download",typeof s=="string")if(Xh(s))_d(s,r,n);else{var a=document.createElement("a");a.href=s,a.target="_blank",setTimeout(function(){fc(a)})}else navigator.msSaveOrOpenBlob(function(o,l){return l===void 0?l={autoBom:!1}:ys(l)!=="object"&&(Ps.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(s,n),r)}:function(s,r,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof s=="string")return _d(s,r,n);var o=s.type==="application/octet-stream",l=/constructor/i.test(St.HTMLElement)||St.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||o&&l)&&(typeof FileReader>"u"?"undefined":ys(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var w=f.result;w=d?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=w:location=w,a=null},f.readAsDataURL(s)}else{var u=St.URL||St.webkitURL,x=u.createObjectURL(s);a?a.location=x:location.href=x,a=null,setTimeout(function(){u.revokeObjectURL(x)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Sg(s){var r;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],a=0;a<n.length;a++){var o=n[a].re,l=n[a].process,d=o.exec(s);d&&(r=l(d),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),u=this.g.toString(16),x=this.b.toString(16);return f.length==1&&(f="0"+f),u.length==1&&(u="0"+u),x.length==1&&(x="0"+x),"#"+f+u+x}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jd(s,r){var n=s[0],a=s[1],o=s[2],l=s[3];n=zr(n,a,o,l,r[0],7,-680876936),l=zr(l,n,a,o,r[1],12,-389564586),o=zr(o,l,n,a,r[2],17,606105819),a=zr(a,o,l,n,r[3],22,-1044525330),n=zr(n,a,o,l,r[4],7,-176418897),l=zr(l,n,a,o,r[5],12,1200080426),o=zr(o,l,n,a,r[6],17,-1473231341),a=zr(a,o,l,n,r[7],22,-45705983),n=zr(n,a,o,l,r[8],7,1770035416),l=zr(l,n,a,o,r[9],12,-1958414417),o=zr(o,l,n,a,r[10],17,-42063),a=zr(a,o,l,n,r[11],22,-1990404162),n=zr(n,a,o,l,r[12],7,1804603682),l=zr(l,n,a,o,r[13],12,-40341101),o=zr(o,l,n,a,r[14],17,-1502002290),n=Br(n,a=zr(a,o,l,n,r[15],22,1236535329),o,l,r[1],5,-165796510),l=Br(l,n,a,o,r[6],9,-1069501632),o=Br(o,l,n,a,r[11],14,643717713),a=Br(a,o,l,n,r[0],20,-373897302),n=Br(n,a,o,l,r[5],5,-701558691),l=Br(l,n,a,o,r[10],9,38016083),o=Br(o,l,n,a,r[15],14,-660478335),a=Br(a,o,l,n,r[4],20,-405537848),n=Br(n,a,o,l,r[9],5,568446438),l=Br(l,n,a,o,r[14],9,-1019803690),o=Br(o,l,n,a,r[3],14,-187363961),a=Br(a,o,l,n,r[8],20,1163531501),n=Br(n,a,o,l,r[13],5,-1444681467),l=Br(l,n,a,o,r[2],9,-51403784),o=Br(o,l,n,a,r[7],14,1735328473),n=qr(n,a=Br(a,o,l,n,r[12],20,-1926607734),o,l,r[5],4,-378558),l=qr(l,n,a,o,r[8],11,-2022574463),o=qr(o,l,n,a,r[11],16,1839030562),a=qr(a,o,l,n,r[14],23,-35309556),n=qr(n,a,o,l,r[1],4,-1530992060),l=qr(l,n,a,o,r[4],11,1272893353),o=qr(o,l,n,a,r[7],16,-155497632),a=qr(a,o,l,n,r[10],23,-1094730640),n=qr(n,a,o,l,r[13],4,681279174),l=qr(l,n,a,o,r[0],11,-358537222),o=qr(o,l,n,a,r[3],16,-722521979),a=qr(a,o,l,n,r[6],23,76029189),n=qr(n,a,o,l,r[9],4,-640364487),l=qr(l,n,a,o,r[12],11,-421815835),o=qr(o,l,n,a,r[15],16,530742520),n=Hr(n,a=qr(a,o,l,n,r[2],23,-995338651),o,l,r[0],6,-198630844),l=Hr(l,n,a,o,r[7],10,1126891415),o=Hr(o,l,n,a,r[14],15,-1416354905),a=Hr(a,o,l,n,r[5],21,-57434055),n=Hr(n,a,o,l,r[12],6,1700485571),l=Hr(l,n,a,o,r[3],10,-1894986606),o=Hr(o,l,n,a,r[10],15,-1051523),a=Hr(a,o,l,n,r[1],21,-2054922799),n=Hr(n,a,o,l,r[8],6,1873313359),l=Hr(l,n,a,o,r[15],10,-30611744),o=Hr(o,l,n,a,r[6],15,-1560198380),a=Hr(a,o,l,n,r[13],21,1309151649),n=Hr(n,a,o,l,r[4],6,-145523070),l=Hr(l,n,a,o,r[11],10,-1120210379),o=Hr(o,l,n,a,r[2],15,718787259),a=Hr(a,o,l,n,r[9],21,-343485551),s[0]=ji(n,s[0]),s[1]=ji(a,s[1]),s[2]=ji(o,s[2]),s[3]=ji(l,s[3])}function Zc(s,r,n,a,o,l){return r=ji(ji(r,s),ji(a,l)),ji(r<<o|r>>>32-o,n)}function zr(s,r,n,a,o,l,d){return Zc(r&n|~r&a,s,r,o,l,d)}function Br(s,r,n,a,o,l,d){return Zc(r&a|n&~a,s,r,o,l,d)}function qr(s,r,n,a,o,l,d){return Zc(r^n^a,s,r,o,l,d)}function Hr(s,r,n,a,o,l,d){return Zc(n^(r|~a),s,r,o,l,d)}function kg(s){var r,n=s.length,a=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=s.length;r+=64)jd(a,V5(s.substring(r-64,r)));s=s.substring(r-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<s.length;r++)o[r>>2]|=s.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(jd(a,o),r=0;r<16;r++)o[r]=0;return o[14]=8*n,jd(a,o),a}function V5(s){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=s.charCodeAt(r)+(s.charCodeAt(r+1)<<8)+(s.charCodeAt(r+2)<<16)+(s.charCodeAt(r+3)<<24);return n}Cl=St.atob.bind(St),Kd=St.btoa.bind(St);var ef="0123456789abcdef".split("");function Z5(s){for(var r="",n=0;n<4;n++)r+=ef[s>>8*n+4&15]+ef[s>>8*n&15];return r}function G5(s){return String.fromCharCode((255&s)>>0,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function Jd(s){return kg(s).map(G5).join("")}var Y5=function(s){for(var r=0;r<s.length;r++)s[r]=Z5(s[r]);return s.join("")}(kg("hello"))!="5d41402abc4b2a76b9719d911017c592";function ji(s,r){if(Y5){var n=(65535&s)+(65535&r);return(s>>16)+(r>>16)+(n>>16)<<16|65535&n}return s+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Qd(s,r){var n,a,o,l;if(s!==n){for(var d=(o=s,l=1+(256/s.length>>0),new Array(l+1).join(o)),f=[],u=0;u<256;u++)f[u]=u;var x=0;for(u=0;u<256;u++){var w=f[u];x=(x+w+d.charCodeAt(u))%256,f[u]=f[x],f[x]=w}n=s,a=f}else f=a;var v=r.length,j=0,p=0,k="";for(u=0;u<v;u++)p=(p+(w=f[j=(j+1)%256]))%256,f[j]=f[p],f[p]=w,d=f[(f[j]+f[p])%256],k+=String.fromCharCode(r.charCodeAt(u)^d);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tf={print:4,modify:8,copy:16,"annot-forms":32};function Wo(s,r,n,a){this.v=1,this.r=2;var o=192;s.forEach(function(f){if(tf.perm!==void 0)throw new Error("Invalid permission: "+f);o+=tf[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(r+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^o)),this.encryptionKey=Jd(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Qd(this.encryptionKey,this.padding)}function Vo(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var r="",n=s.length,a=0;a<n;a++){var o=s.charCodeAt(a);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?r+="#"+("0"+o.toString(16)).slice(-2):r+=s[a]}return r}function sf(s){if(ys(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,a,o){if(o=o||!1,typeof n!="string"||typeof a!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var l=Math.random().toString(35);return r[n][l]=[a,!!o],l},this.unsubscribe=function(n){for(var a in r)if(r[a][n])return delete r[a][n],Object.keys(r[a]).length===0&&delete r[a],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),o=[];for(var l in r[n]){var d=r[n][l];try{d[0].apply(s,a)}catch(f){St.console&&Ps.error("jsPDF PubSub Error",f.message,f)}d[1]&&o.push(l)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function zl(s){if(!(this instanceof zl))return new zl(s);var r="opacity,stroke-opacity".split(",");for(var n in s)s.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=s[n]);this.id="",this.objectNumber=-1}function Pg(s,r){this.gState=s,this.matrix=r,this.id="",this.objectNumber=-1}function _i(s,r,n,a,o){if(!(this instanceof _i))return new _i(s,r,n,a,o);this.type=s==="axial"?2:3,this.coords=r,this.colors=n,Pg.call(this,a,o)}function io(s,r,n,a,o){if(!(this instanceof io))return new io(s,r,n,a,o);this.boundingBox=s,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,Pg.call(this,a,o)}function wt(s){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],o=arguments[2],l=arguments[3],d=[],f=1,u=16,x="S",w=null;ys(s=s||{})==="object"&&(n=s.orientation,a=s.unit||a,o=s.format||o,l=s.compress||s.compressPdf||l,(w=s.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),f=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(r=s.precision),s.floatPrecision!==void 0&&(u=s.floatPrecision),x=s.defaultPathOperation||"S"),d=s.filters||(l===!0?["FlateEncode"]:d),a=a||"mm",n=(""+(n||"P")).toLowerCase();var v=s.putOnlyUsedFonts||!1,j={},p={internal:{},__private__:{}};p.__private__.PubSub=sf;var k="1.3",_=p.__private__.getPdfVersion=function(){return k};p.__private__.setPdfVersion=function(g){k=g};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return I};var S=p.__private__.getPageFormat=function(g){return I[g]};o=o||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},A=N.COMPAT;function D(){this.saveGraphicsState(),ue(new gt(Ge,0,0,-Ge,0,ya()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),x="n",A=N.ADVANCED}function q(){this.restoreGraphicsState(),x="S",A=N.COMPAT}var ee=p.__private__.combineFontStyleAndFontWeight=function(g,H){if(g=="bold"&&H=="normal"||g=="bold"&&H==400||g=="normal"&&H=="italic"||g=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(g=H==400||H==="normal"?g==="italic"?"italic":"normal":H!=700&&H!=="bold"||g!=="normal"?(H==700?"bold":H)+""+g:"bold"),g};p.advancedAPI=function(g){var H=A===N.COMPAT;return H&&D.call(this),typeof g!="function"||(g(this),H&&q.call(this)),this},p.compatAPI=function(g){var H=A===N.ADVANCED;return H&&q.call(this),typeof g!="function"||(g(this),H&&D.call(this)),this},p.isAdvancedAPI=function(){return A===N.ADVANCED};var $,U=function(g){if(A!==N.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=p.roundToPrecision=p.__private__.roundToPrecision=function(g,H){var de=r||H;if(isNaN(g)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(de).replace(/0+$/,"")};$=p.hpf=p.__private__.hpf=typeof u=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,u)}:u==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,16)};var ie=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Y(g,2)},E=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Y(g,3)},T=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return A===N.COMPAT?g*Ge:A===N.ADVANCED?g:void 0},z=function(g){return A===N.COMPAT?ya()-g:A===N.ADVANCED?g:void 0},F=function(g){return T(z(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(r=parseInt(g,10))};var le,X="00000000000000000000000000000000",O=p.__private__.getFileId=function(){return X},G=p.__private__.setFileId=function(g){return X=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&($s=new Wo(w.userPermissions,w.userPassword,w.ownerPassword,X)),X};p.setFileId=function(g){return G(g),this},p.getFileId=function(){return O()};var J=p.__private__.convertDateToPDFDate=function(g){var H=g.getTimezoneOffset(),de=H<0?"+":"-",xe=Math.floor(Math.abs(H/60)),je=Math.abs(H%60),Ee=[de,Q(xe),"'",Q(je),"'"].join("");return["D:",g.getFullYear(),Q(g.getMonth()+1),Q(g.getDate()),Q(g.getHours()),Q(g.getMinutes()),Q(g.getSeconds()),Ee].join("")},ce=p.__private__.convertPDFDateToDate=function(g){var H=parseInt(g.substr(2,4),10),de=parseInt(g.substr(6,2),10)-1,xe=parseInt(g.substr(8,2),10),je=parseInt(g.substr(10,2),10),Ee=parseInt(g.substr(12,2),10),qe=parseInt(g.substr(14,2),10);return new Date(H,de,xe,je,Ee,qe,0)},ve=p.__private__.setCreationDate=function(g){var H;if(g===void 0&&(g=new Date),g instanceof Date)H=J(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=g}return le=H},R=p.__private__.getCreationDate=function(g){var H=le;return g==="jsDate"&&(H=ce(le)),H};p.setCreationDate=function(g){return ve(g),this},p.getCreationDate=function(g){return R(g)};var K,Q=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},se=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ae=0,he=[],we=[],fe=0,ge=[],pe=[],Ae=!1,Re=we,We=function(){ae=0,fe=0,we=[],he=[],ge=[],tt=ne(),ot=ne()};p.__private__.setCustomOutputDestination=function(g){Ae=!0,Re=g};var Ce=function(g){Ae||(Re=g)};p.__private__.resetCustomOutputDestination=function(){Ae=!1,Re=we};var ue=p.__private__.out=function(g){return g=g.toString(),fe+=g.length+1,Re.push(g),Re},lt=p.__private__.write=function(g){return ue(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},et=p.__private__.getArrayBuffer=function(g){for(var H=g.length,de=new ArrayBuffer(H),xe=new Uint8Array(de);H--;)xe[H]=g.charCodeAt(H);return de},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return He};var $e=s.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return $e=A===N.ADVANCED?g/Ge:g,this};var Ze,Ve=p.__private__.getFontSize=p.getFontSize=function(){return A===N.COMPAT?$e:$e*Ge},at=s.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return at=g,this},p.__private__.getR2L=p.getR2L=function(){return at};var xt,_t=p.__private__.setZoomMode=function(g){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ze=g;else if(isNaN(g)){if(H.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ze=g}else Ze=parseInt(g,10)};p.__private__.getZoomMode=function(){return Ze};var Lt,Ut=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');xt=g};p.__private__.getPageMode=function(){return xt};var Qt=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Lt=g};p.__private__.getLayoutMode=function(){return Lt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,H,de){return _t(g),Qt(H),Ut(de),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(vt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[g]},p.__private__.getDocumentProperties=function(){return vt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var H in vt)vt.hasOwnProperty(H)&&g[H]&&(vt[H]=g[H]);return this},p.__private__.setDocumentProperty=function(g,H){if(Object.keys(vt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[g]=H};var Rt,Ge,Ks,Bt,Nr,ss={},bs={},ur=[],Xt={},Vn={},_s={},Er={},Mr=null,ws=0,ft=[],es=new sf(p),Zn=s.hotfixes||[],Hs={},nn={},Ir=[],gt=function g(H,de,xe,je,Ee,qe){if(!(this instanceof g))return new g(H,de,xe,je,Ee,qe);isNaN(H)&&(H=1),isNaN(de)&&(de=0),isNaN(xe)&&(xe=0),isNaN(je)&&(je=1),isNaN(Ee)&&(Ee=0),isNaN(qe)&&(qe=0),this._matrix=[H,de,xe,je,Ee,qe]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(g)},gt.prototype.multiply=function(g){var H=g.sx*this.sx+g.shy*this.shx,de=g.sx*this.shy+g.shy*this.sy,xe=g.shx*this.sx+g.sy*this.shx,je=g.shx*this.shy+g.sy*this.sy,Ee=g.tx*this.sx+g.ty*this.shx+this.tx,qe=g.tx*this.shy+g.ty*this.sy+this.ty;return new gt(H,de,xe,je,Ee,qe)},gt.prototype.decompose=function(){var g=this.sx,H=this.shy,de=this.shx,xe=this.sy,je=this.tx,Ee=this.ty,qe=Math.sqrt(g*g+H*H),Ke=(g/=qe)*de+(H/=qe)*xe;de-=g*Ke,xe-=H*Ke;var st=Math.sqrt(de*de+xe*xe);return Ke/=st,g*(xe/=st)<H*(de/=st)&&(g=-g,H=-H,Ke=-Ke,qe=-qe),{scale:new gt(qe,0,0,st,0,0),translate:new gt(1,0,0,1,je,Ee),rotate:new gt(g,H,-H,g,0,0),skew:new gt(1,0,Ke,1,0,0)}},gt.prototype.toString=function(g){return this.join(" ")},gt.prototype.inversed=function(){var g=this.sx,H=this.shy,de=this.shx,xe=this.sy,je=this.tx,Ee=this.ty,qe=1/(g*xe-H*de),Ke=xe*qe,st=-H*qe,Et=-de*qe,Ct=g*qe;return new gt(Ke,st,Et,Ct,-Ke*je-Et*Ee,-st*je-Ct*Ee)},gt.prototype.applyToPoint=function(g){var H=g.x*this.sx+g.y*this.shx+this.tx,de=g.x*this.shy+g.y*this.sy+this.ty;return new Ha(H,de)},gt.prototype.applyToRectangle=function(g){var H=this.applyToPoint(g),de=this.applyToPoint(new Ha(g.x+g.w,g.y+g.h));return new cn(H.x,H.y,de.x-H.x,de.y-H.y)},gt.prototype.clone=function(){var g=this.sx,H=this.shy,de=this.shx,xe=this.sy,je=this.tx,Ee=this.ty;return new gt(g,H,de,xe,je,Ee)},p.Matrix=gt;var $r=p.matrixMult=function(g,H){return H.multiply(g)},Wr=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Wr;var Js=function(g,H){if(!Vn[g]){var de=(H instanceof _i?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);H.id=de,Vn[g]=de,Xt[de]=H,es.publish("addPattern",H)}};p.ShadingPattern=_i,p.TilingPattern=io,p.addShadingPattern=function(g,H){return U("addShadingPattern()"),Js(g,H),this},p.beginTilingPattern=function(g){U("beginTilingPattern()"),Wi(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,H){U("endTilingPattern()"),H.stream=pe[K].join(`
`),Js(g,H),es.publish("endTilingPattern",H),Ir.pop().restore()};var as=p.__private__.newObject=function(){var g=ne();return Te(g,!0),g},ne=p.__private__.newObjectDeferred=function(){return ae++,he[ae]=function(){return fe},ae},Te=function(g,H){return H=typeof H=="boolean"&&H,he[g]=fe,H&&ue(g+" 0 obj"),g},Ue=p.__private__.newAdditionalObject=function(){var g={objId:ne(),content:""};return ge.push(g),g},tt=ne(),ot=ne(),qt=p.__private__.decodeColorString=function(g){var H=g.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var de=parseFloat(H[0]);H=[de,de,de,"r"]}for(var xe="#",je=0;je<3;je++)xe+=("0"+Math.floor(255*parseFloat(H[je])).toString(16)).slice(-2);return xe},yt=p.__private__.encodeColorString=function(g){var H;typeof g=="string"&&(g={ch1:g});var de=g.ch1,xe=g.ch2,je=g.ch3,Ee=g.ch4,qe=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var Ke=new Sg(de);if(Ke.ok)de=Ke.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var st=parseInt(de.substr(1),16);de=st>>16&255,xe=st>>8&255,je=255&st}if(xe===void 0||Ee===void 0&&de===xe&&xe===je)if(typeof de=="string")H=de+" "+qe[0];else switch(g.precision){case 2:H=ie(de/255)+" "+qe[0];break;case 3:default:H=E(de/255)+" "+qe[0]}else if(Ee===void 0||ys(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return H=["1.","1.","1.",qe[1]].join(" ");if(typeof de=="string")H=[de,xe,je,qe[1]].join(" ");else switch(g.precision){case 2:H=[ie(de/255),ie(xe/255),ie(je/255),qe[1]].join(" ");break;default:case 3:H=[E(de/255),E(xe/255),E(je/255),qe[1]].join(" ")}}else if(typeof de=="string")H=[de,xe,je,Ee,qe[2]].join(" ");else switch(g.precision){case 2:H=[ie(de),ie(xe),ie(je),ie(Ee),qe[2]].join(" ");break;case 3:default:H=[E(de),E(xe),E(je),E(Ee),qe[2]].join(" ")}return H},jt=p.__private__.getFilters=function(){return d},kt=p.__private__.putStream=function(g){var H=(g=g||{}).data||"",de=g.filters||jt(),xe=g.alreadyAppliedFilters||[],je=g.addLength1||!1,Ee=H.length,qe=g.objectId,Ke=function(mr){return mr};if(w!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(Ke=$s.encryptor(qe,0));var st={};de===!0&&(de=["FlateEncode"]);var Et=g.additionalKeyValues||[],Ct=(st=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(H,de):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(st.data.length!==0&&(Et.push({key:"Length",value:st.data.length}),je===!0&&Et.push({key:"Length1",value:Ee})),Ct.length!=0)if(Ct.split("/").length-1==1)Et.push({key:"Filter",value:Ct});else{Et.push({key:"Filter",value:"["+Ct+"]"});for(var Yt=0;Yt<Et.length;Yt+=1)if(Et[Yt].key==="DecodeParms"){for(var Ss=[],Cs=0;Cs<st.reverseChain.split("/").length-1;Cs+=1)Ss.push("null");Ss.push(Et[Yt].value),Et[Yt].value="["+Ss.join(" ")+"]"}}ue("<<");for(var Fs=0;Fs<Et.length;Fs++)ue("/"+Et[Fs].key+" "+Et[Fs].value);ue(">>"),st.data.length!==0&&(ue("stream"),ue(Ke(st.data)),ue("endstream"))},Zt=p.__private__.putPage=function(g){var H=g.number,de=g.data,xe=g.objId,je=g.contentsObjId;Te(xe,!0),ue("<</Type /Page"),ue("/Parent "+g.rootDictionaryObjId+" 0 R"),ue("/Resources "+g.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat($(g.mediaBox.bottomLeftX))+" "+parseFloat($(g.mediaBox.bottomLeftY))+" "+$(g.mediaBox.topRightX)+" "+$(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&ue("/CropBox ["+$(g.cropBox.bottomLeftX)+" "+$(g.cropBox.bottomLeftY)+" "+$(g.cropBox.topRightX)+" "+$(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&ue("/BleedBox ["+$(g.bleedBox.bottomLeftX)+" "+$(g.bleedBox.bottomLeftY)+" "+$(g.bleedBox.topRightX)+" "+$(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&ue("/TrimBox ["+$(g.trimBox.bottomLeftX)+" "+$(g.trimBox.bottomLeftY)+" "+$(g.trimBox.topRightX)+" "+$(g.trimBox.topRightY)+"]"),g.artBox!==null&&ue("/ArtBox ["+$(g.artBox.bottomLeftX)+" "+$(g.artBox.bottomLeftY)+" "+$(g.artBox.topRightX)+" "+$(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&ue("/UserUnit "+g.userUnit),es.publish("putPage",{objId:xe,pageContext:ft[H],pageNumber:H,page:de}),ue("/Contents "+je+" 0 R"),ue(">>"),ue("endobj");var Ee=de.join(`
`);return A===N.ADVANCED&&(Ee+=`
Q`),Te(je,!0),kt({data:Ee,filters:jt(),objectId:je}),ue("endobj"),xe},Gt=p.__private__.putPages=function(){var g,H,de=[];for(g=1;g<=ws;g++)ft[g].objId=ne(),ft[g].contentsObjId=ne();for(g=1;g<=ws;g++)de.push(Zt({number:g,data:pe[g],objId:ft[g].objId,contentsObjId:ft[g].contentsObjId,mediaBox:ft[g].mediaBox,cropBox:ft[g].cropBox,bleedBox:ft[g].bleedBox,trimBox:ft[g].trimBox,artBox:ft[g].artBox,userUnit:ft[g].userUnit,rootDictionaryObjId:tt,resourceDictionaryObjId:ot}));Te(tt,!0),ue("<</Type /Pages");var xe="/Kids [";for(H=0;H<ws;H++)xe+=de[H]+" 0 R ";ue(xe+"]"),ue("/Count "+ws),ue(">>"),ue("endobj"),es.publish("postPutPages")},It=function(g){es.publish("putFont",{font:g,out:ue,newObject:as,putStream:kt}),g.isAlreadyPutted!==!0&&(g.objectNumber=as(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Vo(g.postScriptName)),ue("/Subtype /Type1"),typeof g.encoding=="string"&&ue("/Encoding /"+g.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},it=function(){for(var g in ss)ss.hasOwnProperty(g)&&(v===!1||v===!0&&j.hasOwnProperty(g))&&It(ss[g])},rs=function(g){g.objectNumber=as();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[$(g.x),$(g.y),$(g.x+g.width),$(g.y+g.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var de=g.pages[1].join(`
`);kt({data:de,additionalKeyValues:H,objectId:g.objectNumber}),ue("endobj")},js=function(){for(var g in Hs)Hs.hasOwnProperty(g)&&rs(Hs[g])},Us=function(g,H){var de,xe=[],je=1/(H-1);for(de=0;de<1;de+=je)xe.push(de);if(xe.push(1),g[0].offset!=0){var Ee={offset:0,color:g[0].color};g.unshift(Ee)}if(g[g.length-1].offset!=1){var qe={offset:1,color:g[g.length-1].color};g.push(qe)}for(var Ke="",st=0,Et=0;Et<xe.length;Et++){for(de=xe[Et];de>g[st+1].offset;)st++;var Ct=g[st].offset,Yt=(de-Ct)/(g[st+1].offset-Ct),Ss=g[st].color,Cs=g[st+1].color;Ke+=se(Math.round((1-Yt)*Ss[0]+Yt*Cs[0]).toString(16))+se(Math.round((1-Yt)*Ss[1]+Yt*Cs[1]).toString(16))+se(Math.round((1-Yt)*Ss[2]+Yt*Cs[2]).toString(16))}return Ke.trim()},an=function(g,H){H||(H=21);var de=as(),xe=Us(g.colors,H),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+H+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kt({data:xe,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ue("endobj"),g.objectNumber=as(),ue("<< /ShadingType "+g.type),ue("/ColorSpace /DeviceRGB");var Ee="/Coords ["+$(parseFloat(g.coords[0]))+" "+$(parseFloat(g.coords[1]))+" ";g.type===2?Ee+=$(parseFloat(g.coords[2]))+" "+$(parseFloat(g.coords[3])):Ee+=$(parseFloat(g.coords[2]))+" "+$(parseFloat(g.coords[3]))+" "+$(parseFloat(g.coords[4]))+" "+$(parseFloat(g.coords[5])),ue(Ee+="]"),g.matrix&&ue("/Matrix ["+g.matrix.toString()+"]"),ue("/Function "+de+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Ft=function(g,H){var de=ne(),xe=as();H.push({resourcesOid:de,objectOid:xe}),g.objectNumber=xe;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+g.boundingBox.map($).join(" ")+"]"}),je.push({key:"XStep",value:$(g.xStep)}),je.push({key:"YStep",value:$(g.yStep)}),je.push({key:"Resources",value:de+" 0 R"}),g.matrix&&je.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),kt({data:g.stream,additionalKeyValues:je,objectId:g.objectNumber}),ue("endobj")},$t=function(g){var H;for(H in Xt)Xt.hasOwnProperty(H)&&(Xt[H]instanceof _i?an(Xt[H]):Xt[H]instanceof io&&Ft(Xt[H],g))},cs=function(g){for(var H in g.objectNumber=as(),ue("<<"),g)switch(H){case"opacity":ue("/ca "+ie(g[H]));break;case"stroke-opacity":ue("/CA "+ie(g[H]))}ue(">>"),ue("endobj")},Ja=function(){var g;for(g in _s)_s.hasOwnProperty(g)&&cs(_s[g])},sr=function(){for(var g in ue("/XObject <<"),Hs)Hs.hasOwnProperty(g)&&Hs[g].objectNumber>=0&&ue("/"+g+" "+Hs[g].objectNumber+" 0 R");es.publish("putXobjectDict"),ue(">>")},An=function(){$s.oid=as(),ue("<<"),ue("/Filter /Standard"),ue("/V "+$s.v),ue("/R "+$s.r),ue("/U <"+$s.toHexString($s.U)+">"),ue("/O <"+$s.toHexString($s.O)+">"),ue("/P "+$s.P),ue(">>"),ue("endobj")},ua=function(){for(var g in ue("/Font <<"),ss)ss.hasOwnProperty(g)&&(v===!1||v===!0&&j.hasOwnProperty(g))&&ue("/"+g+" "+ss[g].objectNumber+" 0 R");ue(">>")},Oa=function(){if(Object.keys(Xt).length>0){for(var g in ue("/Shading <<"),Xt)Xt.hasOwnProperty(g)&&Xt[g]instanceof _i&&Xt[g].objectNumber>=0&&ue("/"+g+" "+Xt[g].objectNumber+" 0 R");es.publish("putShadingPatternDict"),ue(">>")}},_r=function(g){if(Object.keys(Xt).length>0){for(var H in ue("/Pattern <<"),Xt)Xt.hasOwnProperty(H)&&Xt[H]instanceof p.TilingPattern&&Xt[H].objectNumber>=0&&Xt[H].objectNumber<g&&ue("/"+H+" "+Xt[H].objectNumber+" 0 R");es.publish("putTilingPatternDict"),ue(">>")}},Dt=function(){if(Object.keys(_s).length>0){var g;for(g in ue("/ExtGState <<"),_s)_s.hasOwnProperty(g)&&_s[g].objectNumber>=0&&ue("/"+g+" "+_s[g].objectNumber+" 0 R");es.publish("putGStateDict"),ue(">>")}},ut=function(g){Te(g.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ua(),Oa(),_r(g.objectOid),Dt(),sr(),ue(">>"),ue("endobj")},hr=function(){var g=[];it(),Ja(),js(),$t(g),es.publish("putResources"),g.forEach(ut),ut({resourcesOid:ot,objectOid:Number.MAX_SAFE_INTEGER}),es.publish("postPutResources")},bn=function(){es.publish("putAdditionalObjects");for(var g=0;g<ge.length;g++){var H=ge[g];Te(H.objId,!0),ue(H.content),ue("endobj")}es.publish("postPutAdditionalObjects")},wn=function(g){bs[g.fontName]=bs[g.fontName]||{},bs[g.fontName][g.fontStyle]=g.id},on=function(g,H,de,xe,je){var Ee={id:"F"+(Object.keys(ss).length+1).toString(10),postScriptName:g,fontName:H,fontStyle:de,encoding:xe,isStandardFont:je||!1,metadata:{}};return es.publish("addFont",{font:Ee,instance:this}),ss[Ee.id]=Ee,wn(Ee),Ee.id},At=function(g){for(var H=0,de=He.length;H<de;H++){var xe=on.call(this,g[H][0],g[H][1],g[H][2],He[H][3],!0);v===!1&&(j[xe]=!0);var je=g[H][0].split("-");wn({id:xe,fontName:je[0],fontStyle:je[1]||""})}es.publish("addFonts",{fonts:ss,dictionary:bs})},Jt=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(xe){var H=xe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var de="Error in function "+H.split(`
`)[0].split("<")[0]+": "+xe.message;if(!St.console)throw new Error(de);St.console.error(de,xe),St.alert&&alert(de)}},g.foo.bar=g,g.foo},ha=function(g,H){var de,xe,je,Ee,qe,Ke,st,Et,Ct;if(je=(H=H||{}).sourceEncoding||"Unicode",qe=H.outputEncoding,(H.autoencode||qe)&&ss[Rt].metadata&&ss[Rt].metadata[je]&&ss[Rt].metadata[je].encoding&&(Ee=ss[Rt].metadata[je].encoding,!qe&&ss[Rt].encoding&&(qe=ss[Rt].encoding),!qe&&Ee.codePages&&(qe=Ee.codePages[0]),typeof qe=="string"&&(qe=Ee[qe]),qe)){for(st=!1,Ke=[],de=0,xe=g.length;de<xe;de++)(Et=qe[g.charCodeAt(de)])?Ke.push(String.fromCharCode(Et)):Ke.push(g[de]),Ke[de].charCodeAt(0)>>8&&(st=!0);g=Ke.join("")}for(de=g.length;st===void 0&&de!==0;)g.charCodeAt(de-1)>>8&&(st=!0),de--;if(!st)return g;for(Ke=H.noBOM?[]:[254,255],de=0,xe=g.length;de<xe;de++){if((Ct=(Et=g.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ke.push(Ct),Ke.push(Et-(Ct<<8))}return String.fromCharCode.apply(void 0,Ke)},rr=p.__private__.pdfEscape=p.pdfEscape=function(g,H){return ha(g,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fr=p.__private__.beginPage=function(g){pe[++ws]=[],ft[ws]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Tn(ws),Ce(pe[K])},No=function(g,H){var de,xe,je;switch(n=H||n,typeof g=="string"&&(de=S(g.toLowerCase()),Array.isArray(de)&&(xe=de[0],je=de[1])),Array.isArray(g)&&(xe=g[0]*Ge,je=g[1]*Ge),isNaN(xe)&&(xe=o[0],je=o[1]),(xe>14400||je>14400)&&(Ps.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),je=Math.min(14400,je)),o=[xe,je],n.substr(0,1)){case"l":je>xe&&(o=[je,xe]);break;case"p":xe>je&&(o=[je,xe])}fr(o),So(si),ue(Gr),$i!==0&&ue($i+" J"),Rr!==0&&ue(Rr+" j"),es.publish("addPage",{pageNumber:ws})},Qa=function(g){g>0&&g<=ws&&(pe.splice(g,1),ft.splice(g,1),ws--,K>ws&&(K=ws),this.setPage(K))},Tn=function(g){g>0&&g<=ws&&(K=g)},Es=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return pe.length-1},En=function(g,H,de){var xe,je=void 0;return de=de||{},g=g!==void 0?g:ss[Rt].fontName,H=H!==void 0?H:ss[Rt].fontStyle,xe=g.toLowerCase(),bs[xe]!==void 0&&bs[xe][H]!==void 0?je=bs[xe][H]:bs[g]!==void 0&&bs[g][H]!==void 0?je=bs[g][H]:de.disableWarning===!1&&Ps.warn("Unable to look up font label for font '"+g+"', '"+H+"'. Refer to getFontList() for available fonts."),je||de.noFallback||(je=bs.times[H])==null&&(je=bs.times.normal),je},Da=p.__private__.putInfo=function(){var g=as(),H=function(xe){return xe};for(var de in w!==null&&(H=$s.encryptor(g,0)),ue("<<"),ue("/Producer ("+rr(H("jsPDF "+wt.version))+")"),vt)vt.hasOwnProperty(de)&&vt[de]&&ue("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+rr(H(vt[de]))+")");ue("/CreationDate ("+rr(H(le))+")"),ue(">>"),ue("endobj")},Gn=p.__private__.putCatalog=function(g){var H=(g=g||{}).rootDictionaryObjId||tt;switch(as(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+H+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Ze;de.substr(de.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+ie(Ze)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}xt&&ue("/PageMode /"+xt),es.publish("putCatalog"),ue(">>"),ue("endobj")},Di=p.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(ae+1)),ue("/Root "+ae+" 0 R"),ue("/Info "+(ae-1)+" 0 R"),w!==null&&ue("/Encrypt "+$s.oid+" 0 R"),ue("/ID [ <"+X+"> <"+X+"> ]"),ue(">>")},Fa=p.__private__.putHeader=function(){ue("%PDF-"+k),ue("%")},Fi=p.__private__.putXRef=function(){var g="0000000000";ue("xref"),ue("0 "+(ae+1)),ue("0000000000 65535 f ");for(var H=1;H<=ae;H++)typeof he[H]=="function"?ue((g+he[H]()).slice(-10)+" 00000 n "):he[H]!==void 0?ue((g+he[H]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Nn=p.__private__.buildDocument=function(){We(),Ce(we),es.publish("buildDocument"),Fa(),Gt(),bn(),hr(),w!==null&&An(),Da(),Gn();var g=fe;return Fi(),Di(),ue("startxref"),ue(""+g),ue("%%EOF"),Ce(pe[K]),we.join(`
`)},Yn=p.__private__.getBlob=function(g){return new Blob([et(g)],{type:"application/pdf"})},fa=p.output=p.__private__.output=Jt(function(g,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",g){case void 0:return Nn();case"save":p.save(H.filename);break;case"arraybuffer":return et(Nn());case"blob":return Yn(Nn());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(Yn(Nn()))||void 0;Ps.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",xe=Nn();try{de=Kd(xe)}catch{de=Kd(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+H.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(je=H.pdfObjectUrl,Ee="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Ke=St.open();return Ke!==null&&Ke.document.write(qe),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Et=St.open();if(Et!==null){Et.document.write(st);var Ct=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=H.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Ss=St.open();if(Ss!==null&&(Ss.document.write(Yt),Ss.document.title=H.filename),Ss||typeof safari>"u")return Ss;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",H);default:return null}}),Xa=function(g){return Array.isArray(Zn)===!0&&Zn.indexOf(g)>-1};switch(a){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Xa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Ge=a}var $s=null;ve(),G();var _o=function(g){return w!==null?$s.encryptor(g,0):function(H){return H}},ei=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[g].objId,pageNumber:g,pageContext:ft[g]}},Pt=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in ft)if(ft[H].objId===g)break;return ei(H)},Tt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ft[K].objId,pageNumber:K,pageContext:ft[K]}};p.addPage=function(){return No.apply(this,arguments),this},p.setPage=function(){return Tn.apply(this,arguments),Ce.call(this,pe[K]),this},p.insertPage=function(g){return this.addPage(),this.movePage(K,g),this},p.movePage=function(g,H){var de,xe;if(g>H){de=pe[g],xe=ft[g];for(var je=g;je>H;je--)pe[je]=pe[je-1],ft[je]=ft[je-1];pe[H]=de,ft[H]=xe,this.setPage(H)}else if(g<H){de=pe[g],xe=ft[g];for(var Ee=g;Ee<H;Ee++)pe[Ee]=pe[Ee+1],ft[Ee]=ft[Ee+1];pe[H]=de,ft[H]=xe,this.setPage(H)}return this},p.deletePage=function(){return Qa.apply(this,arguments),this},p.__private__.text=p.text=function(g,H,de,xe,je){var Ee,qe,Ke,st,Et,Ct,Yt,Ss,Cs,Fs=(xe=xe||{}).scope||this;if(typeof g=="number"&&typeof H=="number"&&(typeof de=="string"||Array.isArray(de))){var mr=de;de=H,H=g,g=mr}if(arguments[3]instanceof gt?(U("The transform parameter of text() with a Matrix value"),Cs=je):(Ke=arguments[4],st=arguments[5],ys(Yt=arguments[3])==="object"&&Yt!==null||(typeof Ke=="string"&&(st=Ke,Ke=null),typeof Yt=="string"&&(st=Yt,Yt=null),typeof Yt=="number"&&(Ke=Yt,Yt=null),xe={flags:Yt,angle:Ke,align:st})),isNaN(H)||isNaN(de)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Fs;var Ws="",_n=!1,Ls=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:qa,jr=Fs.internal.scaleFactor;function Lo(us){return us=us.split("	").join(Array(xe.TabLen||9).join(" ")),rr(us,Yt)}function Yr(us){for(var hs,Rs=us.concat(),fs=[],On=Rs.length;On--;)typeof(hs=Rs.shift())=="string"?fs.push(hs):Array.isArray(us)&&(hs.length===1||hs[1]===void 0&&hs[2]===void 0)?fs.push(hs[0]):fs.push([hs[0],hs[1],hs[2]]);return fs}function Gi(us,hs){var Rs;if(typeof us=="string")Rs=hs(us)[0];else if(Array.isArray(us)){for(var fs,On,ui=us.concat(),Dn=[],To=ui.length;To--;)typeof(fs=ui.shift())=="string"?Dn.push(hs(fs)[0]):Array.isArray(fs)&&typeof fs[0]=="string"&&(On=hs(fs[0],fs[1],fs[2]),Dn.push([On[0],On[1],On[2]]));Rs=Dn}return Rs}var jn=!1,Yi=!0;if(typeof g=="string")jn=!0;else if(Array.isArray(g)){var Qn=g.concat();qe=[];for(var Ua,zs=Qn.length;zs--;)(typeof(Ua=Qn.shift())!="string"||Array.isArray(Ua)&&typeof Ua[0]!="string")&&(Yi=!1);jn=Yi}if(jn===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var oi=$e/Fs.internal.scaleFactor,Kr=oi*(Ls-1);switch(xe.baseline){case"bottom":de-=Kr;break;case"top":de+=oi-Kr;break;case"hanging":de+=oi-2*Kr;break;case"middle":de+=oi/2-Kr}if((Ct=xe.maxWidth||0)>0&&(typeof g=="string"?g=Fs.splitTextToSize(g,Ct):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(us,hs){return us.concat(Fs.splitTextToSize(hs,Ct))},[]))),Ee={text:g,x:H,y:de,options:xe,mutex:{pdfEscape:rr,activeFontKey:Rt,fonts:ss,activeFontSize:$e}},es.publish("preProcessText",Ee),g=Ee.text,Ke=(xe=Ee.options).angle,!(Cs instanceof gt)&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,xe.rotationDirection===0&&(Ke=-Ke),A===N.ADVANCED&&(Ke=-Ke);var Xn=Math.cos(Ke),Ki=Math.sin(Ke);Cs=new gt(Xn,Ki,-Ki,Xn,0,0)}else Ke&&Ke instanceof gt&&(Cs=Ke);A!==N.ADVANCED||Cs||(Cs=Wr),(Et=xe.charSpace||ri)!==void 0&&(Ws+=$(T(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ss=xe.horizontalScale)!==void 0&&(Ws+=$(100*Ss)+` Tz
`),xe.lang;var pr=-1,ul=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Jr=Fs.internal.getCurrentPageInfo().pageContext;switch(ul){case 0:case!1:case"fill":pr=0;break;case 1:case!0:case"stroke":pr=1;break;case 2:case"fillThenStroke":pr=2;break;case 3:case"invisible":pr=3;break;case 4:case"fillAndAddForClipping":pr=4;break;case 5:case"strokeAndAddPathForClipping":pr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pr=6;break;case 7:case"addToPathForClipping":pr=7}var Ao=Jr.usedRenderingMode!==void 0?Jr.usedRenderingMode:-1;pr!==-1?Ws+=pr+` Tr
`:Ao!==-1&&(Ws+=`0 Tr
`),pr!==-1&&(Jr.usedRenderingMode=pr),st=xe.align||"left";var nr,li=$e*Ls,dn=Fs.internal.pageSize.getWidth(),$a=ss[Rt];Et=xe.charSpace||ri,Ct=xe.maxWidth||0,Yt=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var ea=[],ta=function(us){return Fs.getStringUnitWidth(us,{font:$a,charSpace:Et,fontSize:$e,doKerning:!1})*$e/jr};if(Object.prototype.toString.call(g)==="[object Array]"){var ar;qe=Yr(g),st!=="left"&&(nr=qe.map(ta));var ir,Sn=0;if(st==="right"){H-=nr[0],g=[],zs=qe.length;for(var Or=0;Or<zs;Or++)Or===0?(ir=Ds(H),ar=Zr(de)):(ir=T(Sn-nr[Or]),ar=-li),g.push([qe[Or],ir,ar]),Sn=nr[Or]}else if(st==="center"){H-=nr[0]/2,g=[],zs=qe.length;for(var un=0;un<zs;un++)un===0?(ir=Ds(H),ar=Zr(de)):(ir=T((Sn-nr[un])/2),ar=-li),g.push([qe[un],ir,ar]),Sn=nr[un]}else if(st==="left"){g=[],zs=qe.length;for(var ba=0;ba<zs;ba++)g.push(qe[ba])}else if(st==="justify"&&$a.encoding==="Identity-H"){g=[],zs=qe.length,Ct=Ct!==0?Ct:dn;for(var Mn=0,Is=0;Is<zs;Is++)if(ar=Is===0?Zr(de):-li,ir=Is===0?Ds(H):Mn,Is<zs-1){var wa=T((Ct-nr[Is])/(qe[Is].split(" ").length-1)),Sr=qe[Is].split(" ");g.push([Sr[0]+" ",ir,ar]),Mn=0;for(var Qr=1;Qr<Sr.length;Qr++){var ci=(ta(Sr[Qr-1]+" "+Sr[Qr])-ta(Sr[Qr]))*jr+wa;Qr==Sr.length-1?g.push([Sr[Qr],ci,0]):g.push([Sr[Qr]+" ",ci,0]),Mn-=ci}}else g.push([qe[Is],ir,ar]);g.push(["",Mn,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],zs=qe.length,Ct=Ct!==0?Ct:dn,Is=0;Is<zs;Is++)ar=Is===0?Zr(de):-li,ir=Is===0?Ds(H):0,Is<zs-1?ea.push($(T((Ct-nr[Is])/(qe[Is].split(" ").length-1)))):ea.push(0),g.push([qe[Is],ir,ar])}}var Ji=typeof xe.R2L=="boolean"?xe.R2L:at;Ji===!0&&(g=Gi(g,function(us,hs,Rs){return[us.split("").reverse().join(""),hs,Rs]})),Ee={text:g,x:H,y:de,options:xe,mutex:{pdfEscape:rr,activeFontKey:Rt,fonts:ss,activeFontSize:$e}},es.publish("postProcessText",Ee),g=Ee.text,_n=Ee.mutex.isHex||!1;var Qi=ss[Rt].encoding;Qi!=="WinAnsiEncoding"&&Qi!=="StandardEncoding"||(g=Gi(g,function(us,hs,Rs){return[Lo(us),hs,Rs]})),qe=Yr(g),g=[];for(var gr,In,Na,Rn=0,di=1,_a=Array.isArray(qe[0])?di:Rn,ja="",sa=function(us,hs,Rs){var fs="";return Rs instanceof gt?(Rs=typeof xe.angle=="number"?$r(Rs,new gt(1,0,0,1,us,hs)):$r(new gt(1,0,0,1,us,hs),Rs),A===N.ADVANCED&&(Rs=$r(new gt(1,0,0,-1,0,0),Rs)),fs=Rs.join(" ")+` Tm
`):fs=$(us)+" "+$(hs)+` Td
`,fs},hn=0;hn<qe.length;hn++){switch(ja="",_a){case di:Na=(_n?"<":"(")+qe[hn][0]+(_n?">":")"),gr=parseFloat(qe[hn][1]),In=parseFloat(qe[hn][2]);break;case Rn:Na=(_n?"<":"(")+qe[hn]+(_n?">":")"),gr=Ds(H),In=Zr(de)}ea!==void 0&&ea[hn]!==void 0&&(ja=ea[hn]+` Tw
`),hn===0?g.push(ja+sa(gr,In,Cs)+Na):_a===Rn?g.push(ja+Na):_a===di&&g.push(ja+sa(gr,In,Cs)+Na)}g=_a===Rn?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var or=`BT
/`;return or+=Rt+" "+$e+` Tf
`,or+=$($e*Ls)+` TL
`,or+=xa+`
`,or+=Ws,or+=g,ue(or+="ET"),j[Rt]=!0,Fs};var ln=p.__private__.clip=p.clip=function(g){return ue(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ln("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ue("n"),this};var Vt=p.__private__.isValidStyle=function(g){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Vt(g)&&(x=g),this};var zi=p.__private__.getStyle=p.getStyle=function(g){var H=x;switch(g){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=g}return H},ti=p.close=function(){return ue("h"),this};p.stroke=function(){return ue("S"),this},p.fill=function(g){return ma("f",g),this},p.fillEvenOdd=function(g){return ma("f*",g),this},p.fillStroke=function(g){return ma("B",g),this},p.fillStrokeEvenOdd=function(g){return ma("B*",g),this};var ma=function(g,H){ys(H)==="object"?Bi(H,g):ue(g)},za=function(g){g===null||A===N.ADVANCED&&g===void 0||(g=zi(g),ue(g))};function Kn(g,H,de,xe,je){var Ee=new io(H||this.boundingBox,de||this.xStep,xe||this.yStep,this.gState,je||this.matrix);Ee.stream=this.stream;var qe=g+"$$"+this.cloneIndex+++"$$";return Js(qe,Ee),Ee}var Bi=function(g,H){var de=Vn[g.key],xe=Xt[de];if(xe instanceof _i)ue("q"),ue(Ba(H)),xe.gState&&p.setGState(xe.gState),ue(g.matrix.toString()+" cm"),ue("/"+de+" sh"),ue("Q");else if(xe instanceof io){var je=new gt(1,0,0,-1,0,ya());g.matrix&&(je=je.multiply(g.matrix||Wr),de=Kn.call(xe,g.key,g.boundingBox,g.xStep,g.yStep,je).id),ue("q"),ue("/Pattern cs"),ue("/"+de+" scn"),xe.gState&&p.setGState(xe.gState),ue(H),ue("Q")}},Ba=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ms=p.moveTo=function(g,H){return ue($(T(g))+" "+$(F(H))+" m"),this},Vr=p.lineTo=function(g,H){return ue($(T(g))+" "+$(F(H))+" l"),this},Jn=p.curveTo=function(g,H,de,xe,je,Ee){return ue([$(T(g)),$(F(H)),$(T(de)),$(F(xe)),$(T(je)),$(F(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,H,de,xe,je){if(isNaN(g)||isNaN(H)||isNaN(de)||isNaN(xe)||!Vt(je))throw new Error("Invalid arguments passed to jsPDF.line");return A===N.COMPAT?this.lines([[de-g,xe-H]],g,H,[1,1],je||"S"):this.lines([[de-g,xe-H]],g,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,H,de,xe,je,Ee){var qe,Ke,st,Et,Ct,Yt,Ss,Cs,Fs,mr,Ws,_n;if(typeof g=="number"&&(_n=de,de=H,H=g,g=_n),xe=xe||[1,1],Ee=Ee||!1,isNaN(H)||isNaN(de)||!Array.isArray(g)||!Array.isArray(xe)||!Vt(je)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ms(H,de),qe=xe[0],Ke=xe[1],Et=g.length,mr=H,Ws=de,st=0;st<Et;st++)(Ct=g[st]).length===2?(mr=Ct[0]*qe+mr,Ws=Ct[1]*Ke+Ws,Vr(mr,Ws)):(Yt=Ct[0]*qe+mr,Ss=Ct[1]*Ke+Ws,Cs=Ct[2]*qe+mr,Fs=Ct[3]*Ke+Ws,mr=Ct[4]*qe+mr,Ws=Ct[5]*Ke+Ws,Jn(Yt,Ss,Cs,Fs,mr,Ws));return Ee&&ti(),za(je),this},p.path=function(g){for(var H=0;H<g.length;H++){var de=g[H],xe=de.c;switch(de.op){case"m":Ms(xe[0],xe[1]);break;case"l":Vr(xe[0],xe[1]);break;case"c":Jn.apply(this,xe);break;case"h":ti()}}return this},p.__private__.rect=p.rect=function(g,H,de,xe,je){if(isNaN(g)||isNaN(H)||isNaN(de)||isNaN(xe)||!Vt(je))throw new Error("Invalid arguments passed to jsPDF.rect");return A===N.COMPAT&&(xe=-xe),ue([$(T(g)),$(F(H)),$(T(de)),$(T(xe)),"re"].join(" ")),za(je),this},p.__private__.triangle=p.triangle=function(g,H,de,xe,je,Ee,qe){if(isNaN(g)||isNaN(H)||isNaN(de)||isNaN(xe)||isNaN(je)||isNaN(Ee)||!Vt(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-g,xe-H],[je-de,Ee-xe],[g-je,H-Ee]],g,H,[1,1],qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,H,de,xe,je,Ee,qe){if(isNaN(g)||isNaN(H)||isNaN(de)||isNaN(xe)||isNaN(je)||isNaN(Ee)||!Vt(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*de),Ee=Math.min(Ee,.5*xe),this.lines([[de-2*je,0],[je*Ke,0,je,Ee-Ee*Ke,je,Ee],[0,xe-2*Ee],[0,Ee*Ke,-je*Ke,Ee,-je,Ee],[2*je-de,0],[-je*Ke,0,-je,-Ee*Ke,-je,-Ee],[0,2*Ee-xe],[0,-Ee*Ke,je*Ke,-Ee,je,-Ee]],g+je,H,[1,1],qe,!0),this},p.__private__.ellipse=p.ellipse=function(g,H,de,xe,je){if(isNaN(g)||isNaN(H)||isNaN(de)||isNaN(xe)||!Vt(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*de,qe=4/3*(Math.SQRT2-1)*xe;return Ms(g+de,H),Jn(g+de,H-qe,g+Ee,H-xe,g,H-xe),Jn(g-Ee,H-xe,g-de,H-qe,g-de,H),Jn(g-de,H+qe,g-Ee,H+xe,g,H+xe),Jn(g+Ee,H+xe,g+de,H+qe,g+de,H),za(je),this},p.__private__.circle=p.circle=function(g,H,de,xe){if(isNaN(g)||isNaN(H)||isNaN(de)||!Vt(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,H,de,de,xe)},p.setFont=function(g,H,de){return de&&(H=ee(H,de)),Rt=En(g,H,{disableWarning:!1}),this};var jo=p.__private__.getFont=p.getFont=function(){return ss[En.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,H,de={};for(g in bs)if(bs.hasOwnProperty(g))for(H in de[g]=[],bs[g])bs[g].hasOwnProperty(H)&&de[g].push(H);return de},p.addFont=function(g,H,de,xe,je){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(de=ee(de,xe)),je=je||"Identity-H",on.call(this,g,H,de,je)};var qa,si=s.lineWidth||.200025,pa=p.__private__.getLineWidth=p.getLineWidth=function(){return si},So=p.__private__.setLineWidth=p.setLineWidth=function(g){return si=g,ue($(T(g))+" w"),this};p.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(g,H){if(g=g||[],H=H||0,isNaN(H)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(de){return $(T(de))}).join(" "),H=$(T(H)),ue("["+g+"] "+H+" d"),this};var qi=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*qa};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*qa};var Ht=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(qa=g),this},ko=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return qa};Ht(s.lineHeight);var Ds=p.__private__.getHorizontalCoordinate=function(g){return T(g)},Zr=p.__private__.getVerticalCoordinate=function(g){return A===N.ADVANCED?g:ft[K].mediaBox.topRightY-ft[K].mediaBox.bottomLeftY-T(g)},Po=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return $(Ds(g))},ga=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return $(Zr(g))},Gr=s.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return qt(Gr)},p.__private__.setStrokeColor=p.setDrawColor=function(g,H,de,xe){return Gr=yt({ch1:g,ch2:H,ch3:de,ch4:xe,pdfColorType:"draw",precision:2}),ue(Gr),this};var Hi=s.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return qt(Hi)},p.__private__.setFillColor=p.setFillColor=function(g,H,de,xe){return Hi=yt({ch1:g,ch2:H,ch3:de,ch4:xe,pdfColorType:"fill",precision:2}),ue(Hi),this};var xa=s.textColor||"0 g",dl=p.__private__.getTextColor=p.getTextColor=function(){return qt(xa)};p.__private__.setTextColor=p.setTextColor=function(g,H,de,xe){return xa=yt({ch1:g,ch2:H,ch3:de,ch4:xe,pdfColorType:"text",precision:3}),this};var ri=s.charSpace,Ui=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ri||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ri=g,this};var $i=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var H=p.CapJoinStyles[g];if(H===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $i=H,ue(H+" J"),this};var Rr=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var H=p.CapJoinStyles[g];if(H===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rr=H,ue(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue($(T(g))+" M"),this},p.GState=zl,p.setGState=function(g){(g=typeof g=="string"?_s[Er[g]]:Co(null,g)).equals(Mr)||(ue("/"+g.id+" gs"),Mr=g)};var Co=function(g,H){if(!g||!Er[g]){var de=!1;for(var xe in _s)if(_s.hasOwnProperty(xe)&&_s[xe].equals(H)){de=!0;break}if(de)H=_s[xe];else{var je="GS"+(Object.keys(_s).length+1).toString(10);_s[je]=H,H.id=je}return g&&(Er[g]=H.id),es.publish("addGState",H),H}};p.addGState=function(g,H){return Co(g,H),this},p.saveGraphicsState=function(){return ue("q"),ur.push({key:Rt,size:$e,color:xa}),this},p.restoreGraphicsState=function(){ue("Q");var g=ur.pop();return Rt=g.key,$e=g.size,xa=g.color,Mr=null,this},p.setCurrentTransformationMatrix=function(g){return ue(g.toString()+" cm"),this},p.comment=function(g){return ue("#"+g),this};var Ha=function(g,H){var de=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Ee){isNaN(Ee)||(de=parseFloat(Ee))}});var xe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Ee){isNaN(Ee)||(xe=parseFloat(Ee))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Ee){je=Ee.toString()}}),this},cn=function(g,H,de,xe){Ha.call(this,g,H),this.type="rect";var je=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(qe){isNaN(qe)||(je=parseFloat(qe))}});var Ee=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(qe){isNaN(qe)||(Ee=parseFloat(qe))}}),this},ni=function(){this.page=ws,this.currentPage=K,this.pages=pe.slice(0),this.pagesContext=ft.slice(0),this.x=Ks,this.y=Bt,this.matrix=Nr,this.width=va(K),this.height=ya(K),this.outputDestination=Re,this.id="",this.objectNumber=-1};ni.prototype.restore=function(){ws=this.page,K=this.currentPage,ft=this.pagesContext,pe=this.pages,Ks=this.x,Bt=this.y,Nr=this.matrix,ii(K,this.width),Zi(K,this.height),Re=this.outputDestination};var Wi=function(g,H,de,xe,je){Ir.push(new ni),ws=K=0,pe=[],Ks=g,Bt=H,Nr=je,fr([de,xe])},Vi=function(g){if(nn[g])Ir.pop().restore();else{var H=new ni,de="Xo"+(Object.keys(Hs).length+1).toString(10);H.id=de,nn[g]=de,Hs[de]=H,es.publish("addFormObject",H),Ir.pop().restore()}};for(var ai in p.beginFormObject=function(g,H,de,xe,je){return Wi(g,H,de,xe,je),this},p.endFormObject=function(g){return Vi(g),this},p.doFormObject=function(g,H){var de=Hs[nn[g]];return ue("q"),ue(H.toString()+" cm"),ue("/"+de.id+" Do"),ue("Q"),this},p.getFormObject=function(g){var H=Hs[nn[g]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(g,H){return g=g||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(no(Yn(Nn()),g),typeof no.unload=="function"&&St.setTimeout&&setTimeout(no.unload,911),this):new Promise(function(de,xe){try{var je=no(Yn(Nn()),g);typeof no.unload=="function"&&St.setTimeout&&setTimeout(no.unload,911),de(je)}catch(Ee){xe(Ee.message)}})},wt.API)wt.API.hasOwnProperty(ai)&&(ai==="events"&&wt.API.events.length?function(g,H){var de,xe,je;for(je=H.length-1;je!==-1;je--)de=H[je][0],xe=H[je][1],g.subscribe.apply(g,[de].concat(typeof xe=="function"?[xe]:xe))}(es,wt.API.events):p[ai]=wt.API[ai]);var va=p.getPageWidth=function(g){return(ft[g=g||K].mediaBox.topRightX-ft[g].mediaBox.bottomLeftX)/Ge},ii=p.setPageWidth=function(g,H){ft[g].mediaBox.topRightX=H*Ge+ft[g].mediaBox.bottomLeftX},ya=p.getPageHeight=function(g){return(ft[g=g||K].mediaBox.topRightY-ft[g].mediaBox.bottomLeftY)/Ge},Zi=p.setPageHeight=function(g,H){ft[g].mediaBox.topRightY=H*Ge+ft[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:rr,getStyle:zi,getFont:jo,getFontSize:Ve,getCharSpace:Ui,getTextColor:dl,getLineHeight:qi,getLineHeightFactor:ko,getLineWidth:pa,write:lt,getHorizontalCoordinate:Ds,getVerticalCoordinate:Zr,getCoordinateString:Po,getVerticalCoordinateString:ga,collections:{},newObject:as,newAdditionalObject:Ue,newObjectDeferred:ne,newObjectDeferredBegin:Te,getFilters:jt,putStream:kt,events:es,scaleFactor:Ge,pageSize:{getWidth:function(){return va(K)},setWidth:function(g){ii(K,g)},getHeight:function(){return ya(K)},setHeight:function(g){Zi(K,g)}},encryptionOptions:w,encryption:$s,getEncryptor:_o,output:fa,getNumberOfPages:Es,pages:pe,out:ue,f2:ie,f3:E,getPageInfo:ei,getPageInfoByObjId:Pt,getCurrentPageInfo:Tt,getPDFVersion:_,Point:Ha,Rectangle:cn,Matrix:gt,hasHotfix:Xa},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return va(K)},set:function(g){ii(K,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ya(K)},set:function(g){Zi(K,g)},enumerable:!0,configurable:!0}),At.call(p,He),Rt="F1",No(o,n),es.publish("initialized"),p}Wo.prototype.lsbFirstWord=function(s){return String.fromCharCode(s>>0&255,s>>8&255,s>>16&255,s>>24&255)},Wo.prototype.toHexString=function(s){return s.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wo.prototype.hexToBytes=function(s){for(var r=[],n=0;n<s.length;n+=2)r.push(String.fromCharCode(parseInt(s.substr(n,2),16)));return r.join("")},Wo.prototype.processOwnerPassword=function(s,r){return Qd(Jd(r).substr(0,5),s)},Wo.prototype.encryptor=function(s,r){var n=Jd(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&r,r>>8&255)).substr(0,10);return function(a){return Qd(n,a)}},zl.prototype.equals=function(s){var r,n="id,objectNumber,equals";if(!s||ys(s)!==ys(this))return!1;var a=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!s.hasOwnProperty(r)||this[r]!==s[r])return!1;a++}for(r in s)s.hasOwnProperty(r)&&n.indexOf(r)<0&&a--;return a===0},wt.API={events:[]},wt.version="2.5.2";var qs=wt.API,Bu=1,wo=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uo=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(s){return s.toFixed(2)},wi=function(s){return s.toFixed(5)};qs.__acroform__={};var yn=function(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s},rf=function(s){return s*Bu},La=function(s){var r=new Lg,n=nt.internal.getHeight(s)||0,a=nt.internal.getWidth(s)||0;return r.BBox=[0,0,Number(Mt(a)),Number(Mt(n))],r},K5=qs.__acroform__.setBit=function(s,r){if(s=s||0,r=r||0,isNaN(s)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|=1<<r},J5=qs.__acroform__.clearBit=function(s,r){if(s=s||0,r=r||0,isNaN(s)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&=~(1<<r)},Q5=qs.__acroform__.getBit=function(s,r){if(isNaN(s)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(s&1<<r)==0?0:1},Zs=qs.__acroform__.getBitForPdf=function(s,r){if(isNaN(s)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Q5(s,r-1)},Gs=qs.__acroform__.setBitForPdf=function(s,r){if(isNaN(s)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return K5(s,r-1)},Ys=qs.__acroform__.clearBitForPdf=function(s,r){if(isNaN(s)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J5(s,r-1)},X5=qs.__acroform__.calculateCoordinates=function(s,r){var n=r.internal.getHorizontalCoordinate,a=r.internal.getVerticalCoordinate,o=s[0],l=s[1],d=s[2],f=s[3],u={};return u.lowerLeft_X=n(o)||0,u.lowerLeft_Y=a(l+f)||0,u.upperRight_X=n(o+d)||0,u.upperRight_Y=a(l)||0,[Number(Mt(u.lowerLeft_X)),Number(Mt(u.lowerLeft_Y)),Number(Mt(u.upperRight_X)),Number(Mt(u.upperRight_Y))]},eb=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var r=[],n=s._V||s.DV,a=Xd(s,n),o=s.scope.internal.getFont(s.fontName,s.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(s.scope.__private__.encodeColorString(s.color)),r.push("/"+o+" "+Mt(a.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC");var l=La(s);return l.scope=s.scope,l.stream=r.join(`
`),l}},Xd=function(s,r){var n=s.fontSize===0?s.maxFontSize:s.fontSize,a={text:"",fontSize:""},o=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");o=s.multiline?o.map(function(E){return E.split(`
`)}):o.map(function(E){return[E]});var l=n,d=nt.internal.getHeight(s)||0;d=d<0?-d:d;var f=nt.internal.getWidth(s)||0;f=f<0?-f:f;var u=function(E,T,z){if(E+1<o.length){var F=T+" "+o[E+1][0];return mc(F,s,z).width<=f-4}return!1};l++;e:for(;l>0;){r="",l--;var x,w,v=mc("3",s,l).height,j=s.multiline?d-l:(d-v)/2,p=j+=2,k=0,_=0,I=0;if(l<=0){r=`(...) Tj
`,r+="% Width of Text: "+mc(r,s,l=12).width+", FieldWidth:"+f+`
`;break}for(var S="",N=0,A=0;A<o.length;A++)if(o.hasOwnProperty(A)){var D=!1;if(o[A].length!==1&&I!==o[A].length-1){if((v+2)*(N+2)+2>d)continue e;S+=o[A][I],D=!0,_=A,A--}else{S=(S+=o[A][I]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var q=parseInt(A),ee=u(q,S,l),$=A>=o.length-1;if(ee&&!$){S+=" ",I=0;continue}if(ee||$){if($)_=q;else if(s.multiline&&(v+2)*(N+2)+2>d)continue e}else{if(!s.multiline||(v+2)*(N+2)+2>d)continue e;_=q}}for(var U="",Y=k;Y<=_;Y++){var ie=o[Y];if(s.multiline){if(Y===_){U+=ie[I]+" ",I=(I+1)%ie.length;continue}if(Y===k){U+=ie[ie.length-1]+" ";continue}}U+=ie[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,w=mc(U,s,l).width,s.textAlign){case"right":x=f-w-2;break;case"center":x=(f-w)/2;break;case"left":default:x=2}r+=Mt(x)+" "+Mt(p)+` Td
`,r+="("+wo(U)+`) Tj
`,r+=-Mt(x)+` 0 Td
`,p=-(l+2),w=0,k=D?_:_+1,N++,S=""}break}return a.text=r,a.fontSize=l,a},mc=function(s,r,n){var a=r.scope.internal.getFont(r.fontName,r.fontStyle),o=r.scope.getStringUnitWidth(s,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},tb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sb=function(s,r){var n={type:"reference",object:s};r.internal.getPageInfo(s.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&r.internal.getPageInfo(s.page).pageContext.annotations.push(n)},rb=function(s,r){for(var n in s)if(s.hasOwnProperty(n)){var a=n,o=s[n];r.internal.newObjectDeferredBegin(o.objId,!0),ys(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete s[a]}},nb=function(s,r){if(r.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(ca.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(tb)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Bu=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new Ag,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];l.objId=void 0,l.hasAnnotation&&sb(l,n)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(n){(function(a,o){var l=!a;for(var d in a||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(d)){var f=a[d],u=[],x=f.Rect;if(f.Rect&&(f.Rect=X5(f.Rect,o)),o.internal.newObjectDeferredBegin(f.objId,!0),f.DA=nt.createDefaultAppearanceStream(f),ys(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(u=f.getKeyValueListForStream()),f.Rect=x,f.hasAppearanceStream&&!f.appearanceStreamContent){var w=eb(f);u.push({key:"AP",value:"<</N "+w+">>"}),o.internal.acroformPlugin.xForms.push(w)}if(f.appearanceStreamContent){var v="";for(var j in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(j)){var p=f.appearanceStreamContent[j];if(v+="/"+j+" ",v+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var d in p)if(p.hasOwnProperty(d)){var k=p[d];typeof k=="function"&&(k=k.call(o,f)),v+="/"+d+" "+k+" ",o.internal.acroformPlugin.xForms.indexOf(k)>=0||o.internal.acroformPlugin.xForms.push(k)}}else typeof(k=p)=="function"&&(k=k.call(o,f)),v+="/"+d+" "+k,o.internal.acroformPlugin.xForms.indexOf(k)>=0||o.internal.acroformPlugin.xForms.push(k);v+=">>"}u.push({key:"AP",value:`<<
`+v+">>"})}o.internal.putStream({additionalKeyValues:u,objectId:f.objId}),o.internal.out("endobj")}l&&rb(o.internal.acroformPlugin.xForms,o)})(n,s)}),s.internal.acroformPlugin.isInitialized=!0}},Cg=qs.__acroform__.arrayToPdfArray=function(s,r,n){var a=function(d){return d};if(Array.isArray(s)){for(var o="[",l=0;l<s.length;l++)switch(l!==0&&(o+=" "),ys(s[l])){case"boolean":case"number":case"object":o+=s[l].toString();break;case"string":s[l].substr(0,1)!=="/"?(r!==void 0&&n&&(a=n.internal.getEncryptor(r)),o+="("+wo(a(s[l].toString()))+")"):o+=s[l].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Sd=function(s,r,n){var a=function(o){return o};return r!==void 0&&n&&(a=n.internal.getEncryptor(r)),(s=s||"").toString(),s="("+wo(a(s))+")"},Ea=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ea.prototype.toString=function(){return this.objId+" 0 R"},Ea.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},Ea.prototype.getKeyValueListForStream=function(){var s=[],r=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var a=r[n],o=this[a];o&&(Array.isArray(o)?s.push({key:a,value:Cg(o,this.objId,this.scope)}):o instanceof Ea?(o.scope=this.scope,s.push({key:a,value:o.objId+" 0 R"})):typeof o!="function"&&s.push({key:a,value:o}))}return s};var Lg=function(){Ea.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){s=n.trim()},get:function(){return s||null}})};yn(Lg,Ea);var Ag=function(){Ea.call(this);var s,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+wo(n(s))+")"}},set:function(n){s=n}})};yn(Ag,Ea);var ca=function s(){Ea.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');r=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zs(r,3)},set:function(S){S?this.F=Gs(r,3):this.F=Ys(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(S){a=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(S){a[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(S){a[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(S){a[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(S){a[3]=S}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof Tc)return;l="FieldObject"+s.FieldNum++}var S=function(N){return N};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+wo(S(l))+")"},set:function(S){l=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(S){l=S}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var x=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return x===void 0?50/Bu:x},set:function(S){x=S}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){w=S}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Tc||this instanceof Pi))return Sd(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=S}});var j=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(j)return this instanceof lr?j:Sd(j,this.objId,this.scope)},set:function(S){S=S.toString(),j=this instanceof lr?S:S.substr(0,1)==="("?Uo(S.substr(1,S.length-2)):Uo(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr?Uo(j.substr(1,j.length-1)):j},set:function(S){S=S.toString(),j=this instanceof lr?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof lr?p:Sd(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=this instanceof lr?S:S.substr(0,1)==="("?Uo(S.substr(1,S.length-2)):Uo(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof lr?Uo(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof lr?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(S){S=!!S,_=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(S){k=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,1)},set:function(S){S?this.Ff=Gs(this.Ff,1):this.Ff=Ys(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,2)},set:function(S){S?this.Ff=Gs(this.Ff,2):this.Ff=Ys(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,3)},set:function(S){S?this.Ff=Gs(this.Ff,3):this.Ff=Ys(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');I=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(I){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};yn(ca,Ea);var lo=function(){ca.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(n){s=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(n){s=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Cg(r,this.objId,this.scope)},set:function(n){var a,o;o=[],typeof(a=n)=="string"&&(o=function(l,d,f){f||(f=1);for(var u,x=[];u=d.exec(l);)x.push(u[f]);return x}(a,/\((.*?)\)/g)),r=o}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,18)},set:function(n){n?this.Ff=Gs(this.Ff,18):this.Ff=Ys(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Gs(this.Ff,19):this.Ff=Ys(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,20)},set:function(n){n?(this.Ff=Gs(this.Ff,20),r.sort()):this.Ff=Ys(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,22)},set:function(n){n?this.Ff=Gs(this.Ff,22):this.Ff=Ys(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,23)},set:function(n){n?this.Ff=Gs(this.Ff,23):this.Ff=Ys(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,27)},set:function(n){n?this.Ff=Gs(this.Ff,27):this.Ff=Ys(this.Ff,27)}}),this.hasAppearanceStream=!1};yn(lo,ca);var co=function(){lo.call(this),this.fontName="helvetica",this.combo=!1};yn(co,lo);var uo=function(){co.call(this),this.combo=!0};yn(uo,co);var Ll=function(){uo.call(this),this.edit=!0};yn(Ll,uo);var lr=function(){ca.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,15)},set:function(n){n?this.Ff=Gs(this.Ff,15):this.Ff=Ys(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,16)},set:function(n){n?this.Ff=Gs(this.Ff,16):this.Ff=Ys(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,17)},set:function(n){n?this.Ff=Gs(this.Ff,17):this.Ff=Ys(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,26)},set:function(n){n?this.Ff=Gs(this.Ff,26):this.Ff=Ys(this.Ff,26)}});var s,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+wo(n(r[a]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){ys(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(n){s=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(n){s="/"+n}})};yn(lr,ca);var Al=function(){lr.call(this),this.pushButton=!0};yn(Al,lr);var ho=function(){lr.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(r){s=r!==void 0?r:[]}})};yn(ho,lr);var Tc=function(){var s,r;ca.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(o){r=o}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(f){return f};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),a)d.push("/"+l+" ("+wo(o(a[l]))+")");return d.push(">>"),d.join(`
`)},set:function(o){ys(o)==="object"&&(a=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(o){typeof o=="string"&&(a.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yn(Tc,ca),ho.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=s.createAppearanceStream(n.optionName),n.caption=s.getCA()}},ho.prototype.createOption=function(s){var r=new Tc;return r.Parent=this,r.optionName=s,this.Kids.push(r),ab.call(this.scope,r),r};var Tl=function(){lr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nt.CheckBox.createAppearanceStream()};yn(Tl,lr);var Pi=function(){ca.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,13)},set:function(r){r?this.Ff=Gs(this.Ff,13):this.Ff=Ys(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,21)},set:function(r){r?this.Ff=Gs(this.Ff,21):this.Ff=Ys(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,23)},set:function(r){r?this.Ff=Gs(this.Ff,23):this.Ff=Ys(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,24)},set:function(r){r?this.Ff=Gs(this.Ff,24):this.Ff=Ys(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,25)},set:function(r){r?this.Ff=Gs(this.Ff,25):this.Ff=Ys(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,26)},set:function(r){r?this.Ff=Gs(this.Ff,26):this.Ff=Ys(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(r){Number.isInteger(r)&&(s=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yn(Pi,ca);var El=function(){Pi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zs(this.Ff,14)},set:function(s){s?this.Ff=Gs(this.Ff,14):this.Ff=Ys(this.Ff,14)}}),this.password=!0};yn(El,Pi);var nt={CheckBox:{createAppearanceStream:function(){return{N:{On:nt.CheckBox.YesNormal},D:{On:nt.CheckBox.YesPushDown,Off:nt.CheckBox.OffPushDown}}},YesPushDown:function(s){var r=La(s);r.scope=s.scope;var n=[],a=s.scope.internal.getFont(s.fontName,s.fontStyle).id,o=s.scope.__private__.encodeColorString(s.color),l=Xd(s,s.caption);return n.push("0.749023 g"),n.push("0 0 "+Mt(nt.internal.getWidth(s))+" "+Mt(nt.internal.getHeight(s))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+Mt(l.fontSize)+" Tf "+o),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(s){var r=La(s);r.scope=s.scope;var n=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color),o=[],l=nt.internal.getHeight(s),d=nt.internal.getWidth(s),f=Xd(s,s.caption);return o.push("1 g"),o.push("0 0 "+Mt(d)+" "+Mt(l)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Mt(d-1)+" "+Mt(l-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+Mt(f.fontSize)+" Tf "+a),o.push(f.text),o.push("ET"),o.push("Q"),r.stream=o.join(`
`),r},OffPushDown:function(s){var r=La(s);r.scope=s.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(nt.internal.getWidth(s))+" "+Mt(nt.internal.getHeight(s))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(s){var r={D:{Off:nt.RadioButton.Circle.OffPushDown},N:{}};return r.N[s]=nt.RadioButton.Circle.YesNormal,r.D[s]=nt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(s){var r=La(s);r.scope=s.scope;var n=[],a=nt.internal.getWidth(s)<=nt.internal.getHeight(s)?nt.internal.getWidth(s)/4:nt.internal.getHeight(s)/4;a=Number((.9*a).toFixed(5));var o=nt.internal.Bezier_C,l=Number((a*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+wi(nt.internal.getWidth(s)/2)+" "+wi(nt.internal.getHeight(s)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),n.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),n.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),n.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(s){var r=La(s);r.scope=s.scope;var n=[],a=nt.internal.getWidth(s)<=nt.internal.getHeight(s)?nt.internal.getWidth(s)/4:nt.internal.getHeight(s)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*nt.internal.Bezier_C).toFixed(5)),d=Number((a*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wi(nt.internal.getWidth(s)/2)+" "+wi(nt.internal.getHeight(s)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+wi(nt.internal.getWidth(s)/2)+" "+wi(nt.internal.getHeight(s)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+d+" "+d+" "+a+" 0 "+a+" c"),n.push("-"+d+" "+a+" -"+a+" "+d+" -"+a+" 0 c"),n.push("-"+a+" -"+d+" -"+d+" -"+a+" 0 -"+a+" c"),n.push(d+" -"+a+" "+a+" -"+d+" "+a+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(s){var r=La(s);r.scope=s.scope;var n=[],a=nt.internal.getWidth(s)<=nt.internal.getHeight(s)?nt.internal.getWidth(s)/4:nt.internal.getHeight(s)/4;a=Number((.9*a).toFixed(5));var o=Number((2*a).toFixed(5)),l=Number((o*nt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wi(nt.internal.getWidth(s)/2)+" "+wi(nt.internal.getHeight(s)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(s){var r={D:{Off:nt.RadioButton.Cross.OffPushDown},N:{}};return r.N[s]=nt.RadioButton.Cross.YesNormal,r.D[s]=nt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(s){var r=La(s);r.scope=s.scope;var n=[],a=nt.internal.calculateCross(s);return n.push("q"),n.push("1 1 "+Mt(nt.internal.getWidth(s)-2)+" "+Mt(nt.internal.getHeight(s)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(a.x1.x)+" "+Mt(a.x1.y)+" m"),n.push(Mt(a.x2.x)+" "+Mt(a.x2.y)+" l"),n.push(Mt(a.x4.x)+" "+Mt(a.x4.y)+" m"),n.push(Mt(a.x3.x)+" "+Mt(a.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(s){var r=La(s);r.scope=s.scope;var n=nt.internal.calculateCross(s),a=[];return a.push("0.749023 g"),a.push("0 0 "+Mt(nt.internal.getWidth(s))+" "+Mt(nt.internal.getHeight(s))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Mt(nt.internal.getWidth(s)-2)+" "+Mt(nt.internal.getHeight(s)-2)+" re"),a.push("W"),a.push("n"),a.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),a.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),a.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),a.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(s){var r=La(s);r.scope=s.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(nt.internal.getWidth(s))+" "+Mt(nt.internal.getHeight(s))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(s){var r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,n=s.scope.__private__.encodeColorString(s.color);return"/"+r+" "+s.fontSize+" Tf "+n}};nt.internal={Bezier_C:.551915024494,calculateCross:function(s){var r=nt.internal.getWidth(s),n=nt.internal.getHeight(s),a=Math.min(r,n);return{x1:{x:(r-a)/2,y:(n-a)/2+a},x2:{x:(r-a)/2+a,y:(n-a)/2},x3:{x:(r-a)/2,y:(n-a)/2},x4:{x:(r-a)/2+a,y:(n-a)/2+a}}}},nt.internal.getWidth=function(s){var r=0;return ys(s)==="object"&&(r=rf(s.Rect[2])),r},nt.internal.getHeight=function(s){var r=0;return ys(s)==="object"&&(r=rf(s.Rect[3])),r};var ab=qs.addField=function(s){if(nb(this,s),!(s instanceof ca))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=s).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};qs.AcroFormChoiceField=lo,qs.AcroFormListBox=co,qs.AcroFormComboBox=uo,qs.AcroFormEditBox=Ll,qs.AcroFormButton=lr,qs.AcroFormPushButton=Al,qs.AcroFormRadioButton=ho,qs.AcroFormCheckBox=Tl,qs.AcroFormTextField=Pi,qs.AcroFormPasswordField=El,qs.AcroFormAppearance=nt,qs.AcroForm={ChoiceField:lo,ListBox:co,ComboBox:uo,EditBox:Ll,Button:lr,PushButton:Al,RadioButton:ho,CheckBox:Tl,TextField:Pi,PasswordField:El,Appearance:nt},wt.AcroForm={ChoiceField:lo,ListBox:co,ComboBox:uo,EditBox:Ll,Button:lr,PushButton:Al,RadioButton:ho,CheckBox:Tl,TextField:Pi,PasswordField:El,Appearance:nt};var ib=wt.AcroForm;function Tg(s){return s.reduce(function(r,n,a){return r[n]=a,r},{})}(function(s){s.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=s.__addimage__.getImageFileTypeByImageData=function(E,T){var z,F,le,X,O,G=r;if((T=T||r)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(ee(E))for(O in n)for(le=n[O],z=0;z<le.length;z+=1){for(X=!0,F=0;F<le[z].length;F+=1)if(le[z][F]!==void 0&&le[z][F]!==E[F]){X=!1;break}if(X===!0){G=O;break}}else for(O in n)for(le=n[O],z=0;z<le.length;z+=1){for(X=!0,F=0;F<le[z].length;F+=1)if(le[z][F]!==void 0&&le[z][F]!==E.charCodeAt(F)){X=!1;break}if(X===!0){G=O;break}}return G===r&&T!==r&&(G=T),G},o=function E(T){for(var z=this.internal.write,F=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:T.width}),X.push({key:"Height",value:T.height}),T.colorSpace===I.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===I.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var O="",G=0,J=T.transparency.length;G<J;G++)O+=T.transparency[G]+" "+T.transparency[G]+" ";X.push({key:"Mask",value:"["+O+"]"})}T.sMask!==void 0&&X.push({key:"SMask",value:T.objectId+1+" 0 R"});var ce=T.filter!==void 0?["/"+T.filter]:void 0;if(F({data:T.data,additionalKeyValues:X,alreadyAppliedFilters:ce,objectId:T.objectId}),z("endobj"),"sMask"in T&&T.sMask!==void 0){var ve="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,R={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:ve,data:T.sMask};"filter"in T&&(R.filter=T.filter),E.call(this,R)}if(T.colorSpace===I.INDEXED){var K=this.internal.newObject();F({data:U(new Uint8Array(T.palette)),objectId:K}),z("endobj")}},l=function(){var E=this.internal.collections.addImage_images;for(var T in E)o.call(this,E[T])},d=function(){var E,T=this.internal.collections.addImage_images,z=this.internal.write;for(var F in T)z("/I"+(E=T[F]).index,E.objectId,"0","R")},f=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},u=function(){var E=this.internal.collections.addImage_images;return f.call(this),E},x=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(E){return typeof s["process"+E.toUpperCase()]=="function"},v=function(E){return ys(E)==="object"&&E.nodeType===1},j=function(E,T){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var z=""+E.getAttribute("src");if(z.indexOf("data:image/")===0)return Cl(unescape(z).split("base64,").pop());var F=s.loadFile(z,!0);if(F!==void 0)return F}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var le;switch(T){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;case"JPEG":case"JPG":default:le="image/jpeg"}return Cl(E.toDataURL(le,1).split("base64,").pop())}},p=function(E){var T=this.internal.collections.addImage_images;if(T){for(var z in T)if(E===T[z].alias)return T[z]}},k=function(E,T,z){return E||T||(E=-96,T=-96),E<0&&(E=-1*z.width*72/E/this.internal.scaleFactor),T<0&&(T=-1*z.height*72/T/this.internal.scaleFactor),E===0&&(E=T*z.width/z.height),T===0&&(T=E*z.height/z.width),[E,T]},_=function(E,T,z,F,le,X){var O=k.call(this,z,F,le),G=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,ce=u.call(this);if(z=O[0],F=O[1],ce[le.index]=le,X){X*=Math.PI/180;var ve=Math.cos(X),R=Math.sin(X),K=function(se){return se.toFixed(4)},Q=[K(ve),K(R),K(-1*R),K(ve),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,G(E),J(T+F),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([G(z),"0","0",G(F),"0","0","cm"].join(" "))):this.internal.write([G(z),"0","0",G(F),G(E),J(T+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},I=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=s.__addimage__.sHashCode=function(E){var T,z,F=0;if(typeof E=="string")for(z=E.length,T=0;T<z;T++)F=(F<<5)-F+E.charCodeAt(T),F|=0;else if(ee(E))for(z=E.byteLength/2,T=0;T<z;T++)F=(F<<5)-F+E[T],F|=0;return F},A=s.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var T=!0;return E.length===0&&(T=!1),E.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(T=!1),T},D=s.__addimage__.extractImageFromDataUrl=function(E){var T=(E=E||"").split("base64,"),z=null;if(T.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(F)&&(z={mimeType:F[1],charset:F[2],data:T[1]})}return z},q=s.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};s.__addimage__.isArrayBuffer=function(E){return q()&&E instanceof ArrayBuffer};var ee=s.__addimage__.isArrayBufferView=function(E){return q()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},$=s.__addimage__.binaryStringToUint8Array=function(E){for(var T=E.length,z=new Uint8Array(T),F=0;F<T;F++)z[F]=E.charCodeAt(F);return z},U=s.__addimage__.arrayBufferToBinaryString=function(E){for(var T="",z=ee(E)?E:new Uint8Array(E),F=0;F<z.length;F+=8192)T+=String.fromCharCode.apply(null,z.subarray(F,F+8192));return T};s.addImage=function(){var E,T,z,F,le,X,O,G,J;if(typeof arguments[1]=="number"?(T=r,z=arguments[1],F=arguments[2],le=arguments[3],X=arguments[4],O=arguments[5],G=arguments[6],J=arguments[7]):(T=arguments[1],z=arguments[2],F=arguments[3],le=arguments[4],X=arguments[5],O=arguments[6],G=arguments[7],J=arguments[8]),ys(E=arguments[0])==="object"&&!v(E)&&"imageData"in E){var ce=E;E=ce.imageData,T=ce.format||T||r,z=ce.x||z||0,F=ce.y||F||0,le=ce.w||ce.width||le,X=ce.h||ce.height||X,O=ce.alias||O,G=ce.compression||G,J=ce.rotation||ce.angle||J}var ve=this.internal.getFilters();if(G===void 0&&ve.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(z)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var R=Y.call(this,E,T,O,G);return _.call(this,z,F,le,X,R,J),this};var Y=function(E,T,z,F){var le,X,O;if(typeof E=="string"&&a(E)===r){E=unescape(E);var G=ie(E,!1);(G!==""||(G=s.loadFile(E,!0))!==void 0)&&(E=G)}if(v(E)&&(E=j(E,T)),T=a(E,T),!w(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((O=z)==null||O.length===0)&&(z=function(J){return typeof J=="string"||ee(J)?N(J):ee(J.data)?N(J.data):null}(E)),(le=p.call(this,z))||(q()&&(E instanceof Uint8Array||T==="RGBA"||(X=E,E=$(E))),le=this["process"+T.toUpperCase()](E,x.call(this),z,function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in s.image_compression?J:S.NONE}(F),X)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},ie=s.__addimage__.convertBase64ToBinaryString=function(E,T){var z;T=typeof T!="boolean"||T;var F,le="";if(typeof E=="string"){F=(z=D(E))!==null?z.data:E;try{le=Cl(F)}catch(X){if(T)throw A(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};s.getImageProperties=function(E){var T,z,F="";if(v(E)&&(E=j(E)),typeof E=="string"&&a(E)===r&&((F=ie(E,!1))===""&&(F=s.loadFile(E)||""),E=F),z=a(E),!w(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!q()||E instanceof Uint8Array||(E=$(E)),!(T=this["process"+z.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=z,T}})(wt.API),function(s){var r=function(n){if(n!==void 0&&n!="")return!0};wt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(n){for(var a,o,l,d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),x=n.pageContext.annotations,w=!1,v=0;v<x.length&&!w;v++)switch((a=x[v]).type){case"link":(r(a.options.url)||r(a.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var j=0;j<x.length;j++){a=x[j];var p=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(_.objId),N=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(o="/Rect ["+d(a.bounds.x)+" "+f(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w)+" "+f(a.bounds.y)+"] ")+"/Contents ("+p(S(a.contents))+")",l+=" /Popup "+I.objId+" 0 R",l+=" /P "+u.objId+" 0 R",l+=" /T ("+p(S(N))+") >>",_.content=l;var A=_.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+d(a.bounds.x+30)+" "+f(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w+30)+" "+f(a.bounds.y)+"] ")+" /Parent "+A,a.open&&(l+=" /Open true"),l+=" >>",I.content=l,this.internal.write(_.objId,"0 R",I.objId,"0 R");break;case"freetext":o="/Rect ["+d(a.bounds.x)+" "+f(a.bounds.y)+" "+d(a.bounds.x+a.bounds.w)+" "+f(a.bounds.y+a.bounds.h)+"] ";var D=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+p(k(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var q=this.annotations._nameMap[a.options.name];a.options.pageNumber=q.page,a.options.top=q.y}else a.options.top||(a.options.top=0);if(o="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+p(k(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var ee=f(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+ee+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),s.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},s.link=function(n,a,o,l,d){var f=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,x=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:u(n),y:x(a),w:u(n+o),h:x(a+l)},options:d,type:"link"})},s.textWithLink=function(n,a,o,l){var d,f,u=this.getTextWidth(n),x=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){f=l.maxWidth;var w=this.splitTextToSize(n,f).length;d=Math.ceil(x*w)}else f=u,d=x;return this.text(n,a,o,l),o+=.2*x,l.align==="center"&&(a-=u/2),l.align==="right"&&(a-=u),this.link(a,o-x,f,d,l),u},s.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}}(wt.API),function(s){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];s.__arabicParser__={};var l=s.__arabicParser__.isInArabicSubstitutionA=function(_){return r[_.charCodeAt(0)]!==void 0},d=s.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},f=s.__arabicParser__.isArabicEndLetter=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length<=2},u=s.__arabicParser__.isArabicAlfLetter=function(_){return d(_)&&o.indexOf(_.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length>=1};var x=s.__arabicParser__.arabicLetterHasFinalForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length>=3};var w=s.__arabicParser__.arabicLetterHasMedialForm=function(_){return d(_)&&l(_)&&r[_.charCodeAt(0)].length==4},v=s.__arabicParser__.resolveLigatures=function(_){var I=0,S=n,N="",A=0;for(I=0;I<_.length;I+=1)S[_.charCodeAt(I)]!==void 0?(A++,typeof(S=S[_.charCodeAt(I)])=="number"&&(N+=String.fromCharCode(S),S=n,A=0),I===_.length-1&&(S=n,N+=_.charAt(I-(A-1)),I-=A-1,A=0)):(S=n,N+=_.charAt(I-A),I-=A,A=0);return N};s.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&a[_.charCodeAt(0)]!==void 0};var j=s.__arabicParser__.getCorrectForm=function(_,I,S){return d(_)?l(_)===!1?-1:!x(_)||!d(I)&&!d(S)||!d(S)&&f(I)||f(_)&&!d(I)||f(_)&&u(I)||f(_)&&f(I)?0:w(_)&&d(I)&&!f(I)&&d(S)&&x(S)?3:f(_)||!d(S)?1:2:-1},p=function(_){var I=0,S=0,N=0,A="",D="",q="",ee=(_=_||"").split("\\s+"),$=[];for(I=0;I<ee.length;I+=1){for($.push(""),S=0;S<ee[I].length;S+=1)A=ee[I][S],D=ee[I][S-1],q=ee[I][S+1],d(A)?(N=j(A,D,q),$[I]+=N!==-1?String.fromCharCode(r[A.charCodeAt(0)][N]):A):$[I]+=A;$[I]=v($[I])}return $.join(" ")},k=s.__arabicParser__.processArabic=s.processArabic=function(){var _,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(I)){var N=0;for(S=[],N=0;N<I.length;N+=1)Array.isArray(I[N])?S.push([p(I[N][0]),I[N][1],I[N][2]]):S.push([p(I[N])]);_=S}else _=p(I);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};s.events.push(["preProcessText",k])}(wt.API),wt.API.autoPrint=function(s){var r;switch((s=s||{}).variant=s.variant||"non-conform",s.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(s){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(f){n=f}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(f){a=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(f){o=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(f){l=f}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(f){d=f}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,a){var o;if((n=n||"2d")!=="2d")return null;for(o in a)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=a[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(wt.API),function(s){var r={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var x=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(_){w=_}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var j=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return j},set:function(_){j=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(_){k=_}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(u){return a.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},s.getTextDimensions=function(u,x){a.call(this);var w=(x=x||{}).fontSize||this.getFontSize(),v=x.font||this.getFont(),j=x.scaleFactor||this.internal.scaleFactor,p=0,k=0,_=0,I=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=x.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(A,D){return A.concat(I.splitTextToSize(D,S))},[])):u=Array.isArray(u)?u:[u];for(var N=0;N<u.length;N++)p<(_=this.getStringUnitWidth(u[N],{font:v})*w)&&(p=_);return p!==0&&(k=u.length),{w:p/=j,h:Math.max((k*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/j,0)}},s.cellAddPage=function(){a.call(this),this.addPage();var u=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new l(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=s.cell=function(){var u;u=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var x=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,v=this.internal.__cell__.margins||r,j=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return x.lineNumber!==void 0&&(x.lineNumber===u.lineNumber?(u.x=(x.x||0)+(x.width||0),u.y=x.y||0):x.y+x.height+u.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=v.top,p&&j&&(this.printHeaderRow(u.lineNumber,!0),u.y+=j[0].height)):u.y=x.y+x.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-w,u.y+w,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+w,{align:"center",baseline:"top",maxWidth:u.width-w-w}):this.text(u.text,u.x+w,u.y+w,{align:"left",baseline:"top",maxWidth:u.width-w-w})),this.internal.__cell__.lastCell=u,this};s.table=function(u,x,w,v,j){if(a.call(this),!w)throw new Error("No data for PDF table.");var p,k,_,I,S=[],N=[],A=[],D={},q={},ee=[],$=[],U=(j=j||{}).autoSize||!1,Y=j.printHeaders!==!1,ie=j.css&&j.css["font-size"]!==void 0?16*j.css["font-size"]:j.fontSize||12,E=j.margins||Object.assign({width:this.getPageWidth()},r),T=typeof j.padding=="number"?j.padding:3,z=j.headerBackgroundColor||"#c8c8c8",F=j.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=ie,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=F,this.setFontSize(ie),v==null)N=S=Object.keys(w[0]),A=S.map(function(){return"left"});else if(Array.isArray(v)&&ys(v[0])==="object")for(S=v.map(function(ce){return ce.name}),N=v.map(function(ce){return ce.prompt||ce.name||""}),A=v.map(function(ce){return ce.align||"left"}),p=0;p<v.length;p+=1)q[v[p].name]=v[p].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(N=S=v,A=S.map(function(){return"left"}));if(U||Array.isArray(v)&&typeof v[0]=="string")for(p=0;p<S.length;p+=1){for(D[I=S[p]]=w.map(function(ce){return ce[I]}),this.setFont(void 0,"bold"),ee.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=D[I],this.setFont(void 0,"normal"),_=0;_<k.length;_+=1)ee.push(this.getTextDimensions(k[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[I]=Math.max.apply(null,ee)+T+T,ee=[]}if(Y){var le={};for(p=0;p<S.length;p+=1)le[S[p]]={},le[S[p]].text=N[p],le[S[p]].align=A[p];var X=f.call(this,le,q);$=S.map(function(ce){return new l(u,x,q[ce],X,le[ce].text,void 0,le[ce].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var O=v.reduce(function(ce,ve){return ce[ve.name]=ve.align,ce},{});for(p=0;p<w.length;p+=1){"rowStart"in j&&j.rowStart instanceof Function&&j.rowStart({row:p,data:w[p]},this);var G=f.call(this,w[p],q);for(_=0;_<S.length;_+=1){var J=w[p][S[_]];"cellStart"in j&&j.cellStart instanceof Function&&j.cellStart({row:p,col:_,data:J},this),d.call(this,new l(u,x,q[S[_]],G,J,p+2,O[S[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=x,this};var f=function(u,x){var w=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,j=this.internal.scaleFactor;return Object.keys(u).map(function(p){var k=u[p];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,x[p]-w-w)},this).map(function(p){return this.getLineHeightFactor()*p.length*v/j+w+w},this).reduce(function(p,k){return Math.max(p,k)},0)};s.setTableHeaderRow=function(u){a.call(this),this.internal.__cell__.tableHeaderRow=u},s.printHeaderRow=function(u,x){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var j=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){w=this.internal.__cell__.tableHeaderRow[p].clone(),x&&(w.y=this.internal.__cell__.margins.top||0,j.push(w)),w.lineNumber=u;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,w),this.setTextColor(k)}j.length>0&&this.setTableHeaderRow(j),this.setFont(void 0,"normal"),n=!1}}(wt.API);var Eg={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Mg=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],eu=Tg(Mg),Ig=[100,200,300,400,500,600,700,800,900],ob=Tg(Ig);function tu(s){var r=s.family.replace(/"|'/g,"").toLowerCase(),n=function(l){return Eg[l=l||"normal"]?l:"normal"}(s.style),a=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(s.weight),o=function(l){return typeof eu[l=l||"normal"]=="number"?l:"normal"}(s.stretch);return{family:r,style:n,weight:a,stretch:o,src:s.src||[],ref:s.ref||{name:r,style:[o,n,a].join(" ")}}}function nf(s,r,n,a){var o;for(o=n;o>=0&&o<r.length;o+=a)if(s[r[o]])return s[r[o]];for(o=n;o>=0&&o<r.length;o-=a)if(s[r[o]])return s[r[o]]}var lb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},af={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function of(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function cb(s,r,n){for(var a=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},lb,n.genericFontFamilies||{}),l=null,d=null,f=0;f<r.length;++f)if(o[(l=tu(r[f])).family]&&(l.family=o[l.family]),s.hasOwnProperty(l.family)){d=s[l.family];break}if(!(d=d||s[a]))throw new Error("Could not find a font-family for the rule '"+of(l)+"' and default family '"+a+"'.");if(d=function(u,x){if(x[u])return x[u];var w=eu[u],v=w<=eu.normal?-1:1,j=nf(x,Mg,w,v);if(!j)throw new Error("Could not find a matching font-stretch value for "+u);return j}(l.stretch,d),d=function(u,x){if(x[u])return x[u];for(var w=Eg[u],v=0;v<w.length;++v)if(x[w[v]])return x[w[v]];throw new Error("Could not find a matching font-style for "+u)}(l.style,d),!(d=function(u,x){if(x[u])return x[u];if(u===400&&x[500])return x[500];if(u===500&&x[400])return x[400];var w=ob[u],v=nf(x,Ig,w,u<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+u);return v}(l.weight,d)))throw new Error("Failed to resolve a font for the rule '"+of(l)+"'.");return d}function lf(s){return s.trimLeft()}function db(s,r){for(var n=0;n<s.length;){if(s.charAt(n)===r)return[s.substring(0,n),s.substring(n+1)];n+=1}return null}function ub(s){var r=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],s.substring(r[0].length)]}var pc,cf,df,kd=["times"];(function(s){var r,n,a,o,l,d,f,u,x,w=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new d,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new d,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new v(this),r=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,f=this.internal.Rectangle,u=this.internal.Matrix,x=new w}]);var v=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=R;Object.defineProperty(this,"pdf",{get:function(){return K}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ce){Q=!!Ce}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Ce){se=!!Ce}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Ce){isNaN(Ce)||(ae=Ce)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Ce){isNaN(Ce)||(he=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return x.margin},set:function(Ce){var ue;typeof Ce=="number"?ue=[Ce,Ce,Ce,Ce]:((ue=new Array(4))[0]=Ce[0],ue[1]=Ce.length>=2?Ce[1]:ue[0],ue[2]=Ce.length>=3?Ce[2]:ue[0],ue[3]=Ce.length>=4?Ce[3]:ue[1]),x.margin=ue}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ce){we=Ce}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Ce){fe=Ce}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Ce){ge=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return x},set:function(Ce){Ce instanceof w&&(x=Ce)}}),Object.defineProperty(this,"path",{get:function(){return x.path},set:function(Ce){x.path=Ce}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Ce){pe=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ue;ue=j(Ce),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ue=j(Ce);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Ae=null;function Re(Ce,ue){if(Ae===null){var lt=function(et){var He=[];return Object.keys(et).forEach(function($e){et[$e].forEach(function(Ze){var Ve=null;switch(Ze){case"bold":Ve={family:$e,weight:"bold"};break;case"italic":Ve={family:$e,style:"italic"};break;case"bolditalic":Ve={family:$e,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:$e}}Ve!==null&&(Ve.ref={name:$e,style:Ze},He.push(Ve))})}),He}(Ce.getFontList());Ae=function(et){for(var He={},$e=0;$e<et.length;++$e){var Ze=tu(et[$e]),Ve=Ze.family,at=Ze.stretch,xt=Ze.style,_t=Ze.weight;He[Ve]=He[Ve]||{},He[Ve][at]=He[Ve][at]||{},He[Ve][at][xt]=He[Ve][at][xt]||{},He[Ve][at][xt][_t]=Ze}return He}(lt.concat(ue))}return Ae}var We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Ce){Ae=null,We=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ue;if(this.ctx.font=Ce,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var lt=ue[1],et=(ue[2],ue[3]),He=ue[4],$e=(ue[5],ue[6]),Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Ze==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Ve=function(vt){var Rt,Ge,Ks=[],Bt=vt.trim();if(Bt==="")return kd;if(Bt in af)return[af[Bt]];for(;Bt!=="";){switch(Ge=null,Rt=(Bt=lf(Bt)).charAt(0)){case'"':case"'":Ge=db(Bt.substring(1),Rt);break;default:Ge=ub(Bt)}if(Ge===null||(Ks.push(Ge[0]),(Bt=lf(Ge[1]))!==""&&Bt.charAt(0)!==","))return kd;Bt=Bt.replace(/^,/,"")}return Ks}($e);if(this.fontFaces){var at=cb(Re(this.pdf,this.fontFaces),Ve.map(function(vt){return{family:vt,stretch:"normal",weight:et,style:lt}}));this.pdf.setFont(at.ref.name,at.ref.style)}else{var xt="";(et==="bold"||parseInt(et,10)>=700||lt==="bold")&&(xt="bold"),lt==="italic"&&(xt+="italic"),xt.length===0&&(xt="normal");for(var _t="",Lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<Ve.length;Ut++){if(this.pdf.internal.getFont(Ve[Ut],xt,{noFallback:!0,disableWarning:!0})!==void 0){_t=Ve[Ut];break}if(xt==="bolditalic"&&this.pdf.internal.getFont(Ve[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=Ve[Ut],xt="bold";else if(this.pdf.internal.getFont(Ve[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=Ve[Ut],xt="normal";break}}if(_t===""){for(var Qt=0;Qt<Ve.length;Qt++)if(Lt[Ve[Qt]]){_t=Lt[Ve[Qt]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};v.prototype.setLineDash=function(R){this.lineDash=R},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){D.call(this,"fill",!1)},v.prototype.stroke=function(){D.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(R,K){if(isNaN(R)||isNaN(K))throw Ps.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new d(R,K));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new d(R,K)},v.prototype.closePath=function(){var R=new d(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&ys(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){R=new d(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(R.x,R.y)},v.prototype.lineTo=function(R,K){if(isNaN(R)||isNaN(K))throw Ps.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new d(R,K));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new d(Q.x,Q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},v.prototype.quadraticCurveTo=function(R,K,Q,se){if(isNaN(Q)||isNaN(se)||isNaN(R)||isNaN(K))throw Ps.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new d(Q,se)),he=this.ctx.transform.applyToPoint(new d(R,K));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(ae.x,ae.y)},v.prototype.bezierCurveTo=function(R,K,Q,se,ae,he){if(isNaN(ae)||isNaN(he)||isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se))throw Ps.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new d(ae,he)),fe=this.ctx.transform.applyToPoint(new d(R,K)),ge=this.ctx.transform.applyToPoint(new d(Q,se));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:ge.x,y2:ge.y,x:we.x,y:we.y}),this.ctx.lastPoint=new d(we.x,we.y)},v.prototype.arc=function(R,K,Q,se,ae,he){if(isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se)||isNaN(ae))throw Ps.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new d(R,K));R=we.x,K=we.y;var fe=this.ctx.transform.applyToPoint(new d(0,Q)),ge=this.ctx.transform.applyToPoint(new d(0,0));Q=Math.sqrt(Math.pow(fe.x-ge.x,2)+Math.pow(fe.y-ge.y,2))}Math.abs(ae-se)>=2*Math.PI&&(se=0,ae=2*Math.PI),this.path.push({type:"arc",x:R,y:K,radius:Q,startAngle:se,endAngle:ae,counterclockwise:he})},v.prototype.arcTo=function(R,K,Q,se,ae){throw new Error("arcTo not implemented.")},v.prototype.rect=function(R,K,Q,se){if(isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se))throw Ps.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,K),this.lineTo(R+Q,K),this.lineTo(R+Q,K+se),this.lineTo(R,K+se),this.lineTo(R,K),this.lineTo(R+Q,K),this.lineTo(R,K)},v.prototype.fillRect=function(R,K,Q,se){if(isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se))throw Ps.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,K,Q,se),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},v.prototype.strokeRect=function(R,K,Q,se){if(isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se))throw Ps.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(R,K,Q,se),this.stroke())},v.prototype.clearRect=function(R,K,Q,se){if(isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se))throw Ps.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,K,Q,se))},v.prototype.save=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},v.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(K),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var j=function(R){var K,Q,se,ae;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))K=0,Q=0,se=0,ae=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(he!==null)K=parseInt(he[1]),Q=parseInt(he[2]),se=parseInt(he[3]),ae=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)K=parseInt(he[1]),Q=parseInt(he[2]),se=parseInt(he[3]),ae=parseFloat(he[4]);else{if(ae=1,typeof R=="string"&&R.charAt(0)!=="#"){var we=new Sg(R);R=we.ok?we.toHex():"#000000"}R.length===4?(K=R.substring(1,2),K+=K,Q=R.substring(2,3),Q+=Q,se=R.substring(3,4),se+=se):(K=R.substring(1,3),Q=R.substring(3,5),se=R.substring(5,7)),K=parseInt(K,16),Q=parseInt(Q,16),se=parseInt(se,16)}}return{r:K,g:Q,b:se,a:ae,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(R,K,Q,se){if(isNaN(K)||isNaN(Q)||typeof R!="string")throw Ps.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var ae=G(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;T.call(this,{text:R,x:K,y:Q,scale:he,angle:ae,align:this.textAlign,maxWidth:se})}},v.prototype.strokeText=function(R,K,Q,se){if(isNaN(K)||isNaN(Q)||typeof R!="string")throw Ps.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){se=isNaN(se)?void 0:se;var ae=G(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;T.call(this,{text:R,x:K,y:Q,scale:he,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:se})}},v.prototype.measureText=function(R){if(typeof R!="string")throw Ps.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Q=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),ae=K.getStringUnitWidth(R)*se/K.internal.scaleFactor,he=function(we){var fe=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new he({width:ae*=Math.round(96*Q/72*1e4)/1e4})},v.prototype.scale=function(R,K){if(isNaN(R)||isNaN(K))throw Ps.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new u(R,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},v.prototype.rotate=function(R){if(isNaN(R))throw Ps.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},v.prototype.translate=function(R,K){if(isNaN(R)||isNaN(K))throw Ps.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new u(1,0,0,1,R,K);this.ctx.transform=this.ctx.transform.multiply(Q)},v.prototype.transform=function(R,K,Q,se,ae,he){if(isNaN(R)||isNaN(K)||isNaN(Q)||isNaN(se)||isNaN(ae)||isNaN(he))throw Ps.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new u(R,K,Q,se,ae,he);this.ctx.transform=this.ctx.transform.multiply(we)},v.prototype.setTransform=function(R,K,Q,se,ae,he){R=isNaN(R)?1:R,K=isNaN(K)?0:K,Q=isNaN(Q)?0:Q,se=isNaN(se)?1:se,ae=isNaN(ae)?0:ae,he=isNaN(he)?0:he,this.ctx.transform=new u(R,K,Q,se,ae,he)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(R,K,Q,se,ae,he,we,fe,ge){var pe=this.pdf.getImageProperties(R),Ae=1,Re=1,We=1,Ce=1;se!==void 0&&fe!==void 0&&(We=fe/se,Ce=ge/ae,Ae=pe.width/se*fe/se,Re=pe.height/ae*ge/ae),he===void 0&&(he=K,we=Q,K=0,Q=0),se!==void 0&&fe===void 0&&(fe=se,ge=ae),se===void 0&&fe===void 0&&(fe=pe.width,ge=pe.height);for(var ue,lt=this.ctx.transform.decompose(),et=G(lt.rotate.shx),He=new u,$e=(He=(He=(He=He.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new f(he-K*We,we-Q*Ce,se*Ae,ae*Re)),Ze=I.call(this,$e),Ve=[],at=0;at<Ze.length;at+=1)Ve.indexOf(Ze[at])===-1&&Ve.push(Ze[at]);if(A(Ve),this.autoPaging)for(var xt=Ve[0],_t=Ve[Ve.length-1],Lt=xt;Lt<_t+1;Lt++){this.pdf.setPage(Lt);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Lt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Lt===1?0:vt+(Lt-2)*Rt;if(this.ctx.clip_path.length!==0){var Ks=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ue,this.posX+this.margin[3],-Ge+Qt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Ks}var Bt=JSON.parse(JSON.stringify($e));Bt=N([Bt],this.posX+this.margin[3],-Ge+Qt+this.ctx.prevPageLastElemOffset)[0];var Nr=(Lt>xt||Lt<_t)&&_.call(this);Nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Rt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,et),Nr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,et)};var I=function(R,K,Q){var se=[];K=K||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":se.push(Math.floor((R.y+ae)/Q)+1);break;case"arc":se.push(Math.floor((R.y+ae-R.radius)/Q)+1),se.push(Math.floor((R.y+ae+R.radius)/Q)+1);break;case"qct":var he=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);se.push(Math.floor((he.y+ae)/Q)+1),se.push(Math.floor((he.y+he.h+ae)/Q)+1);break;case"bct":var we=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);se.push(Math.floor((we.y+ae)/Q)+1),se.push(Math.floor((we.y+we.h+ae)/Q)+1);break;case"rect":se.push(Math.floor((R.y+ae)/Q)+1),se.push(Math.floor((R.y+R.h+ae)/Q)+1)}for(var fe=0;fe<se.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<se[fe];)S.call(this);return se},S=function(){var R=this.fillStyle,K=this.strokeStyle,Q=this.font,se=this.lineCap,ae=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=K,this.font=Q,this.lineCap=se,this.lineWidth=ae,this.lineJoin=he},N=function(R,K,Q){for(var se=0;se<R.length;se++)switch(R[se].type){case"bct":R[se].x2+=K,R[se].y2+=Q;case"qct":R[se].x1+=K,R[se].y1+=Q;case"mt":case"lt":case"arc":default:R[se].x+=K,R[se].y+=Q}return R},A=function(R){return R.sort(function(K,Q){return K-Q})},D=function(R,K){for(var Q,se,ae=this.fillStyle,he=this.strokeStyle,we=this.lineCap,fe=this.lineWidth,ge=Math.abs(fe*this.ctx.transform.scaleX),pe=this.lineJoin,Ae=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),We=[],Ce=0;Ce<Re.length;Ce++)if(Re[Ce].x!==void 0)for(var ue=I.call(this,Re[Ce]),lt=0;lt<ue.length;lt+=1)We.indexOf(ue[lt])===-1&&We.push(ue[lt]);for(var et=0;et<We.length;et++)for(;this.pdf.internal.getNumberOfPages()<We[et];)S.call(this);if(A(We),this.autoPaging)for(var He=We[0],$e=We[We.length-1],Ze=He;Ze<$e+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=ae,this.strokeStyle=he,this.lineCap=we,this.lineWidth=ge,this.lineJoin=pe;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Ze===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Ze===1?0:xt+(Ze-2)*_t;if(this.ctx.clip_path.length!==0){var Ut=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Q,this.posX+this.margin[3],-Lt+at+this.ctx.prevPageLastElemOffset),q.call(this,R,!0),this.path=Ut}if(se=JSON.parse(JSON.stringify(Ae)),this.path=N(se,this.posX+this.margin[3],-Lt+at+this.ctx.prevPageLastElemOffset),K===!1||Ze===0){var Qt=(Ze>He||Ze<$e)&&_.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,_t,null).clip().discardPath()),q.call(this,R,K),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=ge,q.call(this,R,K),this.lineWidth=fe;this.path=Ae},q=function(R,K){if((R!=="stroke"||K||!k.call(this))&&(R==="stroke"||K||!p.call(this))){for(var Q,se,ae=[],he=this.path,we=0;we<he.length;we++){var fe=he[we];switch(fe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:fe,deltas:[],abs:[]});break;case"lt":var ge=ae.length;if(he[we-1]&&!isNaN(he[we-1].x)&&(Q=[fe.x-he[we-1].x,fe.y-he[we-1].y],ge>0)){for(;ge>=0;ge--)if(ae[ge-1].close!==!0&&ae[ge-1].begin!==!0){ae[ge-1].deltas.push(Q),ae[ge-1].abs.push(fe);break}}break;case"bct":Q=[fe.x1-he[we-1].x,fe.y1-he[we-1].y,fe.x2-he[we-1].x,fe.y2-he[we-1].y,fe.x-he[we-1].x,fe.y-he[we-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var pe=he[we-1].x+2/3*(fe.x1-he[we-1].x),Ae=he[we-1].y+2/3*(fe.y1-he[we-1].y),Re=fe.x+2/3*(fe.x1-fe.x),We=fe.y+2/3*(fe.y1-fe.y),Ce=fe.x,ue=fe.y;Q=[pe-he[we-1].x,Ae-he[we-1].y,Re-he[we-1].x,We-he[we-1].y,Ce-he[we-1].x,ue-he[we-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(fe)}}se=K?null:R==="stroke"?"stroke":"fill";for(var lt=!1,et=0;et<ae.length;et++)if(ae[et].arc)for(var He=ae[et].abs,$e=0;$e<He.length;$e++){var Ze=He[$e];Ze.type==="arc"?U.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,K,!lt):z.call(this,Ze.x,Ze.y),lt=!0}else if(ae[et].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ae[et].begin!==!0){var Ve=ae[et].start.x,at=ae[et].start.y;F.call(this,ae[et].deltas,Ve,at),lt=!0}se&&Y.call(this,se),K&&ie.call(this)}},ee=function(R){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Q;case"top":return R+K-Q;case"hanging":return R+K-2*Q;case"middle":return R+K/2-Q;case"ideographic":return R;case"alphabetic":default:return R}},$=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(K,Q){this.colorStops.push([K,Q])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(R,K,Q,se,ae,he,we,fe,ge){for(var pe=X.call(this,Q,se,ae,he),Ae=0;Ae<pe.length;Ae++){var Re=pe[Ae];Ae===0&&(ge?E.call(this,Re.x1+R,Re.y1+K):z.call(this,Re.x1+R,Re.y1+K)),le.call(this,R,K,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}fe?ie.call(this):Y.call(this,we)},Y=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ie=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(R,K){this.pdf.internal.out(n(R)+" "+a(K)+" m")},T=function(R){var K;switch(R.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var Q=this.pdf.getTextDimensions(R.text),se=ee.call(this,R.y),ae=$.call(this,se)-Q.h,he=this.ctx.transform.applyToPoint(new d(R.x,se)),we=this.ctx.transform.decompose(),fe=new u;fe=(fe=(fe=fe.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var ge,pe,Ae,Re=this.ctx.transform.applyToRectangle(new f(R.x,se,Q.w,Q.h)),We=fe.applyToRectangle(new f(R.x,ae,Q.w,Q.h)),Ce=I.call(this,We),ue=[],lt=0;lt<Ce.length;lt+=1)ue.indexOf(Ce[lt])===-1&&ue.push(Ce[lt]);if(A(ue),this.autoPaging)for(var et=ue[0],He=ue[ue.length-1],$e=et;$e<He+1;$e++){this.pdf.setPage($e);var Ze=$e===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],xt=at-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],Lt=_t-this.margin[3],Ut=$e===1?0:Ve+($e-2)*xt;if(this.ctx.clip_path.length!==0){var Qt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ge,this.posX+this.margin[3],-1*Ut+Ze),q.call(this,"fill",!0),this.path=Qt}var vt=N([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Ut+Ze+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*R.scale),Ae=this.lineWidth,this.lineWidth=Ae*R.scale);var Rt=this.autoPaging!=="text";if(Rt||vt.y+vt.h<=at){if(Rt||vt.y>=Ze&&vt.x<=_t){var Ge=Rt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||_t-vt.x)[0],Ks=N([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ut+Ze+this.ctx.prevPageLastElemOffset)[0],Bt=Rt&&($e>et||$e<He)&&_.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,xt,null).clip().discardPath()),this.pdf.text(Ge,Ks.x,Ks.y,{angle:R.angle,align:K,renderingMode:R.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else vt.y<at&&(this.ctx.prevPageLastElemOffset+=at-vt.y);R.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Ae)}else R.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*R.scale),Ae=this.lineWidth,this.lineWidth=Ae*R.scale),this.pdf.text(R.text,he.x+this.posX,he.y+this.posY,{angle:R.angle,align:K,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Ae)},z=function(R,K,Q,se){Q=Q||0,se=se||0,this.pdf.internal.out(n(R+Q)+" "+a(K+se)+" l")},F=function(R,K,Q){return this.pdf.lines(R,K,Q,null,null)},le=function(R,K,Q,se,ae,he,we,fe){this.pdf.internal.out([r(o(Q+R)),r(l(se+K)),r(o(ae+R)),r(l(he+K)),r(o(we+R)),r(l(fe+K)),"c"].join(" "))},X=function(R,K,Q,se){for(var ae=2*Math.PI,he=Math.PI/2;K>Q;)K-=ae;var we=Math.abs(Q-K);we<ae&&se&&(we=ae-we);for(var fe=[],ge=se?-1:1,pe=K;we>1e-5;){var Ae=pe+ge*Math.min(we,he);fe.push(O.call(this,R,pe,Ae)),we-=Math.abs(Ae-pe),pe=Ae}return fe},O=function(R,K,Q){var se=(Q-K)/2,ae=R*Math.cos(se),he=R*Math.sin(se),we=ae,fe=-he,ge=we*we+fe*fe,pe=ge+we*ae+fe*he,Ae=4/3*(Math.sqrt(2*ge*pe)-pe)/(we*he-fe*ae),Re=we-Ae*fe,We=fe+Ae*we,Ce=Re,ue=-We,lt=se+K,et=Math.cos(lt),He=Math.sin(lt);return{x1:R*Math.cos(K),y1:R*Math.sin(K),x2:Re*et-We*He,y2:Re*He+We*et,x3:Ce*et-ue*He,y3:Ce*He+ue*et,x4:R*Math.cos(Q),y4:R*Math.sin(Q)}},G=function(R){return 180*R/Math.PI},J=function(R,K,Q,se,ae,he){var we=R+.5*(Q-R),fe=K+.5*(se-K),ge=ae+.5*(Q-ae),pe=he+.5*(se-he),Ae=Math.min(R,ae,we,ge),Re=Math.max(R,ae,we,ge),We=Math.min(K,he,fe,pe),Ce=Math.max(K,he,fe,pe);return new f(Ae,We,Re-Ae,Ce-We)},ce=function(R,K,Q,se,ae,he,we,fe){var ge,pe,Ae,Re,We,Ce,ue,lt,et,He,$e,Ze,Ve,at,xt=Q-R,_t=se-K,Lt=ae-Q,Ut=he-se,Qt=we-ae,vt=fe-he;for(pe=0;pe<41;pe++)et=(ue=(Ae=R+(ge=pe/40)*xt)+ge*((We=Q+ge*Lt)-Ae))+ge*(We+ge*(ae+ge*Qt-We)-ue),He=(lt=(Re=K+ge*_t)+ge*((Ce=se+ge*Ut)-Re))+ge*(Ce+ge*(he+ge*vt-Ce)-lt),pe==0?($e=et,Ze=He,Ve=et,at=He):($e=Math.min($e,et),Ze=Math.min(Ze,He),Ve=Math.max(Ve,et),at=Math.max(at,He));return new f(Math.round($e),Math.round(Ze),Math.round(Ve-$e),Math.round(at-Ze))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,K,Q=(R=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:K}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(wt.API),function(s){var r=function(l){var d,f,u,x,w,v,j,p,k,_;for(f=[],u=0,x=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;x>u;u+=4)(w=(l.charCodeAt(u)<<24)+(l.charCodeAt(u+1)<<16)+(l.charCodeAt(u+2)<<8)+l.charCodeAt(u+3))!==0?(v=(w=((w=((w=((w=(w-(_=w%85))/85)-(k=w%85))/85)-(p=w%85))/85)-(j=w%85))/85)%85,f.push(v+33,j+33,p+33,k+33,_+33)):f.push(122);return function(I,S){for(var N=S;N>0;N--)I.pop()}(f,d.length),String.fromCharCode.apply(String,f)+"~>"},n=function(l){var d,f,u,x,w,v=String,j="length",p=255,k="charCodeAt",_="slice",I="replace";for(l[_](-2),l=l[_](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),u=[],x=0,w=(l+=d="uuuuu"[_](l[j]%5||5))[j];w>x;x+=5)f=52200625*(l[k](x)-33)+614125*(l[k](x+1)-33)+7225*(l[k](x+2)-33)+85*(l[k](x+3)-33)+(l[k](x+4)-33),u.push(p&f>>24,p&f>>16,p&f>>8,p&f);return function(S,N){for(var A=N;A>0;A--)S.pop()}(u,d[j]),v.fromCharCode.apply(v,u)},a=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var f="",u=0;u<l.length;u+=2)f+=String.fromCharCode("0x"+(l[u]+l[u+1]));return f},o=function(l){for(var d=new Uint8Array(l.length),f=l.length;f--;)d[f]=l.charCodeAt(f);return l=(d=Yd(d)).reduce(function(u,x){return u+String.fromCharCode(x)},"")};s.processDataByFilters=function(l,d){var f=0,u=l||"",x=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=r(u),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:u,reverseChain:x.reverse().join(" ")}}}(wt.API),function(s){s.loadFile=function(r,n,a){return function(o,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var f=void 0;try{f=function(u,x,w){var v=new XMLHttpRequest,j=0,p=function(k){var _=k.length,I=[],S=String.fromCharCode;for(j=0;j<_;j+=1)I.push(S(255&k.charCodeAt(j)));return I.join("")};if(v.open("GET",u,!x),v.overrideMimeType("text/plain; charset=x-user-defined"),x===!1&&(v.onload=function(){v.status===200?w(p(this.responseText)):w(void 0)}),v.send(null),x&&v.status===200)return p(v.responseText)}(o,l,d)}catch{}return f}(r,n,a)},s.loadImageFile=s.loadFile}(wt.API),function(s){function r(){return(St.html2canvas?Promise.resolve(St.html2canvas):$d(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):$d(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var a=function(d){var f=ys(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},o=function(d,f){var u=document.createElement(d);for(var x in f.className&&(u.className=f.className),f.innerHTML&&f.dompurify&&(u.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)u.style[x]=f.style[x];return u},l=function d(f){var u=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),x=d.convert(Promise.resolve(),u);return x=(x=x.setProgress(1,d,1,[d])).set(f)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,f){return d.__proto__=f||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,f){return this.then(function(){switch(f=f||function(u){switch(a(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(n).then(function(u){return this.set({src:o("div",{innerHTML:d,dompurify:u})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=function u(x,w){for(var v=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),j=x.firstChild;j;j=j.nextSibling)w!==!0&&j.nodeType===1&&j.nodeName==="SCRIPT"||v.appendChild(u(j,w));return x.nodeType===1&&(x.nodeName==="CANVAS"?(v.width=x.width,v.height=x.height,v.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(v.value=x.value),v.addEventListener("load",function(){v.scrollTop=x.scrollTop,v.scrollLeft=x.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(f){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,f(this.prop.container,u)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(f){var u=this.opt.jsPDF,x=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=x,x)for(var j=0;j<x.length;++j){var p=x[j],k=p.src.find(function(_){return _.format==="truetype"});k&&u.addFont(k.url,p.ref.name,p.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),f(this.prop.container,v)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,f,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},l.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(a(d)!=="object")return this;var f=Object.keys(d||{}).map(function(u){if(u in l.template.prop)return function(){this.prop[u]=d[u]};switch(u){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[u]=d[u]}}},this);return this.then(function(){return this.thenList(f)})},l.prototype.get=function(d,f){return this.then(function(){var u=d in l.template.prop?this.prop[d]:this.opt[d];return f?f(u):u})},l.prototype.setMargin=function(d){return this.then(function(){switch(a(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function f(u,x){return Math.floor(u*x/72*96)}return this.then(function(){(d=d||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,f,u,x){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),u!=null&&(this.progress.n=u),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,f,u,x){return this.setProgress(d?this.progress.val+d:null,f||null,u?this.progress.n+u:null,x?this.progress.stack.concat(x):null)},l.prototype.then=function(d,f){var u=this;return this.thenCore(d,f,function(x,w){return u.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,x),v}).then(x,w).then(function(v){return u.updateProgress(1),v})})},l.prototype.thenCore=function(d,f,u){u=u||Promise.prototype.then,d&&(d=d.bind(this)),f&&(f=f.bind(this));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),w=u.call(x,d,f);return l.convert(w,this.__proto__)},l.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},l.prototype.thenList=function(d){var f=this;return d.forEach(function(u){f=f.thenCore(u)}),f},l.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return l.convert(f,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,wt.getPageSize=function(d,f,u){if(ys(d)==="object"){var x=d;d=x.orientation,f=x.unit||f,u=x.format||u}f=f||"mm",u=u||"a4",d=(""+(d||"P")).toLowerCase();var w,v=(""+u).toLowerCase(),j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var p,k=0,_=0;if(j.hasOwnProperty(v))k=j[v][1]/w,_=j[v][0]/w;else try{k=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(d==="p"||d==="portrait")d="p",_>k&&(p=_,_=k,k=p);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",k>_&&(p=_,_=k,k=p)}return{width:_,height:k,unit:f,k:w,orientation:d}},s.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(tu):null;var u=new l(f);return f.worker?u:u.from(d).doCallback()}}(wt.API),wt.API.addJS=function(s){return df=s,this.internal.events.subscribe("postPutResources",function(){pc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+df+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pc!==void 0&&cf!==void 0&&this.internal.out("/Names <</JavaScript "+pc+" 0 R>>")}),this},function(s){var r;s.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),l=0;l<o.length;l++){var d=o[l],f=a.exec(d);if(f!=null){var u=f[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var x=this.internal.pages.length,w=[];for(l=0;l<x;l++){var v=n.internal.newObject();w.push(v);var j=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+j.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<w.length;l++)n.internal.write("(page_"+(l+1)+")"+w[l]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),s.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,o,l){var d={title:o,options:l,children:[]};return a==null&&(a=this.root),a.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var o=0;o<a.children.length;o++)this.genIds_r(a.children[o])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var d=a.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var f=this.count=this.count_r({count:0},d);if(f>0&&this.line("/Count "+f),d.options&&d.options.pageNumber){var u=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var x=0;x<a.children.length;x++)this.renderItems(a.children[x])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,o){for(var l=0;l<o.children.length;l++)a.count++,this.count_r(a,o.children[l]);return a.count}}])}(wt.API),function(s){var r=[192,193,194,195,196,197,198,199];s.processJPEG=function(n,a,o,l,d,f){var u,x=this.decode.DCT_DECODE,w=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(v){for(var j,p=256*v.charCodeAt(4)+v.charCodeAt(5),k=v.length,_={width:0,height:0,numcomponents:1},I=4;I<k;I+=2){if(I+=p,r.indexOf(v.charCodeAt(I+1))!==-1){j=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),_={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:j,numcomponents:v.charCodeAt(I+9)};break}p=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}w={data:n,width:u.width,height:u.height,colorSpace:f,bitsPerComponent:8,filter:x,index:a,alias:o}}return w}}(wt.API);var $o,gc,uf,hf,ff,hb=function(){var s,r,n;function a(l){var d,f,u,x,w,v,j,p,k,_,I,S,N,A;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(d=this.readUInt32(),k=(function(){var D,q;for(q=[],D=0;D<4;++D)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),x=this.readUInt16()||100,v.delay=1e3*w/x,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(k==="fdAT"&&(this.pos+=4,d-=4),l=v?.data||this.imgData,S=0;0<=d?S<d:S>d;0<=d?++S:--S)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((_=u-this.transparency.indexed.length)>0)for(N=0;0<=_?N<_:N>_;0<=_?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":j=(I=this.read(d)).indexOf(0),p=String.fromCharCode.apply(String,I.slice(0,j)),this.text[p]=String.fromCharCode.apply(String,I.slice(j+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,f=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*f,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(l){var d,f;for(f=[],d=0;0<=l?d<l:d>l;0<=l?++d:--d)f.push(this.data[this.pos++]);return f},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(l){var d=this.pixelBitlength/8,f=new Uint8Array(this.width*this.height*d),u=0,x=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function w(v,j,p,k){var _,I,S,N,A,D,q,ee,$,U,Y,ie,E,T,z,F,le,X,O,G,J,ce=Math.ceil((x.width-v)/p),ve=Math.ceil((x.height-j)/k),R=x.width==ce&&x.height==ve;for(T=d*ce,ie=R?f:new Uint8Array(T*ve),D=l.length,E=0,I=0;E<ve&&u<D;){switch(l[u++]){case 0:for(N=le=0;le<T;N=le+=1)ie[I++]=l[u++];break;case 1:for(N=X=0;X<T;N=X+=1)_=l[u++],A=N<d?0:ie[I-d],ie[I++]=(_+A)%256;break;case 2:for(N=O=0;O<T;N=O+=1)_=l[u++],S=(N-N%d)/d,z=E&&ie[(E-1)*T+S*d+N%d],ie[I++]=(z+_)%256;break;case 3:for(N=G=0;G<T;N=G+=1)_=l[u++],S=(N-N%d)/d,A=N<d?0:ie[I-d],z=E&&ie[(E-1)*T+S*d+N%d],ie[I++]=(_+Math.floor((A+z)/2))%256;break;case 4:for(N=J=0;J<T;N=J+=1)_=l[u++],S=(N-N%d)/d,A=N<d?0:ie[I-d],E===0?z=F=0:(z=ie[(E-1)*T+S*d+N%d],F=S&&ie[(E-1)*T+(S-1)*d+N%d]),q=A+z-F,ee=Math.abs(q-A),U=Math.abs(q-z),Y=Math.abs(q-F),$=ee<=U&&ee<=Y?A:U<=Y?z:F,ie[I++]=(_+$)%256;break;default:throw new Error("Invalid filter algorithm: "+l[u-1])}if(!R){var K=((j+E*k)*x.width+v)*d,Q=E*T;for(N=0;N<ce;N+=1){for(var se=0;se<d;se+=1)f[K++]=ie[Q++];K+=(p-1)*d}}E++}}return l=U5(l),x.interlaceMethod==1?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),f},a.prototype.decodePalette=function(){var l,d,f,u,x,w,v,j,p;for(f=this.palette,w=this.transparency.indexed||[],x=new Uint8Array((w.length||0)+f.length),u=0,l=0,d=v=0,j=f.length;v<j;d=v+=3)x[u++]=f[d],x[u++]=f[d+1],x[u++]=f[d+2],x[u++]=(p=w[l++])!=null?p:255;return x},a.prototype.copyToImageData=function(l,d){var f,u,x,w,v,j,p,k,_,I,S;if(u=this.colors,_=null,f=this.hasAlphaChannel,this.palette.length&&(_=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),u=4,f=!0),k=(x=l.data||l).length,v=_||d,w=j=0,u===1)for(;w<k;)p=_?4*d[w/4]:j,I=v[p++],x[w++]=I,x[w++]=I,x[w++]=I,x[w++]=f?v[p++]:255,j=p;else for(;w<k;)p=_?4*d[w/4]:j,x[w++]=v[p++],x[w++]=v[p++],x[w++]=v[p++],x[w++]=f?v[p++]:255,j=p},a.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var o=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{r=St.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return o(),s=function(l){var d;if(o()===!0)return n.width=l.width,n.height=l.height,n.clearRect(0,0,l.width,l.height),n.putImageData(l,0,0),(d=new Image).src=r.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(l){var d,f,u,x,w,v,j,p;if(this.animation){for(p=[],f=w=0,v=(j=this.animation.frames).length;w<v;f=++w)d=j[f],u=l.createImageData(d.width,d.height),x=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(u,x),d.imageData=u,p.push(d.image=s(u));return p}},a.prototype.renderFrame=function(l,d){var f,u,x;return f=(u=this.animation.frames)[d],x=u[d-1],d===0&&l.clearRect(0,0,this.width,this.height),x?.disposeOp===1?l.clearRect(x.xOffset,x.yOffset,x.width,x.height):x?.disposeOp===2&&l.putImageData(x.imageData,x.xOffset,x.yOffset),f.blendOp===0&&l.clearRect(f.xOffset,f.yOffset,f.width,f.height),l.drawImage(f.image,f.xOffset,f.yOffset)},a.prototype.animate=function(l){var d,f,u,x,w,v,j=this;return f=0,v=this.animation,x=v.numFrames,u=v.frames,w=v.numPlays,(d=function(){var p,k;if(p=f++%x,k=u[p],j.renderFrame(l,p),x>1&&f/x<w)return j.animation._timeout=setTimeout(d,k.delay)})()},a.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},a.prototype.render=function(l){var d,f;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,d=l.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(f=d.createImageData(this.width,this.height),this.copyToImageData(f,this.decodePixels()),d.putImageData(f,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function fb(s){var r=0;if(s[r++]!==71||s[r++]!==73||s[r++]!==70||s[r++]!==56||(s[r++]+1&253)!=56||s[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=s[r++]|s[r++]<<8,a=s[r++]|s[r++]<<8,o=s[r++],l=o>>7,d=1<<(7&o)+1;s[r++],s[r++];var f=null,u=null;l&&(f=r,u=d,r+=3*d);var x=!0,w=[],v=0,j=null,p=0,k=null;for(this.width=n,this.height=a;x&&r<s.length;)switch(s[r++]){case 33:switch(s[r++]){case 255:if(s[r]!==11||s[r+1]==78&&s[r+2]==69&&s[r+3]==84&&s[r+4]==83&&s[r+5]==67&&s[r+6]==65&&s[r+7]==80&&s[r+8]==69&&s[r+9]==50&&s[r+10]==46&&s[r+11]==48&&s[r+12]==3&&s[r+13]==1&&s[r+16]==0)r+=14,k=s[r++]|s[r++]<<8,r++;else for(r+=12;;){if(!((E=s[r++])>=0))throw Error("Invalid block size");if(E===0)break;r+=E}break;case 249:if(s[r++]!==4||s[r+4]!==0)throw new Error("Invalid graphics extension block.");var _=s[r++];v=s[r++]|s[r++]<<8,j=s[r++],(1&_)==0&&(j=null),p=_>>2&7,r++;break;case 254:for(;;){if(!((E=s[r++])>=0))throw Error("Invalid block size");if(E===0)break;r+=E}break;default:throw new Error("Unknown graphic control label: 0x"+s[r-1].toString(16))}break;case 44:var I=s[r++]|s[r++]<<8,S=s[r++]|s[r++]<<8,N=s[r++]|s[r++]<<8,A=s[r++]|s[r++]<<8,D=s[r++],q=D>>6&1,ee=1<<(7&D)+1,$=f,U=u,Y=!1;D>>7&&(Y=!0,$=r,U=ee,r+=3*ee);var ie=r;for(r++;;){var E;if(!((E=s[r++])>=0))throw Error("Invalid block size");if(E===0)break;r+=E}w.push({x:I,y:S,width:N,height:A,has_local_palette:Y,palette_offset:$,palette_size:U,data_offset:ie,data_length:r-ie,transparent_index:j,interlaced:!!q,delay:v,disposal:p});break;case 59:x=!1;break;default:throw new Error("Unknown gif block: 0x"+s[r-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return k},this.frameInfo=function(T){if(T<0||T>=w.length)throw new Error("Frame index out of range.");return w[T]},this.decodeAndBlitFrameBGRA=function(T,z){var F=this.frameInfo(T),le=F.width*F.height,X=new Uint8Array(le);mf(s,F.data_offset,X,le);var O=F.palette_offset,G=F.transparent_index;G===null&&(G=256);var J=F.width,ce=n-J,ve=J,R=4*(F.y*n+F.x),K=4*((F.y+F.height)*n+F.x),Q=R,se=4*ce;F.interlaced===!0&&(se+=4*n*7);for(var ae=8,he=0,we=X.length;he<we;++he){var fe=X[he];if(ve===0&&(ve=J,(Q+=se)>=K&&(se=4*ce+4*n*(ae-1),Q=R+(J+ce)*(ae<<1),ae>>=1)),fe===G)Q+=4;else{var ge=s[O+3*fe],pe=s[O+3*fe+1],Ae=s[O+3*fe+2];z[Q++]=Ae,z[Q++]=pe,z[Q++]=ge,z[Q++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(T,z){var F=this.frameInfo(T),le=F.width*F.height,X=new Uint8Array(le);mf(s,F.data_offset,X,le);var O=F.palette_offset,G=F.transparent_index;G===null&&(G=256);var J=F.width,ce=n-J,ve=J,R=4*(F.y*n+F.x),K=4*((F.y+F.height)*n+F.x),Q=R,se=4*ce;F.interlaced===!0&&(se+=4*n*7);for(var ae=8,he=0,we=X.length;he<we;++he){var fe=X[he];if(ve===0&&(ve=J,(Q+=se)>=K&&(se=4*ce+4*n*(ae-1),Q=R+(J+ce)*(ae<<1),ae>>=1)),fe===G)Q+=4;else{var ge=s[O+3*fe],pe=s[O+3*fe+1],Ae=s[O+3*fe+2];z[Q++]=ge,z[Q++]=pe,z[Q++]=Ae,z[Q++]=255}--ve}}}function mf(s,r,n,a){for(var o=s[r++],l=1<<o,d=l+1,f=d+1,u=o+1,x=(1<<u)-1,w=0,v=0,j=0,p=s[r++],k=new Int32Array(4096),_=null;;){for(;w<16&&p!==0;)v|=s[r++]<<w,w+=8,p===1?p=s[r++]:--p;if(w<u)break;var I=v&x;if(v>>=u,w-=u,I!==l){if(I===d)break;for(var S=I<f?I:_,N=0,A=S;A>l;)A=k[A]>>8,++N;var D=A;if(j+N+(S!==I?1:0)>a)return void Ps.log("Warning, gif stream longer than expected.");n[j++]=D;var q=j+=N;for(S!==I&&(n[j++]=D),A=S;N--;)A=k[A],n[--q]=255&A,A>>=8;_!==null&&f<4096&&(k[f++]=_<<8|D,f>=x+1&&u<12&&(++u,x=x<<1|1)),_=I}else f=d+1,x=(1<<(u=o+1))-1,_=null}return j!==a&&Ps.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pd(s){var r,n,a,o,l,d=Math.floor,f=new Array(64),u=new Array(64),x=new Array(64),w=new Array(64),v=new Array(65535),j=new Array(65535),p=new Array(64),k=new Array(64),_=[],I=0,S=7,N=new Array(64),A=new Array(64),D=new Array(64),q=new Array(256),ee=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(R,K){for(var Q=0,se=0,ae=new Array,he=1;he<=16;he++){for(var we=1;we<=R[he];we++)ae[K[se]]=[],ae[K[se]][0]=Q,ae[K[se]][1]=he,se++,Q++;Q*=2}return ae}function O(R){for(var K=R[0],Q=R[1]-1;Q>=0;)K&1<<Q&&(I|=1<<S),Q--,--S<0&&(I==255?(G(255),G(0)):G(I),S=7,I=0)}function G(R){_.push(R)}function J(R){G(R>>8&255),G(255&R)}function ce(R,K,Q,se,ae){for(var he,we=ae[0],fe=ae[240],ge=function(He,$e){var Ze,Ve,at,xt,_t,Lt,Ut,Qt,vt,Rt,Ge=0;for(vt=0;vt<8;++vt){Ze=He[Ge],Ve=He[Ge+1],at=He[Ge+2],xt=He[Ge+3],_t=He[Ge+4],Lt=He[Ge+5],Ut=He[Ge+6];var Ks=Ze+(Qt=He[Ge+7]),Bt=Ze-Qt,Nr=Ve+Ut,ss=Ve-Ut,bs=at+Lt,ur=at-Lt,Xt=xt+_t,Vn=xt-_t,_s=Ks+Xt,Er=Ks-Xt,Mr=Nr+bs,ws=Nr-bs;He[Ge]=_s+Mr,He[Ge+4]=_s-Mr;var ft=.707106781*(ws+Er);He[Ge+2]=Er+ft,He[Ge+6]=Er-ft;var es=.382683433*((_s=Vn+ur)-(ws=ss+Bt)),Zn=.5411961*_s+es,Hs=1.306562965*ws+es,nn=.707106781*(Mr=ur+ss),Ir=Bt+nn,gt=Bt-nn;He[Ge+5]=gt+Zn,He[Ge+3]=gt-Zn,He[Ge+1]=Ir+Hs,He[Ge+7]=Ir-Hs,Ge+=8}for(Ge=0,vt=0;vt<8;++vt){Ze=He[Ge],Ve=He[Ge+8],at=He[Ge+16],xt=He[Ge+24],_t=He[Ge+32],Lt=He[Ge+40],Ut=He[Ge+48];var $r=Ze+(Qt=He[Ge+56]),Wr=Ze-Qt,Js=Ve+Ut,as=Ve-Ut,ne=at+Lt,Te=at-Lt,Ue=xt+_t,tt=xt-_t,ot=$r+Ue,qt=$r-Ue,yt=Js+ne,jt=Js-ne;He[Ge]=ot+yt,He[Ge+32]=ot-yt;var kt=.707106781*(jt+qt);He[Ge+16]=qt+kt,He[Ge+48]=qt-kt;var Zt=.382683433*((ot=tt+Te)-(jt=as+Wr)),Gt=.5411961*ot+Zt,It=1.306562965*jt+Zt,it=.707106781*(yt=Te+as),rs=Wr+it,js=Wr-it;He[Ge+40]=js+Gt,He[Ge+24]=js-Gt,He[Ge+8]=rs+It,He[Ge+56]=rs-It,Ge++}for(vt=0;vt<64;++vt)Rt=He[vt]*$e[vt],p[vt]=Rt>0?Rt+.5|0:Rt-.5|0;return p}(R,K),pe=0;pe<64;++pe)k[$[pe]]=ge[pe];var Ae=k[0]-Q;Q=k[0],Ae==0?O(se[0]):(O(se[j[he=32767+Ae]]),O(v[he]));for(var Re=63;Re>0&&k[Re]==0;)Re--;if(Re==0)return O(we),Q;for(var We,Ce=1;Ce<=Re;){for(var ue=Ce;k[Ce]==0&&Ce<=Re;)++Ce;var lt=Ce-ue;if(lt>=16){We=lt>>4;for(var et=1;et<=We;++et)O(fe);lt&=15}he=32767+k[Ce],O(ae[(lt<<4)+j[he]]),O(v[he]),Ce++}return Re!=63&&O(we),Q}function ve(R){R=Math.min(Math.max(R,1),100),l!=R&&(function(K){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ae=d((Q[se]*K+50)/100);ae=Math.min(Math.max(ae,1),255),f[$[se]]=ae}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var fe=d((he[we]*K+50)/100);fe=Math.min(Math.max(fe,1),255),u[$[we]]=fe}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,Ae=0;Ae<8;Ae++)for(var Re=0;Re<8;Re++)x[pe]=1/(f[$[pe]]*ge[Ae]*ge[Re]*8),w[pe]=1/(u[$[pe]]*ge[Ae]*ge[Re]*8),pe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),l=R)}this.encode=function(R,K){K&&ve(K),_=new Array,I=0,S=7,J(65496),J(65504),J(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),J(1),J(1),G(0),G(0),function(){J(65499),J(132),G(0);for(var Ve=0;Ve<64;Ve++)G(f[Ve]);G(1);for(var at=0;at<64;at++)G(u[at])}(),function(Ve,at){J(65472),J(17),G(8),J(at),J(Ve),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(R.width,R.height),function(){J(65476),J(418),G(0);for(var Ve=0;Ve<16;Ve++)G(U[Ve+1]);for(var at=0;at<=11;at++)G(Y[at]);G(16);for(var xt=0;xt<16;xt++)G(ie[xt+1]);for(var _t=0;_t<=161;_t++)G(E[_t]);G(1);for(var Lt=0;Lt<16;Lt++)G(T[Lt+1]);for(var Ut=0;Ut<=11;Ut++)G(z[Ut]);G(17);for(var Qt=0;Qt<16;Qt++)G(F[Qt+1]);for(var vt=0;vt<=161;vt++)G(le[vt])}(),J(65498),J(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var Q=0,se=0,ae=0;I=0,S=7,this.encode.displayName="_encode_";for(var he,we,fe,ge,pe,Ae,Re,We,Ce,ue=R.data,lt=R.width,et=R.height,He=4*lt,$e=0;$e<et;){for(he=0;he<He;){for(pe=He*$e+he,Re=-1,We=0,Ce=0;Ce<64;Ce++)Ae=pe+(We=Ce>>3)*He+(Re=4*(7&Ce)),$e+We>=et&&(Ae-=He*($e+1+We-et)),he+Re>=He&&(Ae-=he+Re-He+4),we=ue[Ae++],fe=ue[Ae++],ge=ue[Ae++],N[Ce]=(ee[we]+ee[fe+256>>0]+ee[ge+512>>0]>>16)-128,A[Ce]=(ee[we+768>>0]+ee[fe+1024>>0]+ee[ge+1280>>0]>>16)-128,D[Ce]=(ee[we+1280>>0]+ee[fe+1536>>0]+ee[ge+1792>>0]>>16)-128;Q=ce(N,x,Q,r,a),se=ce(A,w,se,n,o),ae=ce(D,w,ae,n,o),he+=32}$e+=8}if(S>=0){var Ze=[];Ze[1]=S+1,Ze[0]=(1<<S+1)-1,O(Ze)}return J(65497),new Uint8Array(_)},s=s||50,function(){for(var R=String.fromCharCode,K=0;K<256;K++)q[K]=R(K)}(),r=X(U,Y),n=X(T,z),a=X(ie,E),o=X(F,le),function(){for(var R=1,K=2,Q=1;Q<=15;Q++){for(var se=R;se<K;se++)j[32767+se]=Q,v[32767+se]=[],v[32767+se][1]=Q,v[32767+se][0]=se;for(var ae=-(K-1);ae<=-R;ae++)j[32767+ae]=Q,v[32767+ae]=[],v[32767+ae][1]=Q,v[32767+ae][0]=K-1+ae;R<<=1,K<<=1}}(),function(){for(var R=0;R<256;R++)ee[R]=19595*R,ee[R+256>>0]=38470*R,ee[R+512>>0]=7471*R+32768,ee[R+768>>0]=-11059*R,ee[R+1024>>0]=-21709*R,ee[R+1280>>0]=32768*R+8421375,ee[R+1536>>0]=-27439*R,ee[R+1792>>0]=-5329*R}(),ve(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function aa(s,r){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pf(s){function r(U){if(!U)throw Error("assert :P")}function n(U,Y,ie){for(var E=0;4>E;E++)if(U[Y+E]!=ie.charCodeAt(E))return!0;return!1}function a(U,Y,ie,E,T){for(var z=0;z<T;z++)U[Y+z]=ie[E+z]}function o(U,Y,ie,E){for(var T=0;T<E;T++)U[Y+T]=ie}function l(U){return new Int32Array(U)}function d(U,Y){for(var ie=[],E=0;E<U;E++)ie.push(new Y);return ie}function f(U,Y){var ie=[];return function E(T,z,F){for(var le=F[z],X=0;X<le&&(T.push(F.length>z+1?[]:new Y),!(F.length<z+1));X++)E(T[X],z+1,F)}(ie,0,U),ie}var u=function(){var U=this;function Y(c,m){for(var b=1<<m-1>>>0;c&b;)b>>>=1;return b?(c&b-1)+b:c}function ie(c,m,b,P,B){r(!(P%b));do c[m+(P-=b)]=B;while(0<P)}function E(c,m,b,P,B){if(r(2328>=B),512>=B)var W=l(512);else if((W=l(B))==null)return 0;return function(V,te,re,oe,ye,ke){var Pe,_e,Fe=te,Me=1<<re,be=l(16),Ne=l(16);for(r(ye!=0),r(oe!=null),r(V!=null),r(0<re),_e=0;_e<ye;++_e){if(15<oe[_e])return 0;++be[oe[_e]]}if(be[0]==ye)return 0;for(Ne[1]=0,Pe=1;15>Pe;++Pe){if(be[Pe]>1<<Pe)return 0;Ne[Pe+1]=Ne[Pe]+be[Pe]}for(_e=0;_e<ye;++_e)Pe=oe[_e],0<oe[_e]&&(ke[Ne[Pe]++]=_e);if(Ne[15]==1)return(oe=new T).g=0,oe.value=ke[0],ie(V,Fe,1,Me,oe),Me;var Oe,Be=-1,De=Me-1,Xe=0,Ye=1,bt=1,Je=1<<re;for(_e=0,Pe=1,ye=2;Pe<=re;++Pe,ye<<=1){if(Ye+=bt<<=1,0>(bt-=be[Pe]))return 0;for(;0<be[Pe];--be[Pe])(oe=new T).g=Pe,oe.value=ke[_e++],ie(V,Fe+Xe,ye,Je,oe),Xe=Y(Xe,Pe)}for(Pe=re+1,ye=2;15>=Pe;++Pe,ye<<=1){if(Ye+=bt<<=1,0>(bt-=be[Pe]))return 0;for(;0<be[Pe];--be[Pe]){if(oe=new T,(Xe&De)!=Be){for(Fe+=Je,Oe=1<<(Be=Pe)-re;15>Be&&!(0>=(Oe-=be[Be]));)++Be,Oe<<=1;Me+=Je=1<<(Oe=Be-re),V[te+(Be=Xe&De)].g=Oe+re,V[te+Be].value=Fe-te-Be}oe.g=Pe-re,oe.value=ke[_e++],ie(V,Fe+(Xe>>re),ye,Je,oe),Xe=Y(Xe,Pe)}}return Ye!=2*Ne[15]-1?0:Me}(c,m,b,P,B,W)}function T(){this.value=this.g=0}function z(){this.value=this.g=0}function F(){this.G=d(5,T),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(zs,z)}function le(c,m,b,P){r(c!=null),r(m!=null),r(2147483648>P),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=m,c.pa=b,c.Jd=m,c.Yc=b+P,c.Zc=4<=P?b+P-4+1:b,he(c)}function X(c,m){for(var b=0;0<m--;)b|=fe(c,128)<<m;return b}function O(c,m){var b=X(c,m);return we(c)?-b:b}function G(c,m,b,P){var B,W=0;for(r(c!=null),r(m!=null),r(4294967288>P),c.Sb=P,c.Ra=0,c.u=0,c.h=0,4<P&&(P=4),B=0;B<P;++B)W+=m[b+B]<<8*B;c.Ra=W,c.bb=P,c.oa=m,c.pa=b}function J(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Xn-8>>>0,++c.bb,c.u-=8;Q(c)&&(c.h=1,c.u=0)}function ce(c,m){if(r(0<=m),!c.h&&m<=Kr){var b=K(c)&oi[m];return c.u+=m,J(c),b}return c.h=1,c.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(c){return c.Ra>>>(c.u&Xn-1)>>>0}function Q(c){return r(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Xn}function se(c,m){c.u=m,c.h=Q(c)}function ae(c){c.u>=Ki&&(r(c.u>=Ki),J(c))}function he(c){r(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(r(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function we(c){return X(c,1)}function fe(c,m){var b=c.Ca;0>c.b&&he(c);var P=c.b,B=b*m>>>8,W=(c.I>>>P>B)+0;for(W?(b-=B,c.I-=B+1<<P>>>0):b=B+1,P=b,B=0;256<=P;)B+=8,P>>=8;return P=7^B+pr[P],c.b-=P,c.Ca=(b<<P)-1,W}function ge(c,m,b){c[m+0]=b>>24&255,c[m+1]=b>>16&255,c[m+2]=b>>8&255,c[m+3]=b>>0&255}function pe(c,m){return c[m+0]<<0|c[m+1]<<8}function Ae(c,m){return pe(c,m)|c[m+2]<<16}function Re(c,m){return pe(c,m)|pe(c,m+2)<<16}function We(c,m){var b=1<<m;return r(c!=null),r(0<m),c.X=l(b),c.X==null?0:(c.Mb=32-m,c.Xa=m,1)}function Ce(c,m){r(c!=null),r(m!=null),r(c.Xa==m.Xa),a(m.X,0,c.X,0,1<<m.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function lt(c,m,b,P){r(b!=null),r(P!=null);var B=b[0],W=P[0];return B==0&&(B=(c*W+m/2)/m),W==0&&(W=(m*B+c/2)/c),0>=B||0>=W?0:(b[0]=B,P[0]=W,1)}function et(c,m){return c+(1<<m)-1>>>m}function He(c,m){return((4278255360&c)+(4278255360&m)>>>0&4278255360)+((16711935&c)+(16711935&m)>>>0&16711935)>>>0}function $e(c,m){U[m]=function(b,P,B,W,V,te,re){var oe;for(oe=0;oe<V;++oe){var ye=U[c](te[re+oe-1],B,W+oe);te[re+oe]=He(b[P+oe],ye)}}}function Ze(){this.ud=this.hd=this.jd=0}function Ve(c,m){return((4278124286&(c^m))>>>1)+(c&m)>>>0}function at(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function xt(c,m){return at(c+(c-m+.5>>1))}function _t(c,m,b){return Math.abs(m-b)-Math.abs(c-b)}function Lt(c,m,b,P,B,W,V){for(P=W[V-1],b=0;b<B;++b)W[V+b]=P=He(c[m+b],P)}function Ut(c,m,b,P,B){var W;for(W=0;W<b;++W){var V=c[m+W],te=V>>8&255,re=16711935&(re=(re=16711935&V)+((te<<16)+te));P[B+W]=(4278255360&V)+re>>>0}}function Qt(c,m){m.jd=c>>0&255,m.hd=c>>8&255,m.ud=c>>16&255}function vt(c,m,b,P,B,W){var V;for(V=0;V<P;++V){var te=m[b+V],re=te>>>8,oe=te,ye=255&(ye=(ye=te>>>16)+((c.jd<<24>>24)*(re<<24>>24)>>>5));oe=255&(oe=(oe=oe+((c.hd<<24>>24)*(re<<24>>24)>>>5))+((c.ud<<24>>24)*(ye<<24>>24)>>>5)),B[W+V]=(4278255360&te)+(ye<<16)+oe}}function Rt(c,m,b,P,B){U[m]=function(W,V,te,re,oe,ye,ke,Pe,_e){for(re=ke;re<Pe;++re)for(ke=0;ke<_e;++ke)oe[ye++]=B(te[P(W[V++])])},U[c]=function(W,V,te,re,oe,ye,ke){var Pe=8>>W.b,_e=W.Ea,Fe=W.K[0],Me=W.w;if(8>Pe)for(W=(1<<W.b)-1,Me=(1<<Pe)-1;V<te;++V){var be,Ne=0;for(be=0;be<_e;++be)be&W||(Ne=P(re[oe++])),ye[ke++]=B(Fe[Ne&Me]),Ne>>=Pe}else U["VP8LMapColor"+b](re,oe,Fe,Me,ye,ke,V,te,_e)}}function Ge(c,m,b,P,B){for(b=m+b;m<b;){var W=c[m++];P[B++]=W>>16&255,P[B++]=W>>8&255,P[B++]=W>>0&255}}function Ks(c,m,b,P,B){for(b=m+b;m<b;){var W=c[m++];P[B++]=W>>16&255,P[B++]=W>>8&255,P[B++]=W>>0&255,P[B++]=W>>24&255}}function Bt(c,m,b,P,B){for(b=m+b;m<b;){var W=(V=c[m++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;P[B++]=W,P[B++]=V}}function Nr(c,m,b,P,B){for(b=m+b;m<b;){var W=(V=c[m++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;P[B++]=W,P[B++]=V}}function ss(c,m,b,P,B){for(b=m+b;m<b;){var W=c[m++];P[B++]=W>>0&255,P[B++]=W>>8&255,P[B++]=W>>16&255}}function bs(c,m,b,P,B,W){if(W==0)for(b=m+b;m<b;)ge(P,((W=c[m++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),B+=32;else a(P,B,c,m,b)}function ur(c,m){U[m][0]=U[c+"0"],U[m][1]=U[c+"1"],U[m][2]=U[c+"2"],U[m][3]=U[c+"3"],U[m][4]=U[c+"4"],U[m][5]=U[c+"5"],U[m][6]=U[c+"6"],U[m][7]=U[c+"7"],U[m][8]=U[c+"8"],U[m][9]=U[c+"9"],U[m][10]=U[c+"10"],U[m][11]=U[c+"11"],U[m][12]=U[c+"12"],U[m][13]=U[c+"13"],U[m][14]=U[c+"0"],U[m][15]=U[c+"0"]}function Xt(c){return c==Io||c==Ro||c==Oo||c==t}function Vn(){this.eb=[],this.size=this.A=this.fb=0}function _s(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vn,this.f.kb=new _s,this.sd=null}function Mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ws(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function es(c,m){var b=c.T,P=m.ba.f.RGBA,B=P.eb,W=P.fb+c.ka*P.A,V=Pr[m.ba.S],te=c.y,re=c.O,oe=c.f,ye=c.N,ke=c.ea,Pe=c.W,_e=m.cc,Fe=m.dc,Me=m.Mc,be=m.Nc,Ne=c.ka,Oe=c.ka+c.T,Be=c.U,De=Be+1>>1;for(Ne==0?V(te,re,null,null,oe,ye,ke,Pe,oe,ye,ke,Pe,B,W,null,null,Be):(V(m.ec,m.fc,te,re,_e,Fe,Me,be,oe,ye,ke,Pe,B,W-P.A,B,W,Be),++b);Ne+2<Oe;Ne+=2)_e=oe,Fe=ye,Me=ke,be=Pe,ye+=c.Rc,Pe+=c.Rc,W+=2*P.A,V(te,(re+=2*c.fa)-c.fa,te,re,_e,Fe,Me,be,oe,ye,ke,Pe,B,W-P.A,B,W,Be);return re+=c.fa,c.j+Oe<c.o?(a(m.ec,m.fc,te,re,Be),a(m.cc,m.dc,oe,ye,De),a(m.Mc,m.Nc,ke,Pe,De),b--):1&Oe||V(te,re,null,null,oe,ye,ke,Pe,oe,ye,ke,Pe,B,W+P.A,null,null,Be),b}function Zn(c,m,b){var P=c.F,B=[c.J];if(P!=null){var W=c.U,V=m.ba.S,te=V==to||V==Oo;m=m.ba.f.RGBA;var re=[0],oe=c.ka;re[0]=c.T,c.Kb&&(oe==0?--re[0]:(--oe,B[0]-=c.width),c.j+c.ka+c.T==c.o&&(re[0]=c.o-c.j-oe));var ye=m.eb;oe=m.fb+oe*m.A,c=hs(P,B[0],c.width,W,re,ye,oe+(te?0:3),m.A),r(b==re),c&&Xt(V)&&or(ye,oe,te,W,re,m.A)}return 0}function Hs(c){var m=c.ma,b=m.ba.S,P=11>b,B=b==Xi||b==eo||b==to||b==Mo||b==12||Xt(b);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Yi(m.Oa,c,B?11:12))return 0;if(B&&Xt(b)&&qe(),c.da)alert("todo:use_scaling");else{if(P){if(m.Ib=ft,c.Kb){if(b=c.U+1>>1,m.memory=l(c.U+2*b),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+c.U,m.Mc=m.cc,m.Nc=m.dc+b,m.Ib=es,qe()}}else alert("todo:EmitYUV");B&&(m.Jb=Zn,P&&je())}if(P&&!Yu){for(c=0;256>c;++c)$0[c]=89858*(c-128)+Ql>>Jl,Z0[c]=-22014*(c-128)+Ql,V0[c]=-45773*(c-128),W0[c]=113618*(c-128)+Ql>>Jl;for(c=pl;c<td;++c)m=76283*(c-16)+Ql>>Jl,G0[c-pl]=Ls(m,255),Y0[c-pl]=Ls(m+8>>4,15);Yu=1}return 1}function nn(c){var m=c.ma,b=c.U,P=c.T;return r(!(1&c.ka)),0>=b||0>=P?0:(b=m.Ib(c,m),m.Jb!=null&&m.Jb(c,m,b),m.Dc+=b,1)}function Ir(c){c.ma.memory=null}function gt(c,m,b,P){return ce(c,8)!=47?0:(m[0]=ce(c,14)+1,b[0]=ce(c,14)+1,P[0]=ce(c,1),ce(c,3)!=0?0:!c.h)}function $r(c,m){if(4>c)return c+1;var b=c-2>>1;return(2+(1&c)<<b)+ce(m,b)+1}function Wr(c,m){return 120<m?m-120:1<=(b=((b=me[m-1])>>4)*c+(8-(15&b)))?b:1;var b}function Js(c,m,b){var P=K(b),B=c[m+=255&P].g-8;return 0<B&&(se(b,b.u+8),P=K(b),m+=c[m].value,m+=P&(1<<B)-1),se(b,b.u+c[m].g),c[m].value}function as(c,m,b){return b.g+=c.g,b.value+=c.value<<m>>>0,r(8>=b.g),c.g}function ne(c,m,b){var P=c.xc;return r((m=P==0?0:c.vc[c.md*(b>>P)+(m>>P)])<c.Wb),c.Ya[m]}function Te(c,m,b,P){var B=c.ab,W=c.c*m,V=c.C;m=V+m;var te=b,re=P;for(P=c.Ta,b=c.Ua;0<B--;){var oe=c.gc[B],ye=V,ke=m,Pe=te,_e=re,Fe=(re=P,te=b,oe.Ea);switch(r(ye<ke),r(ke<=oe.nc),oe.hc){case 2:Ao(Pe,_e,(ke-ye)*Fe,re,te);break;case 0:var Me=ye,be=ke,Ne=re,Oe=te,Be=(Je=oe).Ea;Me==0&&(ul(Pe,_e,null,null,1,Ne,Oe),Lt(Pe,_e+1,0,0,Be-1,Ne,Oe+1),_e+=Be,Oe+=Be,++Me);for(var De=1<<Je.b,Xe=De-1,Ye=et(Be,Je.b),bt=Je.K,Je=Je.w+(Me>>Je.b)*Ye;Me<be;){var is=bt,ps=Je,ns=1;for(Jr(Pe,_e,Ne,Oe-Be,1,Ne,Oe);ns<Be;){var Kt=(ns&~Xe)+De;Kt>Be&&(Kt=Be),(0,ea[is[ps++]>>8&15])(Pe,_e+ +ns,Ne,Oe+ns-Be,Kt-ns,Ne,Oe+ns),ns=Kt}_e+=Be,Oe+=Be,++Me&Xe||(Je+=Ye)}ke!=oe.nc&&a(re,te-Fe,re,te+(ke-ye-1)*Fe,Fe);break;case 1:for(Fe=Pe,be=_e,Be=(Pe=oe.Ea)-(Oe=Pe&~(Ne=(_e=1<<oe.b)-1)),Me=et(Pe,oe.b),De=oe.K,oe=oe.w+(ye>>oe.b)*Me;ye<ke;){for(Xe=De,Ye=oe,bt=new Ze,Je=be+Oe,is=be+Pe;be<Je;)Qt(Xe[Ye++],bt),ta(bt,Fe,be,_e,re,te),be+=_e,te+=_e;be<is&&(Qt(Xe[Ye++],bt),ta(bt,Fe,be,Be,re,te),be+=Be,te+=Be),++ye&Ne||(oe+=Me)}break;case 3:if(Pe==re&&_e==te&&0<oe.b){for(be=re,Pe=Fe=te+(ke-ye)*Fe-(Oe=(ke-ye)*et(oe.Ea,oe.b)),_e=re,Ne=te,Me=[],Oe=(Be=Oe)-1;0<=Oe;--Oe)Me[Oe]=_e[Ne+Oe];for(Oe=Be-1;0<=Oe;--Oe)be[Pe+Oe]=Me[Oe];nr(oe,ye,ke,re,Fe,re,te)}else nr(oe,ye,ke,Pe,_e,re,te)}te=P,re=b}re!=b&&a(P,b,te,re,W)}function Ue(c,m){var b=c.V,P=c.Ba+c.c*c.C,B=m-c.C;if(r(m<=c.l.o),r(16>=B),0<B){var W=c.l,V=c.Ta,te=c.Ua,re=W.width;if(Te(c,B,b,P),B=te=[te],r((b=c.C)<(P=m)),r(W.v<W.va),P>W.o&&(P=W.o),b<W.j){var oe=W.j-b;b=W.j,B[0]+=oe*re}if(b>=P?b=0:(B[0]+=4*W.v,W.ka=b-W.j,W.U=W.va-W.v,W.T=P-b,b=1),b){if(te=te[0],11>(b=c.ca).S){var ye=b.f.RGBA,ke=(P=b.S,B=W.U,W=W.T,oe=ye.eb,ye.A),Pe=W;for(ye=ye.fb+c.Ma*ye.A;0<Pe--;){var _e=V,Fe=te,Me=B,be=oe,Ne=ye;switch(P){case Eo:ar(_e,Fe,Me,be,Ne);break;case Xi:ir(_e,Fe,Me,be,Ne);break;case Io:ir(_e,Fe,Me,be,Ne),or(be,Ne,0,Me,1,0);break;case hl:un(_e,Fe,Me,be,Ne);break;case eo:bs(_e,Fe,Me,be,Ne,1);break;case Ro:bs(_e,Fe,Me,be,Ne,1),or(be,Ne,0,Me,1,0);break;case to:bs(_e,Fe,Me,be,Ne,0);break;case Oo:bs(_e,Fe,Me,be,Ne,0),or(be,Ne,1,Me,1,0);break;case Mo:Sn(_e,Fe,Me,be,Ne);break;case t:Sn(_e,Fe,Me,be,Ne),us(be,Ne,Me,1,0);break;case Gl:Or(_e,Fe,Me,be,Ne);break;default:r(0)}te+=re,ye+=ke}c.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");r(c.Ma<=b.height)}}c.C=m,r(c.C<=c.i)}function tt(c){var m;if(0<c.ua)return 0;for(m=0;m<c.Wb;++m){var b=c.Ya[m].G,P=c.Ya[m].H;if(0<b[1][P[1]+0].g||0<b[2][P[2]+0].g||0<b[3][P[3]+0].g)return 0}return 1}function ot(c,m,b,P,B,W){if(c.Z!=0){var V=c.qd,te=c.rd;for(r(ms[c.Z]!=null);m<b;++m)ms[c.Z](V,te,P,B,P,B,W),V=P,te=B,B+=W;c.qd=V,c.rd=te}}function qt(c,m){var b=c.l.ma,P=b.Z==0||b.Z==1?c.l.j:c.C;if(P=c.C<P?P:c.C,r(m<=c.l.o),m>P){var B=c.l.width,W=b.ca,V=b.tb+B*P,te=c.V,re=c.Ba+c.c*P,oe=c.gc;r(c.ab==1),r(oe[0].hc==3),dn(oe[0],P,m,te,re,W,V),ot(b,P,m,W,V,B)}c.C=c.Ma=m}function yt(c,m,b,P,B,W,V){var te=c.$/P,re=c.$%P,oe=c.m,ye=c.s,ke=b+c.$,Pe=ke;B=b+P*B;var _e=b+P*W,Fe=280+ye.ua,Me=c.Pb?te:16777216,be=0<ye.ua?ye.Wa:null,Ne=ye.wc,Oe=ke<_e?ne(ye,re,te):null;r(c.C<W),r(_e<=B);var Be=!1;e:for(;;){for(;Be||ke<_e;){var De=0;if(te>=Me){var Xe=ke-b;r((Me=c).Pb),Me.wd=Me.m,Me.xd=Xe,0<Me.s.ua&&Ce(Me.s.Wa,Me.s.vb),Me=te+Le}if(re&Ne||(Oe=ne(ye,re,te)),r(Oe!=null),Oe.Qb&&(m[ke]=Oe.qb,Be=!0),!Be)if(ae(oe),Oe.jc){De=oe,Xe=m;var Ye=ke,bt=Oe.pd[K(De)&zs-1];r(Oe.jc),256>bt.g?(se(De,De.u+bt.g),Xe[Ye]=bt.value,De=0):(se(De,De.u+bt.g-256),r(256<=bt.value),De=bt.value),De==0&&(Be=!0)}else De=Js(Oe.G[0],Oe.H[0],oe);if(oe.h)break;if(Be||256>De){if(!Be)if(Oe.nd)m[ke]=(Oe.qb|De<<8)>>>0;else{if(ae(oe),Be=Js(Oe.G[1],Oe.H[1],oe),ae(oe),Xe=Js(Oe.G[2],Oe.H[2],oe),Ye=Js(Oe.G[3],Oe.H[3],oe),oe.h)break;m[ke]=(Ye<<24|Be<<16|De<<8|Xe)>>>0}if(Be=!1,++ke,++re>=P&&(re=0,++te,V!=null&&te<=W&&!(te%16)&&V(c,te),be!=null))for(;Pe<ke;)De=m[Pe++],be.X[(506832829*De&4294967295)>>>be.Mb]=De}else if(280>De){if(De=$r(De-256,oe),Xe=Js(Oe.G[4],Oe.H[4],oe),ae(oe),Xe=Wr(P,Xe=$r(Xe,oe)),oe.h)break;if(ke-b<Xe||B-ke<De)break e;for(Ye=0;Ye<De;++Ye)m[ke+Ye]=m[ke+Ye-Xe];for(ke+=De,re+=De;re>=P;)re-=P,++te,V!=null&&te<=W&&!(te%16)&&V(c,te);if(r(ke<=B),re&Ne&&(Oe=ne(ye,re,te)),be!=null)for(;Pe<ke;)De=m[Pe++],be.X[(506832829*De&4294967295)>>>be.Mb]=De}else{if(!(De<Fe))break e;for(Be=De-280,r(be!=null);Pe<ke;)De=m[Pe++],be.X[(506832829*De&4294967295)>>>be.Mb]=De;De=ke,r(!(Be>>>(Xe=be).Xa)),m[De]=Xe.X[Be],Be=!0}Be||r(oe.h==Q(oe))}if(c.Pb&&oe.h&&ke<B)r(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ce(c.s.vb,c.s.Wa);else{if(oe.h)break e;V?.(c,te>W?W:te),c.a=0,c.$=ke-b}return 1}return c.a=3,0}function jt(c){r(c!=null),c.vc=null,c.yc=null,c.Ya=null;var m=c.Wa;m!=null&&(m.X=null),c.vb=null,r(c!=null)}function kt(){var c=new Vi;return c==null?null:(c.a=0,c.xb=fl,ur("Predictor","VP8LPredictors"),ur("Predictor","VP8LPredictors_C"),ur("PredictorAdd","VP8LPredictorsAdd"),ur("PredictorAdd","VP8LPredictorsAdd_C"),Ao=Ut,ta=vt,ar=Ge,ir=Ks,Sn=Bt,Or=Nr,un=ss,U.VP8LMapColor32b=li,U.VP8LMapColor8b=$a,c)}function Zt(c,m,b,P,B){var W=1,V=[c],te=[m],re=P.m,oe=P.s,ye=null,ke=0;e:for(;;){if(b)for(;W&&ce(re,1);){var Pe=V,_e=te,Fe=P,Me=1,be=Fe.m,Ne=Fe.gc[Fe.ab],Oe=ce(be,2);if(Fe.Oc&1<<Oe)W=0;else{switch(Fe.Oc|=1<<Oe,Ne.hc=Oe,Ne.Ea=Pe[0],Ne.nc=_e[0],Ne.K=[null],++Fe.ab,r(4>=Fe.ab),Oe){case 0:case 1:Ne.b=ce(be,3)+2,Me=Zt(et(Ne.Ea,Ne.b),et(Ne.nc,Ne.b),0,Fe,Ne.K),Ne.K=Ne.K[0];break;case 3:var Be,De=ce(be,8)+1,Xe=16<De?0:4<De?1:2<De?2:3;if(Pe[0]=et(Ne.Ea,Xe),Ne.b=Xe,Be=Me=Zt(De,1,0,Fe,Ne.K)){var Ye,bt=De,Je=Ne,is=1<<(8>>Je.b),ps=l(is);if(ps==null)Be=0;else{var ns=Je.K[0],Kt=Je.w;for(ps[0]=Je.K[0][0],Ye=1;Ye<1*bt;++Ye)ps[Ye]=He(ns[Kt+Ye],ps[Ye-1]);for(;Ye<4*is;++Ye)ps[Ye]=0;Je.K[0]=null,Je.K[0]=ps,Be=1}}Me=Be;break;case 2:break;default:r(0)}W=Me}}if(V=V[0],te=te[0],W&&ce(re,1)&&!(W=1<=(ke=ce(re,4))&&11>=ke)){P.a=3;break e}var ks;if(ks=W)t:{var Ns,Ot,Qs,mn=P,Xs=V,pn=te,gs=ke,Pn=b,Cn=mn.m,xr=mn.s,Cr=[null],en=1,zn=0,Pa=Se[gs];s:for(;;){if(Pn&&ce(Cn,1)){var vr=ce(Cn,3)+2,Wa=et(Xs,vr),so=et(pn,vr),Fo=Wa*so;if(!Zt(Wa,so,0,mn,Cr))break s;for(Cr=Cr[0],xr.xc=vr,Ns=0;Ns<Fo;++Ns){var mi=Cr[Ns]>>8&65535;Cr[Ns]=mi,mi>=en&&(en=mi+1)}}if(Cn.h)break s;for(Ot=0;5>Ot;++Ot){var Bs=y[Ot];!Ot&&0<gs&&(Bs+=1<<gs),zn<Bs&&(zn=Bs)}var sd=d(en*Pa,T),Qu=en,Xu=d(Qu,F);if(Xu==null)var ec=null;else r(65536>=Qu),ec=Xu;var gl=l(zn);if(ec==null||gl==null||sd==null){mn.a=1;break s}var tc=sd;for(Ns=Qs=0;Ns<en;++Ns){var ra=ec[Ns],zo=ra.G,Bo=ra.H,eh=0,sc=1,th=0;for(Ot=0;5>Ot;++Ot){Bs=y[Ot],zo[Ot]=tc,Bo[Ot]=Qs,!Ot&&0<gs&&(Bs+=1<<gs);n:{var rc,rd=Bs,nc=mn,xl=gl,Q0=tc,X0=Qs,nd=0,pi=nc.m,ex=ce(pi,1);if(o(xl,0,0,rd),ex){var tx=ce(pi,1)+1,sx=ce(pi,1),sh=ce(pi,sx==0?1:8);xl[sh]=1,tx==2&&(xl[sh=ce(pi,8)]=1);var ac=1}else{var rh=l(19),nh=ce(pi,4)+4;if(19<nh){nc.a=3;var ic=0;break n}for(rc=0;rc<nh;++rc)rh[Z[rc]]=ce(pi,3);var ad=void 0,vl=void 0,ah=nc,rx=rh,oc=rd,ih=xl,id=0,gi=ah.m,oh=8,lh=d(128,T);r:for(;E(lh,0,7,rx,19);){if(ce(gi,1)){var nx=2+2*ce(gi,3);if((ad=2+ce(gi,nx))>oc)break r}else ad=oc;for(vl=0;vl<oc&&ad--;){ae(gi);var ch=lh[0+(127&K(gi))];se(gi,gi.u+ch.g);var qo=ch.value;if(16>qo)ih[vl++]=qo,qo!=0&&(oh=qo);else{var ax=qo==16,dh=qo-16,ix=h[dh],uh=ce(gi,i[dh])+ix;if(vl+uh>oc)break r;for(var ox=ax?oh:0;0<uh--;)ih[vl++]=ox}}id=1;break r}id||(ah.a=3),ac=id}(ac=ac&&!pi.h)&&(nd=E(Q0,X0,8,xl,rd)),ac&&nd!=0?ic=nd:(nc.a=3,ic=0)}if(ic==0)break s;if(sc&&C[Ot]==1&&(sc=tc[Qs].g==0),eh+=tc[Qs].g,Qs+=ic,3>=Ot){var yl,od=gl[0];for(yl=1;yl<Bs;++yl)gl[yl]>od&&(od=gl[yl]);th+=od}}if(ra.nd=sc,ra.Qb=0,sc&&(ra.qb=(zo[3][Bo[3]+0].value<<24|zo[1][Bo[1]+0].value<<16|zo[2][Bo[2]+0].value)>>>0,eh==0&&256>zo[0][Bo[0]+0].value&&(ra.Qb=1,ra.qb+=zo[0][Bo[0]+0].value<<8)),ra.jc=!ra.Qb&&6>th,ra.jc){var lc,Va=ra;for(lc=0;lc<zs;++lc){var xi=lc,vi=Va.pd[xi],cc=Va.G[0][Va.H[0]+xi];256<=cc.value?(vi.g=cc.g+256,vi.value=cc.value):(vi.g=0,vi.value=0,xi>>=as(cc,8,vi),xi>>=as(Va.G[1][Va.H[1]+xi],16,vi),xi>>=as(Va.G[2][Va.H[2]+xi],0,vi),as(Va.G[3][Va.H[3]+xi],24,vi))}}}xr.vc=Cr,xr.Wb=en,xr.Ya=ec,xr.yc=sd,ks=1;break t}ks=0}if(!(W=ks)){P.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!We(oe.Wa,ke)){P.a=1,W=0;break e}}else oe.ua=0;var ld=P,hh=V,lx=te,cd=ld.s,dd=cd.xc;if(ld.c=hh,ld.i=lx,cd.md=et(hh,dd),cd.wc=dd==0?-1:(1<<dd)-1,b){P.xb=Qc;break e}if((ye=l(V*te))==null){P.a=1,W=0;break e}W=(W=yt(P,ye,0,V,te,te,null))&&!re.h;break e}return W?(B!=null?B[0]=ye:(r(ye==null),r(b)),P.$=0,b||jt(oe)):jt(oe),W}function Gt(c,m){var b=c.c*c.i,P=b+m+16*m;return r(c.c<=m),c.V=l(P),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+b+m,1)}function It(c,m){var b=c.C,P=m-b,B=c.V,W=c.Ba+c.c*b;for(r(m<=c.l.o);0<P;){var V=16<P?16:P,te=c.l.ma,re=c.l.width,oe=re*V,ye=te.ca,ke=te.tb+re*b,Pe=c.Ta,_e=c.Ua;Te(c,V,B,W),Rs(Pe,_e,ye,ke,oe),ot(te,b,b+V,ye,ke,re),P-=V,B+=V*c.c,b+=V}r(b==m),c.C=c.Ma=m}function it(){this.ub=this.yd=this.td=this.Rb=0}function rs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function js(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Us(){this.Yb=function(){var c=[];return function m(b,P,B){for(var W=B[P],V=0;V<W&&(b.push(B.length>P+1?[]:0),!(B.length<P+1));V++)m(b[V],P+1,B)}(c,0,[3,11]),c}()}function an(){this.jb=l(3),this.Wc=f([4,8],Us),this.Xc=f([4,17],Us)}function Ft(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function cs(){this.Na=this.la=0}function Ja(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function sr(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function An(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new sr),this.aa=0,this.l=new _r}function ua(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Oa(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new it,this.Kc=new rs,this.ed=new Ft,this.Qa=new js,this.Ic=this.$c=this.Aa=0,this.D=new An,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,ve),this.ia=0,this.pb=d(4,Ja),this.Pa=new an,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ua),this.Hd=0,this.rb=Array(new cs),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new sr),this.L=this.aa=0,this.gd=f([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _r(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dt(){var c=new Oa;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,mt||(mt=wn)),c}function ut(c,m,b){return c.a==0&&(c.a=m,c.sc=b,c.cb=0),0}function hr(c,m,b){return 3<=b&&c[m+0]==157&&c[m+1]==1&&c[m+2]==42}function bn(c,m){if(c==null)return 0;if(c.a=0,c.sc="OK",m==null)return ut(c,2,"null VP8Io passed to VP8GetHeaders()");var b=m.data,P=m.w,B=m.ha;if(4>B)return ut(c,7,"Truncated header.");var W=b[P+0]|b[P+1]<<8|b[P+2]<<16,V=c.Od;if(V.Rb=!(1&W),V.td=W>>1&7,V.yd=W>>4&1,V.ub=W>>5,3<V.td)return ut(c,3,"Incorrect keyframe parameters.");if(!V.yd)return ut(c,4,"Frame not displayable.");P+=3,B-=3;var te=c.Kc;if(V.Rb){if(7>B)return ut(c,7,"cannot parse picture header");if(!hr(b,P,B))return ut(c,3,"Bad code word");te.c=16383&(b[P+4]<<8|b[P+3]),te.Td=b[P+4]>>6,te.i=16383&(b[P+6]<<8|b[P+5]),te.Ud=b[P+6]>>6,P+=7,B-=7,c.za=te.c+15>>4,c.Ub=te.i+15>>4,m.width=te.c,m.height=te.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,o((W=c.Pa).jb,0,255,W.jb.length),r((W=c.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,o(W.Zb,0,0,W.Zb.length),o(W.Lb,0,0,W.Lb)}if(V.ub>B)return ut(c,7,"bad partition length");le(W=c.m,b,P,V.ub),P+=V.ub,B-=V.ub,V.Rb&&(te.Ld=we(W),te.Kd=we(W)),te=c.Qa;var re,oe=c.Pa;if(r(W!=null),r(te!=null),te.Cb=we(W),te.Cb){if(te.Bb=we(W),we(W)){for(te.Fb=we(W),re=0;4>re;++re)te.Zb[re]=we(W)?O(W,7):0;for(re=0;4>re;++re)te.Lb[re]=we(W)?O(W,6):0}if(te.Bb)for(re=0;3>re;++re)oe.jb[re]=we(W)?X(W,8):255}else te.Bb=0;if(W.Ka)return ut(c,3,"cannot parse segment header");if((te=c.ed).zd=we(W),te.Tb=X(W,6),te.wb=X(W,3),te.Pc=we(W),te.Pc&&we(W)){for(oe=0;4>oe;++oe)we(W)&&(te.vd[oe]=O(W,6));for(oe=0;4>oe;++oe)we(W)&&(te.od[oe]=O(W,6))}if(c.L=te.Tb==0?0:te.zd?1:2,W.Ka)return ut(c,3,"cannot parse filter header");var ye=B;if(B=re=P,P=re+ye,te=ye,c.Xb=(1<<X(c.m,2))-1,ye<3*(oe=c.Xb))b=7;else{for(re+=3*oe,te-=3*oe,ye=0;ye<oe;++ye){var ke=b[B+0]|b[B+1]<<8|b[B+2]<<16;ke>te&&(ke=te),le(c.Jc[+ye],b,re,ke),re+=ke,te-=ke,B+=3}le(c.Jc[+oe],b,re,te),b=re<P?0:5}if(b!=0)return ut(c,b,"cannot parse partitions");for(b=X(re=c.m,7),B=we(re)?O(re,4):0,P=we(re)?O(re,4):0,te=we(re)?O(re,4):0,oe=we(re)?O(re,4):0,re=we(re)?O(re,4):0,ye=c.Qa,ke=0;4>ke;++ke){if(ye.Cb){var Pe=ye.Zb[ke];ye.Fb||(Pe+=b)}else{if(0<ke){c.pb[ke]=c.pb[0];continue}Pe=b}var _e=c.pb[ke];_e.Sc[0]=ze[Ls(Pe+B,127)],_e.Sc[1]=Qe[Ls(Pe+0,127)],_e.Eb[0]=2*ze[Ls(Pe+P,127)],_e.Eb[1]=101581*Qe[Ls(Pe+te,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=ze[Ls(Pe+oe,117)],_e.Qc[1]=Qe[Ls(Pe+re,127)],_e.lc=Pe+re}if(!V.Rb)return ut(c,4,"Not a key frame.");for(we(W),V=c.Pa,b=0;4>b;++b){for(B=0;8>B;++B)for(P=0;3>P;++P)for(te=0;11>te;++te)oe=fe(W,fi[b][B][P][te])?X(W,8):fn[b][B][P][te],V.Wc[b][B].Yb[P][te]=oe;for(B=0;17>B;++B)V.Xc[b][B]=V.Wc[b][Jc[B]]}return c.kc=we(W),c.kc&&(c.Bd=X(W,8)),c.cb=1}function wn(c,m,b,P,B,W,V){var te=m[B].Yb[b];for(b=0;16>B;++B){if(!fe(c,te[b+0]))return B;for(;!fe(c,te[b+1]);)if(te=m[++B].Yb[0],b=0,B==16)return 16;var re=m[B+1].Yb;if(fe(c,te[b+2])){var oe=c,ye=0;if(fe(oe,(Pe=te)[(ke=b)+3]))if(fe(oe,Pe[ke+6])){for(te=0,ke=2*(ye=fe(oe,Pe[ke+8]))+(Pe=fe(oe,Pe[ke+9+ye])),ye=0,Pe=zt[ke];Pe[te];++te)ye+=ye+fe(oe,Pe[te]);ye+=3+(8<<ke)}else fe(oe,Pe[ke+7])?(ye=7+2*fe(oe,165),ye+=fe(oe,145)):ye=5+fe(oe,159);else ye=fe(oe,Pe[ke+4])?3+fe(oe,Pe[ke+5]):2;te=re[2]}else ye=1,te=re[1];re=V+kr[B],0>(oe=c).b&&he(oe);var ke,Pe=oe.b,_e=(ke=oe.Ca>>1)-(oe.I>>Pe)>>31;--oe.b,oe.Ca+=_e,oe.Ca|=1,oe.I-=(ke+1&_e)<<Pe,W[re]=((ye^_e)-_e)*P[(0<B)+0]}return 16}function on(c){var m=c.rb[c.sb-1];m.la=0,m.Na=0,o(c.zc,0,0,c.zc.length),c.ja=0}function At(c,m){if(c==null)return 0;if(m==null)return ut(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!bn(c,m))return 0;if(r(c.cb),m.ac==null||m.ac(m)){m.ob&&(c.L=0);var b=Xl[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=m.v-b>>4,c.zb=m.j-b>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=m.o+15+b>>4,c.Hb=m.va+15+b>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var P=c.ed;for(b=0;4>b;++b){var B;if(c.Qa.Cb){var W=c.Qa.Lb[b];c.Qa.Fb||(W+=P.Tb)}else W=P.Tb;for(B=0;1>=B;++B){var V=c.gd[b][B],te=W;if(P.Pc&&(te+=P.vd[0],B&&(te+=P.od[0])),0<(te=0>te?0:63<te?63:te)){var re=te;0<P.wb&&(re=4<P.wb?re>>2:re>>1)>9-P.wb&&(re=9-P.wb),1>re&&(re=1),V.dd=re,V.tc=2*te+re,V.ld=40<=te?2:15<=te?1:0}else V.tc=0;V.La=B}}}b=0}else ut(c,6,"Frame setup failed"),b=c.a;if(b=b==0){if(b){c.$c=0,0<c.Aa||(c.Ic=J0);e:{b=c.Ic,P=4*(re=c.za);var oe=32*re,ye=re+1,ke=0<c.L?re*(0<c.Aa?2:1):0,Pe=(c.Aa==2?2:1)*re;if((V=P+832+(B=3*(16*b+Xl[c.L])/2*oe)+(W=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=V)b=0;else{if(V>c.Vb){if(c.Vb=0,c.Ec=l(V),c.Fc=0,c.Ec==null){b=ut(c,1,"no memory during frame initialization.");break e}c.Vb=V}V=c.Ec,te=c.Fc,c.Ac=V,c.Bc=te,te+=P,c.Gd=d(oe,ua),c.Hd=0,c.rb=d(ye+1,cs),c.sb=1,c.wa=ke?d(ke,$t):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=re),r(!0),c.oc=V,c.pc=te,te+=832,c.ya=d(Pe,sr),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=re),c.R=16*re,c.B=8*re,re=(oe=Xl[c.L])*c.R,oe=oe/2*c.B,c.sa=V,c.ta=te+re,c.qa=c.sa,c.ra=c.ta+16*b*c.R+oe,c.Ha=c.qa,c.Ia=c.ra+8*b*c.B+oe,c.$c=0,te+=B,c.mb=W?V:null,c.nb=W?te:null,r(te+W<=c.Fc+c.Vb),on(c),o(c.Ac,c.Bc,0,P),b=1}}if(b){if(m.ka=0,m.y=c.sa,m.O=c.ta,m.f=c.qa,m.N=c.ra,m.ea=c.Ha,m.Vd=c.Ia,m.fa=c.R,m.Rc=c.B,m.F=null,m.J=0,!To){for(b=-255;255>=b;++b)fs[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)On[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)ui[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)Dn[255+b]=0>b?0:255<b?255:b;To=1}ba=Da,Mn=Qa,wa=Tn,Sr=Es,Qr=En,Is=No,ci=Hi,Ji=xa,Qi=Ui,gr=$i,In=dl,Na=ri,Rn=Rr,di=Co,_a=ko,ja=Ds,sa=Zr,hn=Po,kn[0]=Vt,kn[1]=Di,kn[2]=Tt,kn[3]=ln,kn[4]=zi,kn[5]=ma,kn[6]=ti,kn[7]=za,kn[8]=Bi,kn[9]=Kn,ka[0]=Xa,ka[1]=Fi,ka[2]=Nn,ka[3]=Yn,ka[4]=$s,ka[5]=_o,ka[6]=ei,Fn[0]=Jn,Fn[1]=Fa,Fn[2]=Ba,Fn[3]=Ms,Fn[4]=qa,Fn[5]=jo,Fn[6]=si,b=1}else b=0}b&&(b=function(_e,Fe){for(_e.M=0;_e.M<_e.Va;++_e.M){var Me,be=_e.Jc[_e.M&_e.Xb],Ne=_e.m,Oe=_e;for(Me=0;Me<Oe.za;++Me){var Be=Ne,De=Oe,Xe=De.Ac,Ye=De.Bc+4*Me,bt=De.zc,Je=De.ya[De.aa+Me];if(De.Qa.Bb?Je.$b=fe(Be,De.Pa.jb[0])?2+fe(Be,De.Pa.jb[2]):fe(Be,De.Pa.jb[1]):Je.$b=0,De.kc&&(Je.Ad=fe(Be,De.Bd)),Je.Za=!fe(Be,145)+0,Je.Za){var is=Je.Ob,ps=0;for(De=0;4>De;++De){var ns,Kt=bt[0+De];for(ns=0;4>ns;++ns){Kt=Fr[Xe[Ye+ns]][Kt];for(var ks=Vs[fe(Be,Kt[0])];0<ks;)ks=Vs[2*ks+fe(Be,Kt[ks])];Kt=-ks,Xe[Ye+ns]=Kt}a(is,ps,Xe,Ye,4),ps+=4,bt[0+De]=Kt}}else Kt=fe(Be,156)?fe(Be,128)?1:3:fe(Be,163)?2:0,Je.Ob[0]=Kt,o(Xe,Ye,Kt,4),o(bt,0,Kt,4);Je.Dd=fe(Be,142)?fe(Be,114)?fe(Be,183)?1:3:2:0}if(Oe.m.Ka)return ut(_e,7,"Premature end-of-partition0 encountered.");for(;_e.ja<_e.za;++_e.ja){if(Oe=be,Be=(Ne=_e).rb[Ne.sb-1],Xe=Ne.rb[Ne.sb+Ne.ja],Me=Ne.ya[Ne.aa+Ne.ja],Ye=Ne.kc?Me.Ad:0)Be.la=Xe.la=0,Me.Za||(Be.Na=Xe.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Ns,Ot;if(Be=Xe,Xe=Oe,Ye=Ne.Pa.Xc,bt=Ne.ya[Ne.aa+Ne.ja],Je=Ne.pb[bt.$b],De=bt.ad,is=0,ps=Ne.rb[Ne.sb-1],Kt=ns=0,o(De,is,0,384),bt.Za)var Qs=0,mn=Ye[3];else{ks=l(16);var Xs=Be.Na+ps.Na;if(Xs=mt(Xe,Ye[1],Xs,Je.Eb,0,ks,0),Be.Na=ps.Na=(0<Xs)+0,1<Xs)ba(ks,0,De,is);else{var pn=ks[0]+3>>3;for(ks=0;256>ks;ks+=16)De[is+ks]=pn}Qs=1,mn=Ye[0]}var gs=15&Be.la,Pn=15&ps.la;for(ks=0;4>ks;++ks){var Cn=1&Pn;for(pn=Ot=0;4>pn;++pn)gs=gs>>1|(Cn=(Xs=mt(Xe,mn,Xs=Cn+(1&gs),Je.Sc,Qs,De,is))>Qs)<<7,Ot=Ot<<2|(3<Xs?3:1<Xs?2:De[is+0]!=0),is+=16;gs>>=4,Pn=Pn>>1|Cn<<7,ns=(ns<<8|Ot)>>>0}for(mn=gs,Qs=Pn>>4,Ns=0;4>Ns;Ns+=2){for(Ot=0,gs=Be.la>>4+Ns,Pn=ps.la>>4+Ns,ks=0;2>ks;++ks){for(Cn=1&Pn,pn=0;2>pn;++pn)Xs=Cn+(1&gs),gs=gs>>1|(Cn=0<(Xs=mt(Xe,Ye[2],Xs,Je.Qc,0,De,is)))<<3,Ot=Ot<<2|(3<Xs?3:1<Xs?2:De[is+0]!=0),is+=16;gs>>=2,Pn=Pn>>1|Cn<<5}Kt|=Ot<<4*Ns,mn|=gs<<4<<Ns,Qs|=(240&Pn)<<Ns}Be.la=mn,ps.la=Qs,bt.Hc=ns,bt.Gc=Kt,bt.ia=43690&Kt?0:Je.ia,Ye=!(ns|Kt)}if(0<Ne.L&&(Ne.wa[Ne.Y+Ne.ja]=Ne.gd[Me.$b][Me.Za],Ne.wa[Ne.Y+Ne.ja].La|=!Ye),Oe.Ka)return ut(_e,7,"Premature end-of-file encountered.")}if(on(_e),Ne=Fe,Oe=1,Me=(be=_e).D,Be=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Me.M=be.M,Me.uc=Be,Gi(be,Me),Oe=1,Me=(Ot=be.D).Nb,Be=(Kt=Xl[be.L])*be.R,Xe=Kt/2*be.B,ks=16*Me*be.R,pn=8*Me*be.B,Ye=be.sa,bt=be.ta-Be+ks,Je=be.qa,De=be.ra-Xe+pn,is=be.Ha,ps=be.Ia-Xe+pn,Pn=(gs=Ot.M)==0,ns=gs>=be.Va-1,be.Aa==2&&Gi(be,Ot),Ot.uc)for(Cn=(Xs=be).D.M,r(Xs.D.uc),Ot=Xs.yb;Ot<Xs.Hb;++Ot){Qs=Ot,mn=Cn;var xr=(Cr=(Bs=Xs).D).Nb;Ns=Bs.R;var Cr=Cr.wa[Cr.Y+Qs],en=Bs.sa,zn=Bs.ta+16*xr*Ns+16*Qs,Pa=Cr.dd,vr=Cr.tc;if(vr!=0)if(r(3<=vr),Bs.L==1)0<Qs&&ja(en,zn,Ns,vr+4),Cr.La&&hn(en,zn,Ns,vr),0<mn&&_a(en,zn,Ns,vr+4),Cr.La&&sa(en,zn,Ns,vr);else{var Wa=Bs.B,so=Bs.qa,Fo=Bs.ra+8*xr*Wa+8*Qs,mi=Bs.Ha,Bs=Bs.Ia+8*xr*Wa+8*Qs;xr=Cr.ld,0<Qs&&(Ji(en,zn,Ns,vr+4,Pa,xr),gr(so,Fo,mi,Bs,Wa,vr+4,Pa,xr)),Cr.La&&(Na(en,zn,Ns,vr,Pa,xr),di(so,Fo,mi,Bs,Wa,vr,Pa,xr)),0<mn&&(ci(en,zn,Ns,vr+4,Pa,xr),Qi(so,Fo,mi,Bs,Wa,vr+4,Pa,xr)),Cr.La&&(In(en,zn,Ns,vr,Pa,xr),Rn(so,Fo,mi,Bs,Wa,vr,Pa,xr))}}if(be.ia&&alert("todo:DitherRow"),Ne.put!=null){if(Ot=16*gs,gs=16*(gs+1),Pn?(Ne.y=be.sa,Ne.O=be.ta+ks,Ne.f=be.qa,Ne.N=be.ra+pn,Ne.ea=be.Ha,Ne.W=be.Ia+pn):(Ot-=Kt,Ne.y=Ye,Ne.O=bt,Ne.f=Je,Ne.N=De,Ne.ea=is,Ne.W=ps),ns||(gs-=Kt),gs>Ne.o&&(gs=Ne.o),Ne.F=null,Ne.J=null,be.Fa!=null&&0<be.Fa.length&&Ot<gs&&(Ne.J=Zi(be,Ne,Ot,gs-Ot),Ne.F=be.mb,Ne.F==null&&Ne.F.length==0)){Oe=ut(be,3,"Could not decode alpha data.");break e}Ot<Ne.j&&(Kt=Ne.j-Ot,Ot=Ne.j,r(!(1&Kt)),Ne.O+=be.R*Kt,Ne.N+=be.B*(Kt>>1),Ne.W+=be.B*(Kt>>1),Ne.F!=null&&(Ne.J+=Ne.width*Kt)),Ot<gs&&(Ne.O+=Ne.v,Ne.N+=Ne.v>>1,Ne.W+=Ne.v>>1,Ne.F!=null&&(Ne.J+=Ne.v),Ne.ka=Ot-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=gs-Ot,Oe=Ne.put(Ne))}Me+1!=be.Ic||ns||(a(be.sa,be.ta-Be,Ye,bt+16*be.R,Be),a(be.qa,be.ra-Xe,Je,De+8*be.B,Xe),a(be.Ha,be.Ia-Xe,is,ps+8*be.B,Xe))}if(!Oe)return ut(_e,6,"Output aborted.")}return 1}(c,m)),m.bc!=null&&m.bc(m),b&=1}return b?(c.cb=0,b):0}function Jt(c,m,b,P,B){B=c[m+b+32*P]+(B>>3),c[m+b+32*P]=-256&B?0>B?0:255:B}function ha(c,m,b,P,B,W){Jt(c,m,0,b,P+B),Jt(c,m,1,b,P+W),Jt(c,m,2,b,P-W),Jt(c,m,3,b,P-B)}function rr(c){return(20091*c>>16)+c}function fr(c,m,b,P){var B,W=0,V=l(16);for(B=0;4>B;++B){var te=c[m+0]+c[m+8],re=c[m+0]-c[m+8],oe=(35468*c[m+4]>>16)-rr(c[m+12]),ye=rr(c[m+4])+(35468*c[m+12]>>16);V[W+0]=te+ye,V[W+1]=re+oe,V[W+2]=re-oe,V[W+3]=te-ye,W+=4,m++}for(B=W=0;4>B;++B)te=(c=V[W+0]+4)+V[W+8],re=c-V[W+8],oe=(35468*V[W+4]>>16)-rr(V[W+12]),Jt(b,P,0,0,te+(ye=rr(V[W+4])+(35468*V[W+12]>>16))),Jt(b,P,1,0,re+oe),Jt(b,P,2,0,re-oe),Jt(b,P,3,0,te-ye),W++,P+=32}function No(c,m,b,P){var B=c[m+0]+4,W=35468*c[m+4]>>16,V=rr(c[m+4]),te=35468*c[m+1]>>16;ha(b,P,0,B+V,c=rr(c[m+1]),te),ha(b,P,1,B+W,c,te),ha(b,P,2,B-W,c,te),ha(b,P,3,B-V,c,te)}function Qa(c,m,b,P,B){fr(c,m,b,P),B&&fr(c,m+16,b,P+4)}function Tn(c,m,b,P){Mn(c,m+0,b,P,1),Mn(c,m+32,b,P+128,1)}function Es(c,m,b,P){var B;for(c=c[m+0]+4,B=0;4>B;++B)for(m=0;4>m;++m)Jt(b,P,m,B,c)}function En(c,m,b,P){c[m+0]&&Sr(c,m+0,b,P),c[m+16]&&Sr(c,m+16,b,P+4),c[m+32]&&Sr(c,m+32,b,P+128),c[m+48]&&Sr(c,m+48,b,P+128+4)}function Da(c,m,b,P){var B,W=l(16);for(B=0;4>B;++B){var V=c[m+0+B]+c[m+12+B],te=c[m+4+B]+c[m+8+B],re=c[m+4+B]-c[m+8+B],oe=c[m+0+B]-c[m+12+B];W[0+B]=V+te,W[8+B]=V-te,W[4+B]=oe+re,W[12+B]=oe-re}for(B=0;4>B;++B)V=(c=W[0+4*B]+3)+W[3+4*B],te=W[1+4*B]+W[2+4*B],re=W[1+4*B]-W[2+4*B],oe=c-W[3+4*B],b[P+0]=V+te>>3,b[P+16]=oe+re>>3,b[P+32]=V-te>>3,b[P+48]=oe-re>>3,P+=64}function Gn(c,m,b){var P,B=m-32,W=Dr,V=255-c[B-1];for(P=0;P<b;++P){var te,re=W,oe=V+c[m-1];for(te=0;te<b;++te)c[m+te]=re[oe+c[B+te]];m+=32}}function Di(c,m){Gn(c,m,4)}function Fa(c,m){Gn(c,m,8)}function Fi(c,m){Gn(c,m,16)}function Nn(c,m){var b;for(b=0;16>b;++b)a(c,m+32*b,c,m-32,16)}function Yn(c,m){var b;for(b=16;0<b;--b)o(c,m,c[m-1],16),m+=32}function fa(c,m,b){var P;for(P=0;16>P;++P)o(m,b+32*P,c,16)}function Xa(c,m){var b,P=16;for(b=0;16>b;++b)P+=c[m-1+32*b]+c[m+b-32];fa(P>>5,c,m)}function $s(c,m){var b,P=8;for(b=0;16>b;++b)P+=c[m-1+32*b];fa(P>>4,c,m)}function _o(c,m){var b,P=8;for(b=0;16>b;++b)P+=c[m+b-32];fa(P>>4,c,m)}function ei(c,m){fa(128,c,m)}function Pt(c,m,b){return c+2*m+b+2>>2}function Tt(c,m){var b,P=m-32;for(P=new Uint8Array([Pt(c[P-1],c[P+0],c[P+1]),Pt(c[P+0],c[P+1],c[P+2]),Pt(c[P+1],c[P+2],c[P+3]),Pt(c[P+2],c[P+3],c[P+4])]),b=0;4>b;++b)a(c,m+32*b,P,0,P.length)}function ln(c,m){var b=c[m-1],P=c[m-1+32],B=c[m-1+64],W=c[m-1+96];ge(c,m+0,16843009*Pt(c[m-1-32],b,P)),ge(c,m+32,16843009*Pt(b,P,B)),ge(c,m+64,16843009*Pt(P,B,W)),ge(c,m+96,16843009*Pt(B,W,W))}function Vt(c,m){var b,P=4;for(b=0;4>b;++b)P+=c[m+b-32]+c[m-1+32*b];for(P>>=3,b=0;4>b;++b)o(c,m+32*b,P,4)}function zi(c,m){var b=c[m-1+0],P=c[m-1+32],B=c[m-1+64],W=c[m-1-32],V=c[m+0-32],te=c[m+1-32],re=c[m+2-32],oe=c[m+3-32];c[m+0+96]=Pt(P,B,c[m-1+96]),c[m+1+96]=c[m+0+64]=Pt(b,P,B),c[m+2+96]=c[m+1+64]=c[m+0+32]=Pt(W,b,P),c[m+3+96]=c[m+2+64]=c[m+1+32]=c[m+0+0]=Pt(V,W,b),c[m+3+64]=c[m+2+32]=c[m+1+0]=Pt(te,V,W),c[m+3+32]=c[m+2+0]=Pt(re,te,V),c[m+3+0]=Pt(oe,re,te)}function ti(c,m){var b=c[m+1-32],P=c[m+2-32],B=c[m+3-32],W=c[m+4-32],V=c[m+5-32],te=c[m+6-32],re=c[m+7-32];c[m+0+0]=Pt(c[m+0-32],b,P),c[m+1+0]=c[m+0+32]=Pt(b,P,B),c[m+2+0]=c[m+1+32]=c[m+0+64]=Pt(P,B,W),c[m+3+0]=c[m+2+32]=c[m+1+64]=c[m+0+96]=Pt(B,W,V),c[m+3+32]=c[m+2+64]=c[m+1+96]=Pt(W,V,te),c[m+3+64]=c[m+2+96]=Pt(V,te,re),c[m+3+96]=Pt(te,re,re)}function ma(c,m){var b=c[m-1+0],P=c[m-1+32],B=c[m-1+64],W=c[m-1-32],V=c[m+0-32],te=c[m+1-32],re=c[m+2-32],oe=c[m+3-32];c[m+0+0]=c[m+1+64]=W+V+1>>1,c[m+1+0]=c[m+2+64]=V+te+1>>1,c[m+2+0]=c[m+3+64]=te+re+1>>1,c[m+3+0]=re+oe+1>>1,c[m+0+96]=Pt(B,P,b),c[m+0+64]=Pt(P,b,W),c[m+0+32]=c[m+1+96]=Pt(b,W,V),c[m+1+32]=c[m+2+96]=Pt(W,V,te),c[m+2+32]=c[m+3+96]=Pt(V,te,re),c[m+3+32]=Pt(te,re,oe)}function za(c,m){var b=c[m+0-32],P=c[m+1-32],B=c[m+2-32],W=c[m+3-32],V=c[m+4-32],te=c[m+5-32],re=c[m+6-32],oe=c[m+7-32];c[m+0+0]=b+P+1>>1,c[m+1+0]=c[m+0+64]=P+B+1>>1,c[m+2+0]=c[m+1+64]=B+W+1>>1,c[m+3+0]=c[m+2+64]=W+V+1>>1,c[m+0+32]=Pt(b,P,B),c[m+1+32]=c[m+0+96]=Pt(P,B,W),c[m+2+32]=c[m+1+96]=Pt(B,W,V),c[m+3+32]=c[m+2+96]=Pt(W,V,te),c[m+3+64]=Pt(V,te,re),c[m+3+96]=Pt(te,re,oe)}function Kn(c,m){var b=c[m-1+0],P=c[m-1+32],B=c[m-1+64],W=c[m-1+96];c[m+0+0]=b+P+1>>1,c[m+2+0]=c[m+0+32]=P+B+1>>1,c[m+2+32]=c[m+0+64]=B+W+1>>1,c[m+1+0]=Pt(b,P,B),c[m+3+0]=c[m+1+32]=Pt(P,B,W),c[m+3+32]=c[m+1+64]=Pt(B,W,W),c[m+3+64]=c[m+2+64]=c[m+0+96]=c[m+1+96]=c[m+2+96]=c[m+3+96]=W}function Bi(c,m){var b=c[m-1+0],P=c[m-1+32],B=c[m-1+64],W=c[m-1+96],V=c[m-1-32],te=c[m+0-32],re=c[m+1-32],oe=c[m+2-32];c[m+0+0]=c[m+2+32]=b+V+1>>1,c[m+0+32]=c[m+2+64]=P+b+1>>1,c[m+0+64]=c[m+2+96]=B+P+1>>1,c[m+0+96]=W+B+1>>1,c[m+3+0]=Pt(te,re,oe),c[m+2+0]=Pt(V,te,re),c[m+1+0]=c[m+3+32]=Pt(b,V,te),c[m+1+32]=c[m+3+64]=Pt(P,b,V),c[m+1+64]=c[m+3+96]=Pt(B,P,b),c[m+1+96]=Pt(W,B,P)}function Ba(c,m){var b;for(b=0;8>b;++b)a(c,m+32*b,c,m-32,8)}function Ms(c,m){var b;for(b=0;8>b;++b)o(c,m,c[m-1],8),m+=32}function Vr(c,m,b){var P;for(P=0;8>P;++P)o(m,b+32*P,c,8)}function Jn(c,m){var b,P=8;for(b=0;8>b;++b)P+=c[m+b-32]+c[m-1+32*b];Vr(P>>4,c,m)}function jo(c,m){var b,P=4;for(b=0;8>b;++b)P+=c[m+b-32];Vr(P>>3,c,m)}function qa(c,m){var b,P=4;for(b=0;8>b;++b)P+=c[m-1+32*b];Vr(P>>3,c,m)}function si(c,m){Vr(128,c,m)}function pa(c,m,b){var P=c[m-b],B=c[m+0],W=3*(B-P)+hi[1020+c[m-2*b]-c[m+b]],V=Sa[112+(W+4>>3)];c[m-b]=Dr[255+P+Sa[112+(W+3>>3)]],c[m+0]=Dr[255+B-V]}function So(c,m,b,P){var B=c[m+0],W=c[m+b];return Xr[255+c[m-2*b]-c[m-b]]>P||Xr[255+W-B]>P}function qi(c,m,b,P){return 4*Xr[255+c[m-b]-c[m+0]]+Xr[255+c[m-2*b]-c[m+b]]<=P}function Ht(c,m,b,P,B){var W=c[m-3*b],V=c[m-2*b],te=c[m-b],re=c[m+0],oe=c[m+b],ye=c[m+2*b],ke=c[m+3*b];return 4*Xr[255+te-re]+Xr[255+V-oe]>P?0:Xr[255+c[m-4*b]-W]<=B&&Xr[255+W-V]<=B&&Xr[255+V-te]<=B&&Xr[255+ke-ye]<=B&&Xr[255+ye-oe]<=B&&Xr[255+oe-re]<=B}function ko(c,m,b,P){var B=2*P+1;for(P=0;16>P;++P)qi(c,m+P,b,B)&&pa(c,m+P,b)}function Ds(c,m,b,P){var B=2*P+1;for(P=0;16>P;++P)qi(c,m+P*b,1,B)&&pa(c,m+P*b,1)}function Zr(c,m,b,P){var B;for(B=3;0<B;--B)ko(c,m+=4*b,b,P)}function Po(c,m,b,P){var B;for(B=3;0<B;--B)Ds(c,m+=4,b,P)}function ga(c,m,b,P,B,W,V,te){for(W=2*W+1;0<B--;){if(Ht(c,m,b,W,V))if(So(c,m,b,te))pa(c,m,b);else{var re=c,oe=m,ye=b,ke=re[oe-2*ye],Pe=re[oe-ye],_e=re[oe+0],Fe=re[oe+ye],Me=re[oe+2*ye],be=27*(Oe=hi[1020+3*(_e-Pe)+hi[1020+ke-Fe]])+63>>7,Ne=18*Oe+63>>7,Oe=9*Oe+63>>7;re[oe-3*ye]=Dr[255+re[oe-3*ye]+Oe],re[oe-2*ye]=Dr[255+ke+Ne],re[oe-ye]=Dr[255+Pe+be],re[oe+0]=Dr[255+_e-be],re[oe+ye]=Dr[255+Fe-Ne],re[oe+2*ye]=Dr[255+Me-Oe]}m+=P}}function Gr(c,m,b,P,B,W,V,te){for(W=2*W+1;0<B--;){if(Ht(c,m,b,W,V))if(So(c,m,b,te))pa(c,m,b);else{var re=c,oe=m,ye=b,ke=re[oe-ye],Pe=re[oe+0],_e=re[oe+ye],Fe=Sa[112+((Me=3*(Pe-ke))+4>>3)],Me=Sa[112+(Me+3>>3)],be=Fe+1>>1;re[oe-2*ye]=Dr[255+re[oe-2*ye]+be],re[oe-ye]=Dr[255+ke+Me],re[oe+0]=Dr[255+Pe-Fe],re[oe+ye]=Dr[255+_e-be]}m+=P}}function Hi(c,m,b,P,B,W){ga(c,m,b,1,16,P,B,W)}function xa(c,m,b,P,B,W){ga(c,m,1,b,16,P,B,W)}function dl(c,m,b,P,B,W){var V;for(V=3;0<V;--V)Gr(c,m+=4*b,b,1,16,P,B,W)}function ri(c,m,b,P,B,W){var V;for(V=3;0<V;--V)Gr(c,m+=4,1,b,16,P,B,W)}function Ui(c,m,b,P,B,W,V,te){ga(c,m,B,1,8,W,V,te),ga(b,P,B,1,8,W,V,te)}function $i(c,m,b,P,B,W,V,te){ga(c,m,1,B,8,W,V,te),ga(b,P,1,B,8,W,V,te)}function Rr(c,m,b,P,B,W,V,te){Gr(c,m+4*B,B,1,8,W,V,te),Gr(b,P+4*B,B,1,8,W,V,te)}function Co(c,m,b,P,B,W,V,te){Gr(c,m+4,1,B,8,W,V,te),Gr(b,P+4,1,B,8,W,V,te)}function Ha(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ws,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function cn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ni(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wi(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new T}function Vi(){this.xb=this.a=0,this.l=new _r,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wi,this.ab=0,this.gc=d(4,ni),this.Oc=0}function ai(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _r,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function va(c,m,b,P,B,W,V){for(c=c==null?0:c[m+0],m=0;m<V;++m)B[W+m]=c+b[P+m]&255,c=B[W+m]}function ii(c,m,b,P,B,W,V){var te;if(c==null)va(null,null,b,P,B,W,V);else for(te=0;te<V;++te)B[W+te]=c[m+te]+b[P+te]&255}function ya(c,m,b,P,B,W,V){if(c==null)va(null,null,b,P,B,W,V);else{var te,re=c[m+0],oe=re,ye=re;for(te=0;te<V;++te)oe=ye+(re=c[m+te])-oe,ye=b[P+te]+(-256&oe?0>oe?0:255:oe)&255,oe=re,B[W+te]=ye}}function Zi(c,m,b,P){var B=m.width,W=m.o;if(r(c!=null&&m!=null),0>b||0>=P||b+P>W)return null;if(!c.Cc){if(c.ga==null){var V;if(c.ga=new ai,(V=c.ga==null)||(V=m.width*m.o,r(c.Gb.length==0),c.Gb=l(V),c.Uc=0,c.Gb==null?V=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,V=1),V=!V),!V){V=c.ga;var te=c.Fa,re=c.P,oe=c.qc,ye=c.mb,ke=c.nb,Pe=re+1,_e=oe-1,Fe=V.l;if(r(te!=null&&ye!=null&&m!=null),ms[0]=null,ms[1]=va,ms[2]=ii,ms[3]=ya,V.ca=ye,V.tb=ke,V.c=m.width,V.i=m.height,r(0<V.c&&0<V.i),1>=oe)m=0;else if(V.$a=te[re+0]>>0&3,V.Z=te[re+0]>>2&3,V.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||re)m=0;else if(Fe.put=nn,Fe.ac=Hs,Fe.bc=Ir,Fe.ma=V,Fe.width=m.width,Fe.height=m.height,Fe.Da=m.Da,Fe.v=m.v,Fe.va=m.va,Fe.j=m.j,Fe.o=m.o,V.$a)e:{r(V.$a==1),m=kt();t:for(;;){if(m==null){m=0;break e}if(r(V!=null),V.mc=m,m.c=V.c,m.i=V.i,m.l=V.l,m.l.ma=V,m.l.width=V.c,m.l.height=V.i,m.a=0,G(m.m,te,Pe,_e),!Zt(V.c,V.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&tt(m.s)?(V.ic=1,te=m.c*m.i,m.Ta=null,m.Ua=0,m.V=l(te),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(V.ic=0,m=Gt(m,V.c)),!m))break t;m=1;break e}V.mc=null,m=0}else m=_e>=V.c*V.i;V=!m}if(V)return null;c.ga.Lc!=1?c.Ga=0:P=W-b}r(c.ga!=null),r(b+P<=W);e:{if(m=(te=c.ga).c,W=te.l.o,te.$a==0){if(Pe=c.rc,_e=c.Vc,Fe=c.Fa,re=c.P+1+b*m,oe=c.mb,ye=c.nb+b*m,r(re<=c.P+c.qc),te.Z!=0)for(r(ms[te.Z]!=null),V=0;V<P;++V)ms[te.Z](Pe,_e,Fe,re,oe,ye,m),Pe=oe,_e=ye,ye+=m,re+=m;else for(V=0;V<P;++V)a(oe,ye,Fe,re,m),Pe=oe,_e=ye,ye+=m,re+=m;c.rc=Pe,c.Vc=_e}else{if(r(te.mc!=null),m=b+P,r((V=te.mc)!=null),r(m<=V.i),V.C>=m)m=1;else if(te.ic||je(),te.ic){te=V.V,Pe=V.Ba,_e=V.c;var Me=V.i,be=(Fe=1,re=V.$/_e,oe=V.$%_e,ye=V.m,ke=V.s,V.$),Ne=_e*Me,Oe=_e*m,Be=ke.wc,De=be<Oe?ne(ke,oe,re):null;r(be<=Ne),r(m<=Me),r(tt(ke));t:for(;;){for(;!ye.h&&be<Oe;){if(oe&Be||(De=ne(ke,oe,re)),r(De!=null),ae(ye),256>(Me=Js(De.G[0],De.H[0],ye)))te[Pe+be]=Me,++be,++oe>=_e&&(oe=0,++re<=m&&!(re%16)&&qt(V,re));else{if(!(280>Me)){Fe=0;break t}Me=$r(Me-256,ye);var Xe,Ye=Js(De.G[4],De.H[4],ye);if(ae(ye),!(be>=(Ye=Wr(_e,Ye=$r(Ye,ye)))&&Ne-be>=Me)){Fe=0;break t}for(Xe=0;Xe<Me;++Xe)te[Pe+be+Xe]=te[Pe+be+Xe-Ye];for(be+=Me,oe+=Me;oe>=_e;)oe-=_e,++re<=m&&!(re%16)&&qt(V,re);be<Oe&&oe&Be&&(De=ne(ke,oe,re))}r(ye.h==Q(ye))}qt(V,re>m?m:re);break t}!Fe||ye.h&&be<Ne?(Fe=0,V.a=ye.h?5:3):V.$=be,m=Fe}else m=yt(V,V.V,V.Ba,V.c,V.i,m,It);if(!m){P=0;break e}}b+P>=W&&(c.Cc=1),P=1}if(!P)return null;if(c.Cc&&((P=c.ga)!=null&&(P.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+b*B}function g(c,m,b,P,B,W){for(;0<B--;){var V,te=c,re=m+(b?1:0),oe=c,ye=m+(b?0:3);for(V=0;V<P;++V){var ke=oe[ye+4*V];ke!=255&&(ke*=32897,te[re+4*V+0]=te[re+4*V+0]*ke>>23,te[re+4*V+1]=te[re+4*V+1]*ke>>23,te[re+4*V+2]=te[re+4*V+2]*ke>>23)}m+=W}}function H(c,m,b,P,B){for(;0<P--;){var W;for(W=0;W<b;++W){var V=c[m+2*W+0],te=15&(oe=c[m+2*W+1]),re=4369*te,oe=(240&oe|oe>>4)*re>>16;c[m+2*W+0]=(240&V|V>>4)*re>>16&240|(15&V|V<<4)*re>>16>>4&15,c[m+2*W+1]=240&oe|te}m+=B}}function de(c,m,b,P,B,W,V,te){var re,oe,ye=255;for(oe=0;oe<B;++oe){for(re=0;re<P;++re){var ke=c[m+re];W[V+4*re]=ke,ye&=ke}m+=b,V+=te}return ye!=255}function xe(c,m,b,P,B){var W;for(W=0;W<B;++W)b[P+W]=c[m+W]>>8}function je(){or=g,us=H,hs=de,Rs=xe}function Ee(c,m,b){U[c]=function(P,B,W,V,te,re,oe,ye,ke,Pe,_e,Fe,Me,be,Ne,Oe,Be){var De,Xe=Be-1>>1,Ye=te[re+0]|oe[ye+0]<<16,bt=ke[Pe+0]|_e[Fe+0]<<16;r(P!=null);var Je=3*Ye+bt+131074>>2;for(m(P[B+0],255&Je,Je>>16,Me,be),W!=null&&(Je=3*bt+Ye+131074>>2,m(W[V+0],255&Je,Je>>16,Ne,Oe)),De=1;De<=Xe;++De){var is=te[re+De]|oe[ye+De]<<16,ps=ke[Pe+De]|_e[Fe+De]<<16,ns=Ye+is+bt+ps+524296,Kt=ns+2*(is+bt)>>3;Je=Kt+Ye>>1,Ye=(ns=ns+2*(Ye+ps)>>3)+is>>1,m(P[B+2*De-1],255&Je,Je>>16,Me,be+(2*De-1)*b),m(P[B+2*De-0],255&Ye,Ye>>16,Me,be+(2*De-0)*b),W!=null&&(Je=ns+bt>>1,Ye=Kt+ps>>1,m(W[V+2*De-1],255&Je,Je>>16,Ne,Oe+(2*De-1)*b),m(W[V+2*De+0],255&Ye,Ye>>16,Ne,Oe+(2*De+0)*b)),Ye=is,bt=ps}1&Be||(Je=3*Ye+bt+131074>>2,m(P[B+Be-1],255&Je,Je>>16,Me,be+(Be-1)*b),W!=null&&(Je=3*bt+Ye+131074>>2,m(W[V+Be-1],255&Je,Je>>16,Ne,Oe+(Be-1)*b)))}}function qe(){Pr[Eo]=Xc,Pr[Xi]=Yl,Pr[hl]=ed,Pr[eo]=Do,Pr[to]=ml,Pr[Mo]=Kl,Pr[Gl]=H0,Pr[Io]=Yl,Pr[Ro]=Do,Pr[Oo]=ml,Pr[t]=Kl}function Ke(c){return c&-16384?0>c?0:255:c>>U0}function st(c,m){return Ke((19077*c>>8)+(26149*m>>8)-14234)}function Et(c,m,b){return Ke((19077*c>>8)-(6419*m>>8)-(13320*b>>8)+8708)}function Ct(c,m){return Ke((19077*c>>8)+(33050*m>>8)-17685)}function Yt(c,m,b,P,B){P[B+0]=st(c,b),P[B+1]=Et(c,m,b),P[B+2]=Ct(c,m)}function Ss(c,m,b,P,B){P[B+0]=Ct(c,m),P[B+1]=Et(c,m,b),P[B+2]=st(c,b)}function Cs(c,m,b,P,B){var W=Et(c,m,b);m=W<<3&224|Ct(c,m)>>3,P[B+0]=248&st(c,b)|W>>5,P[B+1]=m}function Fs(c,m,b,P,B){var W=240&Ct(c,m)|15;P[B+0]=240&st(c,b)|Et(c,m,b)>>4,P[B+1]=W}function mr(c,m,b,P,B){P[B+0]=255,Yt(c,m,b,P,B+1)}function Ws(c,m,b,P,B){Ss(c,m,b,P,B),P[B+3]=255}function _n(c,m,b,P,B){Yt(c,m,b,P,B),P[B+3]=255}function Ls(c,m){return 0>c?0:c>m?m:c}function jr(c,m,b){U[c]=function(P,B,W,V,te,re,oe,ye,ke){for(var Pe=ye+(-2&ke)*b;ye!=Pe;)m(P[B+0],W[V+0],te[re+0],oe,ye),m(P[B+1],W[V+0],te[re+0],oe,ye+b),B+=2,++V,++re,ye+=2*b;1&ke&&m(P[B+0],W[V+0],te[re+0],oe,ye)}}function Lo(c,m,b){return b==0?c==0?m==0?6:5:m==0?4:0:b}function Yr(c,m,b,P,B){switch(c>>>30){case 3:Mn(m,b,P,B,0);break;case 2:Is(m,b,P,B);break;case 1:Sr(m,b,P,B)}}function Gi(c,m){var b,P,B=m.M,W=m.Nb,V=c.oc,te=c.pc+40,re=c.oc,oe=c.pc+584,ye=c.oc,ke=c.pc+600;for(b=0;16>b;++b)V[te+32*b-1]=129;for(b=0;8>b;++b)re[oe+32*b-1]=129,ye[ke+32*b-1]=129;for(0<B?V[te-1-32]=re[oe-1-32]=ye[ke-1-32]=129:(o(V,te-32-1,127,21),o(re,oe-32-1,127,9),o(ye,ke-32-1,127,9)),P=0;P<c.za;++P){var Pe=m.ya[m.aa+P];if(0<P){for(b=-1;16>b;++b)a(V,te+32*b-4,V,te+32*b+12,4);for(b=-1;8>b;++b)a(re,oe+32*b-4,re,oe+32*b+4,4),a(ye,ke+32*b-4,ye,ke+32*b+4,4)}var _e=c.Gd,Fe=c.Hd+P,Me=Pe.ad,be=Pe.Hc;if(0<B&&(a(V,te-32,_e[Fe].y,0,16),a(re,oe-32,_e[Fe].f,0,8),a(ye,ke-32,_e[Fe].ea,0,8)),Pe.Za){var Ne=V,Oe=te-32+16;for(0<B&&(P>=c.za-1?o(Ne,Oe,_e[Fe].y[15],4):a(Ne,Oe,_e[Fe+1].y,0,4)),b=0;4>b;b++)Ne[Oe+128+b]=Ne[Oe+256+b]=Ne[Oe+384+b]=Ne[Oe+0+b];for(b=0;16>b;++b,be<<=2)Ne=V,Oe=te+Ku[b],kn[Pe.Ob[b]](Ne,Oe),Yr(be,Me,16*+b,Ne,Oe)}else if(Ne=Lo(P,B,Pe.Ob[0]),ka[Ne](V,te),be!=0)for(b=0;16>b;++b,be<<=2)Yr(be,Me,16*+b,V,te+Ku[b]);for(b=Pe.Gc,Ne=Lo(P,B,Pe.Dd),Fn[Ne](re,oe),Fn[Ne](ye,ke),be=Me,Ne=re,Oe=oe,255&(Pe=b>>0)&&(170&Pe?wa(be,256,Ne,Oe):Qr(be,256,Ne,Oe)),Pe=ye,be=ke,255&(b>>=8)&&(170&b?wa(Me,320,Pe,be):Qr(Me,320,Pe,be)),B<c.Ub-1&&(a(_e[Fe].y,0,V,te+480,16),a(_e[Fe].f,0,re,oe+224,8),a(_e[Fe].ea,0,ye,ke+224,8)),b=8*W*c.B,_e=c.sa,Fe=c.ta+16*P+16*W*c.R,Me=c.qa,Pe=c.ra+8*P+b,be=c.Ha,Ne=c.Ia+8*P+b,b=0;16>b;++b)a(_e,Fe+b*c.R,V,te+32*b,16);for(b=0;8>b;++b)a(Me,Pe+b*c.B,re,oe+32*b,8),a(be,Ne+b*c.B,ye,ke+32*b,8)}}function jn(c,m,b,P,B,W,V,te,re){var oe=[0],ye=[0],ke=0,Pe=re!=null?re.kd:0,_e=re??new cn;if(c==null||12>b)return 7;_e.data=c,_e.w=m,_e.ha=b,m=[m],b=[b],_e.gb=[_e.gb];e:{var Fe=m,Me=b,be=_e.gb;if(r(c!=null),r(Me!=null),r(be!=null),be[0]=0,12<=Me[0]&&!n(c,Fe[0],"RIFF")){if(n(c,Fe[0]+8,"WEBP")){be=3;break e}var Ne=Re(c,Fe[0]+4);if(12>Ne||4294967286<Ne){be=3;break e}if(Pe&&Ne>Me[0]-8){be=7;break e}be[0]=Ne,Fe[0]+=12,Me[0]-=12}be=0}if(be!=0)return be;for(Ne=0<_e.gb[0],b=b[0];;){e:{var Oe=c;Me=m,be=b;var Be=oe,De=ye,Xe=Fe=[0];if((Je=ke=[ke])[0]=0,8>be[0])be=7;else{if(!n(Oe,Me[0],"VP8X")){if(Re(Oe,Me[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var Ye=Re(Oe,Me[0]+8),bt=1+Ae(Oe,Me[0]+12);if(2147483648<=bt*(Oe=1+Ae(Oe,Me[0]+15))){be=3;break e}Xe!=null&&(Xe[0]=Ye),Be!=null&&(Be[0]=bt),De!=null&&(De[0]=Oe),Me[0]+=18,be[0]-=18,Je[0]=1}be=0}}if(ke=ke[0],Fe=Fe[0],be!=0)return be;if(Me=!!(2&Fe),!Ne&&ke)return 3;if(W!=null&&(W[0]=!!(16&Fe)),V!=null&&(V[0]=Me),te!=null&&(te[0]=0),V=oe[0],Fe=ye[0],ke&&Me&&re==null){be=0;break}if(4>b){be=7;break}if(Ne&&ke||!Ne&&!ke&&!n(c,m[0],"ALPH")){b=[b],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{Ye=c,be=m,Ne=b;var Je=_e.gb;Be=_e.na,De=_e.P,Xe=_e.Sa,bt=22,r(Ye!=null),r(Ne!=null),Oe=be[0];var is=Ne[0];for(r(Be!=null),r(Xe!=null),Be[0]=null,De[0]=null,Xe[0]=0;;){if(be[0]=Oe,Ne[0]=is,8>is){be=7;break e}var ps=Re(Ye,Oe+4);if(4294967286<ps){be=3;break e}var ns=8+ps+1&-2;if(bt+=ns,0<Je&&bt>Je){be=3;break e}if(!n(Ye,Oe,"VP8 ")||!n(Ye,Oe,"VP8L")){be=0;break e}if(is[0]<ns){be=7;break e}n(Ye,Oe,"ALPH")||(Be[0]=Ye,De[0]=Oe+8,Xe[0]=ps),Oe+=ns,is-=ns}}if(b=b[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],be!=0)break}b=[b],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(Je=c,be=m,Ne=b,Be=_e.gb[0],De=_e.Ja,Xe=_e.xa,Ye=be[0],Oe=!n(Je,Ye,"VP8 "),bt=!n(Je,Ye,"VP8L"),r(Je!=null),r(Ne!=null),r(De!=null),r(Xe!=null),8>Ne[0])be=7;else{if(Oe||bt){if(Je=Re(Je,Ye+4),12<=Be&&Je>Be-12){be=3;break e}if(Pe&&Je>Ne[0]-8){be=7;break e}De[0]=Je,be[0]+=8,Ne[0]-=8,Xe[0]=bt}else Xe[0]=5<=Ne[0]&&Je[Ye+0]==47&&!(Je[Ye+4]>>5),De[0]=Ne[0];be=0}if(b=b[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],m=m[0],be!=0)break;if(4294967286<_e.Ja)return 3;if(te==null||Me||(te[0]=_e.xa?2:1),V=[V],Fe=[Fe],_e.xa){if(5>b){be=7;break}te=V,Pe=Fe,Me=W,c==null||5>b?c=0:5<=b&&c[m+0]==47&&!(c[m+4]>>5)?(Ne=[0],Je=[0],Be=[0],G(De=new R,c,m,b),gt(De,Ne,Je,Be)?(te!=null&&(te[0]=Ne[0]),Pe!=null&&(Pe[0]=Je[0]),Me!=null&&(Me[0]=Be[0]),c=1):c=0):c=0}else{if(10>b){be=7;break}te=Fe,c==null||10>b||!hr(c,m+3,b-3)?c=0:(Pe=c[m+0]|c[m+1]<<8|c[m+2]<<16,Me=16383&(c[m+7]<<8|c[m+6]),c=16383&(c[m+9]<<8|c[m+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=_e.Ja||!Me||!c?c=0:(V&&(V[0]=Me),te&&(te[0]=c),c=1))}if(!c||(V=V[0],Fe=Fe[0],ke&&(oe[0]!=V||ye[0]!=Fe)))return 3;re!=null&&(re[0]=_e,re.offset=m-re.w,r(4294967286>m-re.w),r(re.offset==re.ha-b));break}return be==0||be==7&&ke&&re==null?(W!=null&&(W[0]|=_e.na!=null&&0<_e.na.length),P!=null&&(P[0]=V),B!=null&&(B[0]=Fe),0):be}function Yi(c,m,b){var P=m.width,B=m.height,W=0,V=0,te=P,re=B;if(m.Da=c!=null&&0<c.Da,m.Da&&(te=c.cd,re=c.bd,W=c.v,V=c.j,11>b||(W&=-2,V&=-2),0>W||0>V||0>=te||0>=re||W+te>P||V+re>B))return 0;if(m.v=W,m.j=V,m.va=W+te,m.o=V+re,m.U=te,m.T=re,m.da=c!=null&&0<c.da,m.da){if(!lt(te,re,b=[c.ib],W=[c.hb]))return 0;m.ib=b[0],m.hb=W[0]}return m.ob=c!=null&&c.ob,m.Kb=c==null||!c.Sd,m.da&&(m.ob=m.ib<3*P/4&&m.hb<3*B/4,m.Kb=0),1}function Qn(c){if(c==null)return 2;if(11>c.S){var m=c.f.RGBA;m.fb+=(c.height-1)*m.A,m.A=-m.A}else m=c.f.kb,c=c.height,m.O+=(c-1)*m.fa,m.fa=-m.fa,m.N+=(c-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(c-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(c-1)*m.lb,m.lb=-m.lb);return 0}function Ua(c,m,b,P){if(P==null||0>=c||0>=m)return 2;if(b!=null){if(b.Da){var B=b.cd,W=b.bd,V=-2&b.v,te=-2&b.j;if(0>V||0>te||0>=B||0>=W||V+B>c||te+W>m)return 2;c=B,m=W}if(b.da){if(!lt(c,m,B=[b.ib],W=[b.hb]))return 2;c=B[0],m=W[0]}}P.width=c,P.height=m;e:{var re=P.width,oe=P.height;if(c=P.S,0>=re||0>=oe||!(c>=Eo&&13>c))c=2;else{if(0>=P.Rd&&P.sd==null){V=W=B=m=0;var ye=(te=re*Ju[c])*oe;if(11>c||(W=(oe+1)/2*(m=(re+1)/2),c==12&&(V=(B=re)*oe)),(oe=l(ye+2*W+V))==null){c=1;break e}P.sd=oe,11>c?((re=P.f.RGBA).eb=oe,re.fb=0,re.A=te,re.size=ye):((re=P.f.kb).y=oe,re.O=0,re.fa=te,re.Fd=ye,re.f=oe,re.N=0+ye,re.Ab=m,re.Cd=W,re.ea=oe,re.W=0+ye+W,re.Db=m,re.Ed=W,c==12&&(re.F=oe,re.J=0+ye+2*W),re.Tc=V,re.lb=B)}if(m=1,B=P.S,W=P.width,V=P.height,B>=Eo&&13>B)if(11>B)c=P.f.RGBA,m&=(te=Math.abs(c.A))*(V-1)+W<=c.size,m&=te>=W*Ju[B],m&=c.eb!=null;else{c=P.f.kb,te=(W+1)/2,ye=(V+1)/2,re=Math.abs(c.fa),oe=Math.abs(c.Ab);var ke=Math.abs(c.Db),Pe=Math.abs(c.lb),_e=Pe*(V-1)+W;m&=re*(V-1)+W<=c.Fd,m&=oe*(ye-1)+te<=c.Cd,m=(m&=ke*(ye-1)+te<=c.Ed)&re>=W&oe>=te&ke>=te,m&=c.y!=null,m&=c.f!=null,m&=c.ea!=null,B==12&&(m&=Pe>=W,m&=_e<=c.Tc,m&=c.F!=null)}else m=0;c=m?0:2}}return c!=0||b!=null&&b.fd&&(c=Qn(P)),c}var zs=64,oi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Kr=24,Xn=32,Ki=8,pr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];$e("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(c){return c},U.Predictor2=function(c,m,b){return m[b+0]},U.Predictor3=function(c,m,b){return m[b+1]},U.Predictor4=function(c,m,b){return m[b-1]},U.Predictor5=function(c,m,b){return Ve(Ve(c,m[b+1]),m[b+0])},U.Predictor6=function(c,m,b){return Ve(c,m[b-1])},U.Predictor7=function(c,m,b){return Ve(c,m[b+0])},U.Predictor8=function(c,m,b){return Ve(m[b-1],m[b+0])},U.Predictor9=function(c,m,b){return Ve(m[b+0],m[b+1])},U.Predictor10=function(c,m,b){return Ve(Ve(c,m[b-1]),Ve(m[b+0],m[b+1]))},U.Predictor11=function(c,m,b){var P=m[b+0];return 0>=_t(P>>24&255,c>>24&255,(m=m[b-1])>>24&255)+_t(P>>16&255,c>>16&255,m>>16&255)+_t(P>>8&255,c>>8&255,m>>8&255)+_t(255&P,255&c,255&m)?P:c},U.Predictor12=function(c,m,b){var P=m[b+0];return(at((c>>24&255)+(P>>24&255)-((m=m[b-1])>>24&255))<<24|at((c>>16&255)+(P>>16&255)-(m>>16&255))<<16|at((c>>8&255)+(P>>8&255)-(m>>8&255))<<8|at((255&c)+(255&P)-(255&m)))>>>0},U.Predictor13=function(c,m,b){var P=m[b-1];return(xt((c=Ve(c,m[b+0]))>>24&255,P>>24&255)<<24|xt(c>>16&255,P>>16&255)<<16|xt(c>>8&255,P>>8&255)<<8|xt(c>>0&255,P>>0&255))>>>0};var ul=U.PredictorAdd0;U.PredictorAdd1=Lt,$e("Predictor2","PredictorAdd2"),$e("Predictor3","PredictorAdd3"),$e("Predictor4","PredictorAdd4"),$e("Predictor5","PredictorAdd5"),$e("Predictor6","PredictorAdd6"),$e("Predictor7","PredictorAdd7"),$e("Predictor8","PredictorAdd8"),$e("Predictor9","PredictorAdd9"),$e("Predictor10","PredictorAdd10"),$e("Predictor11","PredictorAdd11"),$e("Predictor12","PredictorAdd12"),$e("Predictor13","PredictorAdd13");var Jr=U.PredictorAdd2;Rt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Ao,nr=U.ColorIndexInverseTransform,li=U.MapARGB,dn=U.VP8LColorIndexInverseTransformAlpha,$a=U.MapAlpha,ea=U.VP8LPredictorsAdd=[];ea.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var ta,ar,ir,Sn,Or,un,ba,Mn,Is,wa,Sr,Qr,ci,Ji,Qi,gr,In,Na,Rn,di,_a,ja,sa,hn,or,us,hs,Rs,fs=l(511),On=l(2041),ui=l(225),Dn=l(767),To=0,hi=On,Sa=ui,Dr=Dn,Xr=fs,Eo=0,Xi=1,hl=2,eo=3,to=4,Mo=5,Gl=6,Io=7,Ro=8,Oo=9,t=10,i=[2,3,7],h=[3,3,11],y=[280,256,256,256,40],C=[0,1,1,1,0],Z=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],me=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Se=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Le=8,ze=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qe=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mt=null,zt=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vs=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fn=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Fr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ka=[],kn=[],Fn=[],Qc=1,fl=2,ms=[],Pr=[];Ee("UpsampleRgbLinePair",Yt,3),Ee("UpsampleBgrLinePair",Ss,3),Ee("UpsampleRgbaLinePair",_n,4),Ee("UpsampleBgraLinePair",Ws,4),Ee("UpsampleArgbLinePair",mr,4),Ee("UpsampleRgba4444LinePair",Fs,2),Ee("UpsampleRgb565LinePair",Cs,2);var Xc=U.UpsampleRgbLinePair,ed=U.UpsampleBgrLinePair,Yl=U.UpsampleRgbaLinePair,Do=U.UpsampleBgraLinePair,ml=U.UpsampleArgbLinePair,Kl=U.UpsampleRgba4444LinePair,H0=U.UpsampleRgb565LinePair,Jl=16,Ql=1<<Jl-1,pl=-227,td=482,U0=6,Yu=0,$0=l(256),W0=l(256),V0=l(256),Z0=l(256),G0=l(td-pl),Y0=l(td-pl);jr("YuvToRgbRow",Yt,3),jr("YuvToBgrRow",Ss,3),jr("YuvToRgbaRow",_n,4),jr("YuvToBgraRow",Ws,4),jr("YuvToArgbRow",mr,4),jr("YuvToRgba4444Row",Fs,2),jr("YuvToRgb565Row",Cs,2);var Ku=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],K0=[8,7,6,4,4,2,2,2,1,1,1,1],J0=1;this.WebPDecodeRGBA=function(c,m,b,P,B){var W=Xi,V=new Ha,te=new Er;V.ba=te,te.S=W,te.width=[te.width],te.height=[te.height];var re=te.width,oe=te.height,ye=new Mr;if(ye==null||c==null)var ke=2;else r(ye!=null),ke=jn(c,m,b,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(ke!=0?re=0:(re!=null&&(re[0]=ye.width[0]),oe!=null&&(oe[0]=ye.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],P!=null&&(P[0]=te.width),B!=null&&(B[0]=te.height);e:{if(P=new _r,(B=new cn).data=c,B.w=m,B.ha=b,B.kd=1,m=[0],r(B!=null),((c=jn(B.data,B.w,B.ha,null,null,null,m,null,B))==0||c==7)&&m[0]&&(c=4),(m=c)==0){if(r(V!=null),P.data=B.data,P.w=B.w+B.offset,P.ha=B.ha-B.offset,P.put=nn,P.ac=Hs,P.bc=Ir,P.ma=V,B.xa){if((c=kt())==null){V=1;break e}if(function(Pe,_e){var Fe=[0],Me=[0],be=[0];t:for(;;){if(Pe==null)return 0;if(_e==null)return Pe.a=2,0;if(Pe.l=_e,Pe.a=0,G(Pe.m,_e.data,_e.w,_e.ha),!gt(Pe.m,Fe,Me,be)){Pe.a=3;break t}if(Pe.xb=fl,_e.width=Fe[0],_e.height=Me[0],!Zt(Fe[0],Me[0],1,Pe,null))break t;return 1}return r(Pe.a!=0),0}(c,P)){if(P=(m=Ua(P.width,P.height,V.Oa,V.ba))==0){t:{P=c;s:for(;;){if(P==null){P=0;break t}if(r(P.s.yc!=null),r(P.s.Ya!=null),r(0<P.s.Wb),r((b=P.l)!=null),r((B=b.ma)!=null),P.xb!=0){if(P.ca=B.ba,P.tb=B.tb,r(P.ca!=null),!Yi(B.Oa,b,eo)){P.a=2;break s}if(!Gt(P,b.width)||b.da)break s;if((b.da||Xt(P.ca.S))&&je(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&je()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!We(P.s.vb,P.s.Wa.Xa)){P.a=1;break s}P.xb=0}if(!yt(P,P.V,P.Ba,P.c,P.i,b.o,Ue))break s;B.Dc=P.Ma,P=1;break t}r(P.a!=0),P=0}P=!P}P&&(m=c.a)}else m=c.a}else{if((c=new Dt)==null){V=1;break e}if(c.Fa=B.na,c.P=B.P,c.qc=B.Sa,bn(c,P)){if((m=Ua(P.width,P.height,V.Oa,V.ba))==0){if(c.Aa=0,b=V.Oa,r((B=c)!=null),b!=null){if(0<(re=0>(re=b.Md)?0:100<re?255:255*re/100)){for(oe=ye=0;4>oe;++oe)12>(ke=B.pb[oe]).lc&&(ke.ia=re*K0[0>ke.lc?0:ke.lc]>>3),ye|=ke.ia;ye&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=b.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}At(c,P)||(m=c.a)}}else m=c.a}m==0&&V.Oa!=null&&V.Oa.fd&&(m=Qn(V.ba))}V=m}W=V!=0?null:11>W?te.f.RGBA.eb:te.f.kb.y}else W=null;return W};var Ju=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function x(U,Y){for(var ie="",E=0;E<4;E++)ie+=String.fromCharCode(U[Y++]);return ie}function w(U,Y){return(U[Y+0]<<0|U[Y+1]<<8|U[Y+2]<<16)>>>0}function v(U,Y){return(U[Y+0]<<0|U[Y+1]<<8|U[Y+2]<<16|U[Y+3]<<24)>>>0}new u;var j=[0],p=[0],k=[],_=new u,I=s,S=function(U,Y){var ie={},E=0,T=!1,z=0,F=0;if(ie.frames=[],!function(K,Q,se,ae){for(var he=0;he<ae;he++)if(K[Q+he]!=se.charCodeAt(he))return!0;return!1}(U,Y,"RIFF",4)){var le,X;for(v(U,Y+=4),Y+=8;Y<U.length;){var O=x(U,Y),G=v(U,Y+=4);Y+=4;var J=G+(1&G);switch(O){case"VP8 ":case"VP8L":ie.frames[E]===void 0&&(ie.frames[E]={}),(R=ie.frames[E]).src_off=T?F:Y-8,R.src_size=z+G+8,E++,T&&(T=!1,z=0,F=0);break;case"VP8X":(R=ie.header={}).feature_flags=U[Y];var ce=Y+4;R.canvas_width=1+w(U,ce),ce+=3,R.canvas_height=1+w(U,ce),ce+=3;break;case"ALPH":T=!0,z=J+8,F=Y-8;break;case"ANIM":(R=ie.header).bgcolor=v(U,Y),ce=Y+4,R.loop_count=(le=U)[(X=ce)+0]<<0|le[X+1]<<8,ce+=2;break;case"ANMF":var ve,R;(R=ie.frames[E]={}).offset_x=2*w(U,Y),Y+=3,R.offset_y=2*w(U,Y),Y+=3,R.width=1+w(U,Y),Y+=3,R.height=1+w(U,Y),Y+=3,R.duration=w(U,Y),Y+=3,ve=U[Y++],R.dispose=1&ve,R.blend=ve>>1&1}O!="ANMF"&&(Y+=J)}return ie}}(I,0);S.response=I,S.rgbaoutput=!0,S.dataurl=!1;var N=S.header?S.header:null,A=S.frames?S.frames:null;if(N){N.loop_counter=N.loop_count,j=[N.canvas_height],p=[N.canvas_width];for(var D=0;D<A.length&&A[D].blend!=0;D++);}var q=A[0],ee=_.WebPDecodeRGBA(I,q.src_off,q.src_size,p,j);q.rgba=ee,q.imgwidth=p[0],q.imgheight=j[0];for(var $=0;$<p[0]*j[0]*4;$++)k[$]=ee[$];return this.width=p,this.height=j,this.data=k,this}(function(s){var r=function(){return typeof Yd=="function"},n=function(j,p,k,_){var I=4,S=d;switch(_){case s.image_compression.FAST:I=1,S=l;break;case s.image_compression.MEDIUM:I=6,S=f;break;case s.image_compression.SLOW:I=9,S=u}j=a(j,p,k,S);var N=Yd(j,{level:I});return s.__addimage__.arrayBufferToBinaryString(N)},a=function(j,p,k,_){for(var I,S,N,A=j.length/p,D=new Uint8Array(j.length+A),q=w(),ee=0;ee<A;ee+=1){if(N=ee*p,I=j.subarray(N,N+p),_)D.set(_(I,k,S),N+ee);else{for(var $,U=q.length,Y=[];$<U;$+=1)Y[$]=q[$](I,k,S);var ie=v(Y.concat());D.set(Y[ie],N+ee)}S=I}return D},o=function(j){var p=Array.apply([],j);return p.unshift(0),p},l=function(j,p){var k,_=[],I=j.length;_[0]=1;for(var S=0;S<I;S+=1)k=j[S-p]||0,_[S+1]=j[S]-k+256&255;return _},d=function(j,p,k){var _,I=[],S=j.length;I[0]=2;for(var N=0;N<S;N+=1)_=k&&k[N]||0,I[N+1]=j[N]-_+256&255;return I},f=function(j,p,k){var _,I,S=[],N=j.length;S[0]=3;for(var A=0;A<N;A+=1)_=j[A-p]||0,I=k&&k[A]||0,S[A+1]=j[A]+256-(_+I>>>1)&255;return S},u=function(j,p,k){var _,I,S,N,A=[],D=j.length;A[0]=4;for(var q=0;q<D;q+=1)_=j[q-p]||0,I=k&&k[q]||0,S=k&&k[q-p]||0,N=x(_,I,S),A[q+1]=j[q]-N+256&255;return A},x=function(j,p,k){if(j===p&&p===k)return j;var _=Math.abs(p-k),I=Math.abs(j-k),S=Math.abs(j+p-k-k);return _<=I&&_<=S?j:I<=S?p:k},w=function(){return[o,l,d,f,u]},v=function(j){var p=j.map(function(k){return k.reduce(function(_,I){return _+Math.abs(I)},0)});return p.indexOf(Math.min.apply(null,p))};s.processPNG=function(j,p,k,_){var I,S,N,A,D,q,ee,$,U,Y,ie,E,T,z,F,le=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(j)&&(j=new Uint8Array(j)),this.__addimage__.isArrayBufferView(j)){if(j=(N=new hb(j)).imgData,S=N.bits,I=N.colorSpace,D=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){U=($=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,ie=new Uint8Array(U*N.colors),Y=new Uint8Array(U);var O,G=N.pixelBitlength-N.bits;for(z=0,F=0;z<U;z++){for(T=$[z],O=0;O<G;)ie[F++]=T>>>O&255,O+=N.bits;Y[z]=T>>>O&255}}if(N.bits===16){U=($=new Uint32Array(N.decodePixels().buffer)).length,ie=new Uint8Array(U*(32/N.pixelBitlength)*N.colors),Y=new Uint8Array(U*(32/N.pixelBitlength)),E=N.colors>1,z=0,F=0;for(var J=0;z<U;)T=$[z++],ie[F++]=T>>>0&255,E&&(ie[F++]=T>>>16&255,T=$[z++],ie[F++]=T>>>0&255),Y[J++]=T>>>16&255;S=8}_!==s.image_compression.NONE&&r()?(j=n(ie,N.width*N.colors,N.colors,_),ee=n(Y,N.width,1,_)):(j=ie,ee=Y,le=void 0)}if(N.colorType===3&&(I=this.color_spaces.INDEXED,q=N.palette,N.transparency.indexed)){var ce=N.transparency.indexed,ve=0;for(z=0,U=ce.length;z<U;++z)ve+=ce[z];if((ve/=255)===U-1&&ce.indexOf(0)!==-1)A=[ce.indexOf(0)];else if(ve!==U){for($=N.decodePixels(),Y=new Uint8Array($.length),z=0,U=$.length;z<U;z++)Y[z]=ce[$[z]];ee=n(Y,N.width,1)}}var R=function(K){var Q;switch(K){case s.image_compression.FAST:Q=11;break;case s.image_compression.MEDIUM:Q=13;break;case s.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(_);return le===this.decode.FLATE_DECODE&&(X="/Predictor "+R+" "),X+="/Colors "+D+" /BitsPerComponent "+S+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),(ee&&this.__addimage__.isArrayBuffer(ee)||this.__addimage__.isArrayBufferView(ee))&&(ee=this.__addimage__.arrayBufferToBinaryString(ee)),{alias:k,data:j,index:p,filter:le,decodeParameters:X,transparency:A,palette:q,sMask:ee,predictor:R,width:N.width,height:N.height,bitsPerComponent:S,colorSpace:I}}}})(wt.API),function(s){s.processGIF89A=function(r,n,a,o){var l=new fb(r),d=l.width,f=l.height,u=[];l.decodeAndBlitFrameRGBA(0,u);var x={data:u,width:d,height:f},w=new Pd(100).encode(x,100);return s.processJPEG.call(this,w,n,a,o)},s.processGIF87A=s.processGIF89A}(wt.API),aa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var r=0;r<s;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:o,green:a,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},aa.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[s]()}catch(n){Ps.log("bit decode error:"+n)}},aa.prototype.bit1=function(){var s,r=Math.ceil(this.width/8),n=r%4;for(s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<r;o++)for(var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+8*o*4,f=0;f<8&&8*o+f<this.width;f++){var u=this.palette[l>>7-f&1];this.data[d+4*f]=u.blue,this.data[d+4*f+1]=u.green,this.data[d+4*f+2]=u.red,this.data[d+4*f+3]=255}n!==0&&(this.pos+=4-n)}},aa.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),r=s%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<s;o++){var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+2*o*4,f=l>>4,u=15&l,x=this.palette[f];if(this.data[d]=x.blue,this.data[d+1]=x.green,this.data[d+2]=x.red,this.data[d+3]=255,2*o+1>=this.width)break;x=this.palette[u],this.data[d+4]=x.blue,this.data[d+4+1]=x.green,this.data[d+4+2]=x.red,this.data[d+4+3]=255}r!==0&&(this.pos+=4-r)}},aa.prototype.bit8=function(){for(var s=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*a;if(o<this.palette.length){var d=this.palette[o];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}s!==0&&(this.pos+=4-s)}},aa.prototype.bit15=function(){for(var s=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&r)/r*255|0,f=(l>>5&r)/r*255|0,u=(l>>10&r)/r*255|0,x=l>>15?255:0,w=a*this.width*4+4*o;this.data[w]=u,this.data[w+1]=f,this.data[w+2]=d,this.data[w+3]=x}this.pos+=s}},aa.prototype.bit16=function(){for(var s=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var o=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(d&r)/r*255|0,u=(d>>5&n)/n*255|0,x=(d>>11)/r*255|0,w=o*this.width*4+4*l;this.data[w]=x,this.data[w+1]=u,this.data[w+2]=f,this.data[w+3]=255}this.pos+=s}},aa.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*n;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=255}this.pos+=this.width%4}},aa.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var r=this.bottom_up?s:this.height-1-s,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+4*n;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=d}},aa.prototype.getData=function(){return this.data},function(s){s.processBMP=function(r,n,a,o){var l=new aa(r,!1),d=l.width,f=l.height,u={data:l.getData(),width:d,height:f},x=new Pd(100).encode(u,100);return s.processJPEG.call(this,x,n,a,o)}}(wt.API),pf.prototype.getData=function(){return this.data},function(s){s.processWEBP=function(r,n,a,o){var l=new pf(r),d=l.width,f=l.height,u={data:l.getData(),width:d,height:f},x=new Pd(100).encode(u,100);return s.processJPEG.call(this,x,n,a,o)}}(wt.API),wt.API.processRGBA=function(s,r,n){for(var a=s.data,o=a.length,l=new Uint8Array(o/4*3),d=new Uint8Array(o/4),f=0,u=0,x=0;x<o;x+=4){var w=a[x],v=a[x+1],j=a[x+2],p=a[x+3];l[f++]=w,l[f++]=v,l[f++]=j,d[u++]=p}var k=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:k,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},wt.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$o=wt.API,gc=$o.getCharWidthsArray=function(s,r){var n,a,o=(r=r||{}).font||this.internal.getFont(),l=r.fontSize||this.internal.getFontSize(),d=r.charSpace||this.internal.getCharSpace(),f=r.widths?r.widths:o.metadata.Unicode.widths,u=f.fof?f.fof:1,x=r.kerning?r.kerning:o.metadata.Unicode.kerning,w=x.fof?x.fof:1,v=r.doKerning!==!1,j=0,p=s.length,k=0,_=f[0]||u,I=[];for(n=0;n<p;n++)a=s.charCodeAt(n),typeof o.metadata.widthOfString=="function"?I.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(a))+d*(1e3/l)||0)/1e3):(j=v&&ys(x[a])==="object"&&!isNaN(parseInt(x[a][k],10))?x[a][k]/w:0,I.push((f[a]||_)/u+j)),k=a;return I},uf=$o.getStringUnitWidth=function(s,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),a=r.font||this.internal.getFont(),o=r.charSpace||this.internal.getCharSpace();return $o.processArabic&&(s=$o.processArabic(s)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(s,n,o)/n:gc.apply(this,arguments).reduce(function(l,d){return l+d},0)},hf=function(s,r,n,a){for(var o=[],l=0,d=s.length,f=0;l!==d&&f+r[l]<n;)f+=r[l],l++;o.push(s.slice(0,l));var u=l;for(f=0;l!==d;)f+r[l]>a&&(o.push(s.slice(u,l)),f=0,u=l),f+=r[l],l++;return u!==l&&o.push(s.slice(u,l)),o},ff=function(s,r,n){n||(n={});var a,o,l,d,f,u,x,w=[],v=[w],j=n.textIndent||0,p=0,k=0,_=s.split(" "),I=gc.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var S=Array(u).join(" "),N=[];_.map(function(D){(D=D.split(/\s*\n/)).length>1?N=N.concat(D.map(function(q,ee){return(ee&&q.length?`
`:"")+q})):N.push(D[0])}),_=N,u=uf.apply(this,[S,n])}for(l=0,d=_.length;l<d;l++){var A=0;if(a=_[l],u&&a[0]==`
`&&(a=a.substr(1),A=1),j+p+(k=(o=gc.apply(this,[a,n])).reduce(function(D,q){return D+q},0))>r||A){if(k>r){for(f=hf.apply(this,[a,o,r-(j+p),r]),w.push(f.shift()),w=[f.pop()];f.length;)v.push([f.shift()]);k=o.slice(a.length-(w[0]?w[0].length:0)).reduce(function(D,q){return D+q},0)}else w=[a];v.push(w),j=k+u,p=I}else w.push(a),j+=p+k,p=I}return x=u?function(D,q){return(q?S:"")+D.join(" ")}:function(D){return D.join(" ")},v.map(x)},$o.splitTextToSize=function(s,r,n){var a,o=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var v=this.internal.getFont(w.fontName,w.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(s)?s:String(s).split(/\r?\n/);var d=1*this.internal.scaleFactor*r/o;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,l.lineIndent=n.lineIndent;var f,u,x=[];for(f=0,u=a.length;f<u;f++)x=x.concat(ff.apply(this,[a[f],d,l]));return x},function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},a={},o=0;o<r.length;o++)n[r[o]]="0123456789abcdef"[o],a["0123456789abcdef"[o]]=r[o];var l=function(v){return"0x"+parseInt(v,10).toString(16)},d=s.__fontmetrics__.compress=function(v){var j,p,k,_,I=["{"];for(var S in v){if(j=v[S],isNaN(parseInt(S,10))?p="'"+S+"'":(S=parseInt(S,10),p=(p=l(S).slice(2)).slice(0,-1)+a[p.slice(-1)]),typeof j=="number")j<0?(k=l(j).slice(3),_="-"):(k=l(j).slice(2),_=""),k=_+k.slice(0,-1)+a[k.slice(-1)];else{if(ys(j)!=="object")throw new Error("Don't know what to do with value type "+ys(j)+".");k=d(j)}I.push(p+k)}return I.push("}"),I.join("")},f=s.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var j,p,k,_,I={},S=1,N=I,A=[],D="",q="",ee=v.length-1,$=1;$<ee;$+=1)(_=v[$])=="'"?j?(k=j.join(""),j=void 0):j=[]:j?j.push(_):_=="{"?(A.push([N,k]),N={},k=void 0):_=="}"?((p=A.pop())[0][p[1]]=N,k=void 0,N=p[0]):_=="-"?S=-1:k===void 0?n.hasOwnProperty(_)?(D+=n[_],k=parseInt(D,16)*S,S=1,D=""):D+=_:n.hasOwnProperty(_)?(q+=n[_],N[k]=parseInt(q,16)*S,S=1,k=void 0,q=""):q+=_;return I},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(v){var j=v.font,p=w.Unicode[j.postScriptName];p&&(j.metadata.Unicode={},j.metadata.Unicode.widths=p.widths,j.metadata.Unicode.kerning=p.kerning);var k=x.Unicode[j.postScriptName];k&&(j.metadata.Unicode.encoding=k,j.encoding=k.codePages[0])}])}(wt.API),function(s){var r=function(n){for(var a=n.length,o=new Uint8Array(a),l=0;l<a;l++)o[l]=n.charCodeAt(l);return o};s.API.events.push(["addFont",function(n){var a=void 0,o=n.font,l=n.instance;if(!o.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(a=l.existsFileInVFS(o.postScriptName)===!1?l.loadFile(o.postScriptName):l.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(d,f){f=/^\x00\x01\x00\x00/.test(f)?r(f):r(Cl(f)),d.metadata=s.API.TTFFont.open(f),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(o,a)}}])}(wt),function(s){function r(){return(St.canvg?Promise.resolve(St.canvg):$d(()=>import("./index.es-BGvNjoJd.js"),__vite__mapDeps([0,1,2,3]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}wt.API.addSvgAsImage=function(n,a,o,l,d,f,u,x){if(isNaN(a)||isNaN(o))throw Ps.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw Ps.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=l,w.height=d;var v=w.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,w.width,w.height);var j={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return r().then(function(k){return k.fromString(v,n,j)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(j)}).then(function(){p.addImage(w.toDataURL("image/jpeg",1),a,o,l,d,u,x)})}}(),wt.API.putTotalPages=function(s){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(s,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var o=0;o<this.internal.pages[a].length;o++)this.internal.pages[a][o]=this.internal.pages[a][o].replace(r,n);return this},wt.API.viewerPreferences=function(s,r){var n;s=s||{},r=r||!1;var a,o,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(d),u=[],x=0,w=0,v=0;function j(k,_){var I,S=!1;for(I=0;I<k.length;I+=1)k[I]===_&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,s==="reset"||r===!0){var p=f.length;for(v=0;v<p;v+=1)n[f[v]].value=n[f[v]].defaultValue,n[f[v]].explicitSet=!1}if(ys(s)==="object"){for(o in s)if(l=s[o],j(f,o)&&l!==void 0){if(n[o].type==="boolean"&&typeof l=="boolean")n[o].value=l;else if(n[o].type==="name"&&j(n[o].valueSet,l))n[o].value=l;else if(n[o].type==="integer"&&Number.isInteger(l))n[o].value=l;else if(n[o].type==="array"){for(x=0;x<l.length;x+=1)if(a=!0,l[x].length===1&&typeof l[x][0]=="number")u.push(String(l[x]-1));else if(l[x].length>1){for(w=0;w<l[x].length;w+=1)typeof l[x][w]!="number"&&(a=!1);a===!0&&u.push([l[x][0]-1,l[x][1]-1].join(" "))}n[o].value="["+u.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,_=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?_.push("/"+k+" /"+n[k].value):_.push("/"+k+" "+n[k].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(s){var r=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),x=l.length+d.length+f.length+o.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+x+" >>"),this.internal.write("stream"),this.internal.write(o+l+d+f+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(a,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(wt.API),function(s){var r=s.API,n=r.pdfEscape16=function(l,d){for(var f,u=d.metadata.Unicode.widths,x=["","0","00","000","0000"],w=[""],v=0,j=l.length;v<j;++v){if(f=d.metadata.characterToGlyph(l.charCodeAt(v)),d.metadata.glyIdsUsed.push(f),d.metadata.toUnicode[f]=l.charCodeAt(v),u.indexOf(f)==-1&&(u.push(f),u.push([parseInt(d.metadata.widthOfGlyph(f),10)])),f=="0")return w.join("");f=f.toString(16),w.push(x[4-f.length],f)}return w.join("")},a=function(l){var d,f,u,x,w,v,j;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],v=0,j=(f=Object.keys(l).sort(function(p,k){return p-k})).length;v<j;v++)d=f[v],u.length>=100&&(w+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(x=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),u.push("<"+d+"><"+x+">"));return u.length&&(w+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),w+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(l){(function(d){var f=d.font,u=d.out,x=d.newObject,w=d.putStream;if(f.metadata instanceof s.API.TTFFont&&f.encoding==="Identity-H"){for(var v=f.metadata.Unicode.widths,j=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),p="",k=0;k<j.length;k++)p+=String.fromCharCode(j[k]);var _=x();w({data:p,addLength1:!0,objectId:_}),u("endobj");var I=x();w({data:a(f.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var S=x();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Vo(f.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+s.API.PDFObject.convert(f.metadata.bbox)),u("/Flags "+f.metadata.flags),u("/StemV "+f.metadata.stemV),u("/ItalicAngle "+f.metadata.italicAngle),u("/Ascent "+f.metadata.ascender),u("/Descent "+f.metadata.decender),u("/CapHeight "+f.metadata.capHeight),u(">>"),u("endobj");var N=x();u("<<"),u("/Type /Font"),u("/BaseFont /"+Vo(f.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+s.API.PDFObject.convert(v)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+f.encoding+")"),u(">>"),u(">>"),u("endobj"),f.objectNumber=x(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+I+" 0 R"),u("/BaseFont /"+Vo(f.fontName)),u("/Encoding /"+f.encoding),u("/DescendantFonts ["+N+" 0 R]"),u(">>"),u("endobj"),f.isAlreadyPutted=!0}})(l)}]),r.events.push(["putFont",function(l){(function(d){var f=d.font,u=d.out,x=d.newObject,w=d.putStream;if(f.metadata instanceof s.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var v=f.metadata.rawData,j="",p=0;p<v.length;p++)j+=String.fromCharCode(v[p]);var k=x();w({data:j,addLength1:!0,objectId:k}),u("endobj");var _=x();w({data:a(f.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var I=x();u("<<"),u("/Descent "+f.metadata.decender),u("/CapHeight "+f.metadata.capHeight),u("/StemV "+f.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+k+" 0 R"),u("/Flags 96"),u("/FontBBox "+s.API.PDFObject.convert(f.metadata.bbox)),u("/FontName /"+Vo(f.fontName)),u("/ItalicAngle "+f.metadata.italicAngle),u("/Ascent "+f.metadata.ascender),u(">>"),u("endobj"),f.objectNumber=x();for(var S=0;S<f.metadata.hmtx.widths.length;S++)f.metadata.hmtx.widths[S]=parseInt(f.metadata.hmtx.widths[S]*(1e3/f.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Vo(f.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),u("endobj"),f.isAlreadyPutted=!0}})(l)}]);var o=function(l){var d,f=l.text||"",u=l.x,x=l.y,w=l.options||{},v=l.mutex||{},j=v.pdfEscape,p=v.activeFontKey,k=v.fonts,_=p,I="",S=0,N="",A=k[_].encoding;if(k[_].encoding!=="Identity-H")return{text:f,x:u,y:x,options:w,mutex:v};for(N=f,_=p,Array.isArray(f)&&(N=f[0]),S=0;S<N.length;S+=1)k[_].metadata.hasOwnProperty("cmap")&&(d=k[_].metadata.cmap.unicode.codeMap[N[S].charCodeAt(0)]),d||N[S].charCodeAt(0)<256&&k[_].metadata.hasOwnProperty("Unicode")?I+=N[S]:I+="";var D="";return parseInt(_.slice(1))<14||A==="WinAnsiEncoding"?D=j(I,_).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(D=n(I,k[_])),v.isHex=!0,{text:D,x:u,y:x,options:w,mutex:v}};r.events.push(["postProcessText",function(l){var d=l.text||"",f=[],u={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var x=0;for(x=0;x<d.length;x+=1)Array.isArray(d[x])&&d[x].length===3?f.push([o(Object.assign({},u,{text:d[x][0]})).text,d[x][1],d[x][2]]):f.push(o(Object.assign({},u,{text:d[x]})).text);l.text=f}else l.text=o(Object.assign({},u,{text:d})).text}])}(wt),function(s){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},s.addFileToVFS=function(n,a){return r.call(this),this.internal.vFS[n]=a,this},s.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(wt.API),function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(a){var o,l,d,f,u,x,w,v=r,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,A=0;this.__bidiEngine__={};var D=function(E){var T=E.charCodeAt(),z=T>>8,F=_[z];return F!==void 0?v[256*F+(255&T)]:z===252||z===253?"AL":S.test(z)?"L":z===8?"R":"N"},q=function(E){for(var T,z=0;z<E.length;z++){if((T=D(E.charAt(z)))==="L")return!1;if(T==="R")return!0}return!1},ee=function(E,T,z,F){var le,X,O,G,J=T[F];switch(J){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(J="AN");break;case"AL":N=!0,J="R";break;case"WS":J="N";break;case"CS":F<1||F+1>=T.length||(le=z[F-1])!=="EN"&&le!=="AN"||(X=T[F+1])!=="EN"&&X!=="AN"?J="N":N&&(X="AN"),J=X===le?X:"N";break;case"ES":J=(le=F>0?z[F-1]:"B")==="EN"&&F+1<T.length&&T[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&z[F-1]==="EN"){J="EN";break}if(N){J="N";break}for(O=F+1,G=T.length;O<G&&T[O]==="ET";)O++;J=O<G&&T[O]==="EN"?"EN":"N";break;case"NSM":if(d&&!f){for(G=T.length,O=F+1;O<G&&T[O]==="NSM";)O++;if(O<G){var ce=E[F],ve=ce>=1425&&ce<=2303||ce===64286;if(le=T[O],ve&&(le==="R"||le==="AL")){J="R";break}}}J=F<1||(le=T[F-1])==="B"?"N":z[F-1];break;case"B":N=!1,o=!0,J=A;break;case"S":l=!0,J="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":J="N"}return J},$=function(E,T,z){var F=E.split("");return z&&U(F,z,{hiLevel:A}),F.reverse(),T&&T.reverse(),F.join("")},U=function(E,T,z){var F,le,X,O,G,J=-1,ce=E.length,ve=0,R=[],K=A?p:j,Q=[];for(N=!1,o=!1,l=!1,le=0;le<ce;le++)Q[le]=D(E[le]);for(X=0;X<ce;X++){if(G=ve,R[X]=ee(E,Q,R,X),F=240&(ve=K[G][k[R[X]]]),ve&=15,T[X]=O=K[ve][5],F>0)if(F===16){for(le=J;le<X;le++)T[le]=1;J=-1}else J=-1;if(K[ve][6])J===-1&&(J=X);else if(J>-1){for(le=J;le<X;le++)T[le]=O;J=-1}Q[X]==="B"&&(T[X]=0),z.hiLevel|=O}l&&function(se,ae,he){for(var we=0;we<he;we++)if(se[we]==="S"){ae[we]=A;for(var fe=we-1;fe>=0&&se[fe]==="WS";fe--)ae[fe]=A}}(Q,T,ce)},Y=function(E,T,z,F,le){if(!(le.hiLevel<E)){if(E===1&&A===1&&!o)return T.reverse(),void(z&&z.reverse());for(var X,O,G,J,ce=T.length,ve=0;ve<ce;){if(F[ve]>=E){for(G=ve+1;G<ce&&F[G]>=E;)G++;for(J=ve,O=G-1;J<O;J++,O--)X=T[J],T[J]=T[O],T[O]=X,z&&(X=z[J],z[J]=z[O],z[O]=X);ve=G}ve++}}},ie=function(E,T,z){var F=E.split(""),le={hiLevel:A};return z||(z=[]),U(F,z,le),function(X,O,G){if(G.hiLevel!==0&&w)for(var J,ce=0;ce<X.length;ce++)O[ce]===1&&(J=I.indexOf(X[ce]))>=0&&(X[ce]=I[J+1])}(F,z,le),Y(2,F,T,z,le),Y(1,F,T,z,le),F.join("")};return this.__bidiEngine__.doBidiReorder=function(E,T,z){if(function(le,X){if(X)for(var O=0;O<le.length;O++)X[O]=O;f===void 0&&(f=q(le)),x===void 0&&(x=q(le))}(E,T),d||!u||x)if(d&&u&&f^x)A=f?1:0,E=$(E,T,z);else if(!d&&u&&x)A=f?1:0,E=ie(E,T,z),E=$(E,T);else if(!d||f||u||x){if(d&&!u&&f^x)E=$(E,T),f?(A=0,E=ie(E,T,z)):(A=1,E=ie(E,T,z),E=$(E,T));else if(d&&f&&!u&&x)A=1,E=ie(E,T,z),E=$(E,T);else if(!d&&!u&&f^x){var F=w;f?(A=1,E=ie(E,T,z),A=0,w=!1,E=ie(E,T,z),w=F):(A=0,E=ie(E,T,z),E=$(E,T),A=1,w=!1,E=ie(E,T,z),w=F,E=$(E,T))}}else A=0,E=ie(E,T,z);else A=f?1:0,E=ie(E,T,z);return E},this.__bidiEngine__.setOptions=function(E){E&&(d=E.isInputVisual,u=E.isOutputVisual,f=E.isInputRtl,x=E.isOutputRtl,w=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(a){var o=a.text,l=(a.x,a.y,a.options||{}),d=(a.mutex,l.lang,[]);if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(o)==="[object Array]"){var f=0;for(d=[],f=0;f<o.length;f+=1)Object.prototype.toString.call(o[f])==="[object Array]"?d.push([n.doBidiReorder(o[f][0]),o[f][1],o[f][2]]):d.push([n.doBidiReorder(o[f])]);a.text=d}else a.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function s(r){var n;if(this.rawData=r,n=this.contents=new Ii(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Cb(this),this.registerTTF()}return s.open=function(r){return new s(r)},s.prototype.parse=function(){return this.directory=new mb(this.contents),this.head=new gb(this),this.name=new wb(this),this.cmap=new Rg(this),this.toUnicode={},this.hhea=new xb(this),this.maxp=new Nb(this),this.hmtx=new _b(this),this.post=new yb(this),this.os2=new vb(this),this.loca=new Pb(this),this.glyf=new jb(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var r,n,a,o,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,f,u,x;for(x=[],d=0,f=(u=this.bbox).length;d<f;d++)r=u[d],x.push(Math.round(r*this.scaleFactor));return x}).call(this),this.stemV=0,this.post.exists?(a=255&(o=this.post.italic_angle),(32768&(n=o>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},s.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},s.prototype.widthOfString=function(r,n,a){var o,l,d,f;for(d=0,l=0,f=(r=""+r).length;0<=f?l<f:l>f;l=0<=f?++l:--l)o=r.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(o))+a*(1e3/n)||0;return d*(n/1e3)},s.prototype.lineHeight=function(r,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*r},s}();var da,Ii=function(){function s(r){this.data=r??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(r){return this.data[this.pos++]=r},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},s.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},s.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},s.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},s.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},s.prototype.readString=function(r){var n,a;for(a=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},s.prototype.writeString=function(r){var n,a,o;for(o=[],n=0,a=r.length;0<=a?n<a:n>a;n=0<=a?++n:--n)o.push(this.writeByte(r.charCodeAt(n)));return o},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(r){return this.writeInt16(r)},s.prototype.readLongLong=function(){var r,n,a,o,l,d,f,u;return r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),f=this.readByte(),u=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^o)+16777216*(255^l)+65536*(255^d)+256*(255^f)+(255^u)+1):72057594037927940*r+281474976710656*n+1099511627776*a+4294967296*o+16777216*l+65536*d+256*f+u},s.prototype.writeLongLong=function(r){var n,a;return n=Math.floor(r/4294967296),a=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(r){return this.writeInt32(r)},s.prototype.read=function(r){var n,a;for(n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push(this.readByte());return n},s.prototype.write=function(r){var n,a,o,l;for(l=[],a=0,o=r.length;a<o;a++)n=r[a],l.push(this.writeByte(n));return l},s}(),mb=function(){var s;function r(n){var a,o,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,l=this.tableCount;0<=l?o<l:o>l;o=0<=l?++o:--o)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return r.prototype.encode=function(n){var a,o,l,d,f,u,x,w,v,j,p,k,_;for(_ in p=Object.keys(n).length,u=Math.log(2),v=16*Math.floor(Math.log(p)/u),d=Math.floor(v/u),w=16*p-v,(o=new Ii).writeInt(this.scalarType),o.writeShort(p),o.writeShort(v),o.writeShort(d),o.writeShort(w),l=16*p,x=o.pos+l,f=null,k=[],n)for(j=n[_],o.writeString(_),o.writeInt(s(j)),o.writeInt(x),o.writeInt(j.length),k=k.concat(j),_==="head"&&(f=x),x+=j.length;x%4;)k.push(0),x++;return o.write(k),a=2981146554-s(o.data),o.pos=f+8,o.writeUInt32(a),o.data},s=function(n){var a,o,l,d;for(n=Og.call(n);n.length%4;)n.push(0);for(l=new Ii(n),o=0,a=0,d=n.length;a<d;a=a+=4)o+=l.readUInt32();return 4294967295&o},r}(),pb={}.hasOwnProperty,Ra=function(s,r){for(var n in r)pb.call(r,n)&&(s[n]=r[n]);function a(){this.constructor=s}return a.prototype=r.prototype,s.prototype=new a,s.__super__=r.prototype,s};da=function(){function s(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s}();var gb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var a;return(a=new Ii).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(n),a.writeShort(this.glyphDataFormat),a.data},r}(),gf=function(){function s(r,n){var a,o,l,d,f,u,x,w,v,j,p,k,_,I,S,N,A;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),v=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=r.readByte();break;case 4:for(p=r.readUInt16(),j=p/2,r.pos+=6,l=function(){var D,q;for(q=[],u=D=0;0<=j?D<j:D>j;u=0<=j?++D:--D)q.push(r.readUInt16());return q}(),r.pos+=2,_=function(){var D,q;for(q=[],u=D=0;0<=j?D<j:D>j;u=0<=j?++D:--D)q.push(r.readUInt16());return q}(),x=function(){var D,q;for(q=[],u=D=0;0<=j?D<j:D>j;u=0<=j?++D:--D)q.push(r.readUInt16());return q}(),w=function(){var D,q;for(q=[],u=D=0;0<=j?D<j:D>j;u=0<=j?++D:--D)q.push(r.readUInt16());return q}(),o=(this.length-r.pos+this.offset)/2,f=function(){var D,q;for(q=[],u=D=0;0<=o?D<o:D>o;u=0<=o?++D:--D)q.push(r.readUInt16());return q}(),u=S=0,A=l.length;S<A;u=++S)for(I=l[u],a=N=k=_[u];k<=I?N<=I:N>=I;a=k<=I?++N:--N)w[u]===0?d=a+x[u]:(d=f[w[u]/2+(a-k)-(j-u)]||0)!==0&&(d+=x[u]),this.codeMap[a]=65535&d}r.pos=v}return s.encode=function(r,n){var a,o,l,d,f,u,x,w,v,j,p,k,_,I,S,N,A,D,q,ee,$,U,Y,ie,E,T,z,F,le,X,O,G,J,ce,ve,R,K,Q,se,ae,he,we,fe,ge,pe,Ae;switch(F=new Ii,d=Object.keys(r).sort(function(Re,We){return Re-We}),n){case"macroman":for(_=0,I=function(){var Re=[];for(k=0;k<256;++k)Re.push(0);return Re}(),N={0:0},l={},le=0,J=d.length;le<J;le++)N[fe=r[o=d[le]]]==null&&(N[fe]=++_),l[o]={old:r[o],new:N[r[o]]},I[o]=N[r[o]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(I),{charMap:l,subtable:F.data,maxGlyphID:_+1};case"unicode":for(T=[],v=[],A=0,N={},a={},S=x=null,X=0,ce=d.length;X<ce;X++)N[q=r[o=d[X]]]==null&&(N[q]=++A),a[o]={old:q,new:N[q]},f=N[q]-o,S!=null&&f===x||(S&&v.push(S),T.push(o),x=f),S=o;for(S&&v.push(S),v.push(65535),T.push(65535),ie=2*(Y=T.length),U=2*Math.pow(Math.log(Y)/Math.LN2,2),j=Math.log(U/2)/Math.LN2,$=2*Y-U,u=[],ee=[],p=[],k=O=0,ve=T.length;O<ve;k=++O){if(E=T[k],w=v[k],E===65535){u.push(0),ee.push(0);break}if(E-(z=a[E].new)>=32768)for(u.push(0),ee.push(2*(p.length+Y-k)),o=G=E;E<=w?G<=w:G>=w;o=E<=w?++G:--G)p.push(a[o].new);else u.push(z-E),ee.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*Y+2*p.length),F.writeUInt16(0),F.writeUInt16(ie),F.writeUInt16(U),F.writeUInt16(j),F.writeUInt16($),he=0,R=v.length;he<R;he++)o=v[he],F.writeUInt16(o);for(F.writeUInt16(0),we=0,K=T.length;we<K;we++)o=T[we],F.writeUInt16(o);for(ge=0,Q=u.length;ge<Q;ge++)f=u[ge],F.writeUInt16(f);for(pe=0,se=ee.length;pe<se;pe++)D=ee[pe],F.writeUInt16(D);for(Ae=0,ae=p.length;Ae<ae;Ae++)_=p[Ae],F.writeUInt16(_);return{charMap:a,subtable:F.data,maxGlyphID:A+1}}},s}(),Rg=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="cmap",r.prototype.parse=function(n){var a,o,l;for(n.pos=this.offset,this.version=n.readUInt16(),l=n.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)a=new gf(n,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},r.encode=function(n,a){var o,l;return a==null&&(a="macroman"),o=gf.encode(n,a),(l=new Ii).writeUInt16(0),l.writeUInt16(1),o.table=l.data.concat(o.subtable),o},r}(),xb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),vb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var a,o;for(o=[],a=0;a<10;++a)o.push(n.readByte());return o}(),this.charRange=function(){var a,o;for(o=[],a=0;a<4;++a)o.push(n.readInt());return o}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var a,o;for(o=[],a=0;a<2;a=++a)o.push(n.readInt());return o}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),yb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="post",r.prototype.parse=function(n){var a,o,l;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var d;for(o=n.readUInt16(),this.glyphNameIndex=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],l=[];n.pos<this.offset+this.length;)a=n.readByte(),l.push(this.names.push(n.readString(a)));return l;case 151552:return o=n.readUInt16(),this.offsets=n.read(o);case 196608:break;case 262144:return this.map=(function(){var f,u,x;for(x=[],d=f=0,u=this.file.maxp.numGlyphs;0<=u?f<u:f>u;d=0<=u?++f:--f)x.push(n.readUInt32());return x}).call(this)}},r}(),bb=function(s,r){this.raw=s,this.length=s.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},wb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="name",r.prototype.parse=function(n){var a,o,l,d,f,u,x,w,v,j,p;for(n.pos=this.offset,n.readShort(),a=n.readShort(),u=n.readShort(),o=[],d=0;0<=a?d<a:d>a;d=0<=a?++d:--d)o.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(x={},d=v=0,j=o.length;v<j;d=++v)l=o[d],n.pos=l.offset,w=n.readString(l.length),f=new bb(w,l),x[p=l.nameID]==null&&(x[p]=[]),x[l.nameID].push(f);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},r}(),Nb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),_b=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="hmtx",r.prototype.parse=function(n){var a,o,l,d,f,u,x;for(n.pos=this.offset,this.metrics=[],a=0,u=this.file.hhea.numberOfMetrics;0<=u?a<u:a>u;a=0<=u?++a:--a)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,v;for(v=[],a=w=0;0<=l?w<l:w>l;a=0<=l?++w:--w)v.push(n.readInt16());return v}(),this.widths=(function(){var w,v,j,p;for(p=[],w=0,v=(j=this.metrics).length;w<v;w++)d=j[w],p.push(d.advance);return p}).call(this),o=this.widths[this.widths.length-1],x=[],a=f=0;0<=l?f<l:f>l;a=0<=l?++f:--f)x.push(this.widths.push(o));return x},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),Og=[].slice,jb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var a,o,l,d,f,u,x,w,v,j;return n in this.cache?this.cache[n]:(d=this.file.loca,a=this.file.contents,o=d.indexOf(n),(l=d.lengthOf(n))===0?this.cache[n]=null:(a.pos=this.offset+o,f=(u=new Ii(a.read(l))).readShort(),w=u.readShort(),j=u.readShort(),x=u.readShort(),v=u.readShort(),this.cache[n]=f===-1?new kb(u,w,j,x,v):new Sb(u,f,w,j,x,v),this.cache[n]))},r.prototype.encode=function(n,a,o){var l,d,f,u,x;for(f=[],d=[],u=0,x=a.length;u<x;u++)l=n[a[u]],d.push(f.length),l&&(f=f.concat(l.encode(o)));return d.push(f.length),{table:f,offsets:d}},r}(),Sb=function(){function s(r,n,a,o,l,d){this.raw=r,this.numberOfContours=n,this.xMin=a,this.yMin=o,this.xMax=l,this.yMax=d,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s}(),kb=function(){function s(r,n,a,o,l){var d,f;for(this.raw=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;f=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&f;)d.pos+=1&f?4:2,128&f?d.pos+=8:64&f?d.pos+=4:8&f&&(d.pos+=2)}return s.prototype.encode=function(){var r,n,a;for(n=new Ii(Og.call(this.raw.data)),r=0,a=this.glyphIDs.length;r<a;++r)n.pos=this.glyphOffsets[r];return n.data},s}(),Pb=function(s){function r(){return r.__super__.constructor.apply(this,arguments)}return Ra(r,da),r.prototype.tag="loca",r.prototype.parse=function(n){var a,o;return n.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var l,d;for(d=[],o=0,l=this.length;o<l;o+=2)d.push(2*n.readUInt16());return d}).call(this):(function(){var l,d;for(d=[],o=0,l=this.length;o<l;o+=4)d.push(n.readUInt32());return d}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,a){for(var o=new Uint32Array(this.offsets.length),l=0,d=0,f=0;f<o.length;++f)if(o[f]=l,d<a.length&&a[d]==f){++d,o[f]=l;var u=this.offsets[f],x=this.offsets[f+1]-u;x>0&&(l+=x)}for(var w=new Array(4*o.length),v=0;v<o.length;++v)w[4*v+3]=255&o[v],w[4*v+2]=(65280&o[v])>>8,w[4*v+1]=(16711680&o[v])>>16,w[4*v]=(4278190080&o[v])>>24;return w},r}(),Cb=function(){function s(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var r,n,a,o,l;for(n in o=this.font.cmap.tables[0].codeMap,r={},l=this.subset)a=l[n],r[n]=o[a];return r},s.prototype.glyphsFor=function(r){var n,a,o,l,d,f,u;for(o={},d=0,f=r.length;d<f;d++)o[l=r[d]]=this.font.glyf.glyphFor(l);for(l in n=[],o)(a=o[l])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(l in u=this.glyphsFor(n))a=u[l],o[l]=a;return o},s.prototype.encode=function(r,n){var a,o,l,d,f,u,x,w,v,j,p,k,_,I,S;for(o in a=Rg.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(r),p={0:0},S=a.charMap)p[(u=S[o]).old]=u.new;for(k in j=a.maxGlyphID,d)k in p||(p[k]=j++);return w=function(N){var A,D;for(A in D={},N)D[N[A]]=A;return D}(p),v=Object.keys(w).sort(function(N,A){return N-A}),_=function(){var N,A,D;for(D=[],N=0,A=v.length;N<A;N++)f=v[N],D.push(w[f]);return D}(),l=this.font.glyf.encode(d,_,p),x=this.font.loca.encode(l.offsets,_),I={cmap:this.font.cmap.raw(),glyf:l.table,loca:x,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},s}();wt.API.PDFObject=function(){var s;function r(){}return s=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},r.convert=function(n){var a,o,l,d;if(Array.isArray(n))return"["+function(){var f,u,x;for(x=[],f=0,u=n.length;f<u;f++)a=n[f],x.push(r.convert(a));return x}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+s(n.getUTCFullYear(),4)+s(n.getUTCMonth(),2)+s(n.getUTCDate(),2)+s(n.getUTCHours(),2)+s(n.getUTCMinutes(),2)+s(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in l=["<<"],n)d=n[o],l.push("/"+o+" "+r.convert(d));return l.push(">>"),l.join(`
`)}return""+n},r}();const Lb=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:ib,AcroFormAppearance:nt,AcroFormButton:lr,AcroFormCheckBox:Tl,AcroFormChoiceField:lo,AcroFormComboBox:uo,AcroFormEditBox:Ll,AcroFormListBox:co,AcroFormPasswordField:El,AcroFormPushButton:Al,AcroFormRadioButton:ho,AcroFormTextField:Pi,GState:zl,ShadingPattern:_i,TilingPattern:io,default:wt,jsPDF:wt},Symbol.toStringTag,{value:"Module"}));var Nc={exports:{}};const Ab=Tx(Lb);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var xf=Nc.exports,vf;function Tb(){return vf||(vf=1,function(s,r){(function(a,o){s.exports=o(function(){try{return Ab}catch{}}())})(typeof globalThis<"u"?globalThis:typeof xf<"u"?xf:typeof window<"u"?window:typeof self<"u"?self:Ex,function(n){return function(){var a={172:function(f,u){var x=this&&this.__extends||function(){var j=function(p,k){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,I){_.__proto__=I}||function(_,I){for(var S in I)Object.prototype.hasOwnProperty.call(I,S)&&(_[S]=I[S])},j(p,k)};return function(p,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");j(p,k);function _(){this.constructor=p}p.prototype=k===null?Object.create(k):(_.prototype=k.prototype,new _)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.CellHookData=u.HookData=void 0;var w=function(){function j(p,k,_){this.table=k,this.pageNumber=k.pageNumber,this.pageCount=this.pageNumber,this.settings=k.settings,this.cursor=_,this.doc=p.getDocument()}return j}();u.HookData=w;var v=function(j){x(p,j);function p(k,_,I,S,N,A){var D=j.call(this,k,_,A)||this;return D.cell=I,D.row=S,D.column=N,D.section=S.section,D}return p}(w);u.CellHookData=v},340:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0});var w=x(4),v=x(136),j=x(744),p=x(776),k=x(664),_=x(972);function I(S){S.API.autoTable=function(){for(var N=[],A=0;A<arguments.length;A++)N[A]=arguments[A];var D;N.length===1?D=N[0]:(console.error("Use of deprecated autoTable initiation"),D=N[2]||{},D.columns=N[0],D.body=N[1]);var q=(0,p.parseInput)(this,D),ee=(0,_.createTable)(this,q);return(0,k.drawTable)(this,ee),this},S.API.lastAutoTable=!1,S.API.previousAutoTable=!1,S.API.autoTable.previous=!1,S.API.autoTableText=function(N,A,D,q){(0,v.default)(N,A,D,q,this)},S.API.autoTableSetDefaults=function(N){return j.DocHandler.setDefaults(N,this),this},S.autoTableSetDefaults=function(N,A){j.DocHandler.setDefaults(N,A)},S.API.autoTableHtmlToJson=function(N,A){var D;if(A===void 0&&(A=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var q=new j.DocHandler(this),ee=(0,w.parseHtml)(q,N,window,A,!1),$=ee.head,U=ee.body,Y=((D=$[0])===null||D===void 0?void 0:D.map(function(ie){return ie.content}))||[];return{columns:Y,rows:U,data:U}},S.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var N=this.lastAutoTable;return N&&N.finalY?N.finalY:0},S.API.autoTableAddPageContent=function(N){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),S.API.autoTable.globalDefaults||(S.API.autoTable.globalDefaults={}),S.API.autoTable.globalDefaults.addPageContent=N,this},S.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}u.default=I},136:function(f,u){Object.defineProperty(u,"__esModule",{value:!0});function x(w,v,j,p,k){p=p||{};var _=1.15,I=k.internal.scaleFactor,S=k.internal.getFontSize()/I,N=k.getLineHeightFactor?k.getLineHeightFactor():_,A=S*N,D=/\r\n|\r|\n/g,q="",ee=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(q=typeof w=="string"?w.split(D):w,ee=q.length||1),j+=S*(2-_),p.valign==="middle"?j-=ee/2*A:p.valign==="bottom"&&(j-=ee*A),p.halign==="center"||p.halign==="right"){var $=S;if(p.halign==="center"&&($*=.5),q&&ee>=1){for(var U=0;U<q.length;U++)k.text(q[U],v-k.getStringUnitWidth(q[U])*$,j),j+=A;return k}v-=k.getStringUnitWidth(w)*$}return p.halign==="justify"?k.text(w,v,j,{maxWidth:p.maxWidth||100,align:"justify"}):k.text(w,v,j),k}u.default=x},420:function(f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getPageAvailableWidth=u.parseSpacing=u.getFillStyle=u.addTableBorder=u.getStringWidth=void 0;function x(k,_,I){I.applyStyles(_,!0);var S=Array.isArray(k)?k:[k],N=S.map(function(A){return I.getTextWidth(A)}).reduce(function(A,D){return Math.max(A,D)},0);return N}u.getStringWidth=x;function w(k,_,I,S){var N=_.settings.tableLineWidth,A=_.settings.tableLineColor;k.applyStyles({lineWidth:N,lineColor:A});var D=v(N,!1);D&&k.rect(I.x,I.y,_.getWidth(k.pageSize().width),S.y-I.y,D)}u.addTableBorder=w;function v(k,_){var I=k>0,S=_||_===0;return I&&S?"DF":I?"S":S?"F":null}u.getFillStyle=v;function j(k,_){var I,S,N,A;if(k=k||_,Array.isArray(k)){if(k.length>=4)return{top:k[0],right:k[1],bottom:k[2],left:k[3]};if(k.length===3)return{top:k[0],right:k[1],bottom:k[2],left:k[1]};if(k.length===2)return{top:k[0],right:k[1],bottom:k[0],left:k[1]};k.length===1?k=k[0]:k=_}return typeof k=="object"?(typeof k.vertical=="number"&&(k.top=k.vertical,k.bottom=k.vertical),typeof k.horizontal=="number"&&(k.right=k.horizontal,k.left=k.horizontal),{left:(I=k.left)!==null&&I!==void 0?I:_,top:(S=k.top)!==null&&S!==void 0?S:_,right:(N=k.right)!==null&&N!==void 0?N:_,bottom:(A=k.bottom)!==null&&A!==void 0?A:_}):(typeof k!="number"&&(k=_),{top:k,right:k,bottom:k,left:k})}u.parseSpacing=j;function p(k,_){var I=j(_.settings.margin,0);return k.pageSize().width-(I.left+I.right)}u.getPageAvailableWidth=p},796:function(f,u){var x=this&&this.__extends||function(){var p=function(k,_){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,S){I.__proto__=S}||function(I,S){for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(I[N]=S[N])},p(k,_)};return function(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");p(k,_);function I(){this.constructor=k}k.prototype=_===null?Object.create(_):(I.prototype=_.prototype,new I)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.getTheme=u.defaultStyles=u.HtmlRowInput=void 0;var w=function(p){x(k,p);function k(_){var I=p.call(this)||this;return I._element=_,I}return k}(Array);u.HtmlRowInput=w;function v(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}u.defaultStyles=v;function j(p){var k={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return k[p]}u.getTheme=j},903:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.parseCss=void 0;var w=x(420);function v(I,S,N,A,D){var q={},ee=1.3333333333333333,$=p(S,function(J){return D.getComputedStyle(J).backgroundColor});$!=null&&(q.fillColor=$);var U=p(S,function(J){return D.getComputedStyle(J).color});U!=null&&(q.textColor=U);var Y=_(A,N);Y&&(q.cellPadding=Y);var ie="borderTopColor",E=ee*N,T=A.borderTopWidth;if(A.borderBottomWidth===T&&A.borderRightWidth===T&&A.borderLeftWidth===T){var z=(parseFloat(T)||0)/E;z&&(q.lineWidth=z)}else q.lineWidth={top:(parseFloat(A.borderTopWidth)||0)/E,right:(parseFloat(A.borderRightWidth)||0)/E,bottom:(parseFloat(A.borderBottomWidth)||0)/E,left:(parseFloat(A.borderLeftWidth)||0)/E},q.lineWidth.top||(q.lineWidth.right?ie="borderRightColor":q.lineWidth.bottom?ie="borderBottomColor":q.lineWidth.left&&(ie="borderLeftColor"));var F=p(S,function(J){return D.getComputedStyle(J)[ie]});F!=null&&(q.lineColor=F);var le=["left","right","center","justify"];le.indexOf(A.textAlign)!==-1&&(q.halign=A.textAlign),le=["middle","bottom","top"],le.indexOf(A.verticalAlign)!==-1&&(q.valign=A.verticalAlign);var X=parseInt(A.fontSize||"");isNaN(X)||(q.fontSize=X/ee);var O=j(A);O&&(q.fontStyle=O);var G=(A.fontFamily||"").toLowerCase();return I.indexOf(G)!==-1&&(q.font=G),q}u.parseCss=v;function j(I){var S="";return(I.fontWeight==="bold"||I.fontWeight==="bolder"||parseInt(I.fontWeight)>=700)&&(S="bold"),(I.fontStyle==="italic"||I.fontStyle==="oblique")&&(S+="italic"),S}function p(I,S){var N=k(I,S);if(!N)return null;var A=N.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!A||!Array.isArray(A))return null;var D=[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])],q=parseInt(A[4]);return q===0||isNaN(D[0])||isNaN(D[1])||isNaN(D[2])?null:D}function k(I,S){var N=S(I);return N==="rgba(0, 0, 0, 0)"||N==="transparent"||N==="initial"||N==="inherit"?I.parentElement==null?null:k(I.parentElement,S):N}function _(I,S){var N=[I.paddingTop,I.paddingRight,I.paddingBottom,I.paddingLeft],A=96/(72/S),D=(parseInt(I.lineHeight)-parseInt(I.fontSize))/S/2,q=N.map(function($){return parseInt($||"0")/A}),ee=(0,w.parseSpacing)(q,0);return D>ee.top&&(ee.top=D),D>ee.bottom&&(ee.bottom=D),ee}},744:function(f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.DocHandler=void 0;var x={},w=function(){function v(j){this.jsPDFDocument=j,this.userStyles={textColor:j.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:j.internal.getFontSize(),fontStyle:j.internal.getFont().fontStyle,font:j.internal.getFont().fontName,lineWidth:j.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:j.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return v.setDefaults=function(j,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=j:x=j},v.unifyColor=function(j){return Array.isArray(j)?j:typeof j=="number"?[j,j,j]:typeof j=="string"?[j]:null},v.prototype.applyStyles=function(j,p){var k,_,I;p===void 0&&(p=!1),j.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(j.fontStyle);var S=this.jsPDFDocument.internal.getFont(),N=S.fontStyle,A=S.fontName;if(j.font&&(A=j.font),j.fontStyle){N=j.fontStyle;var D=this.getFontList()[A];D&&D.indexOf(N)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(D[0]),N=D[0])}if(this.jsPDFDocument.setFont(A,N),j.fontSize&&this.jsPDFDocument.setFontSize(j.fontSize),!p){var q=v.unifyColor(j.fillColor);q&&(k=this.jsPDFDocument).setFillColor.apply(k,q),q=v.unifyColor(j.textColor),q&&(_=this.jsPDFDocument).setTextColor.apply(_,q),q=v.unifyColor(j.lineColor),q&&(I=this.jsPDFDocument).setDrawColor.apply(I,q),typeof j.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(j.lineWidth)}},v.prototype.splitTextToSize=function(j,p,k){return this.jsPDFDocument.splitTextToSize(j,p,k)},v.prototype.rect=function(j,p,k,_,I){return this.jsPDFDocument.rect(j,p,k,_,I)},v.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},v.prototype.getTextWidth=function(j){return this.jsPDFDocument.getTextWidth(j)},v.prototype.getDocument=function(){return this.jsPDFDocument},v.prototype.setPage=function(j){this.jsPDFDocument.setPage(j)},v.prototype.addPage=function(){return this.jsPDFDocument.addPage()},v.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},v.prototype.getGlobalOptions=function(){return x||{}},v.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},v.prototype.pageSize=function(){var j=this.jsPDFDocument.internal.pageSize;return j.width==null&&(j={width:j.getWidth(),height:j.getHeight()}),j},v.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},v.prototype.getLineHeightFactor=function(){var j=this.jsPDFDocument;return j.getLineHeightFactor?j.getLineHeightFactor():1.15},v.prototype.getLineHeight=function(j){return j/this.scaleFactor()*this.getLineHeightFactor()},v.prototype.pageNumber=function(){var j=this.jsPDFDocument.internal.getCurrentPageInfo();return j?j.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},v}();u.DocHandler=w},4:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.parseHtml=void 0;var w=x(903),v=x(796);function j(_,I,S,N,A){var D,q;N===void 0&&(N=!1),A===void 0&&(A=!1);var ee;typeof I=="string"?ee=S.document.querySelector(I):ee=I;var $=Object.keys(_.getFontList()),U=_.scaleFactor(),Y=[],ie=[],E=[];if(!ee)return console.error("Html table could not be found with input: ",I),{head:Y,body:ie,foot:E};for(var T=0;T<ee.rows.length;T++){var z=ee.rows[T],F=(q=(D=z?.parentElement)===null||D===void 0?void 0:D.tagName)===null||q===void 0?void 0:q.toLowerCase(),le=p($,U,S,z,N,A);le&&(F==="thead"?Y.push(le):F==="tfoot"?E.push(le):ie.push(le))}return{head:Y,body:ie,foot:E}}u.parseHtml=j;function p(_,I,S,N,A,D){for(var q=new v.HtmlRowInput(N),ee=0;ee<N.cells.length;ee++){var $=N.cells[ee],U=S.getComputedStyle($);if(A||U.display!=="none"){var Y=void 0;D&&(Y=(0,w.parseCss)(_,$,I,U,S)),q.push({rowSpan:$.rowSpan,colSpan:$.colSpan,styles:Y,_element:$,content:k($)})}}var ie=S.getComputedStyle(N);if(q.length>0&&(A||ie.display!=="none"))return q}function k(_){var I=_.cloneNode(!0);return I.innerHTML=I.innerHTML.replace(/\n/g,"").replace(/ +/g," "),I.innerHTML=I.innerHTML.split(/<br.*?>/).map(function(S){return S.trim()}).join(`
`),I.innerText||I.textContent||""}},776:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.parseInput=void 0;var w=x(4),v=x(356),j=x(420),p=x(744),k=x(792);function _(ee,$){var U=new p.DocHandler(ee),Y=U.getDocumentOptions(),ie=U.getGlobalOptions();(0,k.default)(U,ie,Y,$);var E=(0,v.assign)({},ie,Y,$),T;typeof window<"u"&&(T=window);var z=I(ie,Y,$),F=S(ie,Y,$),le=N(U,E),X=D(U,E,T);return{id:$.tableId,content:X,hooks:F,styles:z,settings:le}}u.parseInput=_;function I(ee,$,U){for(var Y={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ie=function(F){if(F==="columnStyles"){var le=ee[F],X=$[F],O=U[F];Y.columnStyles=(0,v.assign)({},le,X,O)}else{var G=[ee,$,U],J=G.map(function(ce){return ce[F]||{}});Y[F]=(0,v.assign)({},J[0],J[1],J[2])}},E=0,T=Object.keys(Y);E<T.length;E++){var z=T[E];ie(z)}return Y}function S(ee,$,U){for(var Y=[ee,$,U],ie={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},E=0,T=Y;E<T.length;E++){var z=T[E];z.didParseCell&&ie.didParseCell.push(z.didParseCell),z.willDrawCell&&ie.willDrawCell.push(z.willDrawCell),z.didDrawCell&&ie.didDrawCell.push(z.didDrawCell),z.willDrawPage&&ie.willDrawPage.push(z.willDrawPage),z.didDrawPage&&ie.didDrawPage.push(z.didDrawPage)}return ie}function N(ee,$){var U,Y,ie,E,T,z,F,le,X,O,G,J,ce=(0,j.parseSpacing)($.margin,40/ee.scaleFactor()),ve=(U=A(ee,$.startY))!==null&&U!==void 0?U:ce.top,R;$.showFoot===!0?R="everyPage":$.showFoot===!1?R="never":R=(Y=$.showFoot)!==null&&Y!==void 0?Y:"everyPage";var K;$.showHead===!0?K="everyPage":$.showHead===!1?K="never":K=(ie=$.showHead)!==null&&ie!==void 0?ie:"everyPage";var Q=(E=$.useCss)!==null&&E!==void 0?E:!1,se=$.theme||(Q?"plain":"striped"),ae=!!$.horizontalPageBreak,he=(T=$.horizontalPageBreakRepeat)!==null&&T!==void 0?T:null;return{includeHiddenHtml:(z=$.includeHiddenHtml)!==null&&z!==void 0?z:!1,useCss:Q,theme:se,startY:ve,margin:ce,pageBreak:(F=$.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(le=$.rowPageBreak)!==null&&le!==void 0?le:"auto",tableWidth:(X=$.tableWidth)!==null&&X!==void 0?X:"auto",showHead:K,showFoot:R,tableLineWidth:(O=$.tableLineWidth)!==null&&O!==void 0?O:0,tableLineColor:(G=$.tableLineColor)!==null&&G!==void 0?G:200,horizontalPageBreak:ae,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(J=$.horizontalPageBreakBehaviour)!==null&&J!==void 0?J:"afterAllRows"}}function A(ee,$){var U=ee.getLastAutoTable(),Y=ee.scaleFactor(),ie=ee.pageNumber(),E=!1;if(U&&U.startPageNumber){var T=U.startPageNumber+U.pageNumber-1;E=T===ie}return typeof $=="number"?$:($==null||$===!1)&&E&&U?.finalY!=null?U.finalY+20/Y:null}function D(ee,$,U){var Y=$.head||[],ie=$.body||[],E=$.foot||[];if($.html){var T=$.includeHiddenHtml;if(U){var z=(0,w.parseHtml)(ee,$.html,U,T,$.useCss)||{};Y=z.head||Y,ie=z.body||Y,E=z.foot||Y}else console.error("Cannot parse html in non browser environment")}var F=$.columns||q(Y,ie,E);return{columns:F,head:Y,body:ie,foot:E}}function q(ee,$,U){var Y=ee[0]||$[0]||U[0]||[],ie=[];return Object.keys(Y).filter(function(E){return E!=="_element"}).forEach(function(E){var T=1,z;Array.isArray(Y)?z=Y[parseInt(E)]:z=Y[E],typeof z=="object"&&!Array.isArray(z)&&(T=z?.colSpan||1);for(var F=0;F<T;F++){var le=void 0;Array.isArray(Y)?le=ie.length:le=E+(F>0?"_".concat(F):"");var X={dataKey:le};ie.push(X)}}),ie}},792:function(f,u){Object.defineProperty(u,"__esModule",{value:!0});function x(v,j,p,k){for(var _=function(A){A&&typeof A!="object"&&console.error("The options parameter should be of type object, is: "+typeof A),typeof A.extendWidth<"u"&&(A.tableWidth=A.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof A.margins<"u"&&(typeof A.margin>"u"&&(A.margin=A.margins),console.error("Use of deprecated option: margins, use margin instead.")),A.startY&&typeof A.startY!="number"&&(console.error("Invalid value for startY option",A.startY),delete A.startY),!A.didDrawPage&&(A.afterPageContent||A.beforePageContent||A.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),A.didDrawPage=function(E){v.applyStyles(v.userStyles),A.beforePageContent&&A.beforePageContent(E),v.applyStyles(v.userStyles),A.afterPageContent&&A.afterPageContent(E),v.applyStyles(v.userStyles),A.afterPageAdd&&E.pageNumber>1&&E.afterPageAdd(E),v.applyStyles(v.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(E){A[E]&&console.error('The "'.concat(E,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(E){var T=E[0],z=E[1];A[z]&&(console.error("Use of deprecated option ".concat(z,". Use ").concat(T," instead")),A[T]=A[z])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(E){var T=typeof E=="string"?E:E[0],z=typeof E=="string"?E:E[1];typeof A[T]<"u"&&(typeof A.styles[z]>"u"&&(A.styles[z]=A[T]),console.error("Use of deprecated option: "+T+", use the style "+z+" instead."))});for(var D=0,q=["styles","bodyStyles","headStyles","footStyles"];D<q.length;D++){var ee=q[D];w(A[ee]||{})}for(var $=A.columnStyles||{},U=0,Y=Object.keys($);U<Y.length;U++){var ie=Y[U];w($[ie]||{})}},I=0,S=[j,p,k];I<S.length;I++){var N=S[I];_(N)}}u.default=x;function w(v){v.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),v.minCellHeight||(v.minCellHeight=v.rowHeight)):v.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),v.cellWidth||(v.cellWidth=v.columnWidth))}},260:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.Column=u.Cell=u.Row=u.Table=void 0;var w=x(796),v=x(172),j=x(420),p=function(){function S(N,A){this.pageNumber=1,this.pageCount=1,this.id=N.id,this.settings=N.settings,this.styles=N.styles,this.hooks=N.hooks,this.columns=A.columns,this.head=A.head,this.body=A.body,this.foot=A.foot}return S.prototype.getHeadHeight=function(N){return this.head.reduce(function(A,D){return A+D.getMaxCellHeight(N)},0)},S.prototype.getFootHeight=function(N){return this.foot.reduce(function(A,D){return A+D.getMaxCellHeight(N)},0)},S.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},S.prototype.callCellHooks=function(N,A,D,q,ee,$){for(var U=0,Y=A;U<Y.length;U++){var ie=Y[U],E=new v.CellHookData(N,this,D,q,ee,$),T=ie(E)===!1;if(D.text=Array.isArray(D.text)?D.text:[D.text],T)return!1}return!0},S.prototype.callEndPageHooks=function(N,A){N.applyStyles(N.userStyles);for(var D=0,q=this.hooks.didDrawPage;D<q.length;D++){var ee=q[D];ee(new v.HookData(N,this,A))}},S.prototype.callWillDrawPageHooks=function(N,A){for(var D=0,q=this.hooks.willDrawPage;D<q.length;D++){var ee=q[D];ee(new v.HookData(N,this,A))}},S.prototype.getWidth=function(N){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var A=this.columns.reduce(function(q,ee){return q+ee.wrappedWidth},0);return A}else{var D=this.settings.margin;return N-D.left-D.right}},S}();u.Table=p;var k=function(){function S(N,A,D,q,ee){ee===void 0&&(ee=!1),this.height=0,this.raw=N,N instanceof w.HtmlRowInput&&(this.raw=N._element,this.element=N._element),this.index=A,this.section=D,this.cells=q,this.spansMultiplePages=ee}return S.prototype.getMaxCellHeight=function(N){var A=this;return N.reduce(function(D,q){var ee;return Math.max(D,((ee=A.cells[q.index])===null||ee===void 0?void 0:ee.height)||0)},0)},S.prototype.hasRowSpan=function(N){var A=this;return N.filter(function(D){var q=A.cells[D.index];return q?q.rowSpan>1:!1}).length>0},S.prototype.canEntireRowFit=function(N,A){return this.getMaxCellHeight(A)<=N},S.prototype.getMinimumRowHeight=function(N,A){var D=this;return N.reduce(function(q,ee){var $=D.cells[ee.index];if(!$)return 0;var U=A.getLineHeight($.styles.fontSize),Y=$.padding("vertical"),ie=Y+U;return ie>q?ie:q},0)},S}();u.Row=k;var _=function(){function S(N,A,D){var q,ee;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=A,this.section=D,this.raw=N;var $=N;N!=null&&typeof N=="object"&&!Array.isArray(N)?(this.rowSpan=N.rowSpan||1,this.colSpan=N.colSpan||1,$=(ee=(q=N.content)!==null&&q!==void 0?q:N.title)!==null&&ee!==void 0?ee:N,N._element&&(this.raw=N._element)):(this.rowSpan=1,this.colSpan=1);var U=$!=null?""+$:"",Y=/\r\n|\r|\n/g;this.text=U.split(Y)}return S.prototype.getTextPos=function(){var N;if(this.styles.valign==="top")N=this.y+this.padding("top");else if(this.styles.valign==="bottom")N=this.y+this.height-this.padding("bottom");else{var A=this.height-this.padding("vertical");N=this.y+A/2+this.padding("top")}var D;if(this.styles.halign==="right")D=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var q=this.width-this.padding("horizontal");D=this.x+q/2+this.padding("left")}else D=this.x+this.padding("left");return{x:D,y:N}},S.prototype.getContentHeight=function(N,A){A===void 0&&(A=1.15);var D=Array.isArray(this.text)?this.text.length:1,q=this.styles.fontSize/N*A,ee=D*q+this.padding("vertical");return Math.max(ee,this.styles.minCellHeight)},S.prototype.padding=function(N){var A=(0,j.parseSpacing)(this.styles.cellPadding,0);return N==="vertical"?A.top+A.bottom:N==="horizontal"?A.left+A.right:A[N]},S}();u.Cell=_;var I=function(){function S(N,A,D){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=N,this.raw=A,this.index=D}return S.prototype.getMaxCustomCellWidth=function(N){for(var A=0,D=0,q=N.allRows();D<q.length;D++){var ee=q[D],$=ee.cells[this.index];$&&typeof $.styles.cellWidth=="number"&&(A=Math.max(A,$.styles.cellWidth))}return A},S}();u.Column=I},356:function(f,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function x(w,v,j,p,k){if(w==null)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(w),I=1;I<arguments.length;I++){var S=arguments[I];if(S!=null)for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&(_[N]=S[N])}return _}u.assign=x},972:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.createTable=void 0;var w=x(744),v=x(260),j=x(324),p=x(796),k=x(356);function _(ee,$){var U=new w.DocHandler(ee),Y=I($,U.scaleFactor()),ie=new v.Table($,Y);return(0,j.calculateWidths)(U,ie),U.applyStyles(U.userStyles),ie}u.createTable=_;function I(ee,$){var U=ee.content,Y=D(U.columns);if(U.head.length===0){var ie=N(Y,"head");ie&&U.head.push(ie)}if(U.foot.length===0){var ie=N(Y,"foot");ie&&U.foot.push(ie)}var E=ee.settings.theme,T=ee.styles;return{columns:Y,head:S("head",U.head,Y,T,E,$),body:S("body",U.body,Y,T,E,$),foot:S("foot",U.foot,Y,T,E,$)}}function S(ee,$,U,Y,ie,E){var T={},z=$.map(function(F,le){for(var X=0,O={},G=0,J=0,ce=0,ve=U;ce<ve.length;ce++){var R=ve[ce];if(T[R.index]==null||T[R.index].left===0)if(J===0){var K=void 0;Array.isArray(F)?K=F[R.index-G-X]:K=F[R.dataKey];var Q={};typeof K=="object"&&!Array.isArray(K)&&(Q=K?.styles||{});var se=q(ee,R,le,ie,Y,E,Q),ae=new v.Cell(K,se,ee);O[R.dataKey]=ae,O[R.index]=ae,J=ae.colSpan-1,T[R.index]={left:ae.rowSpan-1,times:J}}else J--,G++;else T[R.index].left--,J=T[R.index].times,X++}return new v.Row(F,le,ee,O)});return z}function N(ee,$){var U={};return ee.forEach(function(Y){if(Y.raw!=null){var ie=A($,Y.raw);ie!=null&&(U[Y.dataKey]=ie)}}),Object.keys(U).length>0?U:null}function A(ee,$){if(ee==="head"){if(typeof $=="object")return $.header||$.title||null;if(typeof $=="string"||typeof $=="number")return $}else if(ee==="foot"&&typeof $=="object")return $.footer;return null}function D(ee){return ee.map(function($,U){var Y,ie,E;return typeof $=="object"?E=(ie=(Y=$.dataKey)!==null&&Y!==void 0?Y:$.key)!==null&&ie!==void 0?ie:U:E=U,new v.Column(E,$,U)})}function q(ee,$,U,Y,ie,E,T){var z=(0,p.getTheme)(Y),F;ee==="head"?F=ie.headStyles:ee==="body"?F=ie.bodyStyles:ee==="foot"&&(F=ie.footStyles);var le=(0,k.assign)({},z.table,z[ee],ie.styles,F),X=ie.columnStyles[$.dataKey]||ie.columnStyles[$.index]||{},O=ee==="body"?X:{},G=ee==="body"&&U%2===0?(0,k.assign)({},z.alternateRow,ie.alternateRowStyles):{},J=(0,p.defaultStyles)(E),ce=(0,k.assign)({},J,le,G,O);return(0,k.assign)(ce,T)}},664:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.addPage=u.drawTable=void 0;var w=x(420),v=x(260),j=x(744),p=x(356),k=x(136),_=x(224);function I(X,O){var G=O.settings,J=G.startY,ce=G.margin,ve={x:ce.left,y:J},R=O.getHeadHeight(O.columns)+O.getFootHeight(O.columns),K=J+ce.bottom+R;if(G.pageBreak==="avoid"){var Q=O.body,se=Q.reduce(function(we,fe){return we+fe.height},0);K+=se}var ae=new j.DocHandler(X);(G.pageBreak==="always"||G.startY!=null&&K>ae.pageSize().height)&&(le(ae),ve.y=ce.top),O.callWillDrawPageHooks(ae,ve);var he=(0,p.assign)({},ve);O.startPageNumber=ae.pageNumber(),G.horizontalPageBreak?S(ae,O,he,ve):(ae.applyStyles(ae.userStyles),(G.showHead==="firstPage"||G.showHead==="everyPage")&&O.head.forEach(function(we){return ie(ae,O,we,ve,O.columns)}),ae.applyStyles(ae.userStyles),O.body.forEach(function(we,fe){var ge=fe===O.body.length-1;Y(ae,O,we,ge,he,ve,O.columns)}),ae.applyStyles(ae.userStyles),(G.showFoot==="lastPage"||G.showFoot==="everyPage")&&O.foot.forEach(function(we){return ie(ae,O,we,ve,O.columns)})),(0,w.addTableBorder)(ae,O,he,ve),O.callEndPageHooks(ae,ve),O.finalY=ve.y,X.lastAutoTable=O,X.previousAutoTable=O,X.autoTable&&(X.autoTable.previous=O),ae.applyStyles(ae.userStyles)}u.drawTable=I;function S(X,O,G,J){var ce=(0,_.calculateAllColumnsCanFitInPage)(X,O),ve=O.settings;if(ve.horizontalPageBreakBehaviour==="afterAllRows")ce.forEach(function(se,ae){X.applyStyles(X.userStyles),ae>0?F(X,O,G,J,se.columns,!0):N(X,O,J,se.columns),A(X,O,G,J,se.columns),q(X,O,J,se.columns)});else for(var R=-1,K=ce[0],Q=function(){var se=R;if(K){X.applyStyles(X.userStyles);var ae=K.columns;R>=0?F(X,O,G,J,ae,!0):N(X,O,J,ae),se=D(X,O,R+1,J,ae),q(X,O,J,ae)}var he=se-R;ce.slice(1).forEach(function(we){X.applyStyles(X.userStyles),F(X,O,G,J,we.columns,!0),D(X,O,R+1,J,we.columns,he),q(X,O,J,we.columns)}),R=se};R<O.body.length-1;)Q()}function N(X,O,G,J){var ce=O.settings;X.applyStyles(X.userStyles),(ce.showHead==="firstPage"||ce.showHead==="everyPage")&&O.head.forEach(function(ve){return ie(X,O,ve,G,J)})}function A(X,O,G,J,ce){X.applyStyles(X.userStyles),O.body.forEach(function(ve,R){var K=R===O.body.length-1;Y(X,O,ve,K,G,J,ce)})}function D(X,O,G,J,ce,ve){X.applyStyles(X.userStyles),ve=ve??O.body.length;var R=Math.min(G+ve,O.body.length),K=-1;return O.body.slice(G,R).forEach(function(Q,se){var ae=G+se===O.body.length-1,he=z(X,O,ae,J);Q.canEntireRowFit(he,ce)&&(ie(X,O,Q,J,ce),K=G+se)}),K}function q(X,O,G,J){var ce=O.settings;X.applyStyles(X.userStyles),(ce.showFoot==="lastPage"||ce.showFoot==="everyPage")&&O.foot.forEach(function(ve){return ie(X,O,ve,G,J)})}function ee(X,O,G){var J=G.getLineHeight(X.styles.fontSize),ce=X.padding("vertical"),ve=Math.floor((O-ce)/J);return Math.max(0,ve)}function $(X,O,G,J){var ce={};X.spansMultiplePages=!0,X.height=0;for(var ve=0,R=0,K=G.columns;R<K.length;R++){var Q=K[R],se=X.cells[Q.index];if(se){Array.isArray(se.text)||(se.text=[se.text]);var ae=new v.Cell(se.raw,se.styles,se.section);ae=(0,p.assign)(ae,se),ae.text=[];var he=ee(se,O,J);se.text.length>he&&(ae.text=se.text.splice(he,se.text.length));var we=J.scaleFactor(),fe=J.getLineHeightFactor();se.contentHeight=se.getContentHeight(we,fe),se.contentHeight>=O&&(se.contentHeight=O,ae.styles.minCellHeight-=O),se.contentHeight>X.height&&(X.height=se.contentHeight),ae.contentHeight=ae.getContentHeight(we,fe),ae.contentHeight>ve&&(ve=ae.contentHeight),ce[Q.index]=ae}}var ge=new v.Row(X.raw,-1,X.section,ce,!0);ge.height=ve;for(var pe=0,Ae=G.columns;pe<Ae.length;pe++){var Q=Ae[pe],ae=ge.cells[Q.index];ae&&(ae.height=ge.height);var se=X.cells[Q.index];se&&(se.height=X.height)}return ge}function U(X,O,G,J){var ce=X.pageSize().height,ve=J.settings.margin,R=ve.top+ve.bottom,K=ce-R;O.section==="body"&&(K-=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns));var Q=O.getMinimumRowHeight(J.columns,X),se=Q<G;if(Q>K)return console.error("Will not be able to print row ".concat(O.index," correctly since it's minimum height is larger than page height")),!0;if(!se)return!1;var ae=O.hasRowSpan(J.columns),he=O.getMaxCellHeight(J.columns)>K;return he?(ae&&console.error("The content of row ".concat(O.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ae||J.settings.rowPageBreak==="avoid")}function Y(X,O,G,J,ce,ve,R){var K=z(X,O,J,ve);if(G.canEntireRowFit(K,R))ie(X,O,G,ve,R);else if(U(X,G,K,O)){var Q=$(G,K,O,X);ie(X,O,G,ve,R),F(X,O,ce,ve,R),Y(X,O,Q,J,ce,ve,R)}else F(X,O,ce,ve,R),Y(X,O,G,J,ce,ve,R)}function ie(X,O,G,J,ce){J.x=O.settings.margin.left;for(var ve=0,R=ce;ve<R.length;ve++){var K=R[ve],Q=G.cells[K.index];if(!Q){J.x+=K.width;continue}X.applyStyles(Q.styles),Q.x=J.x,Q.y=J.y;var se=O.callCellHooks(X,O.hooks.willDrawCell,Q,G,K,J);if(se===!1){J.x+=K.width;continue}E(X,Q,J);var ae=Q.getTextPos();(0,k.default)(Q.text,ae.x,ae.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},X.getDocument()),O.callCellHooks(X,O.hooks.didDrawCell,Q,G,K,J),J.x+=K.width}J.y+=G.height}function E(X,O,G){var J=O.styles;if(X.getDocument().setFillColor(X.getDocument().getFillColor()),typeof J.lineWidth=="number"){var ce=(0,w.getFillStyle)(J.lineWidth,J.fillColor);ce&&X.rect(O.x,G.y,O.width,O.height,ce)}else typeof J.lineWidth=="object"&&(J.fillColor&&X.rect(O.x,G.y,O.width,O.height,"F"),T(X,O,G,J.lineWidth))}function T(X,O,G,J){var ce,ve,R,K;J.top&&(ce=G.x,ve=G.y,R=G.x+O.width,K=G.y,J.right&&(R+=.5*J.right),J.left&&(ce-=.5*J.left),Q(J.top,ce,ve,R,K)),J.bottom&&(ce=G.x,ve=G.y+O.height,R=G.x+O.width,K=G.y+O.height,J.right&&(R+=.5*J.right),J.left&&(ce-=.5*J.left),Q(J.bottom,ce,ve,R,K)),J.left&&(ce=G.x,ve=G.y,R=G.x,K=G.y+O.height,J.top&&(ve-=.5*J.top),J.bottom&&(K+=.5*J.bottom),Q(J.left,ce,ve,R,K)),J.right&&(ce=G.x+O.width,ve=G.y,R=G.x+O.width,K=G.y+O.height,J.top&&(ve-=.5*J.top),J.bottom&&(K+=.5*J.bottom),Q(J.right,ce,ve,R,K));function Q(se,ae,he,we,fe){X.getDocument().setLineWidth(se),X.getDocument().line(ae,he,we,fe,"S")}}function z(X,O,G,J){var ce=O.settings.margin.bottom,ve=O.settings.showFoot;return(ve==="everyPage"||ve==="lastPage"&&G)&&(ce+=O.getFootHeight(O.columns)),X.pageSize().height-J.y-ce}function F(X,O,G,J,ce,ve){ce===void 0&&(ce=[]),ve===void 0&&(ve=!1),X.applyStyles(X.userStyles),O.settings.showFoot==="everyPage"&&!ve&&O.foot.forEach(function(K){return ie(X,O,K,J,ce)}),O.callEndPageHooks(X,J);var R=O.settings.margin;(0,w.addTableBorder)(X,O,G,J),le(X),O.pageNumber++,O.pageCount++,J.x=R.left,J.y=R.top,G.y=R.top,O.callWillDrawPageHooks(X,J),O.settings.showHead==="everyPage"&&(O.head.forEach(function(K){return ie(X,O,K,J,ce)}),X.applyStyles(X.userStyles))}u.addPage=F;function le(X){var O=X.pageNumber();X.setPage(O+1);var G=X.pageNumber();return G===O?(X.addPage(),!0):!1}},224:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.calculateAllColumnsCanFitInPage=void 0;var w=x(420);function v(p,k,_){var I;_===void 0&&(_={});var S=(0,w.getPageAvailableWidth)(p,k),N=new Map,A=[],D=[],q=[];k.settings.horizontalPageBreakRepeat,Array.isArray(k.settings.horizontalPageBreakRepeat)?q=k.settings.horizontalPageBreakRepeat:(typeof k.settings.horizontalPageBreakRepeat=="string"||typeof k.settings.horizontalPageBreakRepeat=="number")&&(q=[k.settings.horizontalPageBreakRepeat]),q.forEach(function(Y){var ie=k.columns.find(function(E){return E.dataKey===Y||E.index===Y});ie&&!N.has(ie.index)&&(N.set(ie.index,!0),A.push(ie.index),D.push(k.columns[ie.index]),S-=ie.wrappedWidth)});for(var ee=!0,$=(I=_?.start)!==null&&I!==void 0?I:0;$<k.columns.length;){if(N.has($)){$++;continue}var U=k.columns[$].wrappedWidth;if(ee||S>=U)ee=!1,A.push($),D.push(k.columns[$]),S-=U;else break;$++}return{colIndexes:A,columns:D,lastIndex:$-1}}function j(p,k){for(var _=[],I=0;I<k.columns.length;I++){var S=v(p,k,{start:I});S.columns.length&&(_.push(S),I=S.lastIndex)}return _}u.calculateAllColumnsCanFitInPage=j},324:function(f,u,x){Object.defineProperty(u,"__esModule",{value:!0}),u.ellipsize=u.resizeColumns=u.calculateWidths=void 0;var w=x(420);function v(A,D){j(A,D);var q=[],ee=0;D.columns.forEach(function(U){var Y=U.getMaxCustomCellWidth(D);Y?U.width=Y:(U.width=U.wrappedWidth,q.push(U)),ee+=U.width});var $=D.getWidth(A.pageSize().width)-ee;$&&($=p(q,$,function(U){return Math.max(U.minReadableWidth,U.minWidth)})),$&&($=p(q,$,function(U){return U.minWidth})),$=Math.abs($),!D.settings.horizontalPageBreak&&$>.1/A.scaleFactor()&&($=$<1?$:Math.round($),console.warn("Of the table content, ".concat($," units width could not fit page"))),_(D),I(D,A),k(D)}u.calculateWidths=v;function j(A,D){var q=A.scaleFactor(),ee=D.settings.horizontalPageBreak,$=(0,w.getPageAvailableWidth)(A,D);D.allRows().forEach(function(U){for(var Y=0,ie=D.columns;Y<ie.length;Y++){var E=ie[Y],T=U.cells[E.index];if(T){var z=D.hooks.didParseCell;D.callCellHooks(A,z,T,U,E,null);var F=T.padding("horizontal");T.contentWidth=(0,w.getStringWidth)(T.text,T.styles,A)+F;var le=(0,w.getStringWidth)(T.text.join(" ").split(/[^\S\u00A0]+/),T.styles,A);if(T.minReadableWidth=le+T.padding("horizontal"),typeof T.styles.cellWidth=="number")T.minWidth=T.styles.cellWidth,T.wrappedWidth=T.styles.cellWidth;else if(T.styles.cellWidth==="wrap"||ee===!0)T.contentWidth>$?(T.minWidth=$,T.wrappedWidth=$):(T.minWidth=T.contentWidth,T.wrappedWidth=T.contentWidth);else{var X=10/q;T.minWidth=T.styles.minCellWidth||X,T.wrappedWidth=T.contentWidth,T.minWidth>T.wrappedWidth&&(T.wrappedWidth=T.minWidth)}}}}),D.allRows().forEach(function(U){for(var Y=0,ie=D.columns;Y<ie.length;Y++){var E=ie[Y],T=U.cells[E.index];if(T&&T.colSpan===1)E.wrappedWidth=Math.max(E.wrappedWidth,T.wrappedWidth),E.minWidth=Math.max(E.minWidth,T.minWidth),E.minReadableWidth=Math.max(E.minReadableWidth,T.minReadableWidth);else{var z=D.styles.columnStyles[E.dataKey]||D.styles.columnStyles[E.index]||{},F=z.cellWidth||z.minCellWidth;F&&typeof F=="number"&&(E.minWidth=F,E.wrappedWidth=F)}T&&(T.colSpan>1&&!E.minWidth&&(E.minWidth=T.minWidth),T.colSpan>1&&!E.wrappedWidth&&(E.wrappedWidth=T.minWidth))}})}function p(A,D,q){for(var ee=D,$=A.reduce(function(X,O){return X+O.wrappedWidth},0),U=0;U<A.length;U++){var Y=A[U],ie=Y.wrappedWidth/$,E=ee*ie,T=Y.width+E,z=q(Y),F=T<z?z:T;D-=F-Y.width,Y.width=F}if(D=Math.round(D*1e10)/1e10,D){var le=A.filter(function(X){return D<0?X.width>q(X):!0});le.length&&(D=p(le,D,q))}return D}u.resizeColumns=p;function k(A){for(var D={},q=1,ee=A.allRows(),$=0;$<ee.length;$++)for(var U=ee[$],Y=0,ie=A.columns;Y<ie.length;Y++){var E=ie[Y],T=D[E.index];if(q>1)q--,delete U.cells[E.index];else if(T)T.cell.height+=U.height,q=T.cell.colSpan,delete U.cells[E.index],T.left--,T.left<=1&&delete D[E.index];else{var z=U.cells[E.index];if(!z)continue;if(z.height=U.height,z.rowSpan>1){var F=ee.length-$,le=z.rowSpan>F?F:z.rowSpan;D[E.index]={cell:z,left:le,row:U}}}}}function _(A){for(var D=A.allRows(),q=0;q<D.length;q++)for(var ee=D[q],$=null,U=0,Y=0,ie=0;ie<A.columns.length;ie++){var E=A.columns[ie];if(Y-=1,Y>1&&A.columns[ie+1])U+=E.width,delete ee.cells[E.index];else if($){var T=$;delete ee.cells[E.index],$=null,T.width=E.width+U}else{var T=ee.cells[E.index];if(!T)continue;if(Y=T.colSpan,U=0,T.colSpan>1){$=T,U+=E.width;continue}T.width=E.width+U}}}function I(A,D){for(var q={count:0,height:0},ee=0,$=A.allRows();ee<$.length;ee++){for(var U=$[ee],Y=0,ie=A.columns;Y<ie.length;Y++){var E=ie[Y],T=U.cells[E.index];if(T){D.applyStyles(T.styles,!0);var z=T.width-T.padding("horizontal");if(T.styles.overflow==="linebreak")T.text=D.splitTextToSize(T.text,z+1/D.scaleFactor(),{fontSize:T.styles.fontSize});else if(T.styles.overflow==="ellipsize")T.text=S(T.text,z,T.styles,D,"...");else if(T.styles.overflow==="hidden")T.text=S(T.text,z,T.styles,D,"");else if(typeof T.styles.overflow=="function"){var F=T.styles.overflow(T.text,z);typeof F=="string"?T.text=[F]:T.text=F}T.contentHeight=T.getContentHeight(D.scaleFactor(),D.getLineHeightFactor());var le=T.contentHeight/T.rowSpan;T.rowSpan>1&&q.count*q.height<le*T.rowSpan?q={height:le,count:T.rowSpan}:q&&q.count>0&&q.height>le&&(le=q.height),le>U.height&&(U.height=le)}}q.count--}}function S(A,D,q,ee,$){return A.map(function(U){return N(U,D,q,ee,$)})}u.ellipsize=S;function N(A,D,q,ee,$){var U=1e4*ee.scaleFactor();if(D=Math.ceil(D*U)/U,D>=(0,w.getStringWidth)(A,q,ee))return A;for(;D<(0,w.getStringWidth)(A+$,q,ee)&&!(A.length<=1);)A=A.substring(0,A.length-1);return A.trim()+$}},964:function(f){if(typeof n>"u"){var u=new Error("Cannot find module 'undefined'");throw u.code="MODULE_NOT_FOUND",u}f.exports=n}},o={};function l(f){var u=o[f];if(u!==void 0)return u.exports;var x=o[f]={exports:{}};return a[f].call(x.exports,x,x.exports,l),x.exports}var d={};return function(){var f=d;Object.defineProperty(f,"__esModule",{value:!0}),f.Cell=f.Column=f.Row=f.Table=f.CellHookData=f.__drawTable=f.__createTable=f.applyPlugin=void 0;var u=l(340),x=l(776),w=l(664),v=l(972),j=l(260);Object.defineProperty(f,"Table",{enumerable:!0,get:function(){return j.Table}});var p=l(172);Object.defineProperty(f,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var k=l(260);Object.defineProperty(f,"Cell",{enumerable:!0,get:function(){return k.Cell}}),Object.defineProperty(f,"Column",{enumerable:!0,get:function(){return k.Column}}),Object.defineProperty(f,"Row",{enumerable:!0,get:function(){return k.Row}});function _(D){(0,u.default)(D)}f.applyPlugin=_;function I(D,q){var ee=(0,x.parseInput)(D,q),$=(0,v.createTable)(D,ee);(0,w.drawTable)(D,$)}function S(D,q){var ee=(0,x.parseInput)(D,q);return(0,v.createTable)(D,ee)}f.__createTable=S;function N(D,q){(0,w.drawTable)(D,q)}f.__drawTable=N;try{var A=l(964);A.jsPDF&&(A=A.jsPDF),_(A)}catch{}f.default=I}(),d}()})}(Nc)),Nc.exports}var Eb=Tb();const Mb=Zf(Eb);function Ib({userLocation:s}){const r=j5();return M.useEffect(()=>{r&&s&&(console.log(" Centralizando mapa em:",s),r.setView(s,15))},[r,s]),null}function yf(){const[s,r]=M.useState(null),[n,a]=M.useState(!0),[o,l]=M.useState(5),[d,f]=M.useState(!1),[u,x]=M.useState(null),[w,v]=M.useState(!1),[j,p]=M.useState(!1),[k,_]=M.useState(!1),[I,S]=M.useState(!1),[N,A]=M.useState(null),[D,q]=M.useState(!1),{theme:ee,setTheme:$}=um(),{logout:U,user:Y}=rn(),{toast:ie}=wr(),[E,T]=M.useState(0),[z,F]=M.useState(!1),[le,X]=M.useState(null),[O,G]=M.useState([]),[J,ce]=M.useState(0),[ve,R]=M.useState(0),[K,Q]=M.useState(()=>{const ne=localStorage.getItem("lb_monthly_goal_mode");return ne==="revenue"||ne==="services"?ne:"services"}),[se,ae]=M.useState(()=>{const ne=localStorage.getItem("lb_monthly_goal_services"),Te=ne?parseInt(ne):20;return Number.isFinite(Te)&&Te>0?Te:20}),[he,we]=M.useState(()=>{const ne=localStorage.getItem("lb_monthly_goal_revenue"),Te=ne?parseFloat(ne):5e3;return Number.isFinite(Te)&&Te>0?Te:5e3}),[fe,ge]=M.useState(()=>localStorage.getItem("lb_report_taxpayer_id")||""),[pe,Ae]=M.useState(()=>{const ne=localStorage.getItem("lb_report_start");if(ne)return ne;const Te=new Date;return new Date(Te.getFullYear(),Te.getMonth(),1).toISOString().slice(0,10)}),[Re,We]=M.useState(()=>{const ne=localStorage.getItem("lb_report_end");if(ne)return ne;const Te=new Date;return new Date(Te.getFullYear(),Te.getMonth()+1,0).toISOString().slice(0,10)}),Ce=()=>{try{const ne=new wt({unit:"pt",format:"a4"}),Te=48;let Ue=56;ne.setTextColor(33,33,33),ne.setFont(void 0,"bold"),ne.setFontSize(16),ne.text("Relatrio de Ganhos",Te,Ue),Ue+=8,ne.setFont(void 0,"normal"),ne.setFontSize(10),ne.setTextColor(90,90,90),ne.text(`Perodo: ${new Date(pe).toLocaleDateString("pt-BR")} a ${new Date(Re).toLocaleDateString("pt-BR")}`,Te,Ue),Ue+=14,ne.setDrawColor(180,180,180),ne.line(Te,Ue,595-Te,Ue),Ue+=16,ne.setFontSize(11),ne.setTextColor(33,33,33),ne.text(`Profissional: ${Y?.name||"Profissional"}`,Te,Ue),Ue+=14,fe&&(ne.text(`CPF/CNPJ: ${fe}`,Te,Ue),Ue+=14),ne.text(`Meta de receita: R$ ${he.toLocaleString("pt-BR")}`,Te,Ue),Ue+=14;const tt=new Date(pe),ot=new Date(Re),qt=O.filter(It=>{const it=It.scheduledFor?new Date(It.scheduledFor):It.createdAt?new Date(It.createdAt):null;return it&&it>=tt&&it<=ot&&(It.status||"")==="completed"}).sort((It,it)=>new Date(It.scheduledFor||It.createdAt).getTime()-new Date(it.scheduledFor||it.createdAt).getTime()),yt=qt.length,jt=qt.reduce((It,it)=>{const rs=typeof it.totalCost=="string"?parseFloat(it.totalCost):Number(it.totalCost||0);return It+(Number.isFinite(rs)?rs:0)},0);ne.text(`Servios concludos no perodo: ${yt}`,Te,Ue),Ue+=14,ne.text(`Receita no perodo: R$ ${jt.toLocaleString("pt-BR")}`,Te,Ue),Ue+=10;const kt=qt.map(It=>{const it=typeof It.totalCost=="string"?parseFloat(It.totalCost):Number(It.totalCost||0),rs=new Date(It.scheduledFor||It.createdAt).toLocaleDateString("pt-BR"),js=It.serviceType||"Servio";return[rs,js,`R$ ${Number(it).toLocaleString("pt-BR")}`]});Mb(ne,{head:[["Data","Servio","Valor (R$)"]],body:kt,startY:Ue+10,styles:{fontSize:10,textColor:[33,33,33],lineColor:[200,200,200],lineWidth:.5},headStyles:{fillColor:[240,240,240],textColor:[33,33,33],lineColor:[200,200,200]},columnStyles:{2:{halign:"right"}},margin:{left:Te,right:Te}});const Zt=ne.lastAutoTable?ne.lastAutoTable.finalY+24:Ue+60;ne.setFontSize(9),ne.setTextColor(120,120,120),ne.text("Documento gerado automaticamente pelo LifeBee.",Te,Zt);const Gt=`${new Date(pe).toLocaleDateString("pt-BR")}__${new Date(Re).toLocaleDateString("pt-BR")}`.replace(/[\\/]/g,"-");ne.save(`Relatorio-Ganhos-${Gt}.pdf`)}catch{alert("No foi possvel gerar o relatrio agora. Tente novamente.")}};M.useEffect(()=>{T(ne=>ne+1)},[ee]),M.useEffect(()=>{try{localStorage.setItem("lb_monthly_goal_mode",K),localStorage.setItem("lb_monthly_goal_services",String(se)),localStorage.setItem("lb_monthly_goal_revenue",String(he))}catch{}},[K,se,he]),M.useEffect(()=>{try{localStorage.setItem("lb_report_taxpayer_id",fe),pe&&localStorage.setItem("lb_report_start",pe),Re&&localStorage.setItem("lb_report_end",Re)}catch{}},[fe,pe,Re]),M.useEffect(()=>{(async()=>{try{const Te=localStorage.getItem("token"),Ue=await fetch(`${pt()}/api/appointments/provider`,{headers:{Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(!Ue.ok)return;const tt=await Ue.json();G(Array.isArray(tt)?tt:[]);const ot=new Date,qt=new Date(ot.getFullYear(),ot.getMonth(),1),yt=new Date(ot.getFullYear(),ot.getMonth()+1,0,23,59,59,999),jt=(Array.isArray(tt)?tt:[]).filter(Gt=>{const It=Gt.scheduledFor?new Date(Gt.scheduledFor):Gt.createdAt?new Date(Gt.createdAt):null,it=(Gt.status||"").toString();return It&&It>=qt&&It<=yt&&it==="completed"}),kt=jt.length,Zt=jt.reduce((Gt,It)=>{const it=typeof It.totalCost=="string"?parseFloat(It.totalCost):Number(It.totalCost||0);return Gt+(Number.isFinite(it)?it:0)},0);ce(kt),R(Zt)}catch{}})()},[]),M.useEffect(()=>{S(!1)},[Y?.profileImage]),M.useEffect(()=>{const ne="geolocation"in navigator,Te=window.location.protocol==="https:"||window.location.hostname==="localhost";_(ne),console.log(" Geolocalizao suportada:",ne),console.log(" Contexto seguro (HTTPS/localhost):",Te),console.log(" Protocolo atual:",window.location.protocol),console.log(" Hostname atual:",window.location.hostname)},[]),M.useEffect(()=>{console.log(" Localizao do usurio atualizada:",u)},[u]),M.useEffect(()=>{k&&!u&&!w&&(console.log(" Ativando geolocalizao automtica..."),Js())},[k,u,w]);const ue={monthlyEarnings:0,totalServices:0,averageRating:0,monthlyGrowth:0,servicesThisWeek:0},[lt,et]=M.useState([]),[He,$e]=M.useState(!1),[Ze,Ve]=M.useState(0),[at,xt]=M.useState(""),[_t,Lt]=M.useState({}),[Ut,Qt]=M.useState(null),[vt,Rt]=M.useState([]),[Ge,Ks]=M.useState(null),Bt=[],Nr=0,ss=ne=>{r(ne),window.location.href=`/service-offer/${ne}`},bs=ne=>{A(ne),q(!0)},ur=()=>{q(!1),A(null)},Xt=()=>{A(null)},Vn=()=>{U(),window.location.href="/"},_s=async ne=>{try{const Te=localStorage.getItem("token");if(!Te){ie({title:"Erro",description:"Token de autenticao no encontrado.",variant:"destructive"});return}(await fetch(`${pt()}/api/provider/availability`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({available:ne})})).ok?(a(ne),ie({title:ne?"Disponvel":"Indisponvel",description:ne?"Voc est agora disponvel para receber solicitaes de servio.":"Voc est agora indisponvel. Os clientes no vero seu perfil."})):ie({title:"Erro",description:"No foi possvel atualizar sua disponibilidade.",variant:"destructive"})}catch(Te){console.error("Error updating availability:",Te),ie({title:"Erro",description:"Erro ao conectar com o servidor.",variant:"destructive"})}},Er=ne=>{console.log(`Marking notification ${ne} as read`)},Mr=(ne,Te,Ue,tt)=>{const qt=(Ue-ne)*Math.PI/180,yt=(tt-Te)*Math.PI/180,jt=Math.sin(qt/2)*Math.sin(qt/2)+Math.cos(ne*Math.PI/180)*Math.cos(Ue*Math.PI/180)*Math.sin(yt/2)*Math.sin(yt/2);return 6371*(2*Math.atan2(Math.sqrt(jt),Math.sqrt(1-jt)))},ws={"rua das flores, 150, vila madalena, so paulo, sp":[-23.55,-46.68],"av. albert einstein, 627, morumbi, so paulo, sp":[-23.62,-46.72],"rua harmonia, 456, vila madalena, so paulo, sp":[-23.55,-46.68],"rua dos pinheiros, 789, pinheiros, so paulo, sp":[-23.5671,-46.7034],"rua dona adma jafet, 91, bela vista, so paulo, sp":[-23.56,-46.65],"av. paulista, 1000, bela vista, so paulo, sp":[-23.56,-46.66],"av. paulista, so paulo, sp":[-23.56,-46.66],"rua augusta, jardins, so paulo, sp":[-23.56,-46.66],"rua harmonia, vila madalena, so paulo, sp":[-23.55,-46.68],"rua das flores, vila madalena, so paulo, sp":[-23.55,-46.68],"rua dos pinheiros, pinheiros, so paulo, sp":[-23.5671,-46.7034],"rua dona adma jafet, bela vista, so paulo, sp":[-23.56,-46.65],"av. brigadeiro faria lima, so paulo, sp":[-23.59,-46.68],"shopping morumbi, so paulo, sp":[-23.62,-46.72],"hospital albert einstein, so paulo, sp":[-23.62,-46.72],"hospital srio-libans, so paulo, sp":[-23.56,-46.65],"vila madalena, so paulo, sp":[-23.55,-46.68],"jardins, so paulo, sp":[-23.56,-46.66],"morumbi, so paulo, sp":[-23.62,-46.72],"itaim bibi, so paulo, sp":[-23.6,-46.68],"moema, so paulo, sp":[-23.6,-46.66],"pinheiros, so paulo, sp":[-23.5671,-46.7034],"vila mariana, so paulo, sp":[-23.59,-46.63],"centro, so paulo, sp":[-23.5505,-46.6333],"s, so paulo, sp":[-23.5505,-46.6333],"republica, so paulo, sp":[-23.54,-46.64],"bela vista, so paulo, sp":[-23.56,-46.65],"consolao, so paulo, sp":[-23.56,-46.66],"liberdade, so paulo, sp":[-23.56,-46.64],"bom retiro, so paulo, sp":[-23.53,-46.64],"brs, so paulo, sp":[-23.54,-46.62],"cambuci, so paulo, sp":[-23.57,-46.62],"tatuap, so paulo, sp":[-23.54,-46.57],"vila prudente, so paulo, sp":[-23.58,-46.58],"mooca, so paulo, sp":[-23.55,-46.6],"belenzinho, so paulo, sp":[-23.54,-46.62],"penha, so paulo, sp":[-23.52,-46.54],"santana, so paulo, sp":[-23.5,-46.64],"tucuruvi, so paulo, sp":[-23.48,-46.62],"casa verde, so paulo, sp":[-23.51,-46.66],"vila guilherme, so paulo, sp":[-23.52,-46.61],"lapa, so paulo, sp":[-23.52,-46.7],"perdizes, so paulo, sp":[-23.53,-46.68],"vila pompeia, so paulo, sp":[-23.54,-46.68],"butant, so paulo, sp":[-23.57,-46.72],"jabaquara, so paulo, sp":[-23.65,-46.64],"santo amaro, so paulo, sp":[-23.65,-46.72],"campo belo, so paulo, sp":[-23.61,-46.68],"vila olmpia, so paulo, sp":[-23.6,-46.69],"brooklin, so paulo, sp":[-23.61,-46.7],"vila andrade, so paulo, sp":[-23.63,-46.72],"jardim paulista, so paulo, sp":[-23.57,-46.67],"jardim europa, so paulo, sp":[-23.57,-46.68],"jardim paulistano, so paulo, sp":[-23.58,-46.68],"alto de pinheiros, so paulo, sp":[-23.57,-46.71],"vila leopoldina, so paulo, sp":[-23.53,-46.73],"barra funda, so paulo, sp":[-23.52,-46.66],"campos elseos, so paulo, sp":[-23.54,-46.65],"santa ceclia, so paulo, sp":[-23.54,-46.66],"vila buarque, so paulo, sp":[-23.54,-46.65],"higienpolis, so paulo, sp":[-23.55,-46.66],"pacifica, so paulo, sp":[-23.55,-46.67],"vila romana, so paulo, sp":[-23.54,-46.69],"sumar, so paulo, sp":[-23.55,-46.67],"agua branca, so paulo, sp":[-23.52,-46.68],"vila nova cachoeirinha, so paulo, sp":[-23.49,-46.67],"limo, so paulo, sp":[-23.5,-46.65],"brasilndia, so paulo, sp":[-23.47,-46.64],"freguesia do , so paulo, sp":[-23.52,-46.7],"rua leo xiii, 431, serrinha, fortaleza, ce":[-3.7319,-38.5267],"rua leo xiii, serrinha, fortaleza, ce":[-3.7319,-38.5267],"leo xiii, serrinha, fortaleza, ce":[-3.7319,-38.5267],"serrinha, fortaleza, ce":[-3.7319,-38.5267],"avenida beira mar, fortaleza, ce":[-3.7319,-38.5267],"praa do ferreira, fortaleza, ce":[-3.7319,-38.5267],"centro, fortaleza, ce":[-3.7319,-38.5267],"aldeota, fortaleza, ce":[-3.7319,-38.5267],"meireles, fortaleza, ce":[-3.7319,-38.5267],"dionsio torres, fortaleza, ce":[-3.7319,-38.5267],"papicu, fortaleza, ce":[-3.7319,-38.5267],"coc, fortaleza, ce":[-3.7319,-38.5267],"varjota, fortaleza, ce":[-3.7319,-38.5267],"montese, fortaleza, ce":[-3.7319,-38.5267],"ftima, fortaleza, ce":[-3.7319,-38.5267],"joaquim tvora, fortaleza, ce":[-3.7319,-38.5267],"benfica, fortaleza, ce":[-3.7319,-38.5267],"damas, fortaleza, ce":[-3.7319,-38.5267],"so gerardo, fortaleza, ce":[-3.7319,-38.5267],"parangaba, fortaleza, ce":[-3.7319,-38.5267],"messejana, fortaleza, ce":[-3.7319,-38.5267],"conjunto cear, fortaleza, ce":[-3.7319,-38.5267],"sabiguaba, fortaleza, ce":[-3.7319,-38.5267],"copacabana, rio de janeiro, rj":[-22.9707,-43.1824],"ipanema, rio de janeiro, rj":[-22.9844,-43.2034],"centro, belo horizonte, mg":[-19.9167,-43.9345],"centro, salvador, ba":[-12.9714,-38.5011],"centro, recife, pe":[-8.0476,-34.877],"centro, braslia, df":[-15.7942,-47.8822],"centro, curitiba, pr":[-25.4289,-49.2671],"centro, porto alegre, rs":[-30.0346,-51.2177],"centro, belm, pa":[-1.4554,-48.4898],"centro, manaus, am":[-3.119,-60.0217]},ft=new Map,es=ne=>{let Te=String(ne||"").trim();return Te=Te.replace(/\s-\s/g,", "),Te=Te.replace(/\s*,\s*/g,", ").replace(/\s+/g," ").replace(/,+/g,","),Te=Te.replace(/\bcep:?\s*\d{5}-?\d{3}\b/gi,"").replace(/\bbrasil\b/gi,""),Te=Te.replace(/,\s*$/g,""),Te},Zn=ne=>{const Te={},Ue=ne.match(/\b([A-Za-z-\s]+),\s*([A-Za-z]{2})\b/);if(Ue)return Te.city=Ue[1].trim(),Te.state=Ue[2].trim().toUpperCase(),Te;const tt=ne.match(/\b([A-Za-z-\s]+)\s*-\s*([A-Za-z]{2})\b/);return tt&&(Te.city=tt[1].trim(),Te.state=tt[2].trim().toUpperCase()),Te},Hs=ne=>{const Te="https://nominatim.openstreetmap.org/search?format=json&limit=5&countrycodes=br&addressdetails=1&accept-language=pt-BR";if(u){const[Ue,tt]=u,ot=.3,qt=(tt-ot).toFixed(6),yt=(tt+ot).toFixed(6),jt=(Ue+ot).toFixed(6),kt=(Ue-ot).toFixed(6);return`${Te}&q=${encodeURIComponent(ne)}&viewbox=${qt},${jt},${yt},${kt}&bounded=1`}return`${Te}&q=${encodeURIComponent(ne)}`},nn=async(ne,Te)=>{try{if(ft.has(ne)){const Ft=ft.get(ne);return console.log(` Coordenadas encontradas no cache: "${ne}"  [${Ft[0]}, ${Ft[1]}]`),Ft}const Ue=es(ne),tt=Ue.toLowerCase(),ot=Ft=>Ft.normalize("NFD").replace(/[\u0300-\u036f]/g,""),qt=Ft=>Ft.replace(/\b\d+[\w\s\/\-]*?(?=,|$)/g,"").replace(/,\s*,/g,",").replace(/,\s*$/,"").trim(),yt=Ft=>Array.from(new Set(Ft.filter(Boolean))),jt=yt([tt,ot(tt),qt(tt),ot(qt(tt))]);for(const[Ft,$t]of Object.entries(ws))if(tt===Ft)return ft.set(ne,$t),console.log(` Busca exata no mapeamento local: "${ne}"  [${$t[0]}, ${$t[1]}]`),$t;const kt=["rua leo xiii","serrinha","fortaleza"];for(const Ft of kt)if(tt.includes(Ft)){for(const[$t,cs]of Object.entries(ws))if($t.includes(Ft))return ft.set(ne,cs),console.log(` Busca por palavra-chave "${Ft}": "${ne}"  [${cs[0]}, ${cs[1]}]`),cs}let Zt=null;for(const[Ft,$t]of Object.entries(ws)){const cs=Ir(tt,Ft);cs>.6&&(!Zt||cs>Zt.score)&&(Zt={key:Ft,coords:$t,score:cs})}if(Zt)return ft.set(ne,Zt.coords),console.log(` Busca parcial no mapeamento local: "${ne}"  "${Zt.key}" (score: ${Zt.score.toFixed(2)})  [${Zt.coords[0]}, ${Zt.coords[1]}]`),Zt.coords;const Gt=Zn(Ue),It=tt.match(/([^,]+),\s*([a-z]{2})/);let it="",rs="";Gt.city&&Gt.state?(it=Gt.city,rs=Gt.state):It&&(it=It[1].trim(),rs=It[2].trim().toUpperCase());const js=[];if(it&&rs)jt.forEach(Ft=>{js.push(Ft+", "+it+", "+rs+", brasil",Ft+", "+it+", "+rs,Ft+", "+rs+", brasil",Ft+", brasil")});else{const Ft=Ge?.city?String(Ge.city).toLowerCase():"",$t=Ge?.stateCode||(Ge?.state?String(Ge.state).toUpperCase():"");Ft&&$t?jt.forEach(cs=>{js.push(cs+", "+Ft+", "+$t+", brasil",cs+", "+Ft+", "+$t,cs+", "+$t+", brasil",cs+", brasil")}):jt.forEach(cs=>{js.push(cs+", brasil",cs)})}const Us=yt(js);for(const Ft of Us)try{console.log(` Tentando geocoding externo para: "${Ft}"`);const $t=new AbortController,cs=setTimeout(()=>$t.abort(),7e3),Ja=Hs(Ft),sr=await fetch(Ja,{signal:$t.signal,headers:{Accept:"application/json"}});if(clearTimeout(cs),sr.ok){const An=await sr.json();if(An.length>0){const ua=ut=>{const hr=ut.address||{},bn=(hr.city||hr.town||hr.village||hr.suburb||"").toString().toLowerCase(),wn=(hr.state||"").toString().toUpperCase();let on=parseFloat(ut.importance||0);if(it&&bn.includes(it.toLowerCase())&&(on+=.5),rs&&wn===rs.toUpperCase()&&(on+=.5),u){const At=Mr(parseFloat(ut.lat),parseFloat(ut.lon),u[0],u[1]),Jt=Math.max(0,50-At)/100;on+=Jt}return on},Oa=An.reduce((ut,hr)=>ua(hr)>ua(ut)?hr:ut),_r=parseFloat(Oa.lat),Dt=parseFloat(Oa.lon);if(gt(_r,Dt)){const ut=[_r,Dt];return ft.set(ne,ut),console.log(` Geocoding externo bem-sucedido para "${ne}": [${_r}, ${Dt}] (ajustado por contexto)`),ut}else console.log(` Coordenadas invlidas para "${ne}": [${_r}, ${Dt}]`)}}}catch($t){$t.name==="AbortError"?console.warn(` Timeout na tentativa "${Ft}"`):console.warn(` Erro na tentativa "${Ft}":`,$t)}Te?.allowFallback;const an=$r(tt,it,rs);return ft.set(ne,an),console.log(` Usando fallback inteligente para "${ne}": [${an[0].toFixed(6)}, ${an[1].toFixed(6)}]`),an}catch(Ue){console.error("Erro geral no geocoding:",Ue);const tt=[-15.7942,-47.8822];return ft.set(ne,tt),console.log(` Fallback final para "${ne}": centro do Brasil`),tt}},Ir=(ne,Te)=>{const Ue=ne.split(" ").filter(kt=>kt.length>2),tt=Te.split(" ").filter(kt=>kt.length>2);if(Ue.length===0||tt.length===0)return 0;const qt=["rua","avenida","fortaleza","serrinha","leo","xiii"].some(kt=>ne.includes(kt)&&Te.includes(kt));let jt=Ue.filter(kt=>tt.some(Zt=>Zt.includes(kt)||kt.includes(Zt))).length/Math.max(Ue.length,tt.length);return qt&&(jt+=.3),Math.min(jt,1)},gt=(ne,Te)=>ne>=-34&&ne<=6&&Te>=-74&&Te<=-34,$r=(ne,Te,Ue)=>{const tt={"so paulo":[-23.5505,-46.6333],sp:[-23.5505,-46.6333],fortaleza:[-3.7319,-38.5267],ce:[-3.7319,-38.5267],serrinha:[-3.7319,-38.5267],"rio de janeiro":[-22.9068,-43.1729],rj:[-22.9068,-43.1729],"belo horizonte":[-19.9167,-43.9345],mg:[-19.9167,-43.9345],salvador:[-12.9714,-38.5011],ba:[-12.9714,-38.5011],recife:[-8.0476,-34.877],pe:[-8.0476,-34.877],braslia:[-15.7942,-47.8822],df:[-15.7942,-47.8822],curitiba:[-25.4289,-49.2671],pr:[-25.4289,-49.2671],"porto alegre":[-30.0346,-51.2177],rs:[-30.0346,-51.2177],belm:[-1.4554,-48.4898],pa:[-1.4554,-48.4898],manaus:[-3.119,-60.0217],am:[-3.119,-60.0217]};if(ne.includes("fortaleza")||ne.includes("ce")||ne.includes("serrinha")||Te.includes("fortaleza")||Te.includes("ce")||Te.includes("serrinha")||Ue.includes("CE"))return console.log(` Deteco especfica de Fortaleza para: "${ne}"`),[-3.7319,-38.5267];for(const[jt,kt]of Object.entries(tt))if(ne.includes(jt)||Te.includes(jt)||Ue.includes(jt))return kt;const ot=ne.split("").reduce((jt,kt)=>(jt=(jt<<5)-jt+kt.charCodeAt(0),jt&jt),0),qt=Math.abs(ot)%2e3/1e4-.1,yt=Math.abs(ot>>10)%2e3/1e4-.1;return[-15.7942+qt,-47.8822+yt]},Wr=async()=>{if(console.log(" Iniciando busca de solicitaes..."),console.log(" Usurio:",Y),!Y){console.log(" Usurio no autenticado");return}$e(!0),Ve(0),xt("Iniciando busca de solicitaes..."),et([]),Lt({});try{const ne=localStorage.getItem("token");if(console.log(" Token encontrado:",!!ne),!ne){ie({title:"Erro de Autenticao",description:"Token de autenticao no encontrado. Faa login novamente.",variant:"destructive"}),$e(!1);return}const Te=["fisioterapeuta","acompanhante_hospitalar","tecnico_enfermagem"],Ue=[];let tt=0;console.log(" URL da API:",pt()),console.log(" Token presente:",!!ne);const ot=Te.map(async it=>{const rs=`${pt()}/api/service-requests/category/${it}`;console.log(` Buscando solicitaes para categoria: ${it}`),console.log(` URL completa: ${rs}`);try{const js=await fetch(rs,{headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"}});if(console.log(` Resposta para ${it}:`,js.status,js.statusText),js.ok){const Us=await js.json();return console.log(` Solicitaes encontradas para ${it}:`,Us),console.log(` Quantidade de solicitaes para ${it}:`,Us.length),tt+=Us.length,Us}else{const Us=await js.text();return console.error(` Erro na API para ${it}:`,Us),console.error(`Status: ${js.status}, StatusText: ${js.statusText}`),[]}}catch(js){return console.error(` Erro na requisio para ${it}:`,js),[]}});if(Ve(30),xt("Buscando solicitaes das categorias..."),(await Promise.all(ot)).forEach(it=>Ue.push(...it)),console.log(" Total de solicitaes encontradas:",Ue.length),Ue.length===0){$e(!1),ie({title:"Nenhuma solicitao encontrada",description:"No h solicitaes disponveis no momento. Tente novamente mais tarde."});return}const yt=Ue.filter(it=>it.status==="open").sort((it,rs)=>new Date(rs.createdAt).getTime()-new Date(it.createdAt).getTime());console.log(" Solicitaes abertas encontradas:",yt.length),Ve(50),xt(`Processando ${yt.length} solicitaes...`),et(yt);const jt={},kt=[],Zt=3;for(let it=0;it<yt.length;it+=Zt){const js=yt.slice(it,it+Zt).map(async an=>{const Ft=an.address||an.location||"",$t=String(Ft||"").trim(),cs=$t.toLowerCase();if($t&&!(cs==="no informado"||cs==="nao informado"||cs==="no definido"||cs==="nao definido")&&$t.length>=5)try{const sr=await nn($t,{allowFallback:!0});sr?(jt[an.id]=sr,console.log(` Endereo geocodificado: ${$t}  [${sr[0]}, ${sr[1]}]`)):(kt.push($t),console.warn(` Falha no geocoding: ${$t}`))}catch(sr){kt.push($t),console.error(` Erro no geocoding para ${$t}:`,sr)}});await Promise.all(js);const Us=50+Math.min((it+Zt)/yt.length*40,40);Ve(Us),xt(`Processando localizaes... ${Math.round((it+Zt)/yt.length*100)}%`),console.log(` Progresso do geocoding: ${Us.toFixed(1)}%`)}Ve(100),xt("Finalizando..."),Lt(jt),Rt(kt);const Gt=Object.keys(jt).length,It=yt.length-Gt;console.log(` Processamento concludo: ${yt.length} solicitaes`),console.log(` Com coordenadas: ${Gt}`),console.log(` Sem coordenadas: ${It}`),kt.length>0?ie({title:"Solicitaes Carregadas!",description:`${yt.length} solicitaes encontradas. ${Gt} com localizao precisa. ${kt.length} com problemas de localizao.`,variant:"default"}):ie({title:"Solicitaes Carregadas!",description:`${yt.length} solicitaes encontradas. Todos os endereos foram localizados com sucesso!`,variant:"default"})}catch(ne){console.error(" Erro geral ao buscar solicitaes:",ne),ie({title:"Erro de Conexo",description:"Erro ao carregar solicitaes. Verifique sua conexo e tente novamente.",variant:"destructive"})}finally{$e(!1)}},Js=()=>{if(console.log(" Iniciando geolocalizao..."),console.log(" Geolocalizao suportada:",k),v(!0),p(!0),k){console.log(" Geolocalizao suportada pelo navegador");const ne={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(async Te=>{const{latitude:Ue,longitude:tt,accuracy:ot}=Te.coords;if(console.log(" Localizao obtida com sucesso:",{latitude:Ue,longitude:tt,accuracy:`${ot}m de preciso`}),Ue&&tt&&!isNaN(Ue)&&!isNaN(tt)&&Ue>=-90&&Ue<=90&&tt>=-180&&tt<=180){console.log(" Coordenadas vlidas:",[Ue,tt]),x([Ue,tt]),X(ot||0),T(yt=>yt+1),v(!1),F(!0);const qt=ot<=10?"Excelente":ot<=30?"Muito Boa":ot<=50?"Boa":ot<=100?"Regular":"Baixa";ie({title:`Localizao ${qt}`,description:`Preciso: ${Math.round(ot||0)}m | ${Ue.toFixed(6)}, ${tt.toFixed(6)}`}),setTimeout(()=>{T(yt=>yt+1)},200),setTimeout(()=>{F(!1)},3e3);try{const yt=new AbortController,jt=setTimeout(()=>yt.abort(),5e3),kt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ue}&lon=${tt}&zoom=10&addressdetails=1&accept-language=pt-BR`,{signal:yt.signal});if(clearTimeout(jt),kt.ok){const Gt=(await kt.json())?.address||{},It=Gt.city||Gt.town||Gt.village||Gt.suburb||"",it=Gt.state||"",rs=Gt["ISO3166-2-lvl4"]?.split("-")?.pop?.()||Gt.state_code||"";Ks({city:It,state:it,stateCode:rs}),console.log(" Contexto geogrfico detectado:",{city:It,state:it,stateCode:rs})}}catch(yt){console.warn(" Falha no reverse geocoding do contexto local:",yt)}}else console.warn(" Coordenadas invlidas:",{latitude:Ue,longitude:tt}),v(!1),ie({title:"Erro na Localizao",description:"Coordenadas invlidas obtidas. Tente novamente.",variant:"destructive"})},Te=>{console.error(" Erro na geolocalizao:",Te);let Ue="Erro desconhecido na geolocalizao";switch(Te.code){case Te.PERMISSION_DENIED:Ue="Permisso negada. Ative a localizao nas configuraes do navegador.";break;case Te.POSITION_UNAVAILABLE:Ue="Localizao indisponvel. Verifique sua conexo de internet.";break;case Te.TIMEOUT:Ue="Tempo limite excedido. Tente novamente em alguns segundos.";break}console.log(` ${Ue}`),v(!1)},ne)}else console.log(" Geolocalizao no suportada pelo navegador"),v(!1)};M.useEffect(()=>{console.log("useEffect triggered - user:",Y),Y?(console.log("User authenticated, calling fetchServiceRequests"),Wr()):console.log("User not authenticated yet")},[Y]);const as=()=>{u&&(console.log(" Centralizando mapa na localizao do usurio:",u),T(ne=>ne+1))};return e.jsxs(nl,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-32",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b-2 border-gray-200 dark:border-gray-700 rounded-b-lg px-3 sm:px-4 py-2 sm:py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:Y?.profileImage&&!I?e.jsx("img",{src:`${pt()}${Y.profileImage}`,alt:`Foto de ${Y?.name||"Profissional"}`,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700",onError:ne=>{S(!0);const Te=ne.target;Te.src.includes("http")||(Te.src=`https://lifebee.onrender.com${Y.profileImage}`)},onLoad:()=>{console.log("Imagem carregada com sucesso:",Y.profileImage),S(!1)}}):e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-yellow-500 flex items-center justify-center border-2 border-gray-200 dark:border-gray-700",children:e.jsx("span",{className:"text-white text-xs sm:text-sm font-semibold",children:Y?.name?Y.name.charAt(0).toUpperCase():"P"})})}),e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:"Painel do Profissional"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:["Bem-vindo de volta, ",Y?.name||"Profissional","!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0 min-w-0 ml-auto self-end",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${n?"bg-emerald-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${n?"text-emerald-700 dark:text-emerald-300":"text-gray-600 dark:text-gray-400"}`,children:n?"Disponvel":"Indisponvel"})]}),e.jsx(bp,{children:e.jsxs(V1,{children:[e.jsx(Z1,{asChild:!0,children:e.jsx(Ni,{checked:n,onCheckedChange:_s,className:"h-6 w-11 sm:h-7 sm:w-12 [&>span]:h-5 [&>span]:w-5 sm:[&>span]:h-6 sm:[&>span]:w-6 flex-shrink-0 data-[state=checked]:bg-blue-500 data-[state=checked]:hover:bg-blue-600 data-[state=unchecked]:bg-gray-400 data-[state=unchecked]:hover:bg-gray-500 transition-all duration-300 ease-in-out shadow-md hover:shadow-lg"})}),e.jsx(wp,{children:e.jsx("p",{children:n?"Clique para ficar indisponvel":"Clique para ficar disponvel"})})]})})]}),e.jsxs(c5,{open:d,onOpenChange:f,children:[e.jsx(d5,{asChild:!0,children:e.jsxs(Ie,{variant:"outline",size:"sm",className:"relative h-8 sm:h-9 w-8 sm:w-auto px-2.5 sm:px-3 min-w-0 flex-shrink-0 justify-center aspect-square sm:aspect-auto",children:[e.jsx(kl,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),Nr>0]})}),e.jsxs(dg,{className:"w-80 p-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-xl backdrop-blur-sm",align:"end",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Notificaes"}),e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:e.jsx(Wl,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:Bt.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma notificao"}):Bt.map(ne=>{const Te=ne.icon;return e.jsx("div",{className:`p-4 border-b hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer ${ne.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>Er(ne.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 ${ne.color}`,children:e.jsx(Te,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`text-sm font-medium ${ne.read?"text-gray-900 dark:text-white":"text-blue-900 dark:text-blue-100"}`,children:ne.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:ne.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ne.time})]}),!ne.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})},ne.id)})}),Bt.length>0&&e.jsx("div",{className:"p-3 border-t",children:e.jsx(Ie,{variant:"ghost",size:"sm",className:"w-full",children:"Ver todas as notificaes"})})]})]}),e.jsxs(s5,{children:[e.jsx(r5,{asChild:!0,children:e.jsx(Ie,{variant:"outline",size:"sm",className:"h-8 sm:h-9 w-8 sm:w-auto px-2 sm:px-3 min-w-0 flex-shrink-0 gap-1 sm:gap-1.5 justify-center aspect-square sm:aspect-auto",children:e.jsx(Nu,{className:"h-2 w-2 sm:h-3 sm:w-3 flex-shrink-0"})})}),e.jsxs(cg,{align:"end",className:"w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg z-[100]",children:[e.jsx(Ca,{asChild:!0,children:e.jsxs(As,{href:"/provider-profile",className:"flex items-center cursor-pointer",children:[e.jsx(sn,{className:"mr-2 h-4 w-4"}),"Meu Perfil"]})}),e.jsx(Ca,{asChild:!0,children:e.jsxs(As,{href:"/provider-proposals",className:"flex items-center cursor-pointer",children:[e.jsx(Ga,{className:"mr-2 h-4 w-4"}),"Propostas"]})}),e.jsx(Ca,{asChild:!0,children:e.jsxs(As,{href:"/settings",className:"flex items-center cursor-pointer",children:[e.jsx(Wm,{className:"mr-2 h-4 w-4"}),"Configuraes"]})}),e.jsx(Ca,{onClick:()=>$(ee==="dark"?"light":"dark"),children:ee==="dark"?e.jsxs(e.Fragment,{children:[e.jsx(Gm,{className:"mr-2 h-4 w-4"}),"Modo Claro"]}):e.jsxs(e.Fragment,{children:[e.jsx(Bm,{className:"mr-2 h-4 w-4"}),"Modo Escuro"]})}),e.jsx(qd,{}),e.jsxs(Ca,{children:[e.jsx(Jo,{className:"mr-2 h-4 w-4"}),"Privacidade e Segurana"]}),e.jsxs(Ca,{children:[e.jsx(kl,{className:"mr-2 h-4 w-4"}),"Preferncias de Notificao"]}),e.jsxs(Ca,{children:[e.jsx(xn,{className:"mr-2 h-4 w-4"}),"Mtodos de Pagamento"]}),e.jsxs(Ca,{children:[e.jsx(zm,{className:"mr-2 h-4 w-4"}),"Central de Ajuda"]}),e.jsx(qd,{}),e.jsxs(Ca,{onClick:Vn,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[e.jsx(Il,{className:"mr-2 h-4 w-4"}),"Sair da Conta"]})]})]})]})]})}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 pb-8 sm:pb-12 lg:pb-16 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ct,{children:e.jsxs(dt,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ganhos do Ms"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",ue.monthlyEarnings.toLocaleString("pt-BR")]})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full",children:e.jsx(xn,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(s1,{className:"h-3 w-3 text-green-600"}),e.jsxs("span",{className:"text-xs text-green-600",children:["+",ue.monthlyGrowth,"% vs ms anterior"]})]})]})}),e.jsx(ct,{children:e.jsxs(dt,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Servios Realizados"}),e.jsx("p",{className:"text-2xl font-bold",children:ue.totalServices})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full",children:e.jsx(Ch,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[ue.servicesThisWeek," esta semana"]})]})}),!1]}),e.jsxs(lg,{defaultValue:"opportunities",className:"space-y-6 sm:space-y-8",children:[e.jsxs(Mu,{className:"grid w-full grid-cols-2 sm:grid-cols-2 h-auto min-h-12 p-1.5 gap-1.5 sm:gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsxs(ao,{value:"opportunities",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Oportunidades"}),e.jsx("span",{className:"xs:hidden",children:"Oport."})]}),e.jsxs(ao,{value:"performance",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Performance"}),e.jsx("span",{className:"xs:hidden",children:"Perf."})]})]}),e.jsx(Ya,{value:"opportunities",className:"space-y-8",children:e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs(ds,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(vs,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-base sm:text-lg lg:text-xl",children:"Servios Prximos a Voc"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Raio:"}),e.jsx(Nt,{type:"number",value:o,onChange:ne=>l(Number(ne.target.value)),className:"w-12 sm:w-16 h-7 sm:h-8 text-xs sm:text-sm",min:"1",max:"50"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"km"})]})})]})}),e.jsxs(dt,{children:[e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg h-48 sm:h-56 md:h-64 mb-4 sm:mb-6 overflow-hidden relative sticky top-2 sm:top-4 z-10",children:[e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx(Ie,{size:"sm",variant:"outline",onClick:()=>{console.log(" Boto de localizao clicado!"),j&&u?as():Js()},className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg",disabled:w,children:w?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}):j?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs hidden sm:inline",children:"Centralizar"})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs hidden sm:inline",children:"Minha Localizao"})]})})}),w?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Obtendo sua localizao..."})]})}):u?e.jsxs(C5,{center:u||[-23.55052,-46.633308],zoom:15,style:{height:"100%",width:"100%"},children:[u&&e.jsx(Ib,{userLocation:u}),e.jsxs(Pl,{position:"topright",children:[e.jsx(Pl.BaseLayer,{checked:ee!=="dark",name:"OSM Claro",children:e.jsx(Gh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),e.jsx(Pl.BaseLayer,{checked:ee==="dark",name:"Carto Escuro",children:e.jsx(Gh,{attribution:' <a href="https://carto.com/">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"})})]}),u&&e.jsx(Zh,{position:u,icon:Vh.divIcon({className:"custom-div-icon",html:`<div style="position: relative; width: 28px; height: 34px;">
                                <div style="position:absolute; left:50%; top:50%; transform: translate(-50%, -55%); background-color: ${z?"#10b981":"#3b82f6"}; width: 24px; height: 24px; border-radius: 50%; border: 4px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.4); animation: pulse 2s infinite; ${z?"border-color: #10b981;":""}"></div>
                                <div style="position:absolute; left:50%; bottom:0; transform: translate(-50%, 50%); width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 8px solid #fff; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.25));"></div>
                              </div>`,iconSize:[28,34],iconAnchor:[14,30]})}),lt.map(ne=>{const Te=_t[ne.id];if(!Te)return null;const Ue=Ut===ne.id,tt=N?.id===ne.id;return e.jsx(Zh,{position:Te,draggable:Ue,icon:Vh.divIcon({className:"custom-div-icon",html:`<div style="position: relative; width: 34px; height: 34px;">
                                    <div style="position:absolute; left:50%; top:50%; transform: translate(-50%, -50%); width: 32px; height: 32px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); background-image: url('/service-icon.png'); background-size: cover; background-position: center; background-repeat: no-repeat; ${tt?"animation: pulse 2s infinite;":""}"></div>
                                    <div style="position:absolute; left:50%; bottom:0; transform: translate(-50%, 50%); width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 8px solid #fff; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.25));"></div>
                                  </div>`,iconSize:[34,40],iconAnchor:[17,34]}),eventHandlers:{click:()=>{Ue?Qt(null):bs(ne)},dragend:ot=>{if(Ue){const qt=ot.target.getLatLng();Lt(yt=>({...yt,[ne.id]:[qt.lat,qt.lng]})),Qt(null),ie({title:"Posio Atualizada",description:"A posio da solicitao foi ajustada manualmente."})}}}},ne.id)})]},`map-${E}-${u?`${u[0]}-${u[1]}`:"fallback"}`):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vs,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Clique para obter sua localizao"}),e.jsx(Ie,{size:"sm",onClick:Js,disabled:w,className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:w?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"h-4 w-4 mr-1"}),"Obter Localizao"]})})]})}),e.jsx("div",{className:"absolute left-0 right-0 bottom-0 p-2 text-center pointer-events-none",children:e.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 rounded-lg px-3 py-2 shadow-lg",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium mb-1",children:["Mostrando servios em um raio de ",o,"km"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Sua localizao"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("span",{children:["Solicitaes (",lt.length,")"]})]}),N&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Selecionado"})]})]})]})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Solicitaes Disponveis"}),vt.length>0&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" ",vt.length," endereo(s) no localizados"]})]}),e.jsx(Ie,{variant:"outline",size:"sm",onClick:Wr,disabled:He,className:"h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:He?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-primary mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Carregando..."}),e.jsx("span",{className:"sm:hidden",children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Xv,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Atualizar"}),e.jsx("span",{className:"sm:hidden",children:"Atualizar"})]})})]}),He?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsxs("div",{className:"relative mx-auto mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-gray-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 sm:w-16 sm:h-16 border-4 border-primary rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+Ze*.36}% 0%, ${50+Ze*.36}% 50%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs sm:text-sm font-medium text-primary",children:[Ze,"%"]})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-2",children:at}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2 max-w-xs mx-auto",children:e.jsx("div",{className:"bg-primary h-1.5 sm:h-2 rounded-full transition-all duration-300",style:{width:`${Ze}%`}})})]}):lt.length===0?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(kl,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-2",children:"Nenhuma solicitao disponvel"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Novas solicitaes aparecero aqui automaticamente"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:[" ",e.jsx("strong",{children:"Dica:"})," Clique nos pins amarelos no mapa para ver detalhes dos servios!"]})})]}):lt.map(ne=>e.jsx(ct,{id:`service-${ne.id}`,className:"border-l-4 border-l-primary transition-all duration-300",children:e.jsx(dt,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsxs("h4",{className:"font-semibold text-sm sm:text-base lg:text-lg",children:["Solicitao #",ne.id]}),e.jsx(Os,{variant:"outline",className:"text-xs w-fit",children:ne.category==="fisioterapeuta"?"Fisioterapeuta":ne.category==="acompanhante_hospitalar"?"Acompanhante":ne.category==="tecnico_enfermagem"?"Tcnico Enfermagem":ne.category})]}),e.jsx("p",{className:"font-medium text-primary mb-1 text-sm sm:text-base",children:ne.serviceType}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:ne.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(vs,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:ne.address||ne.location||"No informado"})]}),e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(er,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[new Date(ne.scheduledDate).toLocaleDateString("pt-BR")," s ",ne.scheduledTime]})]}),e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(Hn,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{children:[ne.responses||0," respostas"]})]}),_t[ne.id]&&u&&e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx("span",{className:"h-3 w-3 flex-shrink-0",children:""}),e.jsxs("span",{children:[Mr(u[0],u[1],_t[ne.id][0],_t[ne.id][1]).toFixed(1)," km"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[ne.budget&&e.jsxs("p",{className:"text-sm sm:text-base lg:text-lg font-bold text-green-600",children:["R$ ",parseFloat(ne.budget).toFixed(2)]}),e.jsx(Ie,{size:"sm",className:"w-full sm:w-auto h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>ss(ne.id),children:"Ofertar Servio"})]})]})})},ne.id))]})]})]})}),e.jsx(Ya,{value:"performance",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(kh,{className:"h-5 w-5"}),"Metas do Ms"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>Q("services"),className:`px-3 py-1.5 rounded-md text-sm font-medium ${K==="services"?"bg-yellow-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"Meta por Servios"}),e.jsx("button",{onClick:()=>Q("revenue"),className:`px-3 py-1.5 rounded-md text-sm font-medium ${K==="revenue"?"bg-yellow-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:"Meta por Receita"}),e.jsxs("button",{onClick:Ce,className:"ml-2 inline-flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium bg-white dark:bg-gray-900 border hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsx(_u,{className:"h-4 w-4"}),"Gerar Relatrio (PDF)"]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto w-full sm:w-auto sm:flex-nowrap flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"CPF/CNPJ",value:fe,onChange:ne=>ge(ne.target.value),className:"px-3 py-1.5 rounded-md border bg-white dark:bg-gray-900 text-sm w-full sm:w-36"}),e.jsx("input",{type:"date",value:pe,onChange:ne=>Ae(ne.target.value),className:"px-3 py-1.5 rounded-md border bg-white dark:bg-gray-900 text-sm w-[140px]"}),e.jsx("span",{className:"text-sm text-gray-500",children:"a"}),e.jsx("input",{type:"date",value:Re,onChange:ne=>We(ne.target.value),className:"px-3 py-1.5 rounded-md border bg-white dark:bg-gray-900 text-sm w-[140px]"})]})]}),K==="services"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Defina sua meta de servios no ms"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",min:1,value:se,onChange:ne=>ae(Math.max(1,parseInt(ne.target.value||"0"))),className:"w-28 px-3 py-2 rounded-md border bg-white dark:bg-gray-900"}),e.jsx("span",{className:"self-center text-sm text-gray-500",children:"servios"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Defina sua meta de receita no ms"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"self-center text-sm text-gray-500",children:"R$"}),e.jsx("input",{type:"number",min:100,step:50,value:he,onChange:ne=>we(Math.max(100,parseFloat(ne.target.value||"0"))),className:"w-32 px-3 py-2 rounded-md border bg-white dark:bg-gray-900"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Servios concludos"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[J,"/",se," (",Math.min(100,Math.round(J/(se||1)*100)),"%)"]})]}),e.jsx("div",{className:"w-full h-2.5 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2.5 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full transition-all",style:{width:`${Math.min(100,J/(se||1)*100)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Receita do ms"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["R$ ",ve.toLocaleString("pt-BR")," / R$ ",he.toLocaleString("pt-BR")," (",Math.min(100,Math.round(ve/(he||1)*100)),"%)"]})]}),e.jsx("div",{className:"w-full h-2.5 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2.5 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all",style:{width:`${Math.min(100,ve/(he||1)*100)}%`}})})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Dica: aumente sua disponibilidade e responda rpido para bater a meta!"})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx($v,{className:"h-5 w-5"}),"Servios Concludos (ms)"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-3 max-h-80 overflow-auto pr-1",children:[O.filter(ne=>(ne.status||"")==="completed").length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum servio concludo neste ms ainda."}),O.filter(ne=>{const Te=new Date,Ue=new Date(Te.getFullYear(),Te.getMonth(),1),tt=new Date(Te.getFullYear(),Te.getMonth()+1,0,23,59,59,999),ot=ne.scheduledFor?new Date(ne.scheduledFor):ne.createdAt?new Date(ne.createdAt):null;return ot&&ot>=Ue&&ot<=tt&&(ne.status||"")==="completed"}).sort((ne,Te)=>new Date(Te.scheduledFor||Te.createdAt).getTime()-new Date(ne.scheduledFor||ne.createdAt).getTime()).map((ne,Te)=>{const Ue=typeof ne.totalCost=="string"?parseFloat(ne.totalCost):Number(ne.totalCost||0);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-white dark:bg-gray-900",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:ne.serviceType||"Servio"}),e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[ne.professionalName||"Cliente","  ",new Date(ne.scheduledFor||ne.createdAt).toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-green-600",children:["+ R$ ",Number(Ue).toLocaleString("pt-BR")]}),e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:"Concludo"})]})]},Te)})]})})]}),e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(xn,{className:"h-5 w-5"}),"Histrico de Ganhos (ms)"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-3 max-h-96 overflow-auto pr-1",children:[O.filter(ne=>(ne.status||"")==="completed").length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"Sem ganhos registrados neste ms ainda."}),O.filter(ne=>{const Te=new Date,Ue=new Date(Te.getFullYear(),Te.getMonth(),1),tt=new Date(Te.getFullYear(),Te.getMonth()+1,0,23,59,59,999),ot=ne.scheduledFor?new Date(ne.scheduledFor):ne.createdAt?new Date(ne.createdAt):null;return ot&&ot>=Ue&&ot<=tt&&(ne.status||"")==="completed"}).sort((ne,Te)=>new Date(Te.scheduledFor||Te.createdAt).getTime()-new Date(ne.scheduledFor||ne.createdAt).getTime()).map((ne,Te)=>{const Ue=typeof ne.totalCost=="string"?parseFloat(ne.totalCost):Number(ne.totalCost||0);return e.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg bg-white dark:bg-gray-900",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ne.serviceType||"Servio"}),e.jsx("p",{className:"text-xs text-gray-600",children:new Date(ne.scheduledFor||ne.createdAt).toLocaleDateString("pt-BR")})]}),e.jsxs("p",{className:"font-semibold text-green-600",children:["+ R$ ",Number(Ue).toLocaleString("pt-BR")]})]},Te)})]})})]})]})]})}),e.jsx(Ya,{value:"schedule",className:"space-y-8",children:e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-5 w-5"}),"Prximos Agendamentos"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 border border-orange-200 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"bg-orange-500 text-white rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(yr,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Maria Silva"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Fisioterapia Respiratria"}),e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Hoje s 14:00  Vila Madalena"})]}),e.jsx(Ie,{size:"sm",children:"Ver Detalhes"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(er,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Joo Santos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhamento Hospitalar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Amanh s 08:00  Hospital das Clnicas"})]}),e.jsx(Ie,{variant:"outline",size:"sm",children:"Ver Detalhes"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 text-green-600 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(Ch,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Ana Costa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Curativo Domiciliar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Quinta-feira s 16:00  Jardins"})]}),e.jsx(Ie,{variant:"outline",size:"sm",children:"Ver Detalhes"})]})]})})]})}),e.jsx(Ya,{value:"earnings",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(ct,{className:"lg:col-span-1",children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(kh,{className:"h-5 w-5"}),"Meta de Ganhos"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Defina sua meta de receita no ms"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"self-center text-sm text-gray-500",children:"R$"}),e.jsx("input",{type:"number",min:100,step:50,value:he,onChange:ne=>we(Math.max(100,parseFloat(ne.target.value||"0"))),className:"w-32 px-3 py-2 rounded-md border bg-white dark:bg-gray-900"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Receita do ms"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["R$ ",ve.toLocaleString("pt-BR")," / R$ ",he.toLocaleString("pt-BR")]})]}),e.jsx("div",{className:"w-full h-3 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full transition-all",style:{width:`${Math.min(100,ve/(he||1)*100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.min(100,Math.round(ve/(he||1)*100)),"% da meta atingida"]})]})]})})]}),e.jsxs(ct,{className:"lg:col-span-2",children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(xn,{className:"h-5 w-5"}),"Histrico de Ganhos (ms)"]})}),e.jsx(dt,{children:e.jsxs("div",{className:"space-y-3 max-h-96 overflow-auto pr-1",children:[O.filter(ne=>(ne.status||"")==="completed").length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"Sem ganhos registrados neste ms ainda."}),O.filter(ne=>{const Te=new Date,Ue=new Date(Te.getFullYear(),Te.getMonth(),1),tt=new Date(Te.getFullYear(),Te.getMonth()+1,0,23,59,59,999),ot=ne.scheduledFor?new Date(ne.scheduledFor):ne.createdAt?new Date(ne.createdAt):null;return ot&&ot>=Ue&&ot<=tt&&(ne.status||"")==="completed"}).sort((ne,Te)=>new Date(Te.scheduledFor||Te.createdAt).getTime()-new Date(ne.scheduledFor||ne.createdAt).getTime()).map((ne,Te)=>{const Ue=typeof ne.totalCost=="string"?parseFloat(ne.totalCost):Number(ne.totalCost||0);return e.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg bg-white dark:bg-gray-900",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ne.serviceType||"Servio"}),e.jsx("p",{className:"text-xs text-gray-600",children:new Date(ne.scheduledFor||ne.createdAt).toLocaleDateString("pt-BR")})]}),e.jsxs("p",{className:"font-semibold text-green-600",children:["+ R$ ",Number(Ue).toLocaleString("pt-BR")]})]},Te)})]})})]})]})})]})]})]}),e.jsx(Ol,{open:D,onOpenChange:q,children:e.jsxs(el,{className:"max-w-2xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-xl",children:[e.jsxs(tl,{children:[e.jsxs(sl,{className:"flex items-center gap-2 text-xl",children:[e.jsx(vs,{className:"h-6 w-6 text-yellow-500"}),"Detalhes da Solicitao"]}),e.jsx(Ep,{children:"Informaes completas sobre o cliente e o servio solicitado"})]}),N&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[N.clientProfileImage?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${pt()}${N.clientProfileImage}`,alt:N.clientName||"Cliente",className:"w-full h-full object-cover",onError:ne=>{const Te=ne.target;Te.style.display="none";const Ue=Te.parentElement;Ue&&(Ue.innerHTML=`
                                  <div class="w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                    <span class="text-white text-xl font-bold">
                                      ${N.clientName?N.clientName.charAt(0).toUpperCase():"C"}
                                    </span>
                                  </div>
                                `)}})}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:N.clientName?N.clientName.charAt(0).toUpperCase():"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:N.clientName||"Cliente"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Un,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:N.clientRating||"5.0"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[N.clientServices||"0"," servios"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cliente desde ",N.clientSince?new Date(N.clientSince).getFullYear():"2024"]})]})]}),e.jsx("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:N.status==="open"?"Aberta":N.status==="in_progress"?"Em Andamento":N.status==="completed"?"Concluda":"Normal"})]})}),e.jsxs("div",{className:"p-6 pt-0 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-primary mb-2",children:N.serviceType||"Servio Solicitado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:N.description||"Descrio do servio no disponvel"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(xn,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Oramento"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",N.budget?parseFloat(N.budget).toFixed(2):"0,00"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(vs,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Distncia"}),e.jsx("p",{className:"font-semibold text-blue-600",children:_t[N.id]&&u?`${Mr(u[0],u[1],_t[N.id][0],_t[N.id][1]).toFixed(1)} km`:"0 km"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(yr,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Horrio"}),e.jsx("p",{className:"font-semibold text-purple-600",children:N.scheduledTime||"No definido"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Hn,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respostas"}),e.jsx("p",{className:"font-semibold text-orange-600",children:N.responses||0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4 text-gray-500"}),"Endereo"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:N.address||"Endereo no informado"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-gray-500"}),"Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:N.scheduledDate?new Date(N.scheduledDate).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Data no definida"})]}),N.additionalInfo&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Ar,{className:"h-4 w-4 text-gray-500"}),"Detalhes Adicionais"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:N.additionalInfo})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(Ie,{onClick:()=>ss(N.id),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Fazer Proposta"]}),e.jsx(Ie,{variant:"outline",onClick:ur,className:"flex-1",children:"Fechar"})]}),e.jsxs(Ie,{variant:"ghost",size:"sm",onClick:Xt,className:"w-full text-xs",children:[e.jsx(vs,{className:"h-3 w-3 mr-1"}),"Limpar Seleo no Mapa"]})]})]})})]})}function bf(s,[r,n]){return Math.min(n,Math.max(r,s))}var Rb=[" ","Enter","ArrowUp","ArrowDown"],Ob=[" ","Enter"],xo="Select",[Gc,Yc,Db]=_f(xo),[cl,Gw]=yo(xo,[Db,Mc]),Kc=Mc(),[Fb,Ri]=cl(xo),[zb,Bb]=cl(xo),Dg=s=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:o,onOpenChange:l,value:d,defaultValue:f,onValueChange:u,dir:x,name:w,autoComplete:v,disabled:j,required:p,form:k}=s,_=Kc(r),[I,S]=M.useState(null),[N,A]=M.useState(null),[D,q]=M.useState(!1),ee=Rf(x),[$,U]=Yo({prop:a,defaultProp:o??!1,onChange:l,caller:xo}),[Y,ie]=Yo({prop:d,defaultProp:f,onChange:u,caller:xo}),E=M.useRef(null),T=I?k||!!I.closest("form"):!0,[z,F]=M.useState(new Set),le=Array.from(z).map(X=>X.props.value).join(";");return e.jsx(Cf,{..._,children:e.jsxs(Fb,{required:p,scope:r,trigger:I,onTriggerChange:S,valueNode:N,onValueNodeChange:A,valueNodeHasChildren:D,onValueNodeHasChildrenChange:q,contentId:Hl(),value:Y,onValueChange:ie,open:$,onOpenChange:U,dir:ee,triggerPointerDownPosRef:E,disabled:j,children:[e.jsx(Gc.Provider,{scope:r,children:e.jsx(zb,{scope:s.__scopeSelect,onNativeOptionAdd:M.useCallback(X=>{F(O=>new Set(O).add(X))},[]),onNativeOptionRemove:M.useCallback(X=>{F(O=>{const G=new Set(O);return G.delete(X),G})},[]),children:n})}),T?e.jsxs(o0,{"aria-hidden":!0,required:p,tabIndex:-1,name:w,autoComplete:v,value:Y,onChange:X=>ie(X.target.value),disabled:j,form:k,children:[Y===void 0?e.jsx("option",{value:""}):null,Array.from(z)]},le):null]})})};Dg.displayName=xo;var Fg="SelectTrigger",zg=M.forwardRef((s,r)=>{const{__scopeSelect:n,disabled:a=!1,...o}=s,l=Kc(n),d=Ri(Fg,n),f=d.disabled||a,u=br(r,d.onTriggerChange),x=Yc(n),w=M.useRef("touch"),[v,j,p]=c0(_=>{const I=x().filter(A=>!A.disabled),S=I.find(A=>A.value===d.value),N=d0(I,_,S);N!==void 0&&d.onValueChange(N.value)}),k=_=>{f||(d.onOpenChange(!0),p()),_&&(d.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return e.jsx(Lf,{asChild:!0,...l,children:e.jsx(ls.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":l0(d.value)?"":void 0,...o,ref:u,onClick:Wt(o.onClick,_=>{_.currentTarget.focus(),w.current!=="mouse"&&k(_)}),onPointerDown:Wt(o.onPointerDown,_=>{w.current=_.pointerType;const I=_.target;I.hasPointerCapture(_.pointerId)&&I.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(k(_),_.preventDefault())}),onKeyDown:Wt(o.onKeyDown,_=>{const I=v.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&j(_.key),!(I&&_.key===" ")&&Rb.includes(_.key)&&(k(),_.preventDefault())})})})});zg.displayName=Fg;var Bg="SelectValue",qg=M.forwardRef((s,r)=>{const{__scopeSelect:n,className:a,style:o,children:l,placeholder:d="",...f}=s,u=Ri(Bg,n),{onValueNodeHasChildrenChange:x}=u,w=l!==void 0,v=br(r,u.onValueNodeChange);return Wn(()=>{x(w)},[x,w]),e.jsx(ls.span,{...f,ref:v,style:{pointerEvents:"none"},children:l0(u.value)?e.jsx(e.Fragment,{children:d}):l})});qg.displayName=Bg;var qb="SelectIcon",Hg=M.forwardRef((s,r)=>{const{__scopeSelect:n,children:a,...o}=s;return e.jsx(ls.span,{"aria-hidden":!0,...o,ref:r,children:a||""})});Hg.displayName=qb;var Hb="SelectPortal",Ug=s=>e.jsx(jf,{asChild:!0,...s});Ug.displayName=Hb;var vo="SelectContent",$g=M.forwardRef((s,r)=>{const n=Ri(vo,s.__scopeSelect),[a,o]=M.useState();if(Wn(()=>{o(new DocumentFragment)},[]),!n.open){const l=a;return l?lu.createPortal(e.jsx(Wg,{scope:s.__scopeSelect,children:e.jsx(Gc.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),l):null}return e.jsx(Vg,{...s,ref:r})});$g.displayName=vo;var ia=10,[Wg,Oi]=cl(vo),Ub="SelectContentImpl",$b=kx("SelectContent.RemoveScroll"),Vg=M.forwardRef((s,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:d,side:f,sideOffset:u,align:x,alignOffset:w,arrowPadding:v,collisionBoundary:j,collisionPadding:p,sticky:k,hideWhenDetached:_,avoidCollisions:I,...S}=s,N=Ri(vo,n),[A,D]=M.useState(null),[q,ee]=M.useState(null),$=br(r,he=>D(he)),[U,Y]=M.useState(null),[ie,E]=M.useState(null),T=Yc(n),[z,F]=M.useState(!1),le=M.useRef(!1);M.useEffect(()=>{if(A)return _x(A)},[A]),jx();const X=M.useCallback(he=>{const[we,...fe]=T().map(Ae=>Ae.ref.current),[ge]=fe.slice(-1),pe=document.activeElement;for(const Ae of he)if(Ae===pe||(Ae?.scrollIntoView({block:"nearest"}),Ae===we&&q&&(q.scrollTop=0),Ae===ge&&q&&(q.scrollTop=q.scrollHeight),Ae?.focus(),document.activeElement!==pe))return},[T,q]),O=M.useCallback(()=>X([U,A]),[X,U,A]);M.useEffect(()=>{z&&O()},[z,O]);const{onOpenChange:G,triggerPointerDownPosRef:J}=N;M.useEffect(()=>{if(A){let he={x:0,y:0};const we=ge=>{he={x:Math.abs(Math.round(ge.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(J.current?.y??0))}},fe=ge=>{he.x<=10&&he.y<=10?ge.preventDefault():A.contains(ge.target)||G(!1),document.removeEventListener("pointermove",we),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",fe,{capture:!0})}}},[A,G,J]),M.useEffect(()=>{const he=()=>G(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[G]);const[ce,ve]=c0(he=>{const we=T().filter(pe=>!pe.disabled),fe=we.find(pe=>pe.ref.current===document.activeElement),ge=d0(we,he,fe);ge&&setTimeout(()=>ge.ref.current.focus())}),R=M.useCallback((he,we,fe)=>{const ge=!le.current&&!fe;(N.value!==void 0&&N.value===we||ge)&&(Y(he),ge&&(le.current=!0))},[N.value]),K=M.useCallback(()=>A?.focus(),[A]),Q=M.useCallback((he,we,fe)=>{const ge=!le.current&&!fe;(N.value!==void 0&&N.value===we||ge)&&E(he)},[N.value]),se=a==="popper"?su:Zg,ae=se===su?{side:f,sideOffset:u,align:x,alignOffset:w,arrowPadding:v,collisionBoundary:j,collisionPadding:p,sticky:k,hideWhenDetached:_,avoidCollisions:I}:{};return e.jsx(Wg,{scope:n,content:A,viewport:q,onViewportChange:ee,itemRefCallback:R,selectedItem:U,onItemLeave:K,itemTextRefCallback:Q,focusSelectedItem:O,selectedItemText:ie,position:a,isPositioned:z,searchRef:ce,children:e.jsx(Sx,{as:$b,allowPinchZoom:!0,children:e.jsx(Px,{asChild:!0,trapped:N.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Wt(o,he=>{N.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:e.jsx(Sf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:e.jsx(se,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:he=>he.preventDefault(),...S,...ae,onPlaced:()=>F(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Wt(S.onKeyDown,he=>{const we=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!we&&he.key.length===1&&ve(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ge=T().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const pe=he.target,Ae=ge.indexOf(pe);ge=ge.slice(Ae+1)}setTimeout(()=>X(ge)),he.preventDefault()}})})})})})})});Vg.displayName=Ub;var Wb="SelectItemAlignedPosition",Zg=M.forwardRef((s,r)=>{const{__scopeSelect:n,onPlaced:a,...o}=s,l=Ri(vo,n),d=Oi(vo,n),[f,u]=M.useState(null),[x,w]=M.useState(null),v=br(r,$=>w($)),j=Yc(n),p=M.useRef(!1),k=M.useRef(!0),{viewport:_,selectedItem:I,selectedItemText:S,focusSelectedItem:N}=d,A=M.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&x&&_&&I&&S){const $=l.trigger.getBoundingClientRect(),U=x.getBoundingClientRect(),Y=l.valueNode.getBoundingClientRect(),ie=S.getBoundingClientRect();if(l.dir!=="rtl"){const pe=ie.left-U.left,Ae=Y.left-pe,Re=$.left-Ae,We=$.width+Re,Ce=Math.max(We,U.width),ue=window.innerWidth-ia,lt=bf(Ae,[ia,Math.max(ia,ue-Ce)]);f.style.minWidth=We+"px",f.style.left=lt+"px"}else{const pe=U.right-ie.right,Ae=window.innerWidth-Y.right-pe,Re=window.innerWidth-$.right-Ae,We=$.width+Re,Ce=Math.max(We,U.width),ue=window.innerWidth-ia,lt=bf(Ae,[ia,Math.max(ia,ue-Ce)]);f.style.minWidth=We+"px",f.style.right=lt+"px"}const E=j(),T=window.innerHeight-ia*2,z=_.scrollHeight,F=window.getComputedStyle(x),le=parseInt(F.borderTopWidth,10),X=parseInt(F.paddingTop,10),O=parseInt(F.borderBottomWidth,10),G=parseInt(F.paddingBottom,10),J=le+X+z+G+O,ce=Math.min(I.offsetHeight*5,J),ve=window.getComputedStyle(_),R=parseInt(ve.paddingTop,10),K=parseInt(ve.paddingBottom,10),Q=$.top+$.height/2-ia,se=T-Q,ae=I.offsetHeight/2,he=I.offsetTop+ae,we=le+X+he,fe=J-we;if(we<=Q){const pe=E.length>0&&I===E[E.length-1].ref.current;f.style.bottom="0px";const Ae=x.clientHeight-_.offsetTop-_.offsetHeight,Re=Math.max(se,ae+(pe?K:0)+Ae+O),We=we+Re;f.style.height=We+"px"}else{const pe=E.length>0&&I===E[0].ref.current;f.style.top="0px";const Re=Math.max(Q,le+_.offsetTop+(pe?R:0)+ae)+fe;f.style.height=Re+"px",_.scrollTop=we-Q+_.offsetTop}f.style.margin=`${ia}px 0`,f.style.minHeight=ce+"px",f.style.maxHeight=T+"px",a?.(),requestAnimationFrame(()=>p.current=!0)}},[j,l.trigger,l.valueNode,f,x,_,I,S,l.dir,a]);Wn(()=>A(),[A]);const[D,q]=M.useState();Wn(()=>{x&&q(window.getComputedStyle(x).zIndex)},[x]);const ee=M.useCallback($=>{$&&k.current===!0&&(A(),N?.(),k.current=!1)},[A,N]);return e.jsx(Zb,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:p,onScrollButtonChange:ee,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:e.jsx(ls.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Zg.displayName=Wb;var Vb="SelectPopperPosition",su=M.forwardRef((s,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:o=ia,...l}=s,d=Kc(n);return e.jsx(kf,{...d,...l,ref:r,align:a,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});su.displayName=Vb;var[Zb,qu]=cl(vo,{}),ru="SelectViewport",Gg=M.forwardRef((s,r)=>{const{__scopeSelect:n,nonce:a,...o}=s,l=Oi(ru,n),d=qu(ru,n),f=br(r,l.onViewportChange),u=M.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Gc.Slot,{scope:n,children:e.jsx(ls.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Wt(o.onScroll,x=>{const w=x.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:j}=d;if(j?.current&&v){const p=Math.abs(u.current-w.scrollTop);if(p>0){const k=window.innerHeight-ia*2,_=parseFloat(v.style.minHeight),I=parseFloat(v.style.height),S=Math.max(_,I);if(S<k){const N=S+p,A=Math.min(k,N),D=N-A;v.style.height=A+"px",v.style.bottom==="0px"&&(w.scrollTop=D>0?D:0,v.style.justifyContent="flex-end")}}}u.current=w.scrollTop})})})]})});Gg.displayName=ru;var Yg="SelectGroup",[Gb,Yb]=cl(Yg),Kb=M.forwardRef((s,r)=>{const{__scopeSelect:n,...a}=s,o=Hl();return e.jsx(Gb,{scope:n,id:o,children:e.jsx(ls.div,{role:"group","aria-labelledby":o,...a,ref:r})})});Kb.displayName=Yg;var Kg="SelectLabel",Jg=M.forwardRef((s,r)=>{const{__scopeSelect:n,...a}=s,o=Yb(Kg,n);return e.jsx(ls.div,{id:o.id,...a,ref:r})});Jg.displayName=Kg;var Ec="SelectItem",[Jb,Qg]=cl(Ec),Xg=M.forwardRef((s,r)=>{const{__scopeSelect:n,value:a,disabled:o=!1,textValue:l,...d}=s,f=Ri(Ec,n),u=Oi(Ec,n),x=f.value===a,[w,v]=M.useState(l??""),[j,p]=M.useState(!1),k=br(r,N=>u.itemRefCallback?.(N,a,o)),_=Hl(),I=M.useRef("touch"),S=()=>{o||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Jb,{scope:n,value:a,disabled:o,textId:_,isSelected:x,onItemTextChange:M.useCallback(N=>{v(A=>A||(N?.textContent??"").trim())},[]),children:e.jsx(Gc.ItemSlot,{scope:n,value:a,disabled:o,textValue:w,children:e.jsx(ls.div,{role:"option","aria-labelledby":_,"data-highlighted":j?"":void 0,"aria-selected":x&&j,"data-state":x?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:k,onFocus:Wt(d.onFocus,()=>p(!0)),onBlur:Wt(d.onBlur,()=>p(!1)),onClick:Wt(d.onClick,()=>{I.current!=="mouse"&&S()}),onPointerUp:Wt(d.onPointerUp,()=>{I.current==="mouse"&&S()}),onPointerDown:Wt(d.onPointerDown,N=>{I.current=N.pointerType}),onPointerMove:Wt(d.onPointerMove,N=>{I.current=N.pointerType,o?u.onItemLeave?.():I.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(d.onPointerLeave,N=>{N.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:Wt(d.onKeyDown,N=>{u.searchRef?.current!==""&&N.key===" "||(Ob.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});Xg.displayName=Ec;var jl="SelectItemText",e0=M.forwardRef((s,r)=>{const{__scopeSelect:n,className:a,style:o,...l}=s,d=Ri(jl,n),f=Oi(jl,n),u=Qg(jl,n),x=Bb(jl,n),[w,v]=M.useState(null),j=br(r,S=>v(S),u.onItemTextChange,S=>f.itemTextRefCallback?.(S,u.value,u.disabled)),p=w?.textContent,k=M.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:_,onNativeOptionRemove:I}=x;return Wn(()=>(_(k),()=>I(k)),[_,I,k]),e.jsxs(e.Fragment,{children:[e.jsx(ls.span,{id:u.textId,...l,ref:j}),u.isSelected&&d.valueNode&&!d.valueNodeHasChildren?lu.createPortal(l.children,d.valueNode):null]})});e0.displayName=jl;var t0="SelectItemIndicator",s0=M.forwardRef((s,r)=>{const{__scopeSelect:n,...a}=s;return Qg(t0,n).isSelected?e.jsx(ls.span,{"aria-hidden":!0,...a,ref:r}):null});s0.displayName=t0;var nu="SelectScrollUpButton",r0=M.forwardRef((s,r)=>{const n=Oi(nu,s.__scopeSelect),a=qu(nu,s.__scopeSelect),[o,l]=M.useState(!1),d=br(r,a.onScrollButtonChange);return Wn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const x=u.scrollTop>0;l(x)};const u=n.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),o?e.jsx(a0,{...s,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:u}=n;f&&u&&(f.scrollTop=f.scrollTop-u.offsetHeight)}}):null});r0.displayName=nu;var au="SelectScrollDownButton",n0=M.forwardRef((s,r)=>{const n=Oi(au,s.__scopeSelect),a=qu(au,s.__scopeSelect),[o,l]=M.useState(!1),d=br(r,a.onScrollButtonChange);return Wn(()=>{if(n.viewport&&n.isPositioned){let f=function(){const x=u.scrollHeight-u.clientHeight,w=Math.ceil(u.scrollTop)<x;l(w)};const u=n.viewport;return f(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),o?e.jsx(a0,{...s,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:u}=n;f&&u&&(f.scrollTop=f.scrollTop+u.offsetHeight)}}):null});n0.displayName=au;var a0=M.forwardRef((s,r)=>{const{__scopeSelect:n,onAutoScroll:a,...o}=s,l=Oi("SelectScrollButton",n),d=M.useRef(null),f=Yc(n),u=M.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return M.useEffect(()=>()=>u(),[u]),Wn(()=>{f().find(w=>w.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),e.jsx(ls.div,{"aria-hidden":!0,...o,ref:r,style:{flexShrink:0,...o.style},onPointerDown:Wt(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:Wt(o.onPointerMove,()=>{l.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:Wt(o.onPointerLeave,()=>{u()})})}),Qb="SelectSeparator",i0=M.forwardRef((s,r)=>{const{__scopeSelect:n,...a}=s;return e.jsx(ls.div,{"aria-hidden":!0,...a,ref:r})});i0.displayName=Qb;var iu="SelectArrow",Xb=M.forwardRef((s,r)=>{const{__scopeSelect:n,...a}=s,o=Kc(n),l=Ri(iu,n),d=Oi(iu,n);return l.open&&d.position==="popper"?e.jsx(Af,{...o,...a,ref:r}):null});Xb.displayName=iu;var ew="SelectBubbleInput",o0=M.forwardRef(({__scopeSelect:s,value:r,...n},a)=>{const o=M.useRef(null),l=br(a,o),d=Hp(r);return M.useEffect(()=>{const f=o.current;if(!f)return;const u=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(u,"value").set;if(d!==r&&w){const v=new Event("change",{bubbles:!0});w.call(f,r),f.dispatchEvent(v)}},[d,r]),e.jsx(ls.select,{...n,style:{...hm,...n.style},ref:l,defaultValue:r})});o0.displayName=ew;function l0(s){return s===""||s===void 0}function c0(s){const r=Ko(s),n=M.useRef(""),a=M.useRef(0),o=M.useCallback(d=>{const f=n.current+d;r(f),function u(x){n.current=x,window.clearTimeout(a.current),x!==""&&(a.current=window.setTimeout(()=>u(""),1e3))}(f)},[r]),l=M.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,o,l]}function d0(s,r,n){const o=r.length>1&&Array.from(r).every(x=>x===r[0])?r[0]:r,l=n?s.indexOf(n):-1;let d=tw(s,Math.max(l,0));o.length===1&&(d=d.filter(x=>x!==n));const u=d.find(x=>x.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function tw(s,r){return s.map((n,a)=>s[(r+a)%s.length])}var sw=Dg,u0=zg,rw=qg,nw=Hg,aw=Ug,h0=$g,iw=Gg,f0=Jg,m0=Xg,ow=e0,lw=s0,p0=r0,g0=n0,x0=i0;const Bl=sw,ql=rw,al=M.forwardRef(({className:s,children:r,...n},a)=>e.jsxs(u0,{ref:a,className:ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[r,e.jsx(nw,{asChild:!0,children:e.jsx(Nu,{className:"h-4 w-4 opacity-50"})})]}));al.displayName=u0.displayName;const v0=M.forwardRef(({className:s,...r},n)=>e.jsx(p0,{ref:n,className:ht("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Gv,{className:"h-4 w-4"})}));v0.displayName=p0.displayName;const y0=M.forwardRef(({className:s,...r},n)=>e.jsx(g0,{ref:n,className:ht("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(Nu,{className:"h-4 w-4"})}));y0.displayName=g0.displayName;const il=M.forwardRef(({className:s,children:r,position:n="popper",...a},o)=>e.jsx(aw,{children:e.jsxs(h0,{ref:o,className:ht("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...a,children:[e.jsx(v0,{}),e.jsx(iw,{className:ht("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(y0,{})]})}));il.displayName=h0.displayName;const cw=M.forwardRef(({className:s,...r},n)=>e.jsx(f0,{ref:n,className:ht("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r}));cw.displayName=f0.displayName;const gn=M.forwardRef(({className:s,children:r,...n},a)=>e.jsxs(m0,{ref:a,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lw,{children:e.jsx($l,{className:"h-4 w-4"})})}),e.jsx(ow,{children:r})]}));gn.displayName=m0.displayName;const dw=M.forwardRef(({className:s,...r},n)=>e.jsx(x0,{ref:n,className:ht("-mx-1 my-1 h-px bg-muted",s),...r}));dw.displayName=x0.displayName;const Cd={fisioterapeuta:{name:"Fisioterapeuta",icon:"",subServices:[{id:"terapias_especializadas",name:"Terapias Especializadas"}]},acompanhante_hospitalar:{name:"Acompanhante Hospitalar",icon:"",subServices:[{id:"acompanhamento_hospitalar",name:"Acompanhamento Hospitalar"},{id:"companhia_apoio_emocional",name:"Companhia e Apoio Emocional"}]},tecnico_enfermagem:{name:"Tcnico em Enfermagem",icon:"",subServices:[{id:"curativos_medicacao",name:"Curativos e Medicao"},{id:"preparacao_refeicoes",name:"Preparao de Refeies"},{id:"compras_transporte",name:"Compras e Transporte"},{id:"lavanderia_limpeza",name:"Lavanderia e Limpeza"}]}};function uw({onComplete:s}){const[r,n]=M.useState(1),[a,o]=M.useState({name:"",email:"",phone:"",address:"",category:"",subService:"",specialization:"",description:"",experience:"",certifications:"",hourlyRate:"",profileImage:null,documents:[]}),l=4,d=()=>{r<l?n(r+1):s()},f=()=>{r>1&&n(r-1)},u=(w,v)=>{o(j=>({...j,[w]:v}))},x=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Informaes Pessoais"}),e.jsx("p",{className:"text-gray-600",children:"Vamos comear com seus dados bsicos"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(Nt,{type:"text",placeholder:"Nome completo",value:a.name,onChange:w=>u("name",w.target.value),className:"pl-10 py-3",required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Pc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(Nt,{type:"email",placeholder:"E-mail profissional",value:a.email,onChange:w=>u("email",w.target.value),className:"pl-10 py-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(Nt,{type:"tel",placeholder:"(11) 99999-9999",value:a.phone,onChange:w=>u("phone",w.target.value),className:"pl-10 py-3",required:!0})]}),a.phone&&a.phone.length>=10&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(dr,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Telefone vlido"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(Nt,{type:"text",placeholder:"Cidade, Estado",value:a.address,onChange:w=>u("address",w.target.value),className:"pl-10 py-3",required:!0})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"rea de Atuao"}),e.jsx("p",{className:"text-gray-600",children:"Selecione sua especialidade profissional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Categoria Principal"}),e.jsxs(Bl,{value:a.category,onValueChange:w=>u("category",w),children:[e.jsx(al,{children:e.jsx(ql,{placeholder:"Selecione sua rea de atuao"})}),e.jsx(il,{children:Object.entries(Cd).map(([w,v])=>e.jsxs(gn,{value:w,children:[v.icon," ",v.name]},w))})]})]}),a.category&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Servio Especfico"}),e.jsxs(Bl,{value:a.subService,onValueChange:w=>u("subService",w),children:[e.jsx(al,{children:e.jsx(ql,{placeholder:"Selecione o servio especfico"})}),e.jsx(il,{children:Cd[a.category]?.subServices.map(w=>e.jsx(gn,{value:w.id,children:w.name},w.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Especializao"}),e.jsx(Nt,{placeholder:"Ex: Fisioterapia respiratria, Reabilitao neurolgica...",value:a.specialization,onChange:w=>u("specialization",w.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Descrio dos Servios"}),e.jsx($n,{placeholder:"Descreva em detalhes como voc realiza seus servios, metodologia e diferenciais...",rows:4,value:a.description,onChange:w=>u("description",w.target.value)})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Experincia e Qualificaes"}),e.jsx("p",{className:"text-gray-600",children:"Conte-nos sobre sua experincia profissional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(Nt,{placeholder:"Ex: 5 anos",value:a.experience,onChange:w=>u("experience",w.target.value),className:"pl-10"}),e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tempo de Experincia"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(Nt,{type:"number",placeholder:"80.00",value:a.hourlyRate,onChange:w=>u("hourlyRate",w.target.value),className:"pl-10"}),e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Valor por Hora (R$)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(Rm,{className:"h-4 w-4"}),"Certificaes e Qualificaes"]}),e.jsx($n,{placeholder:"Liste suas certificaes, cursos e qualificaes relevantes...",rows:4,value:a.certifications,onChange:w=>u("certifications",w.target.value)})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Documentao"}),e.jsx("p",{className:"text-gray-600",children:"Adicione sua foto e documentos profissionais"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(bo,{className:"h-4 w-4"}),"Foto de Perfil"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Ph,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para adicionar uma foto profissional"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG at 2MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(_u,{className:"h-4 w-4"}),"Documentos Profissionais"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Ph,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Adicione diplomas, certificados e registros profissionais"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG at 5MB cada"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(dr,{className:"h-5 w-5 text-blue-600"}),"Reviso dos Dados"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",a.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Categoria:"})," ",a.category&&Cd[a.category]?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Especializao:"})," ",a.specialization]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Experincia:"})," ",a.experience]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Valor/Hora:"})," R$ ",a.hourlyRate]})]})]})]})]});default:return null}};return e.jsx(nl,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cadastro de Profissional"})]})}),e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Vl,{size:40})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Cadastro do Profissional"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Junte-se  nossa rede de profissionais de sade"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-white/80 text-sm",children:["Etapa ",r," de ",l]}),e.jsxs("span",{className:"text-white/80 text-sm",children:[Math.round(r/l*100),"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${r/l*100}%`}})})]}),e.jsx(ct,{className:"bg-white/95 backdrop-blur-sm",children:e.jsxs(dt,{className:"p-6",children:[x(),e.jsxs("div",{className:"flex gap-3 mt-8",children:[r>1&&e.jsx(Ie,{variant:"outline",onClick:f,className:"flex-1",children:"Voltar"}),e.jsxs(Ie,{onClick:d,className:"flex-1",children:[r===l?"Finalizar Cadastro":"Continuar",e.jsx(Im,{className:"ml-2 h-4 w-4"})]})]})]})})]})]})})}function hw(){const{toast:s}=wr(),[r,n]=M.useState(""),[a,o]=M.useState("all"),[l,d]=M.useState([]),[f,u]=M.useState(!0),[x,w]=M.useState(null);M.useEffect(()=>{v()},[]);const v=async()=>{try{u(!0);const D=await fetch(`${pt()}/api/provider/orders`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(D.ok){const q=await D.json();d(q)}else console.error("Erro ao buscar pedidos:",D.statusText),s({title:"Erro",description:"No foi possvel carregar os pedidos",variant:"destructive"})}catch(D){console.error("Erro ao buscar pedidos:",D),s({title:"Erro",description:"Erro de conexo ao carregar pedidos",variant:"destructive"})}finally{u(!1)}},j=D=>{switch(D){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},p=D=>{switch(D){case"pending":return"Pendente";case"accepted":return"Aceito";case"rejected":return"Rejeitado";case"completed":return"Concludo";default:return"Desconhecido"}},k=D=>{switch(D){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},_=D=>{switch(D){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Desconhecida"}},I=l.filter(D=>{const q=D.clientName.toLowerCase().includes(r.toLowerCase())||D.serviceType.toLowerCase().includes(r.toLowerCase()),ee=a==="all"||D.status===a;return q&&ee}),S=async D=>{try{w(D);const q=await fetch(`${pt()}/api/provider/orders/${D}/accept`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(q.ok)s({title:"Sucesso",description:"Pedido aceito com sucesso!"}),v();else{const ee=await q.json();s({title:"Erro",description:ee.message||"Erro ao aceitar pedido",variant:"destructive"})}}catch(q){console.error("Erro ao aceitar pedido:",q),s({title:"Erro",description:"Erro de conexo ao aceitar pedido",variant:"destructive"})}finally{w(null)}},N=async D=>{try{w(D);const q=await fetch(`${pt()}/api/provider/orders/${D}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(q.ok)s({title:"Sucesso",description:"Pedido rejeitado com sucesso!"}),v();else{const ee=await q.json();s({title:"Erro",description:ee.message||"Erro ao rejeitar pedido",variant:"destructive"})}}catch(q){console.error("Erro ao rejeitar pedido:",q),s({title:"Erro",description:"Erro de conexo ao rejeitar pedido",variant:"destructive"})}finally{w(null)}},A=D=>{console.log(`Entrando em contato com cliente do pedido ${D}`)};return e.jsx(nl,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meus Pedidos"})]})}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Nt,{placeholder:"Buscar pedidos...",value:r,onChange:D=>n(D.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[e.jsx(Ie,{variant:a==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),children:"Todos"}),e.jsx(Ie,{variant:a==="pending"?"default":"outline",size:"sm",onClick:()=>o("pending"),children:"Pendentes"}),e.jsx(Ie,{variant:a==="accepted"?"default":"outline",size:"sm",onClick:()=>o("accepted"),children:"Aceitos"}),e.jsx(Ie,{variant:a==="completed"?"default":"outline",size:"sm",onClick:()=>o("completed"),children:"Concludos"})]})]}),e.jsx("div",{className:"space-y-4",children:f?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Lr,{className:"h-8 w-8 text-gray-400 animate-spin"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Carregando pedidos..."})]}):I.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(po,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum pedido encontrado"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r?"Tente ajustar sua busca":"Voc ainda no tem pedidos"})]}):I.map(D=>e.jsxs(ct,{className:"overflow-hidden",children:[e.jsx(ts,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:D.clientName}),e.jsx(Os,{className:j(D.status),children:p(D.status)})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.serviceType})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",D.budget]}),e.jsx("p",{className:"text-xs text-gray-500",children:D.timePosted})]})]})}),e.jsxs(dt,{className:"pt-0",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:D.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{children:D.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Hm,{className:"h-4 w-4"}),e.jsxs("span",{children:[D.distance,"km"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yr,{className:"h-4 w-4"}),e.jsxs("span",{children:[D.responses," respostas"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Os,{className:k(D.urgency),children:_(D.urgency)}),D.clientRating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm",children:D.clientRating})]})]}),e.jsxs("div",{className:"flex gap-2",children:[D.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Ie,{size:"sm",className:"flex-1",onClick:()=>S(D.id),disabled:x===D.id,children:[x===D.id?e.jsx(Lr,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(dr,{className:"h-4 w-4 mr-2"}),"Aceitar"]}),e.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>N(D.id),disabled:x===D.id,children:[x===D.id?e.jsx(Lr,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(go,{className:"h-4 w-4 mr-2"}),"Rejeitar"]})]}),D.status==="accepted"&&e.jsxs(Ie,{size:"sm",className:"flex-1",onClick:()=>A(D.id),children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Entrar em Contato"]}),D.clientPhone&&e.jsxs(Ie,{variant:"outline",size:"sm",children:[e.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Ligar"]})]}),D.scheduledDate&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vv,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:["Agendado para: ",D.scheduledDate]})]})})]})]},D.id))})]})]})})}function fw(){const[,s]=Tr(),{user:r,logout:n}=rn(),{toast:a}=wr(),[o,l]=M.useState(!0),[d,f]=M.useState(!1),[u,x]=M.useState(!1),[w,v]=M.useState(!1),j=M.useRef(null),[p,k]=M.useState(null),[_,I]=M.useState(null),[S,N]=M.useState({name:"",email:"",phone:"",specialization:"",category:"",subCategory:"",description:"",experience:"",certifications:"",hourlyRate:"",location:"",available:!0});M.useEffect(()=>{r?.userType==="provider"&&A()},[r]);const A=async()=>{try{l(!0);const E=localStorage.getItem("token"),T={"Content-Type":"application/json"};E&&(T.Authorization=`Bearer ${E}`);const z=await fetch(`${pt()}/api/provider/profile`,{credentials:"include",headers:T});if(z.ok){const le=await z.json();k(le),N({name:le.name||"",email:le.email||"",phone:le.phone||"",specialization:le.specialization||"",category:le.category||"",subCategory:le.subCategory||"",description:le.description||"",experience:le.experience||"",certifications:le.certifications||"",hourlyRate:le.hourlyRate||"",location:le.location||"",available:le.available||!0})}const F=await fetch(`${pt()}/api/user`,{credentials:"include",headers:T});if(F.ok){const le=await F.json();I(le)}}catch(E){console.error("Erro ao carregar dados do perfil:",E),a({title:"Erro",description:"No foi possvel carregar os dados do perfil",variant:"destructive"})}finally{l(!1)}},D=async()=>{try{f(!0);const E=localStorage.getItem("token"),T={"Content-Type":"application/json"};E&&(T.Authorization=`Bearer ${E}`);const z=await fetch(`${pt()}/api/provider/profile`,{method:"PUT",credentials:"include",headers:T,body:JSON.stringify(S)});if(z.ok)a({title:"Sucesso",description:"Perfil atualizado com sucesso!"}),x(!1),A();else{const F=await z.json();a({title:"Erro",description:F.message||"Erro ao atualizar perfil",variant:"destructive"})}}catch(E){console.error("Erro ao salvar perfil:",E),a({title:"Erro",description:"Erro de conexo ao salvar perfil",variant:"destructive"})}finally{f(!1)}},q=()=>{x(!1),p&&_&&N({name:p.name||"",email:_.email||"",phone:_.phone||"",specialization:p.specialization||"",category:p.category||"",subCategory:p.subCategory||"",description:p.description||"",experience:p.experience||"",certifications:p.certifications||"",hourlyRate:p.hourlyRate||"",location:p.location||"",available:p.available||!0})},ee=async E=>{const T=E.target.files?.[0];if(!T)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(T.type)){a({title:"Erro",description:"Apenas imagens so permitidas (JPEG, PNG, GIF, WebP)",variant:"destructive"});return}if(T.size>5*1024*1024){a({title:"Erro",description:"A imagem deve ter no mximo 5MB",variant:"destructive"});return}try{v(!0);const F=localStorage.getItem("token"),le=new FormData;le.append("profileImage",T);const X=await fetch(`${pt()}/api/provider/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${F}`},body:le});if(X.ok){const O=await X.json();p&&k({...p,imageUrl:O.imageUrl}),a({title:"Sucesso",description:"Imagem de perfil atualizada com sucesso!"})}else{const O=await X.json();a({title:"Erro",description:O.message||"Erro ao fazer upload da imagem",variant:"destructive"})}}catch(F){console.error("Erro ao fazer upload da imagem:",F),a({title:"Erro",description:"Erro de conexo ao fazer upload da imagem",variant:"destructive"})}finally{v(!1)}},$=()=>{j.current?.click()},U=()=>{n(),window.location.href="/"},Y=E=>({fisioterapeuta:"Fisioterapeuta",acompanhante_hospitalar:"Acompanhante Hospitalar",tecnico_enfermagem:"Tcnico de Enfermagem"})[E]||E,ie=E=>({companhia_apoio_emocional:"Companhia e Apoio Emocional",preparacao_refeicoes:"Preparao de Refeies",compras_transporte:"Compras e Transporte",lavanderia_limpeza:"Lavanderia e Limpeza",curativos_medicacao:"Curativos e Medicao",terapias_especializadas:"Terapias Especializadas",acompanhamento_hospitalar:"Acompanhamento Hospitalar"})[E]||E;return o?e.jsx(nl,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando perfil..."})]})})}):e.jsx(nl,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:e.jsxs("div",{className:"w-full max-w-sm lg:max-w-none mx-auto lg:mx-0 relative px-3 sm:px-4 lg:px-8 py-3 sm:py-4 lg:py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>s("/provider-dashboard"),className:"p-2",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Meu Perfil"})]}),u?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ie,{onClick:q,variant:"outline",size:"sm",children:[e.jsx(Wl,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsx(Ie,{onClick:D,size:"sm",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Cc,{className:"h-4 w-4 mr-2"}),"Salvar"]})})]}):e.jsxs(Ie,{onClick:()=>x(!0),size:"sm",children:[e.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"mb-6",children:e.jsx(dt,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsxs(Li,{className:"w-24 h-24 mx-auto border-4 border-yellow-500",children:[e.jsx(Ai,{src:p.imageUrl?`${pt()}${p.imageUrl}`:void 0,alt:p.name}),e.jsx(Ti,{className:"bg-yellow-500 text-white text-2xl font-bold",children:p.name?.charAt(0)||"P"})]}),e.jsx(Ie,{size:"sm",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full w-8 h-8 p-0 bg-white border-2 border-gray-200 hover:bg-gray-50",onClick:$,disabled:w,children:w?e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full"}):e.jsx(bo,{className:"h-4 w-4"})})]}),e.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:ee,className:"hidden"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:u?e.jsx(Nt,{value:S.name,onChange:E=>N(T=>({...T,name:E.target.value})),className:"text-center text-2xl font-bold"}):p.name}),e.jsx("p",{className:"text-lg text-primary font-semibold mb-2",children:u?e.jsx(Nt,{value:S.specialization,onChange:E=>N(T=>({...T,specialization:E.target.value})),className:"text-center text-lg"}):p.specialization}),e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:p.totalReviews}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avaliaes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:p.rating}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nota"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",parseFloat(p.hourlyRate||"0").toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hora"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(Os,{variant:p.available?"secondary":"outline",className:`${p.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:p.available?e.jsxs(e.Fragment,{children:[e.jsx(dr,{className:"h-3 w-3 mr-1"}),"Disponvel"]}):e.jsxs(e.Fragment,{children:[e.jsx(po,{className:"h-3 w-3 mr-1"}),"Indisponvel"]})})})]})})}),e.jsxs(ct,{className:"mb-6",children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(sn,{className:"h-5 w-5"}),"Informaes Profissionais"]})}),e.jsxs(dt,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Bn,{children:"Categoria"}),u?e.jsxs(Bl,{value:S.category,onValueChange:E=>N(T=>({...T,category:E})),children:[e.jsx(al,{children:e.jsx(ql,{placeholder:"Selecione a categoria"})}),e.jsxs(il,{children:[e.jsx(gn,{value:"fisioterapeuta",children:"Fisioterapeuta"}),e.jsx(gn,{value:"acompanhante_hospitalar",children:"Acompanhante Hospitalar"}),e.jsx(gn,{value:"tecnico_enfermagem",children:"Tcnico de Enfermagem"})]})]}):e.jsx("p",{className:"font-medium",children:Y(p.category)})]}),e.jsxs("div",{children:[e.jsx(Bn,{children:"Subcategoria"}),u?e.jsxs(Bl,{value:S.subCategory,onValueChange:E=>N(T=>({...T,subCategory:E})),children:[e.jsx(al,{children:e.jsx(ql,{placeholder:"Selecione a subcategoria"})}),e.jsxs(il,{children:[e.jsx(gn,{value:"companhia_apoio_emocional",children:"Companhia e Apoio Emocional"}),e.jsx(gn,{value:"preparacao_refeicoes",children:"Preparao de Refeies"}),e.jsx(gn,{value:"compras_transporte",children:"Compras e Transporte"}),e.jsx(gn,{value:"lavanderia_limpeza",children:"Lavanderia e Limpeza"}),e.jsx(gn,{value:"curativos_medicacao",children:"Curativos e Medicao"}),e.jsx(gn,{value:"terapias_especializadas",children:"Terapias Especializadas"}),e.jsx(gn,{value:"acompanhamento_hospitalar",children:"Acompanhamento Hospitalar"})]})]}):e.jsx("p",{className:"font-medium",children:ie(p.subCategory)})]})]}),e.jsxs("div",{children:[e.jsx(Bn,{children:"Descrio"}),u?e.jsx($n,{value:S.description,onChange:E=>N(T=>({...T,description:E.target.value})),placeholder:"Descreva seus servios...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:p.description})]}),e.jsxs("div",{children:[e.jsx(Bn,{children:"Experincia"}),u?e.jsx($n,{value:S.experience,onChange:E=>N(T=>({...T,experience:E.target.value})),placeholder:"Descreva sua experincia...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:p.experience||"No informado"})]}),e.jsxs("div",{children:[e.jsx(Bn,{children:"Certificaes"}),u?e.jsx($n,{value:S.certifications,onChange:E=>N(T=>({...T,certifications:E.target.value})),placeholder:"Liste suas certificaes...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:p.certifications||"No informado"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Bn,{children:"Valor por Hora (R$)"}),u?e.jsx(Nt,{type:"number",value:S.hourlyRate,onChange:E=>N(T=>({...T,hourlyRate:E.target.value})),placeholder:"0.00"}):e.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(p.hourlyRate||"0").toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(Bn,{children:"Localizao"}),u?e.jsx(Nt,{value:S.location,onChange:E=>N(T=>({...T,location:E.target.value})),placeholder:"Sua localizao"}):e.jsx("p",{className:"font-medium",children:p.location||"No informado"})]})]})]})]}),e.jsxs(ct,{className:"mb-6",children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(Pc,{className:"h-5 w-5"}),"Informaes de Contato"]})}),e.jsxs(dt,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pc,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),u?e.jsx(Nt,{type:"email",value:S.email,onChange:E=>N(T=>({...T,email:E.target.value}))}):e.jsx("p",{className:"font-medium",children:_?.email||"No informado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ci,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),u?e.jsx(Nt,{value:S.phone,onChange:E=>N(T=>({...T,phone:E.target.value}))}):e.jsx("p",{className:"font-medium",children:_?.phone||"No informado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vs,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Endereo"}),e.jsx("p",{className:"font-medium",children:p.location||"No informado"})]})]})]})]}),e.jsx(ct,{className:"mb-6 border-green-100 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsx(dt,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Jo,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:_?.isVerified?"Conta Verificada":"Conta Pendente"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:_?.isVerified?"Sua identidade foi confirmada com sucesso":"Aguardando verificao da identidade"})]})]}),e.jsx(Os,{className:`${_?.isVerified?"bg-green-500 text-white":"bg-yellow-500 text-white"} shadow-md hover:opacity-90 transition-opacity`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:_?.isVerified?"":""}),e.jsx("span",{children:_?.isVerified?"Verificado":"Pendente"})]})})]})})}),e.jsx(ct,{className:"mb-6 border-red-100 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20",children:e.jsx(dt,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Il,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Sair da Conta"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Encerre sua sesso e saia do aplicativo"})]})]}),e.jsxs(Ie,{onClick:U,variant:"destructive",className:"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Il,{className:"h-4 w-4 mr-2"}),"Sair"]})]})})})]})]})})})}function mw(){const{user:s}=rn(),{toast:r}=wr(),[,n]=Tr(),[a,o]=M.useState([]),[l,d]=M.useState(!0),[f,u]=M.useState(""),[x,w]=M.useState("all");M.useEffect(()=>{(async()=>{if(s)try{d(!0);const A=await fetch(`${pt()}/api/professionals/${s.id}/proposals`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(A.ok){const D=await A.json();o(D)}else console.error("Erro ao buscar propostas:",A.status),r({title:"Erro",description:"No foi possvel carregar suas propostas",variant:"destructive"})}catch(A){console.error("Erro ao buscar propostas:",A),r({title:"Erro",description:"Erro ao carregar propostas",variant:"destructive"})}finally{d(!1)}})()},[s,r]);const v=a.filter(N=>{const A=N.serviceRequest.serviceType.toLowerCase().includes(f.toLowerCase())||N.serviceRequest.clientName.toLowerCase().includes(f.toLowerCase())||N.serviceRequest.description.toLowerCase().includes(f.toLowerCase()),D=x==="all"||N.status===x;return A&&D}),j=N=>{switch(N){case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},p=N=>{switch(N){case"accepted":return"Aceita";case"rejected":return"Rejeitada";case"completed":return"Concluda";case"pending":return"Pendente";default:return"Desconhecido"}},k=N=>{switch(N){case"accepted":return e.jsx(dr,{className:"h-4 w-4"});case"rejected":return e.jsx(go,{className:"h-4 w-4"});case"completed":return e.jsx(dr,{className:"h-4 w-4"});case"pending":return e.jsx(yr,{className:"h-4 w-4"});default:return e.jsx(yr,{className:"h-4 w-4"})}},_=N=>new Date(N).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=N=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(N)),S=async N=>{try{console.log(" Iniciando openChat para proposta:",N.id),console.log(" Dados da proposta:",{clientId:N.serviceRequest.clientId,serviceRequestId:N.serviceRequestId,serviceType:N.serviceRequest.serviceType,clientName:N.serviceRequest.clientName});const A=localStorage.getItem("token");if(!A){console.error(" Token no encontrado"),r({title:"Erro",description:"Token de autenticao no encontrado. Faa login novamente.",variant:"destructive"});return}r({title:"Iniciando conversa...",description:"Aguarde um momento..."});const D={clientId:N.serviceRequest.clientId,serviceRequestId:N.serviceRequestId,initialMessage:`Ol! Gostaria de conversar sobre o servio "${N.serviceRequest.serviceType}". Minha proposta: R$ ${N.proposedPrice} - Tempo estimado: ${N.estimatedTime}. ${N.message?`Observaes: ${N.message}`:""}`};console.log(" Enviando requisio para /api/conversations"),console.log(" Request body:",D),console.log(" API URL:",pt());const q=await fetch(`${pt()}/api/conversations`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(console.log(" Response status:",q.status),console.log(" Response headers:",Object.fromEntries(q.headers.entries())),q.ok){const ee=await q.json();console.log(" Resposta bem-sucedida:",ee),r({title:"Conversa iniciada!",description:`Mensagem enviada para ${N.serviceRequest.clientName}`}),console.log(" Navegando para:",`/messages/${ee.id}`),n(`/messages/${ee.id}`)}else{const ee=await q.json();console.error(" Erro na resposta:",ee),console.error(" Status:",q.status),r({title:"Erro",description:ee.message||"Erro ao iniciar conversa",variant:"destructive"})}}catch(A){console.error(" Erro ao abrir chat:",A),r({title:"Erro",description:"Erro ao abrir chat. Tente novamente.",variant:"destructive"})}};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lr,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-yellow-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas propostas..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(As,{href:"/provider-dashboard",children:e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(tr,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Minhas Propostas"})]})}),e.jsxs("div",{className:"p-4 space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(Nt,{placeholder:"Buscar por servio, cliente ou descrio...",value:f,onChange:N=>u(N.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ie,{variant:x==="all"?"default":"outline",size:"sm",onClick:()=>w("all"),children:"Todas"}),e.jsx(Ie,{variant:x==="pending"?"default":"outline",size:"sm",onClick:()=>w("pending"),children:"Pendentes"}),e.jsx(Ie,{variant:x==="accepted"?"default":"outline",size:"sm",onClick:()=>w("accepted"),children:"Aceitas"}),e.jsx(Ie,{variant:x==="rejected"?"default":"outline",size:"sm",onClick:()=>w("rejected"),children:"Rejeitadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsx(ct,{children:e.jsx(dt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Propostas"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsx(Ga,{className:"h-6 w-6 text-blue-600"})]})})}),e.jsx(ct,{children:e.jsx(dt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.filter(N=>N.status==="pending").length})]}),e.jsx(yr,{className:"h-6 w-6 text-yellow-600"})]})})}),e.jsx(ct,{children:e.jsx(dt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aceitas"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(N=>N.status==="accepted").length})]}),e.jsx(dr,{className:"h-6 w-6 text-green-600"})]})})}),e.jsx(ct,{children:e.jsx(dt,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Concludas"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.filter(N=>N.status==="completed").length})]}),e.jsx(dr,{className:"h-6 w-6 text-blue-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:v.length===0?e.jsx(ct,{children:e.jsxs(dt,{className:"p-8 text-center",children:[e.jsx(Ga,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:f||x!=="all"?"Nenhuma proposta encontrada":"Nenhuma proposta ainda"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f||x!=="all"?"Tente ajustar os filtros de busca":"Voc ainda no fez nenhuma proposta. Explore os servios disponveis!"}),!f&&x==="all"&&e.jsx(As,{href:"/provider-dashboard",children:e.jsx(Ie,{className:"mt-4",children:"Explorar Servios"})})]})}):v.map(N=>e.jsx(ct,{className:"hover:shadow-md transition-shadow",children:e.jsx(dt,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:N.serviceRequest.serviceType}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:N.serviceRequest.description})]}),e.jsx(Os,{className:j(N.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[k(N.status),p(N.status)]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[N.serviceRequest.clientProfileImage?e.jsx("img",{src:`${pt()}${N.serviceRequest.clientProfileImage}`,alt:N.serviceRequest.clientName,className:"w-10 h-10 rounded-full object-cover",onError:A=>{const D=A.target;D.style.display="none";const q=D.parentElement;q&&(q.innerHTML=`
                                  <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm font-bold">
                                      ${N.serviceRequest.clientName.charAt(0).toUpperCase()}
                                    </span>
                                  </div>
                                `)}}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:N.serviceRequest.clientName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:N.serviceRequest.clientName}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cliente desde ",new Date(N.serviceRequest.clientCreatedAt).getFullYear()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(xn,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sua Proposta"}),e.jsx("p",{className:"font-semibold text-green-600",children:I(N.proposedPrice)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(xn,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Oramento Cliente"}),e.jsx("p",{className:"font-semibold text-blue-600",children:I(N.serviceRequest.budget)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(yr,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo Estimado"}),e.jsx("p",{className:"font-semibold text-purple-600",children:N.estimatedTime})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(er,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Agendada"}),e.jsx("p",{className:"font-semibold text-orange-600",children:N.serviceRequest.scheduledDate?new Date(N.serviceRequest.scheduledDate).toLocaleDateString("pt-BR"):"No definida"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{children:N.serviceRequest.address})]}),N.message&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Sua mensagem:"})," ",N.message]})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Proposta enviada em ",_(N.createdAt)]})]}),e.jsx("div",{className:"flex flex-col gap-2 lg:flex-shrink-0",children:e.jsxs(Ie,{variant:"outline",size:"sm",onClick:()=>S(N),children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Chat com Cliente"]})})]})})},N.id))})]})]})}function pw(){const r=cp()?.id;rn();const{toast:n}=wr(),[a,o]=M.useState(""),[l,d]=M.useState(""),[f,u]=M.useState(""),[x,w]=M.useState(!1),[v,j]=M.useState(!0),[p,k]=M.useState(null),[_,I]=M.useState(null),[S,N]=M.useState(!1),[A,D]=M.useState([]),[q,ee]=M.useState(!1),[$,U]=M.useState(!1),[Y,ie]=M.useState(""),[E,T]=M.useState(!1),[z,F]=M.useState(!1),[le,X]=M.useState(""),[O,G]=M.useState(!1),[J,ce]=M.useState({id:parseInt(r||"0"),clientName:"",clientAvatar:"",clientProfileImage:"",serviceType:"",location:"",distance:0,urgency:"low",budget:0,description:"",timePosted:"",responses:0,preferredTime:"",scheduledTime:"",clientRating:0,previousServices:0,additionalDetails:"",additionalInfo:"",address:"",scheduledDate:"",status:"open",clientCreatedAt:""}),ve=(fe,ge,pe,Ae)=>{const We=(pe-fe)*Math.PI/180,Ce=(Ae-ge)*Math.PI/180,ue=Math.sin(We/2)*Math.sin(We/2)+Math.cos(fe*Math.PI/180)*Math.cos(pe*Math.PI/180)*Math.sin(Ce/2)*Math.sin(Ce/2);return 6371*(2*Math.atan2(Math.sqrt(ue),Math.sqrt(1-ue)))},R=()=>new Promise(fe=>{if(!navigator.geolocation){fe(null);return}navigator.geolocation.getCurrentPosition(ge=>{const{latitude:pe,longitude:Ae}=ge.coords;fe([pe,Ae])},ge=>{fe(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),K=async fe=>{try{const ge=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fe)}&limit=1&countrycodes=br`,{method:"GET",headers:{Accept:"application/json","User-Agent":"LifeBee-App/1.0"}});if(!ge.ok)return null;const pe=await ge.json();if(pe&&pe.length>0){const{lat:Ae,lon:Re}=pe[0];return[parseFloat(Ae),parseFloat(Re)]}return null}catch{return null}};M.useEffect(()=>{(async()=>{if(!r){k("ID do servio no fornecido"),j(!1);return}try{j(!0),k(null);const ge=await fetch(`${pt()}/api/service-requests/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!ge.ok)throw new Error(`Erro ao carregar servio: ${ge.status}`);const pe=await ge.json(),Ae={id:pe.id,clientName:pe.clientName||"Cliente",clientAvatar:pe.clientProfileImage||"",clientProfileImage:pe.clientProfileImage||"",serviceType:pe.serviceType||"Servio",location:pe.address||"",distance:0,urgency:pe.urgency||"low",budget:pe.budget||0,description:pe.description||"Descrio no disponvel",timePosted:pe.createdAt||"",responses:pe.responses||0,preferredTime:pe.scheduledTime||"No definido",scheduledTime:pe.scheduledTime||"No definido",clientRating:5,previousServices:0,additionalDetails:pe.description||"",additionalInfo:pe.description||"",address:pe.address||"Endereo no informado",scheduledDate:pe.scheduledDate||"",status:pe.status||"open",clientCreatedAt:pe.clientCreatedAt||""};if(ce(Ae),Ae.address&&Ae.address!=="Endereo no informado"){N(!0);try{const Re=await R();I(Re);const We=await K(Ae.address);if(We&&Re){const Ce=ve(Re[0],Re[1],We[0],We[1]);ce(ue=>({...ue,distance:Math.round(Ce*10)/10}))}else ce(Ce=>({...Ce,distance:-1}))}catch{ce(We=>({...We,distance:-1}))}finally{N(!1)}}}catch(ge){console.error("Erro ao carregar servio:",ge),k(ge instanceof Error?ge.message:"Erro desconhecido"),n({title:"Erro",description:"No foi possvel carregar os detalhes do servio",variant:"destructive"})}finally{j(!1)}})()},[r,n]),M.useEffect(()=>{(async()=>{if(r)try{ee(!0);const ge=await fetch(`${pt()}/api/service-requests/${r}/offers`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(ge.ok){const pe=await ge.json();D(pe)}else console.error("Erro ao buscar propostas:",ge.status)}catch(ge){console.error("Erro ao buscar propostas:",ge)}finally{ee(!1)}})()},[r]);const Q=async()=>{if(a.trim()&&l&&f)try{const fe=await fetch(`${pt()}/api/service-requests/${r}/offers`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({proposedPrice:parseFloat(l),estimatedTime:f,message:a})});if(fe.ok){const ge=await fe.json();n({title:"Sucesso!",description:"Sua proposta foi enviada com sucesso"});const pe=await fetch(`${pt()}/api/service-requests/${r}/offers`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(pe.ok){const Ae=await pe.json();D(Ae)}w(!0)}else{const ge=await fe.json();n({title:"Erro",description:ge.message||"No foi possvel enviar a proposta",variant:"destructive"})}}catch{n({title:"Erro",description:"No foi possvel enviar a proposta",variant:"destructive"})}},se=async()=>{if(!Y.trim()){n({title:"Erro",description:"Digite uma mensagem antes de enviar",variant:"destructive"});return}T(!0);try{await new Promise(fe=>setTimeout(fe,1e3)),n({title:"Sucesso",description:"Mensagem enviada com sucesso!"}),ie(""),U(!1)}catch(fe){console.error("Erro ao enviar mensagem:",fe),n({title:"Erro",description:"Erro ao enviar mensagem. Tente novamente.",variant:"destructive"})}finally{T(!1)}},ae=async()=>{if(!le.trim()){n({title:"Erro",description:"Digite uma mensagem antes de enviar",variant:"destructive"});return}G(!0);try{await new Promise(fe=>setTimeout(fe,1e3)),n({title:"Sucesso",description:"Mensagem enviada com sucesso!"}),X(""),F(!1)}catch(fe){console.error("Erro ao enviar mensagem:",fe),n({title:"Erro",description:"Erro ao enviar mensagem. Tente novamente.",variant:"destructive"})}finally{G(!1)}},he=fe=>{switch(fe){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},we=fe=>{const ge=new Date(fe),Ae=Math.floor((new Date().getTime()-ge.getTime())/(1e3*60));return Ae<1?"agora mesmo":Ae<60?`h ${Ae} min`:Ae<1440?`h ${Math.floor(Ae/60)}h`:`h ${Math.floor(Ae/1440)} dias`};return v?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lr,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-yellow-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando detalhes do servio..."})]})}):p?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx(po,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar servio"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:p}),e.jsx(As,{href:"/provider-dashboard",children:e.jsxs(Ie,{children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"Voltar ao Dashboard"]})})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(As,{href:"/provider-dashboard",children:e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(tr,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Detalhes do Servio"})]})}),e.jsx("div",{className:"p-3 sm:p-4 space-y-4 sm:space-y-6 max-w-4xl mx-auto",children:x?e.jsx(ct,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:e.jsxs(dt,{className:"p-4 sm:p-6 text-center",children:[e.jsx(dr,{className:"h-12 w-12 sm:h-16 sm:w-16 text-green-600 mx-auto mb-3 sm:mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-green-800 dark:text-green-200 mb-2",children:"Oferta Enviada com Sucesso!"}),e.jsxs("p",{className:"text-sm sm:text-base text-green-700 dark:text-green-300 mb-4",children:["Sua proposta foi enviada para ",J.clientName,". Voc receber uma notificao quando ela responder."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(As,{href:"/provider-dashboard",children:e.jsx(Ie,{variant:"outline",className:"h-10 sm:h-11 text-sm sm:text-base",children:"Voltar ao Dashboard"})}),e.jsxs(Ol,{open:$,onOpenChange:U,children:[e.jsx(zd,{asChild:!0,children:e.jsxs(Ie,{className:"h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})}),e.jsxs(el,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(tl,{children:e.jsxs(sl,{className:"text-lg sm:text-xl",children:["Mensagem para ",J.clientName]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($n,{placeholder:"Digite uma mensagem adicional...",rows:4,className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]",value:Y,onChange:fe=>ie(fe.target.value)}),e.jsx(Ie,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",onClick:se,disabled:E,children:E?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})]})]})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[J.clientProfileImage?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${pt()}${J.clientProfileImage}`,alt:J.clientName||"Cliente",className:"w-full h-full object-cover",onError:fe=>{const ge=fe.target;ge.style.display="none";const pe=ge.parentElement;pe&&(pe.innerHTML=`
                                <div class="w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                  <span class="text-white text-xl font-bold">
                                    ${J.clientName?J.clientName.charAt(0).toUpperCase():"C"}
                                  </span>
                                </div>
                              `)}})}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:J.clientName?J.clientName.charAt(0).toUpperCase():"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:J.clientName||"Cliente"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Un,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:J.clientRating||"5.0"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[J.previousServices||"0"," servios"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cliente desde ",J.clientCreatedAt?new Date(J.clientCreatedAt).getFullYear():"2024"]})]})]}),e.jsx(Os,{className:he(J.urgency),children:J.status==="open"?"Aberta":J.status==="in_progress"?"Em Andamento":J.status==="completed"?"Concluda":"Normal"})]})}),e.jsxs(dt,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-primary mb-2",children:J.serviceType||"Servio Solicitado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:J.description||"Descrio do servio no disponvel"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(xn,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Oramento"}),e.jsxs("div",{className:"font-semibold text-green-600",children:["R$ ",J.budget?typeof J.budget=="string"?parseFloat(J.budget).toFixed(2):J.budget.toFixed(2):"0,00"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(vs,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Distncia"}),e.jsx("div",{className:"font-semibold text-blue-600",children:S?e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Lr,{className:"h-3 w-3 animate-spin"}),e.jsx("span",{children:"Calculando..."})]}):J.distance===-1?"No disponvel":`${J.distance||"0"} km`})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(yr,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Horrio"}),e.jsx("div",{className:"font-semibold text-purple-600",children:J.preferredTime||"No definido"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Hn,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respostas"}),e.jsx("div",{className:"font-semibold text-orange-600",children:J.responses||0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4 text-gray-500"}),"Endereo"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:J.address||"Endereo no informado"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-gray-500"}),"Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:J.scheduledDate?new Date(J.scheduledDate).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Data no definida"})]}),J.additionalInfo&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Ar,{className:"h-4 w-4 text-gray-500"}),"Detalhes Adicionais"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:J.additionalInfo})]})]})]})]}),e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Ga,{className:"h-5 w-5"}),"Fazer Proposta"]})}),e.jsxs(dt,{className:"space-y-4 p-4 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Valor Proposto (R$)"}),e.jsx(Nt,{type:"number",placeholder:"120.00",value:l,onChange:fe=>d(fe.target.value),className:"h-10 sm:h-11 text-sm sm:text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Tempo Estimado"}),e.jsx(Nt,{placeholder:"1 hora",value:f,onChange:fe=>u(fe.target.value),className:"h-10 sm:h-11 text-sm sm:text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Mensagem da Proposta"}),e.jsx($n,{placeholder:"Ol! Sou fisioterapeuta especializada em reabilitao respiratria ps-COVID. Tenho experincia com pacientes na sua faixa etria e posso levar equipamentos especficos para o atendimento domiciliar...",rows:4,value:a,onChange:fe=>o(fe.target.value),className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(po,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"Dicas para uma boa proposta:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:" Demonstre sua experincia especfica no tipo de servio"}),e.jsx("li",{children:" Mencione equipamentos ou materiais que voc possui"}),e.jsx("li",{children:" Seja claro sobre disponibilidade e tempo de resposta"}),e.jsx("li",{children:" Oferea um valor competitivo mas justo"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsxs(Ie,{onClick:Q,disabled:!a.trim()||!l||!f,className:"flex-1 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Enviar Proposta"]}),e.jsxs(Ol,{open:z,onOpenChange:F,children:[e.jsx(zd,{asChild:!0,children:e.jsxs(Ie,{variant:"outline",className:"h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Observaes"]})}),e.jsxs(el,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(tl,{children:e.jsxs(sl,{className:"text-lg sm:text-xl",children:["Observaes para ",J.clientName]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx($n,{placeholder:"Faa uma pergunta sobre o servio...",rows:4,className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]",value:le,onChange:fe=>X(fe.target.value)}),e.jsx(Ie,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",onClick:ae,disabled:O,children:O?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})]})]})]})]})]})]}),e.jsxs(ct,{children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Outras Propostas"}),q&&e.jsx(Lr,{className:"h-4 w-4 animate-spin text-gray-500"})]})}),e.jsx(dt,{children:A.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Hn,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:q?"Carregando propostas...":"Nenhuma proposta ainda"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Seja o primeiro a fazer uma proposta!"})]}):e.jsx("div",{className:"space-y-3",children:A.map(fe=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[fe.professionalProfileImage?e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`${pt()}${fe.professionalProfileImage}`,alt:fe.professionalName||"Profissional",className:"w-full h-full object-cover",onError:ge=>{const pe=ge.target;pe.style.display="none";const Ae=pe.parentElement;Ae&&(Ae.innerHTML=`
                                       <div class="w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                         <span class="text-white text-xs font-bold">
                                           ${fe.professionalName?fe.professionalName.charAt(0).toUpperCase():"P"}
                                         </span>
                                       </div>
                                     `)}})}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:fe.professionalName?fe.professionalName.charAt(0).toUpperCase():"P"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:fe.professionalName||"Profissional"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[" ",fe.professionalRating||"5.0","  ",fe.professionalTotalReviews||"0"," servios"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-sm",children:["R$ ",fe.proposedPrice?parseFloat(fe.proposedPrice).toFixed(2):"0,00"]}),e.jsx("p",{className:"text-xs text-gray-500",children:we(fe.createdAt)})]})]},fe.id))})})]})]})})]})}function gw(){console.log("Servico component rendering");const[,s]=Tr(),{toast:r}=wr(),{isAuthenticated:n,isLoading:a}=rn(),[o,l]=M.useState(""),[d,f]=M.useState(""),[u,x]=M.useState(""),[w,v]=M.useState(""),[j,p]=M.useState(""),[k,_]=M.useState(""),[I,S]=M.useState(""),[N,A]=M.useState(""),[D,q]=M.useState(""),[ee,$]=M.useState(""),[U,Y]=M.useState(""),[ie,E]=M.useState(""),[T,z]=M.useState(!1),[F,le]=M.useState(!1),[X,O]=M.useState(!1);if(M.useEffect(()=>{console.log("Auth state:",{isAuthenticated:n,isLoading:a}),!a&&!n&&(r({title:"Acesso Negado",description:"Voc precisa estar logado para acessar esta pgina",variant:"destructive"}),s("/"))},[n,a,s,r]),a)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lr,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecionando para login..."})})});const G=[{value:"acompanhante_hospitalar",label:"Acompanhante Hospitalar",icon:""}],J=async Q=>{Q.preventDefault(),z(!0),le(!1);const se=localStorage.getItem("token");if(!se){r({title:"Erro",description:"Voc precisa estar logado para solicitar um servio",variant:"destructive"}),z(!1);return}try{const ae=await fetch(`${pt()}/api/service-request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({category:o,serviceType:d,description:u,address:K(),scheduledDate:ee,scheduledTime:U,budget:ie?parseFloat(ie):null}),credentials:"include"});if(ae.ok){const he=await ae.json();le(!0),r({title:"Sucesso!",description:"Sua solicitao foi enviada com sucesso. Profissionais sero notificados."}),l(""),f(""),x(""),v(""),p(""),_(""),S(""),A(""),q(""),$(""),Y(""),E("")}else{const he=await ae.json();r({title:"Erro",description:he.message||"Erro ao enviar solicitao",variant:"destructive"})}}catch{r({title:"Erro",description:"Erro de conexo. Tente novamente.",variant:"destructive"})}finally{z(!1)}},ce=Q=>G.find(se=>se.value===Q)?.icon||"",ve=async Q=>{if(Q.length===8){O(!0);try{const ae=await(await fetch(`https://viacep.com.br/ws/${Q}/json/`)).json();ae.erro?r({title:"CEP no encontrado",description:"Verifique se o CEP est correto",variant:"destructive"}):(p(ae.logradouro||""),S(ae.bairro||""),A(ae.localidade||""),q(ae.uf||""),r({title:"Endereo encontrado!",description:"Endereo preenchido automaticamente pelo CEP",variant:"default"}))}catch(se){console.error("Erro ao buscar CEP:",se),r({title:"Erro",description:"Erro ao buscar endereo pelo CEP",variant:"destructive"})}finally{O(!1)}}},R=Q=>Q.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),K=()=>[j,k,I,N,D].filter(Boolean).join(", ");return console.log("Rendering Servico component, auth state:",{isAuthenticated:n,isLoading:a}),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pb-24",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Solicitar Servio"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Preencha os dados abaixo para solicitar um profissional"})]}),e.jsxs(ct,{className:"w-full",children:[e.jsx(ts,{children:e.jsxs(ds,{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-5 w-5"}),"Nova Solicitao"]})}),e.jsxs(dt,{children:[e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Categoria do Servio"}),e.jsxs(Bl,{value:o,onValueChange:l,required:!0,children:[e.jsx(al,{className:"bg-white",children:e.jsx(ql,{placeholder:"Selecione uma categoria"})}),e.jsx(il,{className:"bg-white",children:G.map(Q=>e.jsx(gn,{value:Q.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:Q.icon}),e.jsx("span",{children:Q.label})]})},Q.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Tipo de Servio"}),e.jsx(Nt,{placeholder:"Ex: Fisioterapia domiciliar, Acompanhamento hospitalar...",value:d,onChange:Q=>f(Q.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Descrio Detalhada"}),e.jsx($n,{placeholder:"Descreva o servio que precisa, sintomas, necessidades especficas...",value:u,onChange:Q=>x(Q.target.value),rows:4,required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(vs,{className:"h-4 w-4 inline mr-1"}),"Endereo"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Nt,{placeholder:"CEP (00000-000)",value:w,onChange:Q=>{const se=R(Q.target.value);v(se),se.length===9&&ve(se.replace(/\D/g,""))},maxLength:9,required:!0}),X&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(Lr,{className:"h-4 w-4 animate-spin text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(Nt,{placeholder:"Rua/Avenida",value:j,onChange:Q=>p(Q.target.value),required:!0})}),e.jsx("div",{children:e.jsx(Nt,{placeholder:"Nmero",value:k,onChange:Q=>_(Q.target.value),required:!0})})]}),e.jsx(Nt,{placeholder:"Bairro",value:I,onChange:Q=>S(Q.target.value),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(Nt,{placeholder:"Cidade",value:N,onChange:Q=>A(Q.target.value),required:!0}),e.jsx(Nt,{placeholder:"Estado",value:D,onChange:Q=>q(Q.target.value),maxLength:2,required:!0})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Endereo Completo"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:K()||"Preencha os campos acima ou digite o CEP para preenchimento automtico"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Data"}),e.jsx(Nt,{type:"date",value:ee,onChange:Q=>$(Q.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Hora"}),e.jsx(Nt,{type:"time",value:U,onChange:Q=>Y(Q.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Oramento Previsto (Opcional)"}),e.jsx(Nt,{type:"number",placeholder:"R$ 0,00",value:ie,onChange:Q=>E(Q.target.value),min:"0",step:"0.01"})]}),e.jsx(Ie,{type:"submit",className:"w-full",disabled:T,size:"lg",children:T?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(dr,{className:"mr-2 h-4 w-4"}),"Solicitar Servio"]})})]}),F&&e.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(dr,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Solicitao Enviada!"})]}),e.jsxs("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["Profissionais da categoria ",ce(o)," sero notificados sobre sua solicitao."]})]})]})]})]})}),e.jsx(Ma,{hidePlus:!0})]})}var b0="AlertDialog",[xw,Yw]=yo(b0,[Vf]),Ka=Vf(),w0=s=>{const{__scopeAlertDialog:r,...n}=s,a=Ka(r);return e.jsx(Ef,{...a,...n,modal:!0})};w0.displayName=b0;var vw="AlertDialogTrigger",N0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,...a}=s,o=Ka(n);return e.jsx(Mf,{...o,...a,ref:r})});N0.displayName=vw;var yw="AlertDialogPortal",_0=s=>{const{__scopeAlertDialog:r,...n}=s,a=Ka(r);return e.jsx(Tf,{...a,...n})};_0.displayName=yw;var bw="AlertDialogOverlay",j0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,...a}=s,o=Ka(n);return e.jsx(cu,{...o,...a,ref:r})});j0.displayName=bw;var Go="AlertDialogContent",[ww,Nw]=xw(Go),_w=Pf("AlertDialogContent"),S0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,children:a,...o}=s,l=Ka(n),d=M.useRef(null),f=br(r,d),u=M.useRef(null);return e.jsx(Cx,{contentName:Go,titleName:k0,docsSlug:"alert-dialog",children:e.jsx(ww,{scope:n,cancelRef:u,children:e.jsxs(du,{role:"alertdialog",...l,...o,ref:f,onOpenAutoFocus:Wt(o.onOpenAutoFocus,x=>{x.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[e.jsx(_w,{children:a}),e.jsx(Sw,{contentRef:d})]})})})});S0.displayName=Go;var k0="AlertDialogTitle",P0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,...a}=s,o=Ka(n);return e.jsx(hu,{...o,...a,ref:r})});P0.displayName=k0;var C0="AlertDialogDescription",L0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,...a}=s,o=Ka(n);return e.jsx(fu,{...o,...a,ref:r})});L0.displayName=C0;var jw="AlertDialogAction",A0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,...a}=s,o=Ka(n);return e.jsx(uu,{...o,...a,ref:r})});A0.displayName=jw;var T0="AlertDialogCancel",E0=M.forwardRef((s,r)=>{const{__scopeAlertDialog:n,...a}=s,{cancelRef:o}=Nw(T0,n),l=Ka(n),d=br(r,o);return e.jsx(uu,{...l,...a,ref:d})});E0.displayName=T0;var Sw=({contentRef:s})=>{const r=`\`${Go}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Go}\` by passing a \`${C0}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Go}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,s]),null},kw=w0,Pw=N0,Cw=_0,M0=j0,I0=S0,R0=A0,O0=E0,D0=P0,F0=L0;const z0=kw,B0=Pw,Lw=Cw,q0=M.forwardRef(({className:s,...r},n)=>e.jsx(M0,{className:ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:n}));q0.displayName=M0.displayName;const Hu=M.forwardRef(({className:s,...r},n)=>e.jsxs(Lw,{children:[e.jsx(q0,{}),e.jsx(I0,{ref:n,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]}));Hu.displayName=I0.displayName;const Uu=({className:s,...r})=>e.jsx("div",{className:ht("flex flex-col space-y-2 text-center sm:text-left",s),...r});Uu.displayName="AlertDialogHeader";const $u=({className:s,...r})=>e.jsx("div",{className:ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});$u.displayName="AlertDialogFooter";const Wu=M.forwardRef(({className:s,...r},n)=>e.jsx(D0,{ref:n,className:ht("text-lg font-semibold",s),...r}));Wu.displayName=D0.displayName;const Vu=M.forwardRef(({className:s,...r},n)=>e.jsx(F0,{ref:n,className:ht("text-sm text-muted-foreground",s),...r}));Vu.displayName=F0.displayName;const Zu=M.forwardRef(({className:s,...r},n)=>e.jsx(R0,{ref:n,className:ht(Au(),s),...r}));Zu.displayName=R0.displayName;const Gu=M.forwardRef(({className:s,...r},n)=>e.jsx(O0,{ref:n,className:ht(Au({variant:"outline"}),"mt-2 sm:mt-0",s),...r}));Gu.displayName=O0.displayName;function Aw(){const[,s]=Tr(),{user:r}=rn(),{toast:n}=wr(),[a,o]=M.useState([]),[l,d]=M.useState(!0),[f,u]=M.useState(null),x=async()=>{if(r){d(!0);try{const _=localStorage.getItem("token");if(console.log(" Usurio:",r),!_){n({title:"Erro de Autenticao",description:"Token no encontrado. Faa login novamente.",variant:"destructive"});return}const S=`${pt()}/api/service-requests/my-requests`;console.log(" Fazendo requisio para:",S),console.log(" Token:",_.substring(0,20)+"...");const N=await fetch(S,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(console.log(" Resposta do servidor:",N.status,N.statusText),N.ok){const A=await N.json();console.log(" Dados recebidos:",A),o(A)}else{console.error(" Erro ao buscar solicitaes:",N.status);const A=await N.text();console.error(" Resposta de erro:",A),n({title:"Erro",description:"Erro ao carregar suas solicitaes.",variant:"destructive"})}}catch(_){console.error(" Erro ao buscar solicitaes:",_),n({title:"Erro de Conexo",description:"Erro ao conectar com o servidor.",variant:"destructive"})}finally{d(!1)}}},w=async _=>{u(_);try{const I=localStorage.getItem("token");if(!I){n({title:"Erro de Autenticao",description:"Token no encontrado. Faa login novamente.",variant:"destructive"});return}const S=await fetch(`${pt()}/api/service-requests/${_}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(S.ok)o(N=>N.filter(A=>A.id!==_)),n({title:"Solicitao Excluda",description:"Sua solicitao foi excluda com sucesso."});else{const N=await S.json();n({title:"Erro",description:N.message||"Erro ao excluir solicitao.",variant:"destructive"})}}catch(I){console.error("Erro ao excluir solicitao:",I),n({title:"Erro de Conexo",description:"Erro ao conectar com o servidor.",variant:"destructive"})}finally{u(null)}};M.useEffect(()=>{x()},[r]);const v=_=>{switch(_){case"open":return"bg-blue-100 text-blue-800 border-blue-200";case"in_progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=_=>{switch(_){case"open":return"Aberta";case"in_progress":return"Em Andamento";case"completed":return"Concluda";case"cancelled":return"Cancelada";default:return"Desconhecido"}},p=_=>{switch(_){case"open":return e.jsx(oo,{className:"h-4 w-4"});case"in_progress":return e.jsx(yr,{className:"h-4 w-4"});case"completed":return e.jsx(dr,{className:"h-4 w-4"});case"cancelled":return e.jsx(go,{className:"h-4 w-4"});default:return e.jsx(Mm,{className:"h-4 w-4"})}},k=_=>{switch(_){case"fisioterapeuta":return"Fisioterapeuta";case"acompanhante_hospitalar":return"Acompanhante Hospitalar";case"tecnico_enfermagem":return"Tcnico de Enfermagem";default:return _}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pb-24",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>s("/"),className:"mr-2",children:e.jsx(tr,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Minhas Solicitaes"})]}),l?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Lr,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas solicitaes..."})]}):a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(Ar,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Nenhuma solicitao encontrada"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Voc ainda no fez nenhuma solicitao de servio"}),e.jsx(Ie,{onClick:()=>s("/servico"),children:"Fazer Primeira Solicitao"})]}):e.jsx("div",{className:"space-y-4",children:a.map(_=>e.jsxs(ct,{className:"border-l-4 border-l-primary",children:[e.jsx(ts,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Solicitao #",_.id]}),e.jsx(Os,{variant:"outline",className:`text-xs ${v(_.status)}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[p(_.status),j(_.status)]})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:k(_.category)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>s(`/service-offer/${_.id}`),disabled:_.status!=="open",children:e.jsx(oo,{className:"h-4 w-4"})}),e.jsxs(z0,{children:[e.jsx(B0,{asChild:!0,children:e.jsx(Ie,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:_.status!=="open"||f===_.id,children:f===_.id?e.jsx(Lr,{className:"h-4 w-4 animate-spin"}):e.jsx(Qo,{className:"h-4 w-4"})})}),e.jsxs(Hu,{children:[e.jsxs(Uu,{children:[e.jsx(Wu,{children:"Excluir Solicitao"}),e.jsx(Vu,{children:"Tem certeza que deseja excluir esta solicitao? Esta ao no pode ser desfeita e todos os profissionais que responderam no podero mais ver sua solicitao."})]}),e.jsxs($u,{children:[e.jsx(Gu,{children:"Cancelar"}),e.jsx(Zu,{onClick:()=>w(_.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]})}),e.jsx(dt,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary mb-1",children:_.serviceType}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:_.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:_.address})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:new Date(_.scheduledDate).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:_.scheduledTime})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xn,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["R$ ",_.budget&&!isNaN(Number(_.budget))?Number(_.budget).toFixed(2):"No informado"]})]})]}),_.responses!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Ar,{className:"h-4 w-4"}),e.jsxs("span",{children:[_.responses," profissional(is) responderam"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Criada em ",new Date(_.createdAt).toLocaleDateString("pt-BR")," s"," ",new Date(_.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})})]},_.id))}),e.jsx("div",{className:"mt-6",children:e.jsx(Ie,{onClick:()=>s("/servico"),className:"w-full",children:"Nova Solicitao"})})]})}),e.jsx(Ma,{})]})}function Tw(){const[s,r]=Tr(),{user:n}=rn(),[a,o]=M.useState([]),[l,d]=M.useState([]),[f,u]=M.useState(!0),[x,w]=M.useState("requests"),[v,j]=M.useState(null),[p,k]=M.useState(null),[_,I]=M.useState(""),[S,N]=M.useState("all"),[A,D]=M.useState({}),q=(O,G=0)=>{if(typeof O=="number"&&!Number.isNaN(O))return O;const J=parseFloat(String(O??""));return Number.isNaN(J)?G:J};console.log(" Services Component - Estado atual:",{activeTab:x,serviceRequestsLength:a.length,serviceOffersLength:l.length,loading:f}),M.useEffect(()=>{(async()=>{n?.id&&(await ee(),await $())})()},[n]),M.useEffect(()=>{x==="offers"?$():x==="requests"&&ee()},[x]),M.useEffect(()=>{const O=()=>{document.hidden||($(),ee())};return document.addEventListener("visibilitychange",O),()=>document.removeEventListener("visibilitychange",O)},[]);const ee=async()=>{try{const O=localStorage.getItem("token");console.log(" Buscando pedidos... Token:",O?"Presente":"Ausente"),console.log(" URL da API:",`${pt()}/api/service-requests/client`);const G=await fetch(`${pt()}/api/service-requests/client`,{headers:{Authorization:`Bearer ${O}`}});if(console.log(" Response status para pedidos:",G.status),G.ok){const J=await G.json();return console.log(" Pedidos carregados:",J),o(J),console.log(" Estado atualizado com",J.length,"pedidos"),J}else{const J=await G.text();console.error(" Erro ao buscar pedidos - Status:",G.status),console.error(" Erro detalhado:",J)}}catch(O){console.error(" Erro ao buscar pedidos:",O)}return[]},$=async()=>{try{const O=localStorage.getItem("token");console.log(" Buscando propostas... Token:",O?"Presente":"Ausente"),console.log(" URL da API:",`${pt()}/api/service-offers/client`);const G=await fetch(`${pt()}/api/service-offers/client`,{headers:{Authorization:`Bearer ${O}`}});if(console.log(" Response status:",G.status),G.ok){const J=await G.json();console.log(" Propostas carregadas:",J);let ce=Array.isArray(J)?J:[];if(ce.length>0&&(ce=ce.map(ve=>({...ve,professionalRating:q(ve?.professionalRating,5),professionalTotalReviews:q(ve?.professionalTotalReviews,0),price:typeof ve?.price=="number"?ve.price:parseFloat(ve?.price??ve?.proposedPrice??"0")||0,estimatedTime:q(ve?.estimatedTime,0)}))),ce.length===0){let ve=a;if((!ve||ve.length===0)&&(ve=await ee()),ve&&ve.length>0){console.log(" Sem propostas no endpoint agregador. Buscando por pedido...");const R=ve.map(se=>se.id);ce=(await Promise.all(R.map(async se=>{const ae=await fetch(`${pt()}/api/service-requests/${se}/offers`,{headers:{Authorization:`Bearer ${O}`}});if(!ae.ok)return[];const he=await ae.json();return Array.isArray(he)?he:[]}))).flat().map(se=>({id:se.id,serviceRequestId:se.serviceRequestId,professionalId:se.professionalId,professionalName:se.professionalName,professionalRating:q(se.professionalRating,5),professionalTotalReviews:q(se.professionalTotalReviews,0),professionalProfileImage:se.professionalProfileImage||null,price:typeof se.price=="number"?se.price:parseFloat(se.price??se.proposedPrice??"0")||0,estimatedTime:q(se.estimatedTime,0),message:se.message,status:se.status,createdAt:se.createdAt,serviceTitle:se.serviceTitle||""})),console.log(" Propostas agregadas por pedido:",ce.length)}}return d(ce),console.log(" Estado atualizado com",ce.length,"propostas"),ce}else{const J=await G.text();console.error(" Erro ao buscar propostas - Status:",G.status),console.error(" Erro detalhado:",J)}}catch(O){console.error(" Erro ao buscar propostas:",O)}finally{u(!1)}return[]},U=async O=>{try{const G=localStorage.getItem("token");(await fetch(`${pt()}/api/service-offers/${O}/accept`,{method:"PUT",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}})).ok&&await Promise.all([$(),ee()])}catch(G){console.error("Erro ao aceitar proposta:",G)}},Y=async O=>{try{const G=localStorage.getItem("token");(await fetch(`${pt()}/api/service-offers/${O}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}})).ok&&(d(ce=>ce.filter(ve=>ve.id!==O)),j(null),await Promise.all([ee(),$()]))}catch(G){console.error("Erro ao rejeitar proposta:",G)}},ie=async(O,G)=>{k(G);try{const J=localStorage.getItem("token"),ve=`Ol! Gostaria de conversar sobre sua proposta para "${l.find(K=>K.id===G)?.serviceTitle}".`;(await fetch(`${pt()}/api/messages/start-conversation`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify({professionalId:O,message:ve})})).ok?r("/messages"):console.error("Erro ao iniciar conversa")}catch(J){console.error("Erro ao iniciar conversa:",J)}finally{k(null)}},E=O=>{switch(O){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},T=O=>{switch(O){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return O}},z=O=>({acompanhante_hospitalar:"Acompanhante Hospitalar",cuidador_idosos:"Cuidador de Idosos",enfermagem_domiciliar:"Enfermagem Domiciliar",fisioterapia:"Fisioterapia",nutricao:"Nutrio",psicologia:"Psicologia",terapia_ocupacional:"Terapia Ocupacional",servicos_gerais:"Servios Gerais"})[O]||O.replace(/_/g," ").replace(/\b\w/g,J=>J.toUpperCase()),F=new Set(a.map(O=>O.id)),le=l.filter(O=>{if(!(a.length===0||F.has(O.serviceRequestId)))return!1;const J=_===""||O.professionalName.toLowerCase().includes(_.toLowerCase())||O.serviceTitle.toLowerCase().includes(_.toLowerCase())||O.message.toLowerCase().includes(_.toLowerCase()),ce=S==="all"?O.status!=="rejected":O.status===S;return J&&ce}),X=l.reduce((O,G)=>(O[G.serviceRequestId]||(O[G.serviceRequestId]=[]),O[G.serviceRequestId].push(G),O),{});return f?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lr,{className:"h-8 w-8 animate-spin text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando servios..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>r("/"),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(tr,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(qn,{className:"h-5 w-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Meus Servios"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(As,{href:"/agenda",children:e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-yellow-600 transition-colors",children:[e.jsx(er,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Agenda"})]})}),e.jsx(As,{href:"/servico",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg text-sm font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(Su,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Novo Pedido"})]})})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsxs("button",{onClick:()=>{console.log(" Clicou na aba Pedidos"),w("requests")},className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="requests"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pedidos (",a.length,")"]}),e.jsxs("button",{onClick:()=>{console.log(" Clicou na aba Propostas"),w("offers")},className:`py-4 px-1 border-b-2 font-medium text-sm ${x==="offers"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Propostas (",l.length,")"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[x==="offers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-3 sm:p-4 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por profissional, servio ou mensagem...",value:_,onChange:O=>I(O.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent text-sm sm:text-base"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>N("all"),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${S==="all"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),e.jsx("button",{onClick:()=>N("pending"),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${S==="pending"?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Pendentes"}),e.jsx("button",{onClick:()=>N("accepted"),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${S==="accepted"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Aceitas"}),e.jsx("button",{onClick:()=>N("rejected"),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${S==="rejected"?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Rejeitadas"})]})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ar,{className:"h-5 w-5 text-orange-500"}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent",children:"Propostas Recebidas"}),e.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 text-white",children:le.length})]})}),le.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(Ar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No h propostas no momento"}),e.jsx("p",{className:"text-gray-600",children:"Assim que profissionais enviarem propostas, elas aparecero aqui."})]}):e.jsx("div",{className:"space-y-4",children:le.map(O=>e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md border border-gray-100 hover:shadow-lg hover:ring-1 hover:ring-orange-200 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 rounded-full flex items-center justify-center overflow-hidden shadow-md ring-2 ring-white",children:O.professionalProfileImage&&!A[O.id]?e.jsx("img",{src:O.professionalProfileImage.startsWith("http")?O.professionalProfileImage:`${pt()}${O.professionalProfileImage}`,alt:O.professionalName,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",sizes:"(max-width: 640px) 3rem, (max-width: 1024px) 3.5rem, 4rem",onError:()=>D(G=>({...G,[O.id]:!0}))}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center",children:e.jsx(sn,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"})})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg text-gray-900 truncate",children:O.professionalName}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:O.professionalRating})]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["(",O.professionalTotalReviews," ",O.professionalTotalReviews===1?"avaliao":"avaliaes",")"]})]})]}),e.jsx("div",{className:"flex-shrink-0 mt-2 sm:mt-0",children:e.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${O.status==="accepted"?"bg-green-100 text-green-800":O.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:O.status==="accepted"?"Aceita":O.status==="rejected"?"Rejeitada":"Pendente"})})]})})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qn,{className:"h-4 w-4 text-blue-600"}),e.jsx("p",{className:"text-sm text-blue-800 font-semibold",children:"Servio Solicitado"})]}),e.jsx("p",{className:"text-base text-blue-900 font-bold",children:z(O.serviceTitle)}),e.jsx("div",{className:"flex items-center gap-4 mt-2 text-xs text-blue-700",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-3 w-3"}),new Date(O.createdAt).toLocaleDateString("pt-BR")]})})]}),(()=>{const G=a.find(K=>K.id===O.serviceRequestId);if(!G)return null;const J=typeof G.budget=="number"?G.budget:parseFloat(G.budget??"0")||0,ce=typeof O.price=="number"?O.price:parseFloat(O.price??"0")||0,ve=ce<=J,R=Math.abs(J-ce);return e.jsxs("div",{className:"mb-4 p-4 rounded-lg border bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Comparao com oramento"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ve?"bg-green-100 text-green-700":"bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-sm"}`,children:ve?"Dentro do oramento":"Acima do oramento"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-orange-50 to-yellow-50",children:[e.jsx("p",{className:"text-xs text-gray-700",children:"Oramento do pedido"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["R$ ",J.toFixed(2)]})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-orange-50 to-yellow-50",children:[e.jsx("p",{className:"text-xs text-gray-700",children:"Proposta do profissional"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["R$ ",ce.toFixed(2)]})]}),e.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-orange-50 to-yellow-50",children:[e.jsx("p",{className:"text-xs text-gray-700",children:"Diferena"}),e.jsxs("p",{className:`text-sm font-semibold ${ve?"text-green-700":"text-red-700"}`,children:[ve?"-":"+"," R$ ",R.toFixed(2)]})]})]})]})})(),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ar,{className:"h-4 w-4 text-gray-600"}),e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Proposta do Profissional"})]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed italic",children:['"',O.message,'"']})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(xn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Preo"}),e.jsxs("p",{className:"text-sm sm:text-base font-semibold text-green-800 truncate",children:["R$ ",q(O.price,0).toFixed(2)]})]})]})}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Tempo estimado"}),e.jsxs("p",{className:"text-sm sm:text-base font-semibold text-blue-800 truncate",children:[O.estimatedTime," horas"]})]})]})})]}),O.status==="pending"&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>U(O.id),className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-2.5 sm:py-3 px-3 sm:px-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:[e.jsx(dr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Aceitar"}),e.jsx("span",{className:"sm:hidden",children:"Aceitar"})]}),e.jsxs(z0,{open:v===O.id,onOpenChange:G=>!G&&j(null),children:[e.jsx(B0,{asChild:!0,children:e.jsxs("button",{onClick:()=>j(O.id),className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white py-2.5 sm:py-3 px-3 sm:px-4 rounded-xl font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:[e.jsx(go,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Rejeitar"}),e.jsx("span",{className:"sm:hidden",children:"Rejeitar"})]})}),e.jsxs(Hu,{className:"bg-white border border-gray-200",children:[e.jsxs(Uu,{children:[e.jsxs(Wu,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Mm,{className:"h-5 w-5 text-red-500"})}),"Rejeitar Proposta"]}),e.jsx(Vu,{asChild:!0,children:e.jsxs("div",{className:"text-left space-y-4",children:[e.jsxs("p",{children:["Tem certeza que deseja rejeitar a proposta de ",e.jsx("strong",{children:O.professionalName}),"?"]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center overflow-hidden",children:O.professionalProfileImage&&!A[O.id]?e.jsx("img",{src:O.professionalProfileImage.startsWith("http")?O.professionalProfileImage:`${pt()}${O.professionalProfileImage}`,alt:O.professionalName,className:"w-full h-full object-cover",loading:"lazy",decoding:"async",sizes:"2.5rem",onError:()=>D(G=>({...G,[O.id]:!0}))}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center",children:e.jsx(sn,{className:"h-5 w-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:O.professionalName}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xn,{className:"h-4 w-4"}),"R$ ",q(O.price,0).toFixed(2)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(yr,{className:"h-4 w-4"}),O.estimatedTime," horas"]})]})]})]})}),e.jsx("p",{className:"text-red-600 font-medium",children:"Esta ao no pode ser desfeita e o profissional ser notificado."})]})})]}),e.jsxs($u,{children:[e.jsx(Gu,{children:"Cancelar"}),e.jsx(Zu,{onClick:()=>Y(O.id),className:"bg-red-500 hover:bg-red-600 text-white",children:"Sim, Rejeitar"})]})]})]}),e.jsxs("button",{onClick:()=>ie(O.professionalId,O.id),disabled:p===O.id,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2.5 sm:py-3 px-4 sm:px-6 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm shadow-md hover:shadow-lg transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:[p===O.id?e.jsx(Lr,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):e.jsx(Ar,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Conversar"}),e.jsx("span",{className:"sm:hidden",children:"Chat"})]})]})]},O.id))})]}),x==="requests"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qn,{className:"h-5 w-5 text-orange-500"}),e.jsx("h2",{className:"text-base sm:text-lg font-semibold bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent",children:"Meus Pedidos"}),e.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 text-white",children:a.length})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-r from-orange-500 to-yellow-500",children:e.jsx(qn,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-r from-orange-500 to-yellow-500",children:e.jsx(Ar,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Propostas Recebidas"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-r from-orange-500 to-yellow-500",children:e.jsx(dr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Ativos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(O=>O.status==="open").length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-r from-orange-500 to-yellow-500",children:e.jsx(yr,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Em Andamento"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(O=>O.status==="in_progress").length})]})]})})]}),a.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido criado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Crie seu primeiro pedido de servio e receba propostas de profissionais qualificados."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(As,{href:"/servico",children:e.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-3 rounded-lg font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200",children:"Criar Pedido"})}),e.jsx(As,{href:"/my-service-requests",children:e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200",children:"Ver Todos os Pedidos"})})]})]}):e.jsx("div",{className:"space-y-4",children:a.map(O=>{const G=X[O.id]||[];return G.filter(J=>J.status==="pending"),G.filter(J=>J.status==="accepted"),e.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-5 shadow-md border border-gray-100 hover:shadow-lg hover:ring-1 hover:ring-orange-200 transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(qn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1 line-clamp-2",children:O.title}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:z(O.category)})]})]}),e.jsxs("div",{className:"flex flex-row gap-2 items-center sm:items-end",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${O.status==="completed"?"bg-green-100 text-green-800":O.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:O.status==="completed"?"Concludo":O.status==="in_progress"?"Em Andamento":"Aberto"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(O.urgency)}`,children:T(O.urgency)})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Descrio do servio"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed line-clamp-3",children:O.description})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(vs,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Localizao"}),e.jsx("p",{className:"text-sm font-medium text-blue-800 truncate",children:(()=>{const J=O.location??O.address??"",ce=typeof J=="string"?J:String(J??"");return ce.trim()!==""?ce:"No informado"})()})]})]})}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(xn,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Oramento"}),e.jsxs("p",{className:"text-sm font-medium text-green-800 truncate",children:["R$ ",(()=>{const J=typeof O.budget=="number"?O.budget:parseFloat(O.budget??"0");return isNaN(J)?"0,00":J.toFixed(2)})()]})]})]})}),e.jsx("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(er,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Criado em"}),e.jsx("p",{className:"text-sm font-medium text-purple-800 truncate",children:new Date(O.createdAt).toLocaleDateString("pt-BR")})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex flex-row gap-2",children:[O.responseCount>0&&e.jsxs("button",{onClick:()=>w("offers"),className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:["Ver Propostas (",O.responseCount,")"]}),e.jsx(As,{href:"/my-service-requests",children:e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-purple-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"Ver Detalhes"})}),e.jsx(As,{href:"/servico",children:e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg text-sm font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"Editar"})}),e.jsx("button",{onClick:async()=>{try{const J=localStorage.getItem("token");(await fetch(`${pt()}/api/service-requests/${O.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${J}`}})).ok?o(ve=>ve.filter(R=>R.id!==O.id)):console.error("Falha ao excluir solicitao")}catch(J){console.error("Erro ao excluir solicitao:",J)}},className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg text-sm font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"Excluir"})]})]})]},O.id)})})]}),x!=="offers"&&x!=="requests"&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Selecione uma aba para continuar"})})]})]})}function Ew(){const[s,r]=Tr(),{user:n}=rn(),[a,o]=M.useState([]),[l,d]=M.useState(!0);M.useEffect(()=>{n?.id&&f()},[n]);const f=async()=>{try{d(!0);const p=localStorage.getItem("token"),k=await fetch(`${pt()}/api/service-requests/client`,{headers:{Authorization:`Bearer ${p}`}});if(k.ok){const _=await k.json();o(_),console.log(" Pedidos carregados:",_.length)}else console.error(" Erro ao buscar pedidos - Status:",k.status)}catch(p){console.error(" Erro ao buscar pedidos:",p)}finally{d(!1)}},u=p=>{switch(p){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=p=>{switch(p){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return p}},w=p=>{switch(p){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},v=p=>{switch(p){case"completed":return"Concludo";case"in_progress":return"Em Andamento";case"cancelled":return"Cancelado";case"open":return"Aberto";default:return p}},j=p=>({acompanhante_hospitalar:"Acompanhante Hospitalar",cuidador_idosos:"Cuidador de Idosos",enfermagem_domiciliar:"Enfermagem Domiciliar",fisioterapia:"Fisioterapia",nutricao:"Nutrio",psicologia:"Psicologia",terapia_ocupacional:"Terapia Ocupacional",servicos_gerais:"Servios Gerais"})[p]||p.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase());return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lr,{className:"h-8 w-8 animate-spin text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando seus pedidos..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>r("/services"),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(tr,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(qn,{className:"h-5 w-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Meus Pedidos"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(As,{href:"/services",children:e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(Ar,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Propostas"})]})}),e.jsx(As,{href:"/servico",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(Su,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Novo Pedido"})]})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qn,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:a.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ar,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Propostas Recebidas"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:a.reduce((p,k)=>p+(Number(k.responseCount)||0),0)})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Ativos"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:a.filter(p=>p.status==="open"||p.status==="in_progress").length})]})]})})]}),e.jsx("div",{className:"space-y-6",children:a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido criado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Crie seu primeiro pedido de servio e receba propostas de profissionais qualificados."}),e.jsx(As,{href:"/servico",children:e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:"Criar Primeiro Pedido"})})]}):a.map(p=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(qn,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2",children:p.title}),e.jsx("p",{className:"text-sm text-blue-600 font-semibold mb-3 bg-blue-50 px-3 py-1 rounded-full inline-block",children:j(p.category)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${w(p.status)}`,children:v(p.status)}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${u(p.urgency)}`,children:["Urgncia ",x(p.urgency)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Descrio do Servio"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:p.description})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(vs,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-700 font-medium mb-1",children:"Localizao"}),e.jsx("p",{className:"text-sm font-semibold text-blue-800 truncate",children:p.location})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(xn,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-green-700 font-medium mb-1",children:"Oramento Mximo"}),e.jsxs("p",{className:"text-sm font-semibold text-green-800",children:["R$ ",(()=>{const k=typeof p.budget=="number"?p.budget:parseFloat(p.budget??"0");return isNaN(k)?"0,00":k.toFixed(2)})()]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx(er,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-purple-700 font-medium mb-1",children:"Criado em"}),e.jsx("p",{className:"text-sm font-semibold text-purple-800",children:new Date(p.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ar,{className:"h-5 w-5 text-orange-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Propostas Recebidas"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:p.responseCount}),e.jsx("span",{className:"text-sm text-gray-600",children:p.responseCount===1?"proposta recebida":"propostas recebidas"})]}),p.responseCount>0&&e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-semibold",children:"Aguardando anlise"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[p.responseCount>0&&e.jsx(As,{href:"/services",className:"flex-1",children:e.jsxs("button",{className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(oo,{className:"h-4 w-4"}),"Ver Propostas (",p.responseCount,")"]})}),e.jsx(As,{href:"/servico",className:"flex-1",children:e.jsxs("button",{className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx($m,{className:"h-4 w-4"}),"Editar Pedido"]})}),p.status==="open"&&e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(Qo,{className:"h-4 w-4"}),"Cancelar"]})]})]},p.id))})]})]})}function Mw({onLogin:s}){const[r,n]=M.useState(!0),[a,o]=M.useState(!1),[l,d]=M.useState("client"),[f,u]=M.useState(""),[x,w]=M.useState(""),[v,j]=M.useState(""),[p,k]=M.useState(""),[_,I]=M.useState(""),[S,N]=M.useState(!1),{toast:A}=wr(),[D,q]=M.useState(""),[ee,$]=M.useState(""),[U,Y]=M.useState(""),[ie,E]=M.useState(""),[T,z]=M.useState(""),F=ge=>{const pe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return ge?pe.test(ge)?ge.length>100?"Email muito longo":"":"Digite um email vlido":"Email  obrigatrio"},le=ge=>{const pe=/^\(\d{2}\) \d{4,5}-\d{4}$/;return ge?pe.test(ge)?"":"Digite um telefone vlido: (11) 99999-9999":"Telefone  obrigatrio"},X=ge=>ge?ge.length<8?"Senha deve ter pelo menos 8 caracteres":/(?=.*[a-z])/.test(ge)?/(?=.*[A-Z])/.test(ge)?/(?=.*\d)/.test(ge)?/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(ge)?ge.length>50?"Senha muito longa":"":"Senha deve conter pelo menos um caractere especial":"Senha deve conter pelo menos um nmero":"Senha deve conter pelo menos uma letra maiscula":"Senha deve conter pelo menos uma letra minscula":"Senha  obrigatria",O=ge=>ge?ge.length<2?"Nome deve ter pelo menos 2 caracteres":ge.length>100?"Nome muito longo":/^[a-zA-Z-\s]+$/.test(ge)?"":"Nome deve conter apenas letras":"Nome  obrigatrio",G=ge=>ge?ge!==x?"As senhas no coincidem":"":"Confirme sua senha",J=ge=>{if(!ge)return{strength:0,color:"bg-gray-200",text:""};let pe=0;return ge.length>=8&&pe++,/(?=.*[a-z])/.test(ge)&&pe++,/(?=.*[A-Z])/.test(ge)&&pe++,/(?=.*\d)/.test(ge)&&pe++,/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(ge)&&pe++,pe<=1?{strength:pe,color:"bg-red-500",text:"Muito fraca"}:pe<=2?{strength:pe,color:"bg-orange-500",text:"Fraca"}:pe<=3?{strength:pe,color:"bg-yellow-500",text:"Mdia"}:pe<=4?{strength:pe,color:"bg-blue-500",text:"Forte"}:{strength:pe,color:"bg-green-500",text:"Muito forte"}},ce=ge=>{const Ae=ge.replace(/\D/g,"").substring(0,11);return Ae.length<=2?Ae:Ae.length<=7?`(${Ae.substring(0,2)}) ${Ae.substring(2)}`:`(${Ae.substring(0,2)}) ${Ae.substring(2,7)}-${Ae.substring(7)}`},ve=ge=>{const pe=ce(ge.target.value);I(pe),r||$(le(pe))},R=ge=>{const pe=ge.target.value;u(pe),q(F(pe))},K=ge=>{const pe=ge.target.value;w(pe),Y(r?pe?"":"Senha  obrigatria":X(pe)),v&&E(G(v))},Q=ge=>{const pe=ge.target.value;j(pe),E(G(pe))},se=ge=>{const pe=ge.target.value;k(pe),r||z(O(pe))},ae=async ge=>{console.log(" Iniciando login social:",ge),N(!0);try{const Ae=`https://lifebee-backend.onrender.com/api/auth/${ge}`;console.log(" URL de autenticao:",Ae),console.log(" Redirecionando diretamente..."),window.location.href=Ae}catch(pe){console.error(" Erro no login social:",pe),N(!1),A({title:"Erro no login social",description:pe.message,variant:"destructive"})}},he=()=>{q(""),$(""),Y(""),E(""),z("")},we=()=>{n(!r),he(),r||Y("")},fe=async ge=>{ge.preventDefault();const pe=F(f),Ae=x?"":"Senha  obrigatria";if(q(pe),Y(Ae),r){if(pe||Ae){A({title:"Erro de validao",description:"Por favor, preencha todos os campos",variant:"destructive"});return}}else{const Re=O(p),We=le(_),Ce=G(v),ue=X(x);if(z(Re),$(We),E(Ce),Y(ue),pe||ue||Re||We||Ce){A({title:"Erro de validao",description:"Por favor, corrija os campos destacados",variant:"destructive"});return}}N(!0);try{if(r){const Re=await Dl("POST","/api/auth/login",{email:f,password:x,userType:l}),We=await Re.json();if(Re.ok)localStorage.setItem("token",We.token),localStorage.setItem("user",JSON.stringify(We.user)),A({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${We.user.name}`}),s(We.user.userType);else throw new Error(We.message||"Erro no login")}else{const Re=await Dl("POST","/api/auth/register",{username:f,email:f,password:x,name:p,userType:l,phone:_}),We=await Re.json();if(Re.ok)localStorage.setItem("token",We.token),localStorage.setItem("user",JSON.stringify(We.user)),A({title:"Conta criada com sucesso!",description:`Bem-vindo(a), ${We.user.name}`}),s(We.user.userType);else throw new Error(We.message||"Erro no cadastro")}}catch(Re){A({title:r?"Erro no login":"Erro no cadastro",description:Re.message,variant:"destructive"})}finally{N(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 xl:p-12",children:e.jsxs("div",{className:"max-w-md w-full text-center lg:text-left space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 sm:gap-3",children:[e.jsx(Vl,{size:40,className:"sm:w-12 sm:h-12"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"LifeBee"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-xs sm:text-sm font-medium",children:"Cuidados Profissionais"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:"Conectamos voc com profissionais de sade qualificados"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base lg:text-lg",children:"Fisioterapeutas, tcnicos em enfermagem e acompanhantes hospitalares prontos para cuidar de voc"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:[e.jsx(Os,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 text-xs sm:text-sm",children:" Fisioterapia"}),e.jsx(Os,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs sm:text-sm",children:" Enfermagem"}),e.jsx(Os,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs sm:text-sm",children:" Acompanhamento"})]})]})}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 xl:p-12",children:e.jsxs(ct,{className:"w-full max-w-md shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsxs(ts,{className:"space-y-3 sm:space-y-4 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:r?"Entrar na conta":"Criar conta"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:r?"Acesse sua conta para continuar":"Junte-se  nossa comunidade de cuidados"})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-1 flex w-full",children:[e.jsx(Ie,{variant:"ghost",className:`flex-1 rounded-lg transition-all duration-200 text-xs sm:text-sm lg:text-base py-2 sm:py-3 lg:py-4 px-2 sm:px-4 lg:px-6 ${r?"bg-white shadow-sm text-gray-900 dark:bg-gray-600 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white"}`,onClick:()=>{n(!0),he()},children:"Entrar"}),e.jsx(Ie,{variant:"ghost",className:`flex-1 rounded-lg transition-all duration-200 text-xs sm:text-sm lg:text-base py-2 sm:py-3 lg:py-4 px-2 sm:px-4 lg:px-6 ${r?"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white":"bg-white shadow-sm text-gray-900 dark:bg-gray-600 dark:text-white"}`,onClick:()=>{n(!1),he()},children:"Cadastrar"})]})]}),e.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[e.jsxs("form",{onSubmit:fe,className:"space-y-3 sm:space-y-4",children:[!r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Voc :"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxs(Ie,{type:"button",variant:l==="client"?"default":"outline",className:`h-10 sm:h-12 lg:h-14 text-xs sm:text-sm lg:text-base px-2 sm:px-4 lg:px-6 ${l==="client"?"bg-yellow-500 hover:bg-yellow-600":"border-gray-300"}`,onClick:()=>d("client"),children:[e.jsx(sn,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 mr-1 sm:mr-2"}),"Cliente"]}),e.jsxs(Ie,{type:"button",variant:l==="provider"?"default":"outline",className:`h-10 sm:h-12 lg:h-14 text-xs sm:text-sm lg:text-base px-2 sm:px-4 lg:px-6 ${l==="provider"?"bg-yellow-500 hover:bg-yellow-600":"border-gray-300"}`,onClick:()=>d("provider"),children:[e.jsx(t1,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 mr-1 sm:mr-2"}),"Profissional"]})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome completo"}),e.jsx(Nt,{type:"text",placeholder:"Seu nome completo",value:p,onChange:se,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${T?"border-red-500 focus:border-red-500":""}`,autoComplete:"name",required:!r}),T&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:T})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),e.jsx(Nt,{type:"tel",placeholder:"(11) 99999-9999",value:_,onChange:ve,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${ee?"border-red-500 focus:border-red-500":""}`,autoComplete:"tel",required:!r}),ee&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:ee})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(Nt,{type:"email",placeholder:"seu@email.com",value:f,onChange:R,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${D?"border-red-500 focus:border-red-500":""}`,autoComplete:"email",required:!0}),D&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:D})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(Nt,{type:a?"text":"password",placeholder:"Sua senha",value:x,onChange:K,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 pr-10 ${U?"border-red-500 focus:border-red-500":""}`,autoComplete:r?"current-password":"new-password",required:!0}),e.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-10 sm:h-12 w-10 sm:w-12 p-0 hover:bg-transparent",onClick:()=>o(!a),children:a?e.jsx(bc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}):e.jsx(oo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})})]}),U&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:U}),!r&&x&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ge=>{const pe=J(x);return e.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${ge<=pe.strength?pe.color:"bg-gray-200"}`},ge)})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Fora da senha: ",J(x).text]})]})]}),!r&&e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar senha"}),e.jsx(Nt,{type:"password",placeholder:"Confirme sua senha",value:v,onChange:Q,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${ie?"border-red-500 focus:border-red-500":""}`,autoComplete:"new-password",required:!r}),ie&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:ie})]}),e.jsx(Ie,{type:"submit",disabled:S,className:"w-full h-10 sm:h-12 lg:h-14 bg-yellow-500 hover:bg-yellow-600 text-white font-medium text-sm sm:text-base lg:text-lg px-4 sm:px-6 lg:px-8",children:S?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r?"Entrando...":"Cadastrando..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:r?"Entrar":"Criar conta"}),e.jsx(Im,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"text-center space-y-2 sm:space-y-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[r?"No tem uma conta?":"J tem uma conta?",e.jsx("button",{type:"button",className:"ml-1 text-yellow-600 hover:text-yellow-700 font-medium",onClick:we,children:r?"Cadastre-se":"Faa login"})]}),r&&e.jsx("button",{type:"button",className:"text-xs sm:text-sm text-yellow-600 hover:text-yellow-700",children:"Esqueceu sua senha?"})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:e.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 text-gray-500 dark:text-gray-400",children:"Ou continue com"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[e.jsxs(Ie,{type:"button",variant:"outline",className:"h-10 sm:h-12 flex items-center justify-center gap-2 text-xs sm:text-sm border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",onClick:ge=>{ge.preventDefault(),ge.stopPropagation(),console.log(" Boto Google clicado!"),console.log(" Estado isLoading:",S),console.log(" Evento:",ge),console.log(" Target:",ge.target),console.log(" Current Target:",ge.currentTarget),S?console.log(" Boto desabilitado devido ao estado de loading"):ae("google")},disabled:S,children:[e.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(Ie,{type:"button",variant:"outline",className:"h-10 sm:h-12 flex items-center justify-center gap-2 text-xs sm:text-sm border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",onClick:()=>ae("apple"),disabled:S,children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Apple"]})]})]})]})]})})]})}function wf(){const[,s]=Tr();return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(ct,{className:"w-full max-w-md mx-4",children:e.jsxs(dt,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(po,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pgina no encontrada"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 mb-6",children:"A pgina que voc est procurando no existe ou foi movida."}),e.jsxs(Ie,{onClick:()=>s("/"),className:"w-full",children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"Voltar para Home"]})]})})})}function Iw(){const{user:s}=rn(),{toast:r}=wr(),[n,a]=M.useState([]),[o,l]=M.useState(!0),[d,f]=M.useState("all");M.useEffect(()=>{s?.userType==="provider"&&u()},[s]);const u=async()=>{l(!0);try{const p=await fetch(`${pt()}/api/appointments/provider`,{credentials:"include"});if(p.ok){const k=await p.json();a(k)}else a([])}catch{a([])}finally{l(!1)}},x=p=>{switch(p){case"agendado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"confirmado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"em_andamento":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"concluido":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},w=p=>{switch(p){case"confirmado":return e.jsx(dr,{className:"h-3 w-3"});case"cancelado":return e.jsx(go,{className:"h-3 w-3"});case"em_andamento":return e.jsx(Em,{className:"h-3 w-3"});case"concluido":return e.jsx(dr,{className:"h-3 w-3"});default:return e.jsx(po,{className:"h-3 w-3"})}},v=p=>{switch(p){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return p}},j=d==="all"?n:n.filter(p=>p.status===d);return e.jsx(nl,{children:e.jsxs("div",{className:"max-w-3xl mx-auto py-4 sm:py-6 px-2 sm:px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Agenda do Profissional"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx(Ie,{variant:d==="all"?"default":"outline",size:"sm",onClick:()=>f("all"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${d==="all"?"bg-yellow-500 hover:bg-yellow-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Todos"}),e.jsx(Ie,{variant:d==="agendado"?"default":"outline",size:"sm",onClick:()=>f("agendado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${d==="agendado"?"bg-blue-500 hover:bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Agendados"}),e.jsx(Ie,{variant:d==="confirmado"?"default":"outline",size:"sm",onClick:()=>f("confirmado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${d==="confirmado"?"bg-green-500 hover:bg-green-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Confirmados"}),e.jsx(Ie,{variant:d==="em_andamento"?"default":"outline",size:"sm",onClick:()=>f("em_andamento"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${d==="em_andamento"?"bg-orange-500 hover:bg-orange-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Em andamento"}),e.jsx(Ie,{variant:d==="concluido"?"default":"outline",size:"sm",onClick:()=>f("concluido"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${d==="concluido"?"bg-gray-500 hover:bg-gray-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Concludos"}),e.jsx(Ie,{variant:d==="cancelado"?"default":"outline",size:"sm",onClick:()=>f("cancelado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${d==="cancelado"?"bg-red-500 hover:bg-red-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Cancelados"})]}),o?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Carregando agendamentos..."}):j.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Nenhum agendamento encontrado."}):e.jsx("div",{className:"space-y-4",children:j.map(p=>e.jsxs(ct,{children:[e.jsxs(ts,{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-4",children:[e.jsx(sn,{className:"h-6 w-6 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(ds,{className:"text-base sm:text-lg font-semibold truncate",children:p.clientName}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[Nl(new Date(p.date),"dd 'de' MMMM 'de' yyyy",{locale:Bd})," s ",p.time]})]}),e.jsxs(Os,{className:`${x(p.status)} flex-shrink-0`,children:[w(p.status),e.jsx("span",{className:"ml-1 hidden sm:inline",children:v(p.status)}),e.jsx("span",{className:"ml-1 sm:hidden",children:v(p.status).charAt(0)})]})]}),e.jsx(dt,{className:"p-4 pt-0",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Tipo: ",e.jsx("span",{className:"font-medium",children:p.type==="presencial"?"Presencial":"Online"})]}),p.location&&e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Local: ",e.jsx("span",{className:"font-medium truncate block",children:p.location})]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Durao: ",e.jsxs("span",{className:"font-medium",children:[p.duration," min"]})]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Valor: ",e.jsxs("span",{className:"font-medium",children:["R$ ",p.price]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.canConfirm&&e.jsx(Ie,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>r({title:"Agendamento confirmado!"}),children:"Confirmar"}),p.canStart&&e.jsx(Ie,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>r({title:"Atendimento iniciado!"}),children:"Iniciar"}),p.canFinish&&e.jsx(Ie,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>r({title:"Atendimento concludo!"}),children:"Concluir"}),p.canCancel&&e.jsx(Ie,{size:"sm",variant:"destructive",className:"flex-1 sm:flex-none",onClick:()=>r({title:"Agendamento cancelado!"}),children:"Cancelar"})]})]})})]},p.id))})]})})}function Nf({params:s}){const{user:r}=rn(),{toast:n}=wr(),[a,o]=M.useState(""),[l,d]=M.useState(""),f=M.useRef(null),[u,x]=M.useState([]),[w,v]=M.useState([]),[j,p]=M.useState(!0),[,k]=Tr(),[_,I]=dp("/messages/:conversationId"),S=s?.conversationId||null,N=async()=>{try{p(!0);const z=localStorage.getItem("token");if(!z){n({title:"Erro de autenticao",description:"Faa login para acessar as mensagens",variant:"destructive"});return}const F=await fetch(`${pt()}/api/messages`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`}});if(F.ok){const le=await F.json();v(le)}else F.status===401?n({title:"Sesso expirada",description:"Faa login novamente",variant:"destructive"}):n({title:"Erro de conexo",description:"No foi possvel carregar as conversas",variant:"destructive"})}catch{n({title:"Erro de conexo",description:"No foi possvel carregar as conversas",variant:"destructive"})}finally{p(!1)}},A=async z=>{try{const F=localStorage.getItem("token");if(!F)return;const le=await fetch(`${pt()}/api/messages/${z}`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}});if(le.ok){const X=await le.json();x(X)}else le.status===404&&(n({title:"Conversa no encontrada",description:"Esta conversa no existe ou voc no tem acesso.",variant:"destructive"}),k("/messages"))}catch{}};M.useEffect(()=>{N()},[]),M.useEffect(()=>{S&&A(S)},[S]);const D=w.filter(z=>z.professionalName.toLowerCase().includes(l.toLowerCase())||z.specialization.toLowerCase().includes(l.toLowerCase())),q=w.find(z=>String(z.id)===String(S)),ee=()=>{f.current?.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{ee()},[u]);const $=z=>{const F=new Date,le=new Date(z),X=F.getTime()-le.getTime(),O=Math.floor(X/(1e3*60)),G=Math.floor(X/(1e3*60*60)),J=Math.floor(X/(1e3*60*60*24));return O<1?"agora":O<60?`${O}m`:G<24?`${G}h`:J<7?`${J}d`:le.toLocaleDateString("pt-BR")},U=z=>new Date(z).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Y=async()=>{if(!a.trim()||!q)return;const z=localStorage.getItem("token");if(!z){n({title:"Erro de autenticao",description:"Faa login para enviar mensagens",variant:"destructive"});return}try{const F={id:Date.now(),senderId:r?.id||0,content:a,timestamp:new Date,isRead:!1,type:"text"};x(X=>[...X,F]),o(""),(await fetch(`${pt()}/api/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({recipientId:q.professionalId,conversationId:Number(S),content:a,type:"text"})})).ok?S&&A(S):(x(X=>X.filter(O=>O.id!==F.id)),n({title:"Erro",description:"No foi possvel enviar a mensagem",variant:"destructive"}))}catch{n({title:"Erro de conexo",description:"No foi possvel enviar a mensagem",variant:"destructive"})}},ie=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),Y())},E=z=>{k(`/messages/${z}`)},T=async z=>{try{const F=localStorage.getItem("token");if(!F)return;(await fetch(`${pt()}/api/messages/conversation/${z}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}})).ok?(n({title:"Conversa excluda",description:"A conversa foi removida com sucesso."}),N()):n({title:"Erro",description:"No foi possvel excluir a conversa",variant:"destructive"})}catch{n({title:"Erro",description:"Erro ao excluir conversa",variant:"destructive"})}};return S?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>k("/messages"),className:"lg:hidden",children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>k("/messages"),children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(Li,{className:"w-10 h-10",children:[e.jsx(Ai,{src:q?.professionalAvatar,alt:q?.professionalName}),e.jsx(Ti,{className:"bg-yellow-500 text-white",children:q?.professionalName.split(" ").map(z=>z[0]).join("")})]}),q?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:q?.professionalName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:q?.specialization}),q?.isOnline&&e.jsx("span",{className:"text-xs text-green-600",children:"online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(er,{className:"h-4 w-4"})}),e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(qm,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"60vh"},children:[u.map(z=>{const F=z.senderId===r?.id;return e.jsx("div",{className:`flex ${F?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${F?"order-2":""}`,children:[!F&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:q?.professionalName})}),e.jsx("div",{className:`rounded-2xl px-4 py-2 ${F?"bg-yellow-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:z.content})}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${F?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs text-gray-500",children:U(z.timestamp)}),F&&e.jsx("div",{className:"text-gray-500",children:z.isRead?e.jsx(Om,{className:"h-3 w-3 text-blue-500"}):e.jsx($l,{className:"h-3 w-3"})})]})]})},z.id)}),e.jsx("div",{ref:f})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(Um,{className:"h-4 w-4"})}),e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(bo,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Nt,{placeholder:"Digite sua mensagem...",value:a,onChange:z=>o(z.target.value),onKeyPress:ie,className:"pr-10"}),e.jsx(Ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:e.jsx(Vm,{className:"h-4 w-4"})})]}),e.jsx(Ie,{onClick:Y,disabled:!a.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:e.jsx(Ga,{className:"h-4 w-4"})})]})})]}),e.jsx(Ma,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})})}),e.jsxs("div",{className:"w-full lg:w-96 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Nt,{placeholder:"Buscar conversas...",value:l,onChange:z=>d(z.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:j?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Carregando conversas..."})]})}):D.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ar,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Voc ainda no tem conversas ativas"})]})}):D.map(z=>e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between",onClick:()=>E(z.id),children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(Li,{className:"w-10 h-10 sm:w-12 sm:h-12",children:[e.jsx(Ai,{src:z.professionalAvatar,alt:z.professionalName}),e.jsx(Ti,{className:"bg-yellow-500 text-white text-xs sm:text-sm",children:z.professionalName.split(" ").map(F=>F[0]).join("")})]}),z.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:z.professionalName}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:$(z.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1 flex-wrap",children:[e.jsx(Os,{variant:"secondary",className:"text-xs px-2 py-0 bg-yellow-100 text-yellow-800",children:z.specialization}),z.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:z.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate flex-1 min-w-0",children:z.lastMessage}),z.unreadCount>0&&e.jsx(Os,{className:"bg-yellow-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center flex-shrink-0",children:z.unreadCount})]}),z.location&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(vs,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:z.location})]})]})]}),e.jsx("button",{className:"ml-1 sm:ml-2 p-1.5 sm:p-2 rounded-full hover:bg-red-100 text-red-600 flex-shrink-0",title:"Excluir conversa",onClick:F=>{F.stopPropagation(),T(z.id)},children:e.jsx(Qo,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]},z.id))})]}),e.jsx(Ma,{})]})}function xc({params:s}){const{user:r}=rn(),{toast:n}=wr(),[a,o]=M.useState(""),[l,d]=M.useState(""),f=M.useRef(null),[u,x]=M.useState([]),[w,v]=M.useState([]),[j,p]=M.useState(!0),[,k]=Tr(),[_,I]=dp("/messages-provider/:conversationId"),S=s?.conversationId||null,N=async()=>{try{console.log(" fetchConversations - Iniciando busca de conversas..."),p(!0);const z=localStorage.getItem("token");if(!z){console.log(" Token no encontrado"),n({title:"Erro de autenticao",description:"Faa login para acessar as mensagens",variant:"destructive"});return}const F=await fetch(`${pt()}/api/messages`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`}});if(F.ok){const le=await F.json();console.log(" Dados recebidos do backend:",le),v(le),console.log(" Conversas atualizadas no estado:",le.length,"conversas")}else F.status===401?(console.log(" Erro 401 - Sesso expirada"),n({title:"Sesso expirada",description:"Faa login novamente",variant:"destructive"})):(console.log(" Erro na resposta:",F.status),n({title:"Erro de conexo",description:"No foi possvel carregar as conversas",variant:"destructive"}))}catch(z){console.log(" Erro na busca de conversas:",z),n({title:"Erro de conexo",description:"No foi possvel carregar as conversas",variant:"destructive"})}finally{p(!1),console.log(" fetchConversations - Finalizado")}},A=async z=>{try{const F=localStorage.getItem("token");if(!F)return;const le=await fetch(`${pt()}/api/messages/${z}`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}});if(le.ok){const X=await le.json();x(X)}}catch{}};M.useEffect(()=>{N()},[]),M.useEffect(()=>{S&&A(S)},[S]),M.useEffect(()=>{console.log("Mensagens carregadas do backend:",u)},[u]);const D=w.filter(z=>z.clientName?.toLowerCase().includes(l.toLowerCase())),q=w.find(z=>String(z.id)===String(S)),ee=()=>{f.current?.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{ee()},[u]);const $=z=>{const F=new Date,le=new Date(z),X=F.getTime()-le.getTime(),O=Math.floor(X/(1e3*60)),G=Math.floor(X/(1e3*60*60)),J=Math.floor(X/(1e3*60*60*24));return O<1?"agora":O<60?`${O}m`:G<24?`${G}h`:J<7?`${J}d`:le.toLocaleDateString("pt-BR")},U=z=>new Date(z).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),Y=async()=>{if(!a.trim()||!q)return;const z=localStorage.getItem("token");if(!z){n({title:"Erro de autenticao",description:"Faa login para enviar mensagens",variant:"destructive"});return}try{const F={id:Date.now(),senderId:r?.id||0,content:a,timestamp:new Date,isRead:!1,type:"text"};x(X=>[...X,F]),o(""),(await fetch(`${pt()}/api/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({recipientId:q.clientId,conversationId:Number(S),content:a,type:"text"})})).ok?S&&A(S):(x(X=>X.filter(O=>O.id!==F.id)),n({title:"Erro",description:"No foi possvel enviar a mensagem",variant:"destructive"}))}catch{n({title:"Erro de conexo",description:"No foi possvel enviar a mensagem",variant:"destructive"})}},ie=z=>{z.key==="Enter"&&!z.shiftKey&&(z.preventDefault(),Y())},E=z=>{k(`/messages-provider/${z}`)},T=async z=>{try{console.log(" Tentando excluir conversa:",z);const F=localStorage.getItem("token");if(!F)return;const le=await fetch(`${pt()}/api/messages/conversation/${z}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`}});le.ok?(console.log(" Conversa excluda com sucesso, recarregando lista..."),n({title:"Conversa excluda",description:"A conversa foi removida com sucesso."}),await N(),console.log(" Lista de conversas recarregada")):(console.log(" Erro ao excluir conversa:",le.status),n({title:"Erro",description:"No foi possvel excluir a conversa",variant:"destructive"}))}catch(F){console.log(" Erro ao excluir conversa:",F),n({title:"Erro",description:"Erro ao excluir conversa",variant:"destructive"})}};return S?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>k("/messages"),className:"lg:hidden",children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>k("/messages"),children:e.jsx(tr,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(Li,{className:"w-10 h-10",children:[e.jsx(Ai,{src:q?.clientAvatar,alt:q?.clientName}),e.jsx(Ti,{className:"bg-yellow-500 text-white",children:q?.clientName?.split(" ").map(z=>z[0]).join("")})]}),q?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:q?.clientName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:q?.specialization}),q?.isOnline&&e.jsx("span",{className:"text-xs text-green-600",children:"online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(er,{className:"h-4 w-4"})}),e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(qm,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"60vh"},children:[u.map(z=>{const F=z.senderId===r?.id;return e.jsx("div",{className:`flex ${F?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${F?"order-2":""}`,children:[!F&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:q?.clientName})}),e.jsx("div",{className:`rounded-2xl px-4 py-2 ${F?"bg-yellow-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:z.content})}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${F?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs text-gray-500",children:U(z.timestamp)}),F&&e.jsx("div",{className:"text-gray-500",children:z.isRead?e.jsx(Om,{className:"h-3 w-3 text-blue-500"}):e.jsx($l,{className:"h-3 w-3"})})]})]})},z.id)}),e.jsx("div",{ref:f})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(Um,{className:"h-4 w-4"})}),e.jsx(Ie,{variant:"ghost",size:"sm",children:e.jsx(bo,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Nt,{placeholder:"Digite sua mensagem...",value:a,onChange:z=>o(z.target.value),onKeyPress:ie,className:"pr-10"}),e.jsx(Ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:e.jsx(Vm,{className:"h-4 w-4"})})]}),e.jsx(Ie,{onClick:Y,disabled:!a.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:e.jsx(Ga,{className:"h-4 w-4"})})]})})]}),e.jsx(Hd,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})})}),e.jsxs("div",{className:"w-full lg:w-96 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Nt,{placeholder:"Buscar conversas...",value:l,onChange:z=>d(z.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:j?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Carregando conversas..."})]})}):D.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ar,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Voc ainda no tem conversas ativas"})]})}):D.map(z=>e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between",onClick:()=>E(z.id),children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(Li,{className:"w-10 h-10 sm:w-12 sm:h-12",children:[e.jsx(Ai,{src:z.clientAvatar,alt:z.clientName}),e.jsx(Ti,{className:"bg-yellow-500 text-white text-xs sm:text-sm",children:z.clientName?.split(" ").map(F=>F[0]).join("")})]}),z.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:z.clientName}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:$(z.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1 flex-wrap",children:[e.jsx(Os,{variant:"secondary",className:"text-xs px-1.5 sm:px-2 py-0 bg-yellow-100 text-yellow-800",children:z.specialization}),z.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Un,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:z.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate flex-1 min-w-0",children:z.lastMessage}),z.unreadCount>0&&e.jsx(Os,{className:"bg-yellow-500 text-white text-xs min-w-[18px] sm:min-w-[20px] h-4 sm:h-5 flex items-center justify-center flex-shrink-0",children:z.unreadCount})]}),z.location&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(vs,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-500 truncate",children:z.location})]})]})]}),e.jsx("button",{className:"ml-1 sm:ml-2 p-1.5 sm:p-2 rounded-full hover:bg-red-100 text-red-600 flex-shrink-0",title:"Excluir conversa",onClick:F=>{F.stopPropagation(),T(z.id)},children:e.jsx(Qo,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]},z.id))})]}),e.jsx(Hd,{})]})}function Rw(){const{toast:s}=wr();return M.useEffect(()=>{console.log(" AuthCallback iniciado"),console.log(" URL atual:",window.location.href),console.log(" Search params:",window.location.search);const r=new URLSearchParams(window.location.search),n=r.get("token"),a=r.get("userType"),o=r.get("error");if(console.log(" Token:",n?"Presente":"Ausente"),console.log(" UserType:",a),console.log(" Error:",o),o){console.log(" Erro detectado:",o),s({title:"Erro na autenticao",description:o==="google_auth_failed"?"Falha no login com Google":"Falha no login com Apple",variant:"destructive"}),window.location.href="/login";return}if(n&&a){console.log(" Token e userType presentes, processando..."),localStorage.setItem("token",n),console.log(" Token salvo no localStorage");try{console.log(" Decodificando token...");const l=JSON.parse(atob(n.split(".")[1]));console.log(" Payload decodificado:",l);const d={id:l.id,email:l.email,userType:l.userType,name:l.name||"Usurio"};console.log(" Usurio processado:",d),localStorage.setItem("user",JSON.stringify(d)),console.log(" Usurio salvo no localStorage"),s({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${d.name}`});const f=a==="provider"?"/provider-dashboard":"/home";console.log(" Redirecionando para:",f),window.location.href=f}catch(l){console.error(" Erro ao decodificar token:",l),s({title:"Erro na autenticao",description:"Token invlido",variant:"destructive"}),console.log(" Redirecionando para /login devido a erro no token"),window.location.href="/login"}}else console.log(" Token ou userType ausentes"),s({title:"Erro na autenticao",description:"Dados de autenticao invlidos",variant:"destructive"}),console.log(" Redirecionando para /login devido a dados invlidos"),window.location.href="/login"},[s]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Vl,{size:48,className:"text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"LifeBee"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:"Cuidados Profissionais"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Processando autenticao..."})]})]})})}function Ow(){const{user:s,isLoading:r,isAuthenticated:n}=rn();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full"})}):n?s?.userType==="provider"?e.jsxs(xd,{children:[e.jsx(os,{path:"/",component:yf}),e.jsx(os,{path:"/provider-dashboard",component:yf}),e.jsx(os,{path:"/provider-registration",children:e.jsx(uw,{onComplete:()=>window.location.reload()})}),e.jsx(os,{path:"/provider-orders",component:hw}),e.jsx(os,{path:"/provider-proposals",component:mw}),e.jsx(os,{path:"/service-offer/:id",component:pw}),e.jsx(os,{path:"/messages/:conversationId",component:xc}),e.jsx(os,{path:"/messages",component:xc}),e.jsx(os,{path:"/messages-provider/:conversationId",component:xc}),e.jsx(os,{path:"/messages-provider",component:xc}),e.jsx(os,{path:"/agenda",component:Hh}),e.jsx(os,{path:"/agenda-profissional",component:Iw}),e.jsx(os,{path:"/profile",component:Uh}),e.jsx(os,{path:"/provider-profile",component:fw}),e.jsx(os,{path:"/settings",component:$h}),e.jsx(os,{component:wf})]}):e.jsxs(xd,{children:[e.jsx(os,{path:"/",component:K1}),e.jsx(os,{path:"/services",component:Tw}),e.jsx(os,{path:"/my-service-requests",component:Ew}),e.jsx(os,{path:"/agenda",component:Hh}),e.jsx(os,{path:"/messages/:conversationId",component:Nf}),e.jsx(os,{path:"/messages",component:Nf}),e.jsx(os,{path:"/profile",component:Uh}),e.jsx(os,{path:"/settings",component:$h}),e.jsx(os,{path:"/payment",component:Jy}),e.jsx(os,{path:"/professional/:id",component:t5}),e.jsx(os,{path:"/servico",component:gw}),e.jsx(os,{path:"/my-requests",component:Aw}),e.jsx(os,{component:wf})]}):e.jsxs(xd,{children:[e.jsx(os,{path:"/auth-callback",component:Rw}),e.jsx(os,{path:"*",children:e.jsx(Mw,{onLogin:()=>{window.location.reload()}})})]})}function Dw(){const[s,r]=M.useState(!0);return e.jsx(im,{client:lm,children:e.jsx(dm,{defaultTheme:"light",storageKey:"lifebee-theme",children:e.jsxs(bp,{children:[s?e.jsx(Y1,{onComplete:()=>r(!1)}):e.jsx(Ow,{}),e.jsx(ep,{})]})})})}window.addEventListener("unhandledrejection",s=>{console.warn("Unhandled promise rejection:",s.reason),s.preventDefault()});window.addEventListener("error",s=>{console.warn("Uncaught error:",s.error)});Ox.createRoot(document.getElementById("root")).render(e.jsx(M.StrictMode,{children:e.jsx(i1,{children:e.jsx(im,{client:lm,children:e.jsxs(dm,{defaultTheme:"light",storageKey:"lifebee-ui-theme",children:[e.jsx(Dw,{}),e.jsx(ep,{})]})})})}));export{ys as _};
