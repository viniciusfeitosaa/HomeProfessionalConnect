import{r as h,j as e,P as Re,c as Ps,a as hl,u as at,B as fm,b as Vs,d as Ur,e as we,f as Us,g as Cn,R as pm,h as ul,i as Mt,k as xm,l as gm,m as Sn,D as ml,C as fl,n as pl,o as Aa,p as xl,A as gl,q as vl,S as vm,O as Gr,s as yl,t as Kr,v as Qr,T as Yr,w as Xr,x as bl,y as wl,z as ym,E as jl,F as bm,I as wm,G as _l,H as Nl,J as kl,K as jm,L as Cl,M as Sl,N as Pl,Q as Tl,U as El,V as Ml,W as Ll,X as _m,Y as Nm,Z as km,_ as Rl,$ as Cm,a0 as Sm,a1 as Cr,a2 as Pm,a3 as Tm,a4 as Em,a5 as Mm,a6 as Lm,a7 as Al,a8 as Rm}from"./ui-lBbVqUN1.js";import{a as Am,r as Om,g as Im}from"./vendor-DavUf6mE.js";import{t as Dm,c as zm,a as Pn}from"./utils--BulIq_u.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=r(c);fetch(c.href,u)}})();var hn={},So;function Fm(){if(So)return hn;So=1;var a=Am();return hn.createRoot=a.createRoot,hn.hydrateRoot=a.hydrateRoot,hn}var $m=Fm(),na=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},js=typeof window>"u"||"Deno"in globalThis;function xt(){}function Bm(a,n){return typeof a=="function"?a(n):a}function Sr(a){return typeof a=="number"&&a>=0&&a!==1/0}function Ol(a,n){return Math.max(a+(n||0)-Date.now(),0)}function os(a,n){return typeof a=="function"?a(n):a}function Ot(a,n){return typeof a=="function"?a(n):a}function Po(a,n){const{type:r="all",exact:o,fetchStatus:c,predicate:u,queryKey:m,stale:x}=a;if(m){if(o){if(n.queryHash!==Jr(m,n.options))return!1}else if(!Sa(n.queryKey,m))return!1}if(r!=="all"){const f=n.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof x=="boolean"&&n.isStale()!==x||c&&c!==n.state.fetchStatus||u&&!u(n))}function To(a,n){const{exact:r,status:o,predicate:c,mutationKey:u}=a;if(u){if(!n.options.mutationKey)return!1;if(r){if(_s(n.options.mutationKey)!==_s(u))return!1}else if(!Sa(n.options.mutationKey,u))return!1}return!(o&&n.state.status!==o||c&&!c(n))}function Jr(a,n){return(n?.queryKeyHashFn||_s)(a)}function _s(a){return JSON.stringify(a,(n,r)=>Pr(r)?Object.keys(r).sort().reduce((o,c)=>(o[c]=r[c],o),{}):r)}function Sa(a,n){return a===n?!0:typeof a!=typeof n?!1:a&&n&&typeof a=="object"&&typeof n=="object"?Object.keys(n).every(r=>Sa(a[r],n[r])):!1}function Il(a,n){if(a===n)return a;const r=Eo(a)&&Eo(n);if(r||Pr(a)&&Pr(n)){const o=r?a:Object.keys(a),c=o.length,u=r?n:Object.keys(n),m=u.length,x=r?[]:{},f=new Set(o);let v=0;for(let b=0;b<m;b++){const y=r?b:u[b];(!r&&f.has(y)||r)&&a[y]===void 0&&n[y]===void 0?(x[y]=void 0,v++):(x[y]=Il(a[y],n[y]),x[y]===a[y]&&a[y]!==void 0&&v++)}return c===m&&v===c?a:x}return n}function vn(a,n){if(!n||Object.keys(a).length!==Object.keys(n).length)return!1;for(const r in a)if(a[r]!==n[r])return!1;return!0}function Eo(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Pr(a){if(!Mo(a))return!1;const n=a.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Mo(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function Mo(a){return Object.prototype.toString.call(a)==="[object Object]"}function Hm(a){return new Promise(n=>{setTimeout(n,a)})}function Tr(a,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(a,n):r.structuralSharing!==!1?Il(a,n):n}function Zm(a,n,r=0){const o=[...a,n];return r&&o.length>r?o.slice(1):o}function qm(a,n,r=0){const o=[n,...a];return r&&o.length>r?o.slice(0,-1):o}var ei=Symbol();function Dl(a,n){return!a.queryFn&&n?.initialPromise?()=>n.initialPromise:!a.queryFn||a.queryFn===ei?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}function zl(a,n){return typeof a=="function"?a(...n):!!a}var Wm=class extends na{#t;#e;#s;constructor(){super(),this.#s=a=>{if(!js&&window.addEventListener){const n=()=>a();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#s=a,this.#e?.(),this.#e=a(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(n=>{n(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},ti=new Wm,Vm=class extends na{#t=!0;#e;#s;constructor(){super(),this.#s=a=>{if(!js&&window.addEventListener){const n=()=>a(!0),r=()=>a(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#s=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(r=>{r(a)}))}isOnline(){return this.#t}},yn=new Vm;function Er(){let a,n;const r=new Promise((c,u)=>{a=c,n=u});r.status="pending",r.catch(()=>{});function o(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{o({status:"fulfilled",value:c}),a(c)},r.reject=c=>{o({status:"rejected",reason:c}),n(c)},r}function Um(a){return Math.min(1e3*2**a,3e4)}function Fl(a){return(a??"online")==="online"?yn.isOnline():!0}var $l=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function gr(a){return a instanceof $l}function Bl(a){let n=!1,r=0,o=!1,c;const u=Er(),m=g=>{o||(k(new $l(g)),a.abort?.())},x=()=>{n=!0},f=()=>{n=!1},v=()=>ti.isFocused()&&(a.networkMode==="always"||yn.isOnline())&&a.canRun(),b=()=>Fl(a.networkMode)&&a.canRun(),y=g=>{o||(o=!0,a.onSuccess?.(g),c?.(),u.resolve(g))},k=g=>{o||(o=!0,a.onError?.(g),c?.(),u.reject(g))},w=()=>new Promise(g=>{c=T=>{(o||v())&&g(T)},a.onPause?.()}).then(()=>{c=void 0,o||a.onContinue?.()}),N=()=>{if(o)return;let g;const T=r===0?a.initialPromise:void 0;try{g=T??a.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(y).catch(E=>{if(o)return;const j=a.retry??(js?0:3),M=a.retryDelay??Um,I=typeof M=="function"?M(r,E):M,R=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,E);if(n||!R){k(E);return}r++,a.onFail?.(r,E),Hm(I).then(()=>v()?void 0:w()).then(()=>{n?k(E):N()})})};return{promise:u,cancel:m,continue:()=>(c?.(),u),cancelRetry:x,continueRetry:f,canStart:b,start:()=>(b()?N():w().then(N),u)}}var Gm=a=>setTimeout(a,0);function Km(){let a=[],n=0,r=x=>{x()},o=x=>{x()},c=Gm;const u=x=>{n?a.push(x):c(()=>{r(x)})},m=()=>{const x=a;a=[],x.length&&c(()=>{o(()=>{x.forEach(f=>{r(f)})})})};return{batch:x=>{let f;n++;try{f=x()}finally{n--,n||m()}return f},batchCalls:x=>(...f)=>{u(()=>{x(...f)})},schedule:u,setNotifyFunction:x=>{r=x},setBatchNotifyFunction:x=>{o=x},setScheduler:x=>{c=x}}}var et=Km(),Hl=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sr(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(js?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Qm=class extends Hl{#t;#e;#s;#a;#n;#i;#o;constructor(a){super(),this.#o=!1,this.#i=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#s=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=Ym(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(a){this.options={...this.#i,...a},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(a,n){const r=Tr(this.state.data,a,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(a,n){this.#r({type:"setState",state:a,setStateOptions:n})}cancel(a){const n=this.#n?.promise;return this.#n?.cancel(a),n?n.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>Ot(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ei||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>os(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!Ol(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(n=>n!==a),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(a,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(a&&this.setOptions(a),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},c=()=>{const f=Dl(this.options,n),b=(()=>{const y={client:this.#a,queryKey:this.queryKey,meta:this.meta};return o(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,b,this):f(b)},m=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return o(f),f})();this.options.behavior?.onFetch(m,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta});const x=f=>{gr(f)&&f.silent||this.#r({type:"error",error:f}),gr(f)||(this.#s.config.onError?.(f,this),this.#s.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#n=Bl({initialPromise:n?.initialPromise,fn:m.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{if(f===void 0){x(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){x(v);return}this.#s.config.onSuccess?.(f,this),this.#s.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:x,onFail:(f,v)=>{this.#r({type:"failed",failureCount:f,error:v})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0}),this.#n.start()}#r(a){const n=r=>{switch(a.type){case"failed":return{...r,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Zl(r.data,this.options),fetchMeta:a.meta??null};case"success":return this.#e=void 0,{...r,data:a.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=a.error;return gr(o)&&o.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...a.state}}};this.state=n(this.state),et.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:a})})}};function Zl(a,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fl(n.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function Ym(a){const n=typeof a.initialData=="function"?a.initialData():a.initialData,r=n!==void 0,o=r?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xm=class extends na{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,n,r){const o=n.queryKey,c=n.queryHash??Jr(o,n);let u=this.get(c);return u||(u=new Qm({client:a,queryKey:o,queryHash:c,options:a.defaultQueryOptions(n),state:r,defaultOptions:a.getQueryDefaults(o)}),this.add(u)),u}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const n=this.#t.get(a.queryHash);n&&(a.destroy(),n===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){et.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const n={exact:!0,...a};return this.getAll().find(r=>Po(n,r))}findAll(a={}){const n=this.getAll();return Object.keys(a).length>0?n.filter(r=>Po(a,r)):n}notify(a){et.batch(()=>{this.listeners.forEach(n=>{n(a)})})}onFocus(){et.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){et.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Jm=class extends Hl{#t;#e;#s;constructor(a){super(),this.mutationId=a.mutationId,this.#e=a.mutationCache,this.#t=[],this.state=a.state||ql(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#t.includes(a)||(this.#t.push(a),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#t=this.#t.filter(n=>n!==a),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(a){const n=()=>{this.#a({type:"continue"})};this.#s=Bl({fn:()=>this.options.mutationFn?this.options.mutationFn(a):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",o=!this.#s.canStart();try{if(r)n();else{this.#a({type:"pending",variables:a,isPaused:o}),await this.#e.config.onMutate?.(a,this);const u=await this.options.onMutate?.(a);u!==this.state.context&&this.#a({type:"pending",context:u,variables:a,isPaused:o})}const c=await this.#s.start();return await this.#e.config.onSuccess?.(c,a,this.state.context,this),await this.options.onSuccess?.(c,a,this.state.context),await this.#e.config.onSettled?.(c,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(c,null,a,this.state.context),this.#a({type:"success",data:c}),c}catch(c){try{throw await this.#e.config.onError?.(c,a,this.state.context,this),await this.options.onError?.(c,a,this.state.context),await this.#e.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,c,a,this.state.context),c}finally{this.#a({type:"error",error:c})}}finally{this.#e.runNext(this)}}#a(a){const n=r=>{switch(a.type){case"failed":return{...r,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...r,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:a.error,failureCount:r.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=n(this.state),et.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(a)}),this.#e.notify({mutation:this,type:"updated",action:a})})}};function ql(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ef=class extends na{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(a,n,r){const o=new Jm({mutationCache:this,mutationId:++this.#s,options:a.defaultMutationOptions(n),state:r});return this.add(o),o}add(a){this.#t.add(a);const n=un(a);if(typeof n=="string"){const r=this.#e.get(n);r?r.push(a):this.#e.set(n,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const n=un(a);if(typeof n=="string"){const r=this.#e.get(n);if(r)if(r.length>1){const o=r.indexOf(a);o!==-1&&r.splice(o,1)}else r[0]===a&&this.#e.delete(n)}}this.notify({type:"removed",mutation:a})}canRun(a){const n=un(a);if(typeof n=="string"){const o=this.#e.get(n)?.find(c=>c.state.status==="pending");return!o||o===a}else return!0}runNext(a){const n=un(a);return typeof n=="string"?this.#e.get(n)?.find(o=>o!==a&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){et.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const n={exact:!0,...a};return this.getAll().find(r=>To(n,r))}findAll(a={}){return this.getAll().filter(n=>To(a,n))}notify(a){et.batch(()=>{this.listeners.forEach(n=>{n(a)})})}resumePausedMutations(){const a=this.getAll().filter(n=>n.state.isPaused);return et.batch(()=>Promise.all(a.map(n=>n.continue().catch(xt))))}};function un(a){return a.options.scope?.id}function Lo(a){return{onFetch:(n,r)=>{const o=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],m=n.state.data?.pageParams||[];let x={pages:[],pageParams:[]},f=0;const v=async()=>{let b=!1;const y=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},k=Dl(n.options,n.fetchOptions),w=async(N,g,T)=>{if(b)return Promise.reject();if(g==null&&N.pages.length)return Promise.resolve(N);const j=(()=>{const Z={client:n.client,queryKey:n.queryKey,pageParam:g,direction:T?"backward":"forward",meta:n.options.meta};return y(Z),Z})(),M=await k(j),{maxPages:I}=n.options,R=T?qm:Zm;return{pages:R(N.pages,M,I),pageParams:R(N.pageParams,g,I)}};if(c&&u.length){const N=c==="backward",g=N?tf:Ro,T={pages:u,pageParams:m},E=g(o,T);x=await w(T,E,N)}else{const N=a??u.length;do{const g=f===0?m[0]??o.initialPageParam:Ro(o,x);if(f>0&&g==null)break;x=await w(x,g),f++}while(f<N)}return x};n.options.persister?n.fetchFn=()=>n.options.persister?.(v,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=v}}}function Ro(a,{pages:n,pageParams:r}){const o=n.length-1;return n.length>0?a.getNextPageParam(n[o],n,r[o],r):void 0}function tf(a,{pages:n,pageParams:r}){return n.length>0?a.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var Wl=class{#t;#e;#s;#a;#n;#i;#o;#r;constructor(a={}){this.#t=a.queryCache||new Xm,this.#e=a.mutationCache||new ef,this.#s=a.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=ti.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=yn.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const n=this.defaultQueryOptions({queryKey:a});return this.#t.get(n.queryHash)?.state.data}ensureQueryData(a){const n=this.defaultQueryOptions(a),r=this.#t.build(this,n),o=r.state.data;return o===void 0?this.fetchQuery(a):(a.revalidateIfStale&&r.isStaleByTime(os(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:n,state:r})=>{const o=r.data;return[n,o]})}setQueryData(a,n,r){const o=this.defaultQueryOptions({queryKey:a}),u=this.#t.get(o.queryHash)?.state.data,m=Bm(n,u);if(m!==void 0)return this.#t.build(this,o).setData(m,{...r,manual:!0})}setQueriesData(a,n,r){return et.batch(()=>this.#t.findAll(a).map(({queryKey:o})=>[o,this.setQueryData(o,n,r)]))}getQueryState(a){const n=this.defaultQueryOptions({queryKey:a});return this.#t.get(n.queryHash)?.state}removeQueries(a){const n=this.#t;et.batch(()=>{n.findAll(a).forEach(r=>{n.remove(r)})})}resetQueries(a,n){const r=this.#t;return et.batch(()=>(r.findAll(a).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...a},n)))}cancelQueries(a,n={}){const r={revert:!0,...n},o=et.batch(()=>this.#t.findAll(a).map(c=>c.cancel(r)));return Promise.all(o).then(xt).catch(xt)}invalidateQueries(a,n={}){return et.batch(()=>(this.#t.findAll(a).forEach(r=>{r.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},n)))}refetchQueries(a,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},o=et.batch(()=>this.#t.findAll(a).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,r);return r.throwOnError||(u=u.catch(xt)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(o).then(xt)}fetchQuery(a){const n=this.defaultQueryOptions(a);n.retry===void 0&&(n.retry=!1);const r=this.#t.build(this,n);return r.isStaleByTime(os(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(xt).catch(xt)}fetchInfiniteQuery(a){return a.behavior=Lo(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(xt).catch(xt)}ensureInfiniteQueryData(a){return a.behavior=Lo(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return yn.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(a){this.#s=a}setQueryDefaults(a,n){this.#a.set(_s(a),{queryKey:a,defaultOptions:n})}getQueryDefaults(a){const n=[...this.#a.values()],r={};return n.forEach(o=>{Sa(a,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(a,n){this.#n.set(_s(a),{mutationKey:a,defaultOptions:n})}getMutationDefaults(a){const n=[...this.#n.values()],r={};return n.forEach(o=>{Sa(a,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(a){if(a._defaulted)return a;const n={...this.#s.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return n.queryHash||(n.queryHash=Jr(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===ei&&(n.enabled=!1),n}defaultMutationOptions(a){return a?._defaulted?a:{...this.#s.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},sf=class extends na{constructor(a,n){super(),this.options=n,this.#t=a,this.#r=null,this.#o=Er(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}#t;#e=void 0;#s=void 0;#a=void 0;#n;#i;#o;#r;#p;#u;#m;#c;#d;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Ao(this.#e,this.options)?this.#h():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mr(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mr(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(a){const n=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ot(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#e.setOptions(this.options),n._defaulted&&!vn(this.options,n)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const o=this.hasListeners();o&&Oo(this.#e,r,this.options,n)&&this.#h(),this.updateResult(),o&&(this.#e!==r||Ot(this.options.enabled,this.#e)!==Ot(n.enabled,this.#e)||os(this.options.staleTime,this.#e)!==os(n.staleTime,this.#e))&&this.#x();const c=this.#g();o&&(this.#e!==r||Ot(this.options.enabled,this.#e)!==Ot(n.enabled,this.#e)||c!==this.#l)&&this.#v(c)}getOptimisticResult(a){const n=this.#t.getQueryCache().build(this.#t,a),r=this.createResult(n,a);return nf(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#e.state),r}getCurrentResult(){return this.#a}trackResult(a,n){return new Proxy(a,{get:(r,o)=>(this.trackProp(o),n?.(o),Reflect.get(r,o))})}trackProp(a){this.#f.add(a)}getCurrentQuery(){return this.#e}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const n=this.#t.defaultQueryOptions(a),r=this.#t.getQueryCache().build(this.#t,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(a){return this.#h({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#h(a){this.#j();let n=this.#e.fetch(this.options,a);return a?.throwOnError||(n=n.catch(xt)),n}#x(){this.#b();const a=os(this.options.staleTime,this.#e);if(js||this.#a.isStale||!Sr(a))return;const r=Ol(this.#a.dataUpdatedAt,a)+1;this.#c=setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(a){this.#w(),this.#l=a,!(js||Ot(this.options.enabled,this.#e)===!1||!Sr(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||ti.isFocused())&&this.#h()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(a,n){const r=this.#e,o=this.options,c=this.#a,u=this.#n,m=this.#i,f=a!==r?a.state:this.#s,{state:v}=a;let b={...v},y=!1,k;if(n._optimisticResults){const U=this.hasListeners(),z=!U&&Ao(a,n),X=U&&Oo(a,r,n,o);(z||X)&&(b={...b,...Zl(v.data,a.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:w,errorUpdatedAt:N,status:g}=b;k=b.data;let T=!1;if(n.placeholderData!==void 0&&k===void 0&&g==="pending"){let U;c?.isPlaceholderData&&n.placeholderData===m?.placeholderData?(U=c.data,T=!0):U=typeof n.placeholderData=="function"?n.placeholderData(this.#m?.state.data,this.#m):n.placeholderData,U!==void 0&&(g="success",k=Tr(c?.data,U,n),y=!0)}if(n.select&&k!==void 0&&!T)if(c&&k===u?.data&&n.select===this.#p)k=this.#u;else try{this.#p=n.select,k=n.select(k),k=Tr(c?.data,k,n),this.#u=k,this.#r=null}catch(U){this.#r=U}this.#r&&(w=this.#r,k=this.#u,N=Date.now(),g="error");const E=b.fetchStatus==="fetching",j=g==="pending",M=g==="error",I=j&&E,R=k!==void 0,O={status:g,fetchStatus:b.fetchStatus,isPending:j,isSuccess:g==="success",isError:M,isInitialLoading:I,isLoading:I,data:k,dataUpdatedAt:b.dataUpdatedAt,error:w,errorUpdatedAt:N,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>f.dataUpdateCount||b.errorUpdateCount>f.errorUpdateCount,isFetching:E,isRefetching:E&&!j,isLoadingError:M&&!R,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:M&&R,isStale:si(a,n),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const U=B=>{O.status==="error"?B.reject(O.error):O.data!==void 0&&B.resolve(O.data)},z=()=>{const B=this.#o=O.promise=Er();U(B)},X=this.#o;switch(X.status){case"pending":a.queryHash===r.queryHash&&U(X);break;case"fulfilled":(O.status==="error"||O.data!==X.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==X.reason)&&z();break}}return O}updateResult(){const a=this.#a,n=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#i=this.options,this.#n.data!==void 0&&(this.#m=this.#e),vn(n,a))return;this.#a=n;const r=()=>{if(!a)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!this.#f.size)return!0;const u=new Set(c??this.#f);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(m=>{const x=m;return this.#a[x]!==a[x]&&u.has(x)})};this.#_({listeners:r()})}#j(){const a=this.#t.getQueryCache().build(this.#t,this.options);if(a===this.#e)return;const n=this.#e;this.#e=a,this.#s=a.state,this.hasListeners()&&(n?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(a){et.batch(()=>{a.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function af(a,n){return Ot(n.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&n.retryOnMount===!1)}function Ao(a,n){return af(a,n)||a.state.data!==void 0&&Mr(a,n,n.refetchOnMount)}function Mr(a,n,r){if(Ot(n.enabled,a)!==!1&&os(n.staleTime,a)!=="static"){const o=typeof r=="function"?r(a):r;return o==="always"||o!==!1&&si(a,n)}return!1}function Oo(a,n,r,o){return(a!==n||Ot(o.enabled,a)===!1)&&(!r.suspense||a.state.status!=="error")&&si(a,r)}function si(a,n){return Ot(n.enabled,a)!==!1&&a.isStaleByTime(os(n.staleTime,a))}function nf(a,n){return!vn(a.getCurrentResult(),n)}var rf=class extends na{#t;#e=void 0;#s;#a;constructor(n,r){super(),this.#t=n,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const r=this.options;this.options=this.#t.defaultMutationOptions(n),vn(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),r?.mutationKey&&this.options.mutationKey&&_s(r.mutationKey)!==_s(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(n){this.#n(),this.#i(n)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#i()}mutate(n,r){return this.#a=r,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(n)}#n(){const n=this.#s?.state??ql();this.#e={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#i(n){et.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#e.variables,o=this.#e.context;n?.type==="success"?(this.#a.onSuccess?.(n.data,r,o),this.#a.onSettled?.(n.data,null,r,o)):n?.type==="error"&&(this.#a.onError?.(n.error,r,o),this.#a.onSettled?.(void 0,n.error,r,o))}this.listeners.forEach(r=>{r(this.#e)})})}},Vl=h.createContext(void 0),ai=a=>{const n=h.useContext(Vl);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Ul=({client:a,children:n})=>(h.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),e.jsx(Vl.Provider,{value:a,children:n})),Gl=h.createContext(!1),of=()=>h.useContext(Gl);Gl.Provider;function lf(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var cf=h.createContext(lf()),df=()=>h.useContext(cf),hf=(a,n)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(n.isReset()||(a.retryOnMount=!1))},uf=a=>{h.useEffect(()=>{a.clearReset()},[a])},mf=({result:a,errorResetBoundary:n,throwOnError:r,query:o,suspense:c})=>a.isError&&!n.isReset()&&!a.isFetching&&o&&(c&&a.data===void 0||zl(r,[a.error,o])),ff=a=>{if(a.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),r=a.staleTime;a.staleTime=typeof r=="function"?(...o)=>n(r(...o)):n(r),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3))}},pf=(a,n)=>a.isLoading&&a.isFetching&&!n,xf=(a,n)=>a?.suspense&&n.isPending,Io=(a,n,r)=>n.fetchOptimistic(a).catch(()=>{r.clearReset()});function gf(a,n,r){const o=of(),c=df(),u=ai(),m=u.defaultQueryOptions(a);u.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=o?"isRestoring":"optimistic",ff(m),hf(m,c),uf(c);const x=!u.getQueryCache().get(m.queryHash),[f]=h.useState(()=>new n(u,m)),v=f.getOptimisticResult(m),b=!o&&a.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(y=>{const k=b?f.subscribe(et.batchCalls(y)):xt;return f.updateResult(),k},[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),h.useEffect(()=>{f.setOptions(m)},[m,f]),xf(m,v))throw Io(m,f,c);if(mf({result:v,errorResetBoundary:c,throwOnError:m.throwOnError,query:u.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw v.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(m,v),m.experimental_prefetchInRender&&!js&&pf(v,o)&&(x?Io(m,f,c):u.getQueryCache().get(m.queryHash)?.promise)?.catch(xt).finally(()=>{f.updateResult()}),m.notifyOnChangeProps?v:f.trackResult(v)}function bn(a,n){return gf(a,sf)}function Do(a,n){const r=ai(),[o]=h.useState(()=>new rf(r,a));h.useEffect(()=>{o.setOptions(a)},[o,a]);const c=h.useSyncExternalStore(h.useCallback(m=>o.subscribe(et.batchCalls(m)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),u=h.useCallback((m,x)=>{o.mutate(m,x).catch(xt)},[o]);if(c.error&&zl(o.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}const vf={development:{baseUrl:"http://localhost:5000"},production:{baseUrl:"https://lifebee-backend.onrender.com"}},fe=()=>vf["production"]?.baseUrl;async function yf(a){const n=fe(),r=a.startsWith("http")?a:`${n}${a}`,o=localStorage.getItem("token"),c={"Content-Type":"application/json",Accept:"application/json"};o&&(c.Authorization=`Bearer ${o}`);try{const u=await fetch(r,{method:"GET",headers:c,mode:"cors",credentials:"include"});return u.ok?await u.json():null}catch{return null}}const bf=async({queryKey:a})=>await yf(a[0]),Kl=new Wl({defaultOptions:{queries:{queryFn:bf,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:5*60*1e3},mutations:{retry:!1}}}),wf={theme:"system",setTheme:()=>null},Ql=h.createContext(wf);function Yl({children:a,defaultTheme:n="system",storageKey:r="lifebee-ui-theme",...o}){const[c,u]=h.useState(()=>{try{return localStorage.getItem(r)||n}catch{return n}});h.useEffect(()=>{const x=window.document.documentElement;if(x.classList.remove("light","dark"),c==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";x.classList.add(f);return}x.classList.add(c)},[c]);const m={theme:c,setTheme:x=>{try{localStorage.setItem(r,x)}catch{}u(x)}};return e.jsx(Ql.Provider,{...o,value:m,children:a})}const Xl=()=>{const a=h.useContext(Ql);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},jf=1,_f=1e6;let vr=0;function Nf(){return vr=(vr+1)%Number.MAX_SAFE_INTEGER,vr.toString()}const yr=new Map,zo=a=>{if(yr.has(a))return;const n=setTimeout(()=>{yr.delete(a),ka({type:"REMOVE_TOAST",toastId:a})},_f);yr.set(a,n)},kf=(a,n)=>{switch(n.type){case"ADD_TOAST":return{...a,toasts:[n.toast,...a.toasts].slice(0,jf)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(r=>r.id===n.toast.id?{...r,...n.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=n;return r?zo(r):a.toasts.forEach(o=>{zo(o.id)}),{...a,toasts:a.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(r=>r.id!==n.toastId)}}},pn=[];let xn={toasts:[]};function ka(a){xn=kf(xn,a),pn.forEach(n=>{n(xn)})}function Cf({...a}){const n=Nf(),r=c=>ka({type:"UPDATE_TOAST",toast:{...c,id:n}}),o=()=>ka({type:"DISMISS_TOAST",toastId:n});return ka({type:"ADD_TOAST",toast:{...a,id:n,open:!0,onOpenChange:c=>{c||o()}}}),{id:n,dismiss:o,update:r}}function nt(){const[a,n]=h.useState(xn);return h.useEffect(()=>(pn.push(n),()=>{const r=pn.indexOf(n);r>-1&&pn.splice(r,1)}),[a]),{...a,toast:Cf,dismiss:r=>ka({type:"DISMISS_TOAST",toastId:r})}}var Jl=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sf="VisuallyHidden",Tn=h.forwardRef((a,n)=>e.jsx(Re.span,{...a,ref:n,style:{...Jl,...a.style}}));Tn.displayName=Sf;var Pf=Tn,ni="ToastProvider",[ri,Tf,Ef]=hl("Toast"),[ec,Uv]=Ps("Toast",[Ef]),[Mf,En]=ec(ni),tc=a=>{const{__scopeToast:n,label:r="Notification",duration:o=5e3,swipeDirection:c="right",swipeThreshold:u=50,children:m}=a,[x,f]=h.useState(null),[v,b]=h.useState(0),y=h.useRef(!1),k=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ni}\`. Expected non-empty \`string\`.`),e.jsx(ri.Provider,{scope:n,children:e.jsx(Mf,{scope:n,label:r,duration:o,swipeDirection:c,swipeThreshold:u,toastCount:v,viewport:x,onViewportChange:f,onToastAdd:h.useCallback(()=>b(w=>w+1),[]),onToastRemove:h.useCallback(()=>b(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:k,children:m})})};tc.displayName=ni;var sc="ToastViewport",Lf=["F8"],Lr="toast.viewportPause",Rr="toast.viewportResume",ac=h.forwardRef((a,n)=>{const{__scopeToast:r,hotkey:o=Lf,label:c="Notifications ({hotkey})",...u}=a,m=En(sc,r),x=Tf(r),f=h.useRef(null),v=h.useRef(null),b=h.useRef(null),y=h.useRef(null),k=at(n,y,m.onViewportChange),w=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=m.toastCount>0;h.useEffect(()=>{const T=E=>{o.length!==0&&o.every(M=>E[M]||E.code===M)&&y.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[o]),h.useEffect(()=>{const T=f.current,E=y.current;if(N&&T&&E){const j=()=>{if(!m.isClosePausedRef.current){const Z=new CustomEvent(Lr);E.dispatchEvent(Z),m.isClosePausedRef.current=!0}},M=()=>{if(m.isClosePausedRef.current){const Z=new CustomEvent(Rr);E.dispatchEvent(Z),m.isClosePausedRef.current=!1}},I=Z=>{!T.contains(Z.relatedTarget)&&M()},R=()=>{T.contains(document.activeElement)||M()};return T.addEventListener("focusin",j),T.addEventListener("focusout",I),T.addEventListener("pointermove",j),T.addEventListener("pointerleave",R),window.addEventListener("blur",j),window.addEventListener("focus",M),()=>{T.removeEventListener("focusin",j),T.removeEventListener("focusout",I),T.removeEventListener("pointermove",j),T.removeEventListener("pointerleave",R),window.removeEventListener("blur",j),window.removeEventListener("focus",M)}}},[N,m.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:T})=>{const j=x().map(M=>{const I=M.ref.current,R=[I,...Wf(I)];return T==="forwards"?R:R.reverse()});return(T==="forwards"?j.reverse():j).flat()},[x]);return h.useEffect(()=>{const T=y.current;if(T){const E=j=>{const M=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!M){const R=document.activeElement,Z=j.shiftKey;if(j.target===T&&Z){v.current?.focus();return}const z=g({tabbingDirection:Z?"backwards":"forwards"}),X=z.findIndex(B=>B===R);br(z.slice(X+1))?j.preventDefault():Z?v.current?.focus():b.current?.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[x,g]),e.jsxs(fm,{ref:f,role:"region","aria-label":c.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&e.jsx(Ar,{ref:v,onFocusFromOutsideViewport:()=>{const T=g({tabbingDirection:"forwards"});br(T)}}),e.jsx(ri.Slot,{scope:r,children:e.jsx(Re.ol,{tabIndex:-1,...u,ref:k})}),N&&e.jsx(Ar,{ref:b,onFocusFromOutsideViewport:()=>{const T=g({tabbingDirection:"backwards"});br(T)}})]})});ac.displayName=sc;var nc="ToastFocusProxy",Ar=h.forwardRef((a,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...c}=a,u=En(nc,r);return e.jsx(Tn,{"aria-hidden":!0,tabIndex:0,...c,ref:n,style:{position:"fixed"},onFocus:m=>{const x=m.relatedTarget;!u.viewport?.contains(x)&&o()}})});Ar.displayName=nc;var Oa="Toast",Rf="toast.swipeStart",Af="toast.swipeMove",Of="toast.swipeCancel",If="toast.swipeEnd",rc=h.forwardRef((a,n)=>{const{forceMount:r,open:o,defaultOpen:c,onOpenChange:u,...m}=a,[x,f]=Vs({prop:o,defaultProp:c??!0,onChange:u,caller:Oa});return e.jsx(Ur,{present:r||x,children:e.jsx(Ff,{open:x,...m,ref:n,onClose:()=>f(!1),onPause:Us(a.onPause),onResume:Us(a.onResume),onSwipeStart:we(a.onSwipeStart,v=>{v.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(a.onSwipeMove,v=>{const{x:b,y}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","move"),v.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:we(a.onSwipeCancel,v=>{v.currentTarget.setAttribute("data-swipe","cancel"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(a.onSwipeEnd,v=>{const{x:b,y}=v.detail.delta;v.currentTarget.setAttribute("data-swipe","end"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),v.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),v.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),v.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),f(!1)})})})});rc.displayName=Oa;var[Df,zf]=ec(Oa,{onClose(){}}),Ff=h.forwardRef((a,n)=>{const{__scopeToast:r,type:o="foreground",duration:c,open:u,onClose:m,onEscapeKeyDown:x,onPause:f,onResume:v,onSwipeStart:b,onSwipeMove:y,onSwipeCancel:k,onSwipeEnd:w,...N}=a,g=En(Oa,r),[T,E]=h.useState(null),j=at(n,S=>E(S)),M=h.useRef(null),I=h.useRef(null),R=c||g.duration,Z=h.useRef(0),O=h.useRef(R),U=h.useRef(0),{onToastAdd:z,onToastRemove:X}=g,B=Us(()=>{T?.contains(document.activeElement)&&g.viewport?.focus(),m()}),V=h.useCallback(S=>{!S||S===1/0||(window.clearTimeout(U.current),Z.current=new Date().getTime(),U.current=window.setTimeout(B,S))},[B]);h.useEffect(()=>{const S=g.viewport;if(S){const W=()=>{V(O.current),v?.()},G=()=>{const ce=new Date().getTime()-Z.current;O.current=O.current-ce,window.clearTimeout(U.current),f?.()};return S.addEventListener(Lr,G),S.addEventListener(Rr,W),()=>{S.removeEventListener(Lr,G),S.removeEventListener(Rr,W)}}},[g.viewport,R,f,v,V]),h.useEffect(()=>{u&&!g.isClosePausedRef.current&&V(R)},[u,R,g.isClosePausedRef,V]),h.useEffect(()=>(z(),()=>X()),[z,X]);const P=h.useMemo(()=>T?uc(T):null,[T]);return g.viewport?e.jsxs(e.Fragment,{children:[P&&e.jsx($f,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),e.jsx(Df,{scope:r,onClose:B,children:Cn.createPortal(e.jsx(ri.ItemSlot,{scope:r,children:e.jsx(pm,{asChild:!0,onEscapeKeyDown:we(x,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":g.swipeDirection,...N,ref:j,style:{userSelect:"none",touchAction:"none",...a.style},onKeyDown:we(a.onKeyDown,S=>{S.key==="Escape"&&(x?.(S.nativeEvent),S.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:we(a.onPointerDown,S=>{S.button===0&&(M.current={x:S.clientX,y:S.clientY})}),onPointerMove:we(a.onPointerMove,S=>{if(!M.current)return;const W=S.clientX-M.current.x,G=S.clientY-M.current.y,ce=!!I.current,K=["left","right"].includes(g.swipeDirection),se=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,re=K?se(0,W):0,ve=K?0:se(0,G),Pe=S.pointerType==="touch"?10:2,je={x:re,y:ve},Y={originalEvent:S,delta:je};ce?(I.current=je,mn(Af,y,Y,{discrete:!1})):Fo(je,g.swipeDirection,Pe)?(I.current=je,mn(Rf,b,Y,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(W)>Pe||Math.abs(G)>Pe)&&(M.current=null)}),onPointerUp:we(a.onPointerUp,S=>{const W=I.current,G=S.target;if(G.hasPointerCapture(S.pointerId)&&G.releasePointerCapture(S.pointerId),I.current=null,M.current=null,W){const ce=S.currentTarget,K={originalEvent:S,delta:W};Fo(W,g.swipeDirection,g.swipeThreshold)?mn(If,w,K,{discrete:!0}):mn(Of,k,K,{discrete:!0}),ce.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$f=a=>{const{__scopeToast:n,children:r,...o}=a,c=En(Oa,n),[u,m]=h.useState(!1),[x,f]=h.useState(!1);return Zf(()=>m(!0)),h.useEffect(()=>{const v=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(v)},[]),x?null:e.jsx(ul,{asChild:!0,children:e.jsx(Tn,{...o,children:u&&e.jsxs(e.Fragment,{children:[c.label," ",r]})})})},Bf="ToastTitle",ic=h.forwardRef((a,n)=>{const{__scopeToast:r,...o}=a;return e.jsx(Re.div,{...o,ref:n})});ic.displayName=Bf;var Hf="ToastDescription",oc=h.forwardRef((a,n)=>{const{__scopeToast:r,...o}=a;return e.jsx(Re.div,{...o,ref:n})});oc.displayName=Hf;var lc="ToastAction",cc=h.forwardRef((a,n)=>{const{altText:r,...o}=a;return r.trim()?e.jsx(hc,{altText:r,asChild:!0,children:e.jsx(ii,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${lc}\`. Expected non-empty \`string\`.`),null)});cc.displayName=lc;var dc="ToastClose",ii=h.forwardRef((a,n)=>{const{__scopeToast:r,...o}=a,c=zf(dc,r);return e.jsx(hc,{asChild:!0,children:e.jsx(Re.button,{type:"button",...o,ref:n,onClick:we(a.onClick,c.onClose)})})});ii.displayName=dc;var hc=h.forwardRef((a,n)=>{const{__scopeToast:r,altText:o,...c}=a;return e.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...c,ref:n})});function uc(a){const n=[];return Array.from(a.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),qf(o)){const c=o.ariaHidden||o.hidden||o.style.display==="none",u=o.dataset.radixToastAnnounceExclude==="";if(!c)if(u){const m=o.dataset.radixToastAnnounceAlt;m&&n.push(m)}else n.push(...uc(o))}}),n}function mn(a,n,r,{discrete:o}){const c=r.originalEvent.currentTarget,u=new CustomEvent(a,{bubbles:!0,cancelable:!0,detail:r});n&&c.addEventListener(a,n,{once:!0}),o?xm(c,u):c.dispatchEvent(u)}var Fo=(a,n,r=0)=>{const o=Math.abs(a.x),c=Math.abs(a.y),u=o>c;return n==="left"||n==="right"?u&&o>r:!u&&c>r};function Zf(a=()=>{}){const n=Us(a);Mt(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[n])}function qf(a){return a.nodeType===a.ELEMENT_NODE}function Wf(a){const n=[],r=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function br(a){const n=document.activeElement;return a.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var Vf=tc,mc=ac,fc=rc,pc=ic,xc=oc,gc=cc,vc=ii;/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(a,n)=>{const r=h.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:m,className:x="",children:f,...v},b)=>h.createElement("svg",{ref:b,...Uf,width:c,height:c,stroke:o,strokeWidth:m?Number(u)*24/Number(c):u,className:["lucide",`lucide-${Gf(a)}`,x].join(" "),...v},[...n.map(([y,k])=>h.createElement(y,k)),...Array.isArray(f)?f:[f]]));return r.displayName=`${a}`,r};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ee("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ee("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ee("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ee("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ee("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ue(...a){return Dm(zm(a))}const hp=Vf,Ic=h.forwardRef(({className:a,...n},r)=>e.jsx(mc,{ref:r,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] pointer-events-none",a),...n}));Ic.displayName=mc.displayName;const up=Pn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-xl",destructive:"destructive group border-red-200 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 shadow-xl"}},defaultVariants:{variant:"default"}}),Dc=h.forwardRef(({className:a,variant:n,...r},o)=>e.jsx(fc,{ref:o,className:ue(up({variant:n}),a),...r}));Dc.displayName=fc.displayName;const mp=h.forwardRef(({className:a,...n},r)=>e.jsx(gc,{ref:r,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...n}));mp.displayName=gc.displayName;const zc=h.forwardRef(({className:a,...n},r)=>e.jsx(vc,{ref:r,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...n,children:e.jsx(Da,{className:"h-4 w-4"})}));zc.displayName=vc.displayName;const Fc=h.forwardRef(({className:a,...n},r)=>e.jsx(pc,{ref:r,className:ue("text-sm font-semibold",a),...n}));Fc.displayName=pc.displayName;const $c=h.forwardRef(({className:a,...n},r)=>e.jsx(xc,{ref:r,className:ue("text-sm opacity-90",a),...n}));$c.displayName=xc.displayName;function Bc(){const{toasts:a}=nt();return e.jsxs(hp,{children:[a.map(function({id:n,title:r,description:o,action:c,...u}){return e.jsxs(Dc,{...u,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Fc,{children:r}),o&&e.jsx($c,{children:o})]}),c,e.jsx(zc,{})]},n)}),e.jsx(Ic,{})]})}class fp extends h.Component{state={hasError:!1};static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.warn("Error caught by boundary:",n,r)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Algo deu errado"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Ocorreu um erro inesperado. Tente recarregar a página."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-black px-4 py-2 rounded-lg font-medium",children:"Recarregar página"})]})}):this.props.children}}function pp(a,n){if(a instanceof RegExp)return{keys:!1,pattern:a};var r,o,c,u,m=[],x="",f=a.split("/");for(f[0]||f.shift();c=f.shift();)r=c[0],r==="*"?(m.push(r),x+=c[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(o=c.indexOf("?",1),u=c.indexOf(".",1),m.push(c.substring(1,~o?o:~u?u:c.length)),x+=~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(x+=(~o?"?":"")+"\\"+c.substring(u))):x+="/"+c;return{keys:m,pattern:new RegExp("^"+x+(n?"(?=$|/)":"/?$"),"i")}}var wr={exports:{}},jr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho;function xp(){if(Ho)return jr;Ho=1;var a=Om();function n(y,k){return y===k&&(y!==0||1/y===1/k)||y!==y&&k!==k}var r=typeof Object.is=="function"?Object.is:n,o=a.useState,c=a.useEffect,u=a.useLayoutEffect,m=a.useDebugValue;function x(y,k){var w=k(),N=o({inst:{value:w,getSnapshot:k}}),g=N[0].inst,T=N[1];return u(function(){g.value=w,g.getSnapshot=k,f(g)&&T({inst:g})},[y,w,k]),c(function(){return f(g)&&T({inst:g}),y(function(){f(g)&&T({inst:g})})},[y]),m(w),w}function f(y){var k=y.getSnapshot;y=y.value;try{var w=k();return!r(y,w)}catch{return!0}}function v(y,k){return k()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:x;return jr.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:b,jr}var Zo;function gp(){return Zo||(Zo=1,wr.exports=xp()),wr.exports}var Hc=gp();const vp=gm.useInsertionEffect,yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bp=yp?h.useLayoutEffect:h.useEffect,wp=vp||bp,Zc=a=>{const n=h.useRef([a,(...r)=>n[0](...r)]).current;return wp(()=>{n[0]=a}),n[1]},jp="popstate",hi="pushState",ui="replaceState",_p="hashchange",qo=[jp,hi,ui,_p],Np=a=>{for(const n of qo)addEventListener(n,a);return()=>{for(const n of qo)removeEventListener(n,a)}},qc=(a,n)=>Hc.useSyncExternalStore(Np,a,n),kp=()=>location.search,Cp=({ssrSearch:a=""}={})=>qc(kp,()=>a),Wo=()=>location.pathname,Sp=({ssrPath:a}={})=>qc(Wo,a?()=>a:Wo),Pp=(a,{replace:n=!1,state:r=null}={})=>history[n?ui:hi](r,"",a),Tp=(a={})=>[Sp(a),Pp],Vo=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Vo]>"u"){for(const a of[hi,ui]){const n=history[a];history[a]=function(){const r=n.apply(this,arguments),o=new Event(a);return o.arguments=arguments,dispatchEvent(o),r}}Object.defineProperty(window,Vo,{value:!0})}const Ep=(a,n)=>n.toLowerCase().indexOf(a.toLowerCase())?"~"+n:n.slice(a.length)||"/",Wc=(a="")=>a==="/"?"":a,Mp=(a,n)=>a[0]==="~"?a.slice(1):Wc(n)+a,Lp=(a="",n)=>Ep(Uo(Wc(a)),Uo(n)),Uo=a=>{try{return decodeURI(a)}catch{return a}},Vc={hook:Tp,searchHook:Cp,parser:pp,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:a=>a},Uc=h.createContext(Vc),ra=()=>h.useContext(Uc),Gc={},Kc=h.createContext(Gc),Qc=()=>h.useContext(Kc),Mn=a=>{const[n,r]=a.hook(a);return[Lp(a.base,n),Zc((o,c)=>r(Mp(o,a.base),c))]},ct=()=>Mn(ra()),mi=(a,n,r,o)=>{const{pattern:c,keys:u}=n instanceof RegExp?{keys:!1,pattern:n}:a(n||"*",o),m=c.exec(r)||[],[x,...f]=m;return x!==void 0?[!0,(()=>{const v=u!==!1?Object.fromEntries(u.map((y,k)=>[y,f[k]])):m.groups;let b={...f};return v&&Object.assign(b,v),b})(),...o?[x]:[]]:[!1,null]},Yc=a=>mi(ra().parser,a,ct()[0]),Rp=({children:a,...n})=>{const r=ra(),o=n.hook?Vc:r;let c=o;const[u,m]=n.ssrPath?.split("?")??[];m&&(n.ssrSearch=m,n.ssrPath=u),n.hrefs=n.hrefs??n.hook?.hrefs;let x=h.useRef({}),f=x.current,v=f;for(let b in o){const y=b==="base"?o[b]+(n[b]||""):n[b]||o[b];f===v&&y!==v[b]&&(x.current=v={...v}),v[b]=y,(y!==o[b]||y!==c[b])&&(c=v)}return h.createElement(Uc.Provider,{value:c,children:a})},Go=({children:a,component:n},r)=>n?h.createElement(n,{params:r}):typeof a=="function"?a(r):a,Ap=a=>{let n=h.useRef(Gc);const r=n.current;return n.current=Object.keys(a).length!==Object.keys(r).length||Object.entries(a).some(([o,c])=>c!==r[o])?a:r},Le=({path:a,nest:n,match:r,...o})=>{const c=ra(),[u]=Mn(c),[m,x,f]=r??mi(c.parser,a,u,n),v=Ap({...Qc(),...x});if(!m)return null;const b=f?h.createElement(Rp,{base:f},Go(o,v)):Go(o,v);return h.createElement(Kc.Provider,{value:v,children:b})},Fe=h.forwardRef((a,n)=>{const r=ra(),[o,c]=Mn(r),{to:u="",href:m=u,onClick:x,asChild:f,children:v,className:b,replace:y,state:k,...w}=a,N=Zc(T=>{T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0||(x?.(T),T.defaultPrevented||(T.preventDefault(),c(m,a)))}),g=r.hrefs(m[0]==="~"?m.slice(1):r.base+m,r);return f&&h.isValidElement(v)?h.cloneElement(v,{onClick:N,href:g}):h.createElement("a",{...w,onClick:N,href:g,className:b?.call?b(o===m):b,children:v,ref:n})}),Xc=a=>Array.isArray(a)?a.flatMap(n=>Xc(n&&n.type===h.Fragment?n.props.children:n)):[a],_r=({children:a,location:n})=>{const r=ra(),[o]=Mn(r);for(const c of Xc(a)){let u=0;if(h.isValidElement(c)&&(u=mi(r.parser,c.props.path,n||o,c.props.nest))[0])return h.cloneElement(c,{match:u})}return null};var[Ln,Gv]=Ps("Tooltip",[Sn]),Rn=Sn(),Jc="TooltipProvider",Op=700,Or="tooltip.open",[Ip,fi]=Ln(Jc),ed=a=>{const{__scopeTooltip:n,delayDuration:r=Op,skipDelayDuration:o=300,disableHoverableContent:c=!1,children:u}=a,m=h.useRef(!0),x=h.useRef(!1),f=h.useRef(0);return h.useEffect(()=>{const v=f.current;return()=>window.clearTimeout(v)},[]),e.jsx(Ip,{scope:n,isOpenDelayedRef:m,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(f.current),m.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>m.current=!0,o)},[o]),isPointerInTransitRef:x,onPointerInTransitChange:h.useCallback(v=>{x.current=v},[]),disableHoverableContent:c,children:u})};ed.displayName=Jc;var Ta="Tooltip",[Dp,An]=Ln(Ta),td=a=>{const{__scopeTooltip:n,children:r,open:o,defaultOpen:c,onOpenChange:u,disableHoverableContent:m,delayDuration:x}=a,f=fi(Ta,a.__scopeTooltip),v=Rn(n),[b,y]=h.useState(null),k=Aa(),w=h.useRef(0),N=m??f.disableHoverableContent,g=x??f.delayDuration,T=h.useRef(!1),[E,j]=Vs({prop:o,defaultProp:c??!1,onChange:O=>{O?(f.onOpen(),document.dispatchEvent(new CustomEvent(Or))):f.onClose(),u?.(O)},caller:Ta}),M=h.useMemo(()=>E?T.current?"delayed-open":"instant-open":"closed",[E]),I=h.useCallback(()=>{window.clearTimeout(w.current),w.current=0,T.current=!1,j(!0)},[j]),R=h.useCallback(()=>{window.clearTimeout(w.current),w.current=0,j(!1)},[j]),Z=h.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{T.current=!0,j(!0),w.current=0},g)},[g,j]);return h.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),e.jsx(xl,{...v,children:e.jsx(Dp,{scope:n,contentId:k,open:E,stateAttribute:M,trigger:b,onTriggerChange:y,onTriggerEnter:h.useCallback(()=>{f.isOpenDelayedRef.current?Z():I()},[f.isOpenDelayedRef,Z,I]),onTriggerLeave:h.useCallback(()=>{N?R():(window.clearTimeout(w.current),w.current=0)},[R,N]),onOpen:I,onClose:R,disableHoverableContent:N,children:r})})};td.displayName=Ta;var Ir="TooltipTrigger",sd=h.forwardRef((a,n)=>{const{__scopeTooltip:r,...o}=a,c=An(Ir,r),u=fi(Ir,r),m=Rn(r),x=h.useRef(null),f=at(n,x,c.onTriggerChange),v=h.useRef(!1),b=h.useRef(!1),y=h.useCallback(()=>v.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),e.jsx(gl,{asChild:!0,...m,children:e.jsx(Re.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...o,ref:f,onPointerMove:we(a.onPointerMove,k=>{k.pointerType!=="touch"&&!b.current&&!u.isPointerInTransitRef.current&&(c.onTriggerEnter(),b.current=!0)}),onPointerLeave:we(a.onPointerLeave,()=>{c.onTriggerLeave(),b.current=!1}),onPointerDown:we(a.onPointerDown,()=>{c.open&&c.onClose(),v.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:we(a.onFocus,()=>{v.current||c.onOpen()}),onBlur:we(a.onBlur,c.onClose),onClick:we(a.onClick,c.onClose)})})});sd.displayName=Ir;var zp="TooltipPortal",[Kv,Fp]=Ln(zp,{forceMount:void 0}),Qs="TooltipContent",ad=h.forwardRef((a,n)=>{const r=Fp(Qs,a.__scopeTooltip),{forceMount:o=r.forceMount,side:c="top",...u}=a,m=An(Qs,a.__scopeTooltip);return e.jsx(Ur,{present:o||m.open,children:m.disableHoverableContent?e.jsx(nd,{side:c,...u,ref:n}):e.jsx($p,{side:c,...u,ref:n})})}),$p=h.forwardRef((a,n)=>{const r=An(Qs,a.__scopeTooltip),o=fi(Qs,a.__scopeTooltip),c=h.useRef(null),u=at(n,c),[m,x]=h.useState(null),{trigger:f,onClose:v}=r,b=c.current,{onPointerInTransitChange:y}=o,k=h.useCallback(()=>{x(null),y(!1)},[y]),w=h.useCallback((N,g)=>{const T=N.currentTarget,E={x:N.clientX,y:N.clientY},j=Wp(E,T.getBoundingClientRect()),M=Vp(E,j),I=Up(g.getBoundingClientRect()),R=Kp([...M,...I]);x(R),y(!0)},[y]);return h.useEffect(()=>()=>k(),[k]),h.useEffect(()=>{if(f&&b){const N=T=>w(T,b),g=T=>w(T,f);return f.addEventListener("pointerleave",N),b.addEventListener("pointerleave",g),()=>{f.removeEventListener("pointerleave",N),b.removeEventListener("pointerleave",g)}}},[f,b,w,k]),h.useEffect(()=>{if(m){const N=g=>{const T=g.target,E={x:g.clientX,y:g.clientY},j=f?.contains(T)||b?.contains(T),M=!Gp(E,m);j?k():M&&(k(),v())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[f,b,m,v,k]),e.jsx(nd,{...a,ref:u})}),[Bp,Hp]=Ln(Ta,{isInside:!1}),Zp=pl("TooltipContent"),nd=h.forwardRef((a,n)=>{const{__scopeTooltip:r,children:o,"aria-label":c,onEscapeKeyDown:u,onPointerDownOutside:m,...x}=a,f=An(Qs,r),v=Rn(r),{onClose:b}=f;return h.useEffect(()=>(document.addEventListener(Or,b),()=>document.removeEventListener(Or,b)),[b]),h.useEffect(()=>{if(f.trigger){const y=k=>{k.target?.contains(f.trigger)&&b()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[f.trigger,b]),e.jsx(ml,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:y=>y.preventDefault(),onDismiss:b,children:e.jsxs(fl,{"data-state":f.stateAttribute,...v,...x,ref:n,style:{...x.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Zp,{children:o}),e.jsx(Bp,{scope:r,isInside:!0,children:e.jsx(Pf,{id:f.contentId,role:"tooltip",children:c||o})})]})})});ad.displayName=Qs;var rd="TooltipArrow",qp=h.forwardRef((a,n)=>{const{__scopeTooltip:r,...o}=a,c=Rn(r);return Hp(rd,r).isInside?null:e.jsx(vl,{...c,...o,ref:n})});qp.displayName=rd;function Wp(a,n){const r=Math.abs(n.top-a.y),o=Math.abs(n.bottom-a.y),c=Math.abs(n.right-a.x),u=Math.abs(n.left-a.x);switch(Math.min(r,o,c,u)){case u:return"left";case c:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Vp(a,n,r=5){const o=[];switch(n){case"top":o.push({x:a.x-r,y:a.y+r},{x:a.x+r,y:a.y+r});break;case"bottom":o.push({x:a.x-r,y:a.y-r},{x:a.x+r,y:a.y-r});break;case"left":o.push({x:a.x+r,y:a.y-r},{x:a.x+r,y:a.y+r});break;case"right":o.push({x:a.x-r,y:a.y-r},{x:a.x-r,y:a.y+r});break}return o}function Up(a){const{top:n,right:r,bottom:o,left:c}=a;return[{x:c,y:n},{x:r,y:n},{x:r,y:o},{x:c,y:o}]}function Gp(a,n){const{x:r,y:o}=a;let c=!1;for(let u=0,m=n.length-1;u<n.length;m=u++){const x=n[u],f=n[m],v=x.x,b=x.y,y=f.x,k=f.y;b>o!=k>o&&r<(y-v)*(o-b)/(k-b)+v&&(c=!c)}return c}function Kp(a){const n=a.slice();return n.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),Qp(n)}function Qp(a){if(a.length<=1)return a.slice();const n=[];for(let o=0;o<a.length;o++){const c=a[o];for(;n.length>=2;){const u=n[n.length-1],m=n[n.length-2];if((u.x-m.x)*(c.y-m.y)>=(u.y-m.y)*(c.x-m.x))n.pop();else break}n.push(c)}n.pop();const r=[];for(let o=a.length-1;o>=0;o--){const c=a[o];for(;r.length>=2;){const u=r[r.length-1],m=r[r.length-2];if((u.x-m.x)*(c.y-m.y)>=(u.y-m.y)*(c.x-m.x))r.pop();else break}r.push(c)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var Yp=ed,Xp=td,Jp=sd,id=ad;const od=Yp,ex=Xp,tx=Jp,ld=h.forwardRef(({className:a,sideOffset:n=4,...r},o)=>e.jsx(id,{ref:o,sideOffset:n,className:ue("z-50 overflow-hidden rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-white shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...r}));ld.displayName=id.displayName;const sx="/assets/new-logo-ISLgSUsv.png";function za({size:a=40,className:n=""}){return e.jsx("img",{src:sx,alt:"Logo LifeBee",width:a,height:a,className:n,style:{objectFit:"contain",display:"block"}})}function ax({onComplete:a}){const[n,r]=h.useState(0);return h.useEffect(()=>{const o=setInterval(()=>{r(c=>c>=100?(clearInterval(o),setTimeout(a,500),100):c+2)},30);return()=>clearInterval(o)},[a]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] via-[#f4c430] to-[#fdf6e3] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-[#fdf6e3]/20 backdrop-blur-sm rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center shadow-2xl animate-pulse",children:e.jsx("div",{className:"bg-[#fdf6e3] rounded-full w-24 h-24 flex items-center justify-center",children:e.jsx(za,{size:60,className:"animate-bounce"})})}),e.jsx("h1",{className:"text-4xl font-bold text-[#fdf6e3] mb-2",children:"LifeBee"}),e.jsx("p",{className:"text-[#fdf6e3]/80 text-lg mb-8",children:"Conectando você aos melhores profissionais de saúde"}),e.jsx("div",{className:"w-64 mx-auto bg-[#fdf6e3]/20 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#fdf6e3] transition-all duration-300 ease-out rounded-full",style:{width:`${n}%`}})}),e.jsxs("p",{className:"text-[#fdf6e3]/70 text-sm mt-4",children:["Carregando... ",n,"%"]})]})})}function vt(){const[a,n]=h.useState({user:null,isLoading:!0,isAuthenticated:!1});return h.useEffect(()=>{(async()=>{const u=localStorage.getItem("token"),m=localStorage.getItem("user");if(u&&m)try{const x=await fetch(`${fe()}/api/user`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(x.ok){const f=await x.json();n({user:f,isLoading:!1,isAuthenticated:!0})}else localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,isLoading:!1,isAuthenticated:!1})}catch(x){console.error("Error verifying token:",x);try{const f=JSON.parse(m);n({user:f,isLoading:!1,isAuthenticated:!0})}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,isLoading:!1,isAuthenticated:!1})}}else n({user:null,isLoading:!1,isAuthenticated:!1})})()},[]),{...a,login:(c,u)=>{localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(u)),n({user:u,isLoading:!1,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,isLoading:!1,isAuthenticated:!1})}}}function Ut({hidePlus:a}){const[n]=ct(),r=[{label:"Início",to:"/",icon:e.jsx(ci,{className:"h-6 w-6"}),show:!0},{label:"Serviços",to:"/services",icon:e.jsx(It,{className:"h-6 w-6"}),show:!0},{label:"Adicionar",to:"/servico",isCenter:!0,show:!a},{label:"Chat",to:"/messages",icon:e.jsx(Tt,{className:"h-6 w-6"}),show:!0},{label:"Perfil",to:"/profile",icon:e.jsx(gt,{className:"h-6 w-6"}),show:!0}];return e.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 left-0 w-full z-50 shadow rounded-t-xl px-0",children:e.jsx("ul",{className:"flex justify-around items-center h-16 max-w-full px-2 sm:px-4",children:r.filter(o=>o.show).map(o=>e.jsx("li",{className:o.isCenter?"relative -mt-10 z-10":"",children:o.isCenter?e.jsx(Fe,{href:o.to,"aria-label":"Criar Serviço",children:e.jsx("button",{className:"gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 rounded-full bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-xl hover:shadow-2xl hover:from-yellow-600 hover:to-yellow-700 w-16 h-16 flex items-center justify-center transition-all duration-300 border-4 border-white dark:border-gray-900 focus:ring-4 focus:ring-yellow-200 dark:focus:ring-yellow-800 ring-4 ring-yellow-200 dark:ring-yellow-800",tabIndex:0,type:"button",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus h-8 w-8",children:[e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M12 5v14"})]})})}):e.jsxs(Fe,{href:o.to,className:`flex flex-col items-center text-xs font-medium transition-colors duration-200 ${n===o.to?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:[o.icon,e.jsx("span",{className:"mt-1",children:o.label})]})},o.to))})})}function nx(){const{toast:a}=nt(),{user:n}=vt(),[r,o]=h.useState(""),[c,u]=h.useState([]),[m,x]=h.useState(!0),[,f]=ct();h.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0);const N=await fetch(`${fe()}/api/professionals`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(N.ok){const g=await N.json();u(g)}else console.error("Erro ao buscar profissionais:",N.statusText),u([]),a({title:"Erro",description:"Não foi possível carregar os profissionais",variant:"destructive"})}catch(N){console.error("Erro ao buscar profissionais:",N),a({title:"Erro",description:"Não foi possível carregar os profissionais",variant:"destructive"})}finally{x(!1)}},b=async(N,g)=>{try{const T=localStorage.getItem("token"),E=await fetch(`${fe()}/api/messages/start-conversation`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({professionalId:N,message:"Olá! Gostaria de conversar sobre seus serviços."})});if(E.ok){const j=await E.json();console.log("Resposta do backend:",j),a({title:"Conversa iniciada!",description:`Você pode conversar com ${g} agora`});const M=j.conversationId||j.id||j.conversationID;f(M?`/messages/${M}`:"/messages")}else a({title:"Erro",description:"Não foi possível iniciar a conversa",variant:"destructive"})}catch(T){console.error("Erro ao iniciar conversa:",T),a({title:"Erro",description:"Erro de conexão ao iniciar conversa",variant:"destructive"})}},y=N=>{window.location.href=`tel:${N}`},k=N=>{switch(N){case"Home":f("/");break;case"Chat":f("/messages");break;case"Serviços":f("/services");break;case"Perfil":f("/profile");break;default:f("/")}};if(m)return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen flex items-center justify-center px-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium text-sm sm:text-base",children:"Carregando profissionais..."})]}),e.jsx(Ut,{})]});if(c.length===0)return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Olá,"}),e.jsx("p",{className:"font-semibold text-base sm:text-lg text-gray-900",children:n?.name||"Usuário"})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-yellow-600 transition-colors",onClick:()=>f("/profile"),children:e.jsx(gt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})})]}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] px-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",children:e.jsx(ws,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Nenhum profissional disponível"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"No momento não há profissionais cadastrados na sua região. Tente novamente mais tarde."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-full font-medium hover:bg-yellow-600 transition-colors text-sm sm:text-base",children:"Tentar novamente"})]})}),e.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 flex justify-around py-2 sm:py-3",children:[{icon:ci,label:"Home"},{icon:mt,label:"Chat"},{icon:It,label:"Serviços"},{icon:gt,label:"Perfil"}].map((N,g)=>e.jsxs("button",{className:"flex flex-col items-center text-xs text-gray-600 hover:text-yellow-500 transition-colors",onClick:()=>k(N.label),children:[e.jsx(N.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 mb-1"}),N.label]},g))}),e.jsx(Ut,{})]});const w=c.filter(N=>N.name.toLowerCase().includes(r.toLowerCase())||N.specialization.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Olá,"}),e.jsx("p",{className:"font-semibold text-base sm:text-lg text-gray-900",children:n?.name||"Usuário"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:"3"})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center cursor-pointer hover:bg-yellow-600 transition-colors",onClick:()=>f("/profile"),children:e.jsx(gt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})})]})]}),e.jsx("div",{className:"px-3 sm:px-4 mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar profissional...",className:"w-full bg-white rounded-full px-10 sm:px-12 py-3 sm:py-4 text-sm sm:text-base text-gray-900 placeholder-gray-500 border-0 shadow-lg focus:ring-2 focus:ring-yellow-400 focus:outline-none",value:r,onChange:N=>o(N.target.value)})]})}),e.jsx("div",{className:"px-3 sm:px-4 mb-4 sm:mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white rounded-2xl p-3 sm:p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg",children:"Emergência 24h"}),e.jsx("p",{className:"text-xs sm:text-sm opacity-90",children:"Profissionais disponíveis agora"})]}),e.jsx("div",{className:"text-2xl sm:text-3xl",children:"🚨"})]})})}),e.jsxs("div",{className:"px-3 sm:px-4 pb-20 sm:pb-24",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:r?`Resultados para "${r}"`:"Profissionais Disponíveis"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:w.map(N=>e.jsx("div",{className:"bg-white rounded-2xl p-3 sm:p-4 shadow-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:N.imageUrl?e.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover"}):e.jsx(gt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1",children:N.name}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-2",children:N.specialization}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:N.rating})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(Oe,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"truncate",children:N.location})]}),e.jsxs("div",{className:"text-xs sm:text-sm font-medium text-green-600",children:["R$ ",N.hourlyRate,"/h"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{className:"flex-1 bg-yellow-500 text-white py-2 px-3 sm:px-4 rounded-full font-medium hover:bg-yellow-600 transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>b(N.userId,N.name),children:[e.jsx(mt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Conversar"]}),N.phone&&e.jsxs("button",{className:"bg-green-500 text-white py-2 px-3 sm:px-4 rounded-full font-medium hover:bg-green-600 transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>y(N.phone),children:[e.jsx(Gt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Ligar"]})]})]})]})},N.id))}),w.length===0&&r&&e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(ws,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Nenhum profissional encontrado"})]})]}),e.jsx(Ut,{})]})}const pi=Pn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=h.forwardRef(({className:a,variant:n,size:r,asChild:o=!1,...c},u)=>{const m=o?vm:"button";return e.jsx(m,{className:ue(pi({variant:n,size:r,className:a})),ref:u,...c})});D.displayName="Button";const oe=h.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n}));oe.displayName="Card";const Te=h.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:ue("flex flex-col space-y-1.5 p-6",a),...n}));Te.displayName="CardHeader";const Ie=h.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:ue("text-2xl font-semibold leading-none tracking-tight",a),...n}));Ie.displayName="CardTitle";const rx=h.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:ue("text-sm text-muted-foreground",a),...n}));rx.displayName="CardDescription";const le=h.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:ue("p-6 pt-0",a),...n}));le.displayName="CardContent";const ix=h.forwardRef(({className:a,...n},r)=>e.jsx("div",{ref:r,className:ue("flex items-center p-6 pt-0",a),...n}));ix.displayName="CardFooter";const ox=Pn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function We({className:a,variant:n,...r}){return e.jsx("div",{className:ue(ox({variant:n}),a),...r})}function lx(){return Hc.useSyncExternalStore(cx,()=>!0,()=>!1)}function cx(){return()=>{}}var xi="Avatar",[dx,Qv]=Ps(xi),[hx,cd]=dx(xi),dd=h.forwardRef((a,n)=>{const{__scopeAvatar:r,...o}=a,[c,u]=h.useState("idle");return e.jsx(hx,{scope:r,imageLoadingStatus:c,onImageLoadingStatusChange:u,children:e.jsx(Re.span,{...o,ref:n})})});dd.displayName=xi;var hd="AvatarImage",ud=h.forwardRef((a,n)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:c=()=>{},...u}=a,m=cd(hd,r),x=ux(o,u),f=Us(v=>{c(v),m.onImageLoadingStatusChange(v)});return Mt(()=>{x!=="idle"&&f(x)},[x,f]),x==="loaded"?e.jsx(Re.img,{...u,ref:n,src:o}):null});ud.displayName=hd;var md="AvatarFallback",fd=h.forwardRef((a,n)=>{const{__scopeAvatar:r,delayMs:o,...c}=a,u=cd(md,r),[m,x]=h.useState(o===void 0);return h.useEffect(()=>{if(o!==void 0){const f=window.setTimeout(()=>x(!0),o);return()=>window.clearTimeout(f)}},[o]),m&&u.imageLoadingStatus!=="loaded"?e.jsx(Re.span,{...c,ref:n}):null});fd.displayName=md;function Ko(a,n){return a?n?(a.src!==n&&(a.src=n),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ux(a,{referrerPolicy:n,crossOrigin:r}){const o=lx(),c=h.useRef(null),u=o?(c.current||(c.current=new window.Image),c.current):null,[m,x]=h.useState(()=>Ko(u,a));return Mt(()=>{x(Ko(u,a))},[u,a]),Mt(()=>{const f=y=>()=>{x(y)};if(!u)return;const v=f("loaded"),b=f("error");return u.addEventListener("load",v),u.addEventListener("error",b),n&&(u.referrerPolicy=n),typeof r=="string"&&(u.crossOrigin=r),()=>{u.removeEventListener("load",v),u.removeEventListener("error",b)}},[u,r,n]),m}var pd=dd,xd=ud,gd=fd;const ls=h.forwardRef(({className:a,...n},r)=>e.jsx(pd,{ref:r,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...n}));ls.displayName=pd.displayName;const cs=h.forwardRef(({className:a,src:n,...r},o)=>e.jsx(xd,{ref:o,className:ue("aspect-square h-full w-full",a),src:n,onError:c=>{},...r}));cs.displayName=xd.displayName;const ds=h.forwardRef(({className:a,...n},r)=>e.jsx(gd,{ref:r,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...n}));ds.displayName=gd.displayName;const Ea=bl,Dr=wl,mx=yl,vd=h.forwardRef(({className:a,...n},r)=>e.jsx(Gr,{ref:r,className:ue("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),style:{backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:50,width:"100vw",height:"100vh"},...n}));vd.displayName=Gr.displayName;const Ys=h.forwardRef(({className:a,children:n,...r},o)=>e.jsxs(mx,{children:[e.jsx(vd,{}),e.jsxs(Kr,{ref:o,className:ue("fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg overflow-y-auto",a),style:{backgroundColor:"var(--background)",border:"1px solid var(--border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",width:"min(95vw, 32rem)",maxWidth:"min(95vw, 32rem)",maxHeight:"min(85vh, 90vh)",height:"auto",minHeight:"auto"},...r,children:[n,e.jsxs(Qr,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Da,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ys.displayName=Kr.displayName;const Xs=({className:a,...n})=>e.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",a),...n});Xs.displayName="DialogHeader";const Js=h.forwardRef(({className:a,...n},r)=>e.jsx(Yr,{ref:r,className:ue("text-lg font-semibold leading-none tracking-tight",a),...n}));Js.displayName=Yr.displayName;const yd=h.forwardRef(({className:a,...n},r)=>e.jsx(Xr,{ref:r,className:ue("text-sm text-muted-foreground",a),...n}));yd.displayName=Xr.displayName;function jt(a){const n=Object.prototype.toString.call(a);return a instanceof Date||typeof a=="object"&&n==="[object Date]"?new a.constructor(+a):typeof a=="number"||n==="[object Number]"||typeof a=="string"||n==="[object String]"?new Date(a):new Date(NaN)}function hs(a,n){return a instanceof Date?new a.constructor(n):new Date(n)}function bd(a,n){const r=jt(a);return isNaN(n)?hs(a,NaN):(n&&r.setDate(r.getDate()+n),r)}const wd=6048e5,fx=864e5;let px={};function On(){return px}function ea(a,n){const r=On(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=jt(a),u=c.getDay(),m=(u<o?7:0)+u-o;return c.setDate(c.getDate()-m),c.setHours(0,0,0,0),c}function _n(a){return ea(a,{weekStartsOn:1})}function jd(a){const n=jt(a),r=n.getFullYear(),o=hs(a,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const c=_n(o),u=hs(a,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const m=_n(u);return n.getTime()>=c.getTime()?r+1:n.getTime()>=m.getTime()?r:r-1}function Nn(a){const n=jt(a);return n.setHours(0,0,0,0),n}function Qo(a){const n=jt(a),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+a-+r}function xx(a,n){const r=Nn(a),o=Nn(n),c=+r-Qo(r),u=+o-Qo(o);return Math.round((c-u)/fx)}function gx(a){const n=jd(a),r=hs(a,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),_n(r)}function _d(a,n){const r=n*7;return bd(a,r)}function Nr(a,n){const r=Nn(a),o=Nn(n);return+r==+o}function vx(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function yx(a){if(!vx(a)&&typeof a!="number")return!1;const n=jt(a);return!isNaN(Number(n))}function bx(a){const n=jt(a),r=hs(a,0);return r.setFullYear(n.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jx=(a,n,r)=>{let o;const c=wx[a];return typeof c=="string"?o=c:n===1?o=c.one:o=c.other.replace("{{count}}",n.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function qs(a){return(n={})=>{const r=n.width?String(n.width):a.defaultWidth;return a.formats[r]||a.formats[a.defaultWidth]}}const _x={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cx={date:qs({formats:_x,defaultWidth:"full"}),time:qs({formats:Nx,defaultWidth:"full"}),dateTime:qs({formats:kx,defaultWidth:"full"})},Sx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Px=(a,n,r,o)=>Sx[a];function Wt(a){return(n,r)=>{const o=r?.context?String(r.context):"standalone";let c;if(o==="formatting"&&a.formattingValues){const m=a.defaultFormattingWidth||a.defaultWidth,x=r?.width?String(r.width):m;c=a.formattingValues[x]||a.formattingValues[m]}else{const m=a.defaultWidth,x=r?.width?String(r.width):a.defaultWidth;c=a.values[x]||a.values[m]}const u=a.argumentCallback?a.argumentCallback(n):n;return c[u]}}const Tx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ex={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ax={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ox=(a,n)=>{const r=Number(a),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ix={ordinalNumber:Ox,era:Wt({values:Tx,defaultWidth:"wide"}),quarter:Wt({values:Ex,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Wt({values:Mx,defaultWidth:"wide"}),day:Wt({values:Lx,defaultWidth:"wide"}),dayPeriod:Wt({values:Rx,defaultWidth:"wide",formattingValues:Ax,defaultFormattingWidth:"wide"})};function Vt(a){return(n,r={})=>{const o=r.width,c=o&&a.matchPatterns[o]||a.matchPatterns[a.defaultMatchWidth],u=n.match(c);if(!u)return null;const m=u[0],x=o&&a.parsePatterns[o]||a.parsePatterns[a.defaultParseWidth],f=Array.isArray(x)?zx(x,y=>y.test(m)):Dx(x,y=>y.test(m));let v;v=a.valueCallback?a.valueCallback(f):f,v=r.valueCallback?r.valueCallback(v):v;const b=n.slice(m.length);return{value:v,rest:b}}}function Dx(a,n){for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&n(a[r]))return r}function zx(a,n){for(let r=0;r<a.length;r++)if(n(a[r]))return r}function Nd(a){return(n,r={})=>{const o=n.match(a.matchPattern);if(!o)return null;const c=o[0],u=n.match(a.parsePattern);if(!u)return null;let m=a.valueCallback?a.valueCallback(u[0]):u[0];m=r.valueCallback?r.valueCallback(m):m;const x=n.slice(c.length);return{value:m,rest:x}}}const Fx=/^(\d+)(th|st|nd|rd)?/i,$x=/\d+/i,Bx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hx={any:[/^b/i,/^(a|c)/i]},Zx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qx={any:[/1/i,/2/i,/3/i,/4/i]},Wx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ux={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yx={ordinalNumber:Nd({matchPattern:Fx,parsePattern:$x,valueCallback:a=>parseInt(a,10)}),era:Vt({matchPatterns:Bx,defaultMatchWidth:"wide",parsePatterns:Hx,defaultParseWidth:"any"}),quarter:Vt({matchPatterns:Zx,defaultMatchWidth:"wide",parsePatterns:qx,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Vt({matchPatterns:Wx,defaultMatchWidth:"wide",parsePatterns:Vx,defaultParseWidth:"any"}),day:Vt({matchPatterns:Ux,defaultMatchWidth:"wide",parsePatterns:Gx,defaultParseWidth:"any"}),dayPeriod:Vt({matchPatterns:Kx,defaultMatchWidth:"any",parsePatterns:Qx,defaultParseWidth:"any"})},Xx={code:"en-US",formatDistance:jx,formatLong:Cx,formatRelative:Px,localize:Ix,match:Yx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jx(a){const n=jt(a);return xx(n,bx(n))+1}function eg(a){const n=jt(a),r=+_n(n)-+gx(n);return Math.round(r/wd)+1}function kd(a,n){const r=jt(a),o=r.getFullYear(),c=On(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,m=hs(a,0);m.setFullYear(o+1,0,u),m.setHours(0,0,0,0);const x=ea(m,n),f=hs(a,0);f.setFullYear(o,0,u),f.setHours(0,0,0,0);const v=ea(f,n);return r.getTime()>=x.getTime()?o+1:r.getTime()>=v.getTime()?o:o-1}function tg(a,n){const r=On(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=kd(a,n),u=hs(a,0);return u.setFullYear(c,0,o),u.setHours(0,0,0,0),ea(u,n)}function sg(a,n){const r=jt(a),o=+ea(r,n)-+tg(r,n);return Math.round(o/wd)+1}function Ae(a,n){const r=a<0?"-":"",o=Math.abs(a).toString().padStart(n,"0");return r+o}const ns={y(a,n){const r=a.getFullYear(),o=r>0?r:1-r;return Ae(n==="yy"?o%100:o,n.length)},M(a,n){const r=a.getMonth();return n==="M"?String(r+1):Ae(r+1,2)},d(a,n){return Ae(a.getDate(),n.length)},a(a,n){const r=a.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(a,n){return Ae(a.getHours()%12||12,n.length)},H(a,n){return Ae(a.getHours(),n.length)},m(a,n){return Ae(a.getMinutes(),n.length)},s(a,n){return Ae(a.getSeconds(),n.length)},S(a,n){const r=n.length,o=a.getMilliseconds(),c=Math.trunc(o*Math.pow(10,r-3));return Ae(c,n.length)}},Hs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yo={G:function(a,n,r){const o=a.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(a,n,r){if(n==="yo"){const o=a.getFullYear(),c=o>0?o:1-o;return r.ordinalNumber(c,{unit:"year"})}return ns.y(a,n)},Y:function(a,n,r,o){const c=kd(a,o),u=c>0?c:1-c;if(n==="YY"){const m=u%100;return Ae(m,2)}return n==="Yo"?r.ordinalNumber(u,{unit:"year"}):Ae(u,n.length)},R:function(a,n){const r=jd(a);return Ae(r,n.length)},u:function(a,n){const r=a.getFullYear();return Ae(r,n.length)},Q:function(a,n,r){const o=Math.ceil((a.getMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Ae(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(a,n,r){const o=Math.ceil((a.getMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Ae(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(a,n,r){const o=a.getMonth();switch(n){case"M":case"MM":return ns.M(a,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(a,n,r){const o=a.getMonth();switch(n){case"L":return String(o+1);case"LL":return Ae(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(a,n,r,o){const c=sg(a,o);return n==="wo"?r.ordinalNumber(c,{unit:"week"}):Ae(c,n.length)},I:function(a,n,r){const o=eg(a);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):Ae(o,n.length)},d:function(a,n,r){return n==="do"?r.ordinalNumber(a.getDate(),{unit:"date"}):ns.d(a,n)},D:function(a,n,r){const o=Jx(a);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):Ae(o,n.length)},E:function(a,n,r){const o=a.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(a,n,r,o){const c=a.getDay(),u=(c-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Ae(u,2);case"eo":return r.ordinalNumber(u,{unit:"day"});case"eee":return r.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(c,{width:"short",context:"formatting"});case"eeee":default:return r.day(c,{width:"wide",context:"formatting"})}},c:function(a,n,r,o){const c=a.getDay(),u=(c-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Ae(u,n.length);case"co":return r.ordinalNumber(u,{unit:"day"});case"ccc":return r.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(c,{width:"narrow",context:"standalone"});case"cccccc":return r.day(c,{width:"short",context:"standalone"});case"cccc":default:return r.day(c,{width:"wide",context:"standalone"})}},i:function(a,n,r){const o=a.getDay(),c=o===0?7:o;switch(n){case"i":return String(c);case"ii":return Ae(c,n.length);case"io":return r.ordinalNumber(c,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(a,n,r){const c=a.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(a,n,r){const o=a.getHours();let c;switch(o===12?c=Hs.noon:o===0?c=Hs.midnight:c=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(a,n,r){const o=a.getHours();let c;switch(o>=17?c=Hs.evening:o>=12?c=Hs.afternoon:o>=4?c=Hs.morning:c=Hs.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(a,n,r){if(n==="ho"){let o=a.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return ns.h(a,n)},H:function(a,n,r){return n==="Ho"?r.ordinalNumber(a.getHours(),{unit:"hour"}):ns.H(a,n)},K:function(a,n,r){const o=a.getHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):Ae(o,n.length)},k:function(a,n,r){let o=a.getHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):Ae(o,n.length)},m:function(a,n,r){return n==="mo"?r.ordinalNumber(a.getMinutes(),{unit:"minute"}):ns.m(a,n)},s:function(a,n,r){return n==="so"?r.ordinalNumber(a.getSeconds(),{unit:"second"}):ns.s(a,n)},S:function(a,n){return ns.S(a,n)},X:function(a,n,r){const o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Jo(o);case"XXXX":case"XX":return ys(o);case"XXXXX":case"XXX":default:return ys(o,":")}},x:function(a,n,r){const o=a.getTimezoneOffset();switch(n){case"x":return Jo(o);case"xxxx":case"xx":return ys(o);case"xxxxx":case"xxx":default:return ys(o,":")}},O:function(a,n,r){const o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Xo(o,":");case"OOOO":default:return"GMT"+ys(o,":")}},z:function(a,n,r){const o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Xo(o,":");case"zzzz":default:return"GMT"+ys(o,":")}},t:function(a,n,r){const o=Math.trunc(a.getTime()/1e3);return Ae(o,n.length)},T:function(a,n,r){const o=a.getTime();return Ae(o,n.length)}};function Xo(a,n=""){const r=a>0?"-":"+",o=Math.abs(a),c=Math.trunc(o/60),u=o%60;return u===0?r+String(c):r+String(c)+n+Ae(u,2)}function Jo(a,n){return a%60===0?(a>0?"-":"+")+Ae(Math.abs(a)/60,2):ys(a,n)}function ys(a,n=""){const r=a>0?"-":"+",o=Math.abs(a),c=Ae(Math.trunc(o/60),2),u=Ae(o%60,2);return r+c+n+u}const el=(a,n)=>{switch(a){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Cd=(a,n)=>{switch(a){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ag=(a,n)=>{const r=a.match(/(P+)(p+)?/)||[],o=r[1],c=r[2];if(!c)return el(a,n);let u;switch(o){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",el(o,n)).replace("{{time}}",Cd(c,n))},ng={p:Cd,P:ag},rg=/^D+$/,ig=/^Y+$/,og=["D","DD","YY","YYYY"];function lg(a){return rg.test(a)}function cg(a){return ig.test(a)}function dg(a,n,r){const o=hg(a,n,r);if(console.warn(o),og.includes(a))throw new RangeError(o)}function hg(a,n,r){const o=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${n}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ug=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fg=/^'([^]*?)'?$/,pg=/''/g,xg=/[a-zA-Z]/;function ja(a,n,r){const o=On(),c=r?.locale??o.locale??Xx,u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,x=jt(a);if(!yx(x))throw new RangeError("Invalid time value");let f=n.match(mg).map(b=>{const y=b[0];if(y==="p"||y==="P"){const k=ng[y];return k(b,c.formatLong)}return b}).join("").match(ug).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:gg(b)};if(Yo[y])return{isToken:!0,value:b};if(y.match(xg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});c.localize.preprocessor&&(f=c.localize.preprocessor(x,f));const v={firstWeekContainsDate:u,weekStartsOn:m,locale:c};return f.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!r?.useAdditionalWeekYearTokens&&cg(y)||!r?.useAdditionalDayOfYearTokens&&lg(y))&&dg(y,n,String(a));const k=Yo[y[0]];return k(x,y,c.localize,v)}).join("")}function gg(a){const n=a.match(fg);return n?n[1].replace(pg,"'"):a}function vg(a,n){const r=jt(a),o=jt(n);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function yg(a,n){return _d(a,-4)}const bg={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},wg=(a,n,r)=>{let o;const c=bg[a];return typeof c=="string"?o=c:n===1?o=c.one:o=c.other.replace("{{count}}",String(n)),r?.addSuffix?r.comparison&&r.comparison>0?"em "+o:"há "+o:o},jg={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},_g={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ng={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kg={date:qs({formats:jg,defaultWidth:"full"}),time:qs({formats:_g,defaultWidth:"full"}),dateTime:qs({formats:Ng,defaultWidth:"full"})},Cg={lastWeek:a=>{const n=a.getDay();return"'"+(n===0||n===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Sg=(a,n,r,o)=>{const c=Cg[a];return typeof c=="function"?c(n):c},Pg={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Tg={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Eg={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Mg={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Lg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Rg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Ag=(a,n)=>{const r=Number(a);return n?.unit==="week"?r+"ª":r+"º"},Og={ordinalNumber:Ag,era:Wt({values:Pg,defaultWidth:"wide"}),quarter:Wt({values:Tg,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Wt({values:Eg,defaultWidth:"wide"}),day:Wt({values:Mg,defaultWidth:"wide"}),dayPeriod:Wt({values:Lg,defaultWidth:"wide",formattingValues:Rg,defaultFormattingWidth:"wide"})},Ig=/^(\d+)[ºªo]?/i,Dg=/\d+/i,zg={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Fg={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},$g={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Bg={any:[/1/i,/2/i,/3/i,/4/i]},Hg={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Zg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},qg={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Wg={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Vg={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Ug={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Gg={ordinalNumber:Nd({matchPattern:Ig,parsePattern:Dg,valueCallback:a=>parseInt(a,10)}),era:Vt({matchPatterns:zg,defaultMatchWidth:"wide",parsePatterns:Fg,defaultParseWidth:"any"}),quarter:Vt({matchPatterns:$g,defaultMatchWidth:"wide",parsePatterns:Bg,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Vt({matchPatterns:Hg,defaultMatchWidth:"wide",parsePatterns:Zg,defaultParseWidth:"any"}),day:Vt({matchPatterns:qg,defaultMatchWidth:"wide",parsePatterns:Wg,defaultParseWidth:"any"}),dayPeriod:Vt({matchPatterns:Vg,defaultMatchWidth:"any",parsePatterns:Ug,defaultParseWidth:"any"})},zr={code:"pt-BR",formatDistance:wg,formatLong:kg,formatRelative:Sg,localize:Og,match:Gg,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tl(){const{toast:a}=nt(),[n,r]=h.useState(new Date),[o,c]=h.useState(new Date),[u,m]=h.useState(null),[x,f]=h.useState(!1),[v,b]=h.useState("all"),y=z=>{switch(z){case"agendado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"confirmado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"em_andamento":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"concluido":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},k=z=>{switch(z){case"confirmado":return e.jsx(st,{className:"h-3 w-3"});case"cancelado":return e.jsx(ks,{className:"h-3 w-3"});case"em_andamento":return e.jsx(yc,{className:"h-3 w-3"});case"concluido":return e.jsx(st,{className:"h-3 w-3"});default:return e.jsx(Ns,{className:"h-3 w-3"})}},w=z=>{switch(z){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concluído";case"cancelado":return"Cancelado";default:return z}},N=[],g=z=>N.filter(X=>Nr(X.date,z)),T=()=>{const z=ea(new Date(n.getFullYear(),n.getMonth(),1)),X=[];for(let B=0;B<42;B++)X.push(bd(z,B));return X},E=()=>{r(yg(n))},j=()=>{r(_d(n,4))},M=z=>{m(z),f(!0)},I=()=>{a({title:"Agendamento cancelado",description:"Seu agendamento foi cancelado com sucesso."}),f(!1)},R=()=>{a({title:"Reagendamento",description:"Redirecionando para reagendar consulta..."}),f(!1)},Z=()=>{u?.meetingLink&&(window.open(u.meetingLink,"_blank"),a({title:"Videochamada iniciada",description:"Abrindo link da reunião..."}))},O=()=>{u?.professionalPhone&&window.open(`tel:${u.professionalPhone}`)},U=()=>{if(u?.location){const z=encodeURIComponent(u.location);window.open(`https://maps.google.com/?q=${z}`,"_blank")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Minha Agenda"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-4 lg:p-8",children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agenda"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gerencie seus agendamentos"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(D,{variant:"outline",children:[e.jsx(sp,{className:"h-4 w-4 mr-2"}),"Filtros"]}),e.jsxs(D,{className:"bg-yellow-500 hover:bg-yellow-600",children:[e.jsx(di,{className:"h-4 w-4 mr-2"}),"Nova Consulta"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6 overflow-x-auto",children:[e.jsx(D,{variant:v==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),className:v==="all"?"bg-yellow-500 hover:bg-yellow-600":"",children:"Todos"}),e.jsx(D,{variant:v==="agendado"?"default":"outline",size:"sm",onClick:()=>b("agendado"),className:v==="agendado"?"bg-blue-500 hover:bg-blue-600":"",children:"Agendados"}),e.jsx(D,{variant:v==="confirmado"?"default":"outline",size:"sm",onClick:()=>b("confirmado"),className:v==="confirmado"?"bg-green-500 hover:bg-green-600":"",children:"Confirmados"}),e.jsx(D,{variant:v==="concluido"?"default":"outline",size:"sm",onClick:()=>b("concluido"),className:v==="concluido"?"bg-gray-500 hover:bg-gray-600":"",children:"Concluídos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(oe,{children:[e.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(Ie,{className:"text-lg",children:ja(n,"MMMM yyyy",{locale:zr})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:E,children:e.jsx(Xf,{className:"h-4 w-4"})}),e.jsx(D,{variant:"outline",size:"sm",onClick:j,children:e.jsx(_c,{className:"h-4 w-4"})})]})]}),e.jsxs(le,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(z=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-600 dark:text-gray-400",children:z},z))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T().map((z,X)=>{const B=g(z),V=vg(z,n),P=Nr(z,new Date),S=Nr(z,o);return e.jsxs("div",{className:`
                            min-h-[80px] p-1 border border-gray-200 dark:border-gray-700 cursor-pointer transition-colors
                            ${V?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900"}
                            ${P?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700":""}
                            ${S?"ring-2 ring-yellow-500":""}
                            hover:bg-gray-50 dark:hover:bg-gray-700
                          `,onClick:()=>c(z),children:[e.jsx("div",{className:`
                            text-sm font-medium mb-1
                            ${V?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-600"}
                            ${P?"text-yellow-600 dark:text-yellow-400":""}
                          `,children:ja(z,"d")}),e.jsxs("div",{className:"space-y-1",children:[B.slice(0,2).map(W=>e.jsxs("div",{className:`
                                  text-xs p-1 rounded cursor-pointer truncate
                                  ${y(W.status)}
                                `,onClick:G=>{G.stopPropagation(),M(W)},children:[W.time," - ",W.professionalName]},W.id)),B.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 p-1",children:["+",B.length-2," mais"]})]})]},X)})})]})]})}),e.jsx("div",{children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"text-lg",children:["Agendamentos - ",ja(o,"dd/MM/yyyy")]})}),e.jsx(le,{className:"space-y-4",children:g(o).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ye,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Nenhum agendamento para este dia"})]}):g(o).map(z=>e.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>M(z),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(ls,{className:"w-10 h-10",children:[e.jsx(cs,{src:z.professionalAvatar,alt:z.professionalName}),e.jsx(ds,{children:z.professionalName.split(" ").map(X=>X[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:z.professionalName}),e.jsxs(We,{className:`text-xs ${y(z.status)}`,children:[k(z.status),e.jsx("span",{className:"ml-1",children:w(z.status)})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:z.specialization}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"h-3 w-3"}),z.time," (",z.duration,"min)"]}),z.type==="presencial"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"h-3 w-3"}),"Presencial"]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Zs,{className:"h-3 w-3"}),"Online"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["R$ ",z.price]}),z.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:z.rating})]})]})]})]})},z.id))})]})})]}),e.jsx(Ea,{open:x,onOpenChange:f,children:e.jsxs(Ys,{className:"max-w-2xl",children:[e.jsx(Xs,{children:e.jsxs(Js,{className:"flex items-center gap-3",children:[e.jsxs(ls,{className:"w-12 h-12",children:[e.jsx(cs,{src:u?.professionalAvatar,alt:u?.professionalName}),e.jsx(ds,{children:u?.professionalName.split(" ").map(z=>z[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:u?.professionalName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:u?.specialization})]})]})}),u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(We,{className:`${y(u.status)}`,children:[k(u.status),e.jsx("span",{className:"ml-1",children:w(u.status)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u.type==="online"&&u.meetingLink&&e.jsxs(D,{size:"sm",onClick:Z,className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Entrar na Reunião"]}),u.professionalPhone&&e.jsxs(D,{variant:"outline",size:"sm",onClick:O,children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Ligar"]}),e.jsxs(D,{variant:"outline",size:"sm",children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"Mensagem"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Data e Horário"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(Ye,{className:"h-4 w-4"}),ja(u.date,"dd 'de' MMMM 'de' yyyy",{locale:zr})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 mt-1",children:[e.jsx(lt,{className:"h-4 w-4"}),u.time," - ",u.duration," minutos"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Tipo de Consulta"}),e.jsx("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:u.type==="presencial"?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4"}),"Presencial"]}):e.jsxs(e.Fragment,{children:[e.jsx(Zs,{className:"h-4 w-4"}),"Online"]})})]}),u.location&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Local"}),e.jsxs("div",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(Oe,{className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{children:u.location}),e.jsxs(D,{variant:"link",size:"sm",className:"p-0 h-auto text-yellow-600 hover:text-yellow-700",onClick:U,children:[e.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Ver no mapa"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Valor"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",u.price]})]}),u.rating&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Avaliação"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold",children:u.rating})]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Excelente profissional"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Contato"}),u.professionalPhone&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(Gt,{className:"h-4 w-4"}),u.professionalPhone]})]})]})]}),u.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Observações"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:u.notes})]}),u.status!=="concluido"&&u.status!=="cancelado"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[u.canReschedule&&e.jsxs(D,{variant:"outline",onClick:()=>R(),children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Reagendar"]}),u.canCancel&&e.jsxs(D,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/20",onClick:()=>I(),children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]})]})]})})]}),e.jsx(Ut,{})]})}const me=h.forwardRef(({className:a,type:n,...r},o)=>e.jsx("input",{type:n,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:o,...r}));me.displayName="Input";var Kg="Label",Sd=h.forwardRef((a,n)=>e.jsx(Re.label,{...a,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(a.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Sd.displayName=Kg;var Pd=Sd;const Qg=Pn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=h.forwardRef(({className:a,...n},r)=>e.jsx(Pd,{ref:r,className:ue(Qg(),a),...n}));Pt.displayName=Pd.displayName;const Et=h.forwardRef(({className:a,...n},r)=>e.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...n}));Et.displayName="Textarea";function sl(){const[,a]=ct(),{logout:n}=vt(),{toast:r}=nt(),o=ai(),[c,u]=h.useState(!1),[m,x]=h.useState(!1),[f,v]=h.useState(!1),b=h.useRef(null),[y,k]=h.useState({name:"",email:"",phone:"",address:""}),{data:w,isLoading:N}=bn({queryKey:["/api/user"]}),{data:g=[]}=bn({queryKey:["/api/appointments"]});h.useEffect(()=>{w&&k({name:w.name||"",email:w.email||"",phone:w.phone||"",address:w.address||""})},[w]);const T=(g||[]).filter(S=>new Date(S.scheduledFor)<=new Date).length,E=Do({mutationFn:async S=>{const W=localStorage.getItem("token");if(!W)throw new Error("Token não encontrado");const G=await fetch(`${fe()}/api/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify(S)});if(!G.ok)throw new Error("Erro ao atualizar perfil");return G.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/user"]}),u(!1),r({title:"Perfil atualizado",description:"Suas informações foram atualizadas com sucesso."})},onError:S=>{r({title:"Erro",description:"Não foi possível atualizar o perfil. Tente novamente.",variant:"destructive"})}}),j=Do({mutationFn:async S=>{const W=localStorage.getItem("token");if(!W)throw new Error("Token não encontrado");const G=new FormData;G.append("profileImage",S);const ce=await fetch(`${fe()}/api/user/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${W}`},body:G});if(!ce.ok)throw new Error("Erro ao fazer upload da imagem");return ce.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/user"]}),x(!1),v(!1),r({title:"Foto atualizada",description:"Sua foto de perfil foi atualizada com sucesso."})},onError:S=>{x(!1),r({title:"Erro",description:"Não foi possível fazer upload da imagem. Tente novamente.",variant:"destructive"})}}),M=()=>{u(!0)},I=()=>{E.mutate(y)},R=()=>{u(!1),w&&k({name:w.name||"",email:w.email||"",phone:w.phone||"",address:w.address||""})},Z=()=>{b.current?.click()},O=S=>{const W=S.target.files?.[0];W&&(x(!0),j.mutate(W))},U=(S,W)=>{k(G=>({...G,[S]:W}))},z=()=>{a("/payment")},X=()=>{console.log("Opening privacy settings")},B=()=>{console.log("Opening help center")},V=()=>{a("/my-requests")},P=()=>{n(),a("/login"),r({title:"Logout realizado",description:"Você foi desconectado com sucesso."})};return N?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando perfil..."})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:e.jsxs("div",{className:"w-full max-w-sm lg:max-w-none mx-auto lg:mx-0 relative px-3 sm:px-4 lg:px-8 py-3 sm:py-4 lg:py-6",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"mr-2 p-2 lg:hidden",children:e.jsx(Xe,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Meu Perfil"})]}),e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"relative inline-block mb-3 sm:mb-4",children:[w?.profileImage&&!f?e.jsx("img",{src:`${fe()}${w.profileImage}`,alt:`Foto de ${w?.name||"Cliente"}`,className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto rounded-full object-cover border-4 border-white shadow-lg",onError:()=>{console.log("Erro ao carregar imagem:",w.profileImage),v(!0)},onLoad:()=>{console.log("Imagem carregada com sucesso:",w.profileImage),v(!1)}}):e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto bg-yellow-500 rounded-full flex items-center justify-center border-4 border-white shadow-lg",children:e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:w?.name?.charAt(0)||"G"})}),e.jsx(D,{size:"sm",variant:"secondary",className:"absolute -bottom-1 -right-1 sm:-bottom-2 sm:-right-2 rounded-full w-6 h-6 sm:w-8 sm:h-8 p-0 bg-white border-2 border-gray-200 hover:bg-gray-50",onClick:Z,disabled:m,children:m?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-gray-600"}):e.jsx(Ts,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:O,className:"hidden"})]}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:w?.name||"Gustavo Silva"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Membro desde Janeiro 2024"}),e.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:g?.length||0}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Agendamentos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:T}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Concluídos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:"4.8"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Avaliação"})]})]}),c?e.jsxs("div",{className:"flex gap-2 mb-4 sm:mb-6",children:[e.jsxs(D,{onClick:I,className:"flex-1 h-10 sm:h-12 text-sm sm:text-base",disabled:E.isPending,children:[E.isPending?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(jn,{className:"h-4 w-4 mr-2"}),"Salvar"]}),e.jsx(D,{variant:"outline",onClick:R,className:"h-10 sm:h-12 text-sm sm:text-base",children:e.jsx(Da,{className:"h-4 w-4"})})]}):e.jsxs(D,{onClick:M,className:"w-full mb-4 sm:mb-6 h-10 sm:h-12 text-sm sm:text-base",children:[e.jsx(Ac,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]}),e.jsxs(oe,{className:"mb-4 sm:mb-6",children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsx(Ie,{className:"text-base sm:text-lg",children:"Informações Pessoais"})}),e.jsx(le,{className:"space-y-3 sm:space-y-4",children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Pt,{htmlFor:"name",className:"text-xs sm:text-sm text-gray-600",children:"Nome"}),e.jsx(me,{id:"name",value:y.name,onChange:S=>U("name",S.target.value),className:"mt-1",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx(Pt,{htmlFor:"email",className:"text-xs sm:text-sm text-gray-600",children:"Email"}),e.jsx(me,{id:"email",type:"email",value:y.email,onChange:S=>U("email",S.target.value),className:"mt-1",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx(Pt,{htmlFor:"phone",className:"text-xs sm:text-sm text-gray-600",children:"Telefone"}),e.jsx(me,{id:"phone",value:y.phone,onChange:S=>U("phone",S.target.value),className:"mt-1",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx(Pt,{htmlFor:"address",className:"text-xs sm:text-sm text-gray-600",children:"Endereço"}),e.jsx(Et,{id:"address",value:y.address,onChange:S=>U("address",S.target.value),className:"mt-1",placeholder:"Seu endereço completo",rows:3})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:w?.email||"gustavo@email.com"})]})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Gt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Telefone"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:w?.phone||"(11) 99999-9999"})]})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Oe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Endereço"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:w?.address||"São Paulo, SP"})]})]})]})})]}),e.jsx(oe,{className:"mb-4 sm:mb-6 border-green-100 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsx(le,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Gs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:"Conta Verificada"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Sua identidade foi confirmada com sucesso"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(We,{className:"bg-green-500 text-white shadow-md hover:bg-green-600 transition-colors px-3 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm font-medium border-0",children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("span",{className:"text-base sm:text-lg",children:"✓"}),e.jsx("span",{children:"Verificado"})]})})})]})})}),e.jsxs("div",{className:"space-y-2 mb-16 sm:mb-20",children:[e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:V,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(kc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Minhas Solicitações"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:z,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Nc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Formas de Pagamento"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a("/settings"),children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Lc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Configurações"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:X,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Gs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Privacidade e Segurança"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:B,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Cc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Ajuda e Suporte"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700 my-3 sm:my-4"}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:P,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Pa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-red-500 text-sm sm:text-base",children:"Sair da Conta"})]})})})]}),e.jsx(Ut,{})]})})})}function Td(a){const n=h.useRef({value:a,previous:a});return h.useMemo(()=>(n.current.value!==a&&(n.current.previous=n.current.value,n.current.value=a),n.current.previous),[a])}var In="Switch",[Yg,Yv]=Ps(In),[Xg,Jg]=Yg(In),Ed=h.forwardRef((a,n)=>{const{__scopeSwitch:r,name:o,checked:c,defaultChecked:u,required:m,disabled:x,value:f="on",onCheckedChange:v,form:b,...y}=a,[k,w]=h.useState(null),N=at(n,M=>w(M)),g=h.useRef(!1),T=k?b||!!k.closest("form"):!0,[E,j]=Vs({prop:c,defaultProp:u??!1,onChange:v,caller:In});return e.jsxs(Xg,{scope:r,checked:E,disabled:x,children:[e.jsx(Re.button,{type:"button",role:"switch","aria-checked":E,"aria-required":m,"data-state":Ad(E),"data-disabled":x?"":void 0,disabled:x,value:f,...y,ref:N,onClick:we(a.onClick,M=>{j(I=>!I),T&&(g.current=M.isPropagationStopped(),g.current||M.stopPropagation())})}),T&&e.jsx(Rd,{control:k,bubbles:!g.current,name:o,value:f,checked:E,required:m,disabled:x,form:b,style:{transform:"translateX(-100%)"}})]})});Ed.displayName=In;var Md="SwitchThumb",Ld=h.forwardRef((a,n)=>{const{__scopeSwitch:r,...o}=a,c=Jg(Md,r);return e.jsx(Re.span,{"data-state":Ad(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:n})});Ld.displayName=Md;var e0="SwitchBubbleInput",Rd=h.forwardRef(({__scopeSwitch:a,control:n,checked:r,bubbles:o=!0,...c},u)=>{const m=h.useRef(null),x=at(m,u),f=Td(r),v=ym(n);return h.useEffect(()=>{const b=m.current;if(!b)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==r&&w){const N=new Event("click",{bubbles:o});w.call(b,r),b.dispatchEvent(N)}},[f,r,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...c,tabIndex:-1,ref:x,style:{...c.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Rd.displayName=e0;function Ad(a){return a?"checked":"unchecked"}var Od=Ed,t0=Ld;const rs=h.forwardRef(({className:a,...n},r)=>e.jsx(Od,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md active:scale-95",a),...n,ref:r,children:e.jsx(t0,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-300 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 hover:shadow-xl")})}));rs.displayName=Od.displayName;async function s0(a){if(!a.ok){const n=await a.text()||a.statusText;throw new Error(`${a.status}: ${n}`)}}async function Ma(a,n,r){const o=r?{"Content-Type":"application/json"}:{},c=localStorage.getItem("token");c&&(o.Authorization=`Bearer ${c}`);const m=n.startsWith("http")?n:`http://localhost:5000${n}`,x=await fetch(m,{method:a,headers:o,body:r?JSON.stringify(r):void 0,credentials:"include"});return x.status===401?(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload(),x):(await s0(x),x)}const a0=({on401:a})=>async({queryKey:n})=>{try{const r="http://localhost:5000",o=n[0],c=o.startsWith("http")?o:`${r}${o}`,u=localStorage.getItem("token"),m={};u&&(m.Authorization=`Bearer ${u}`);const x=new AbortController,f=setTimeout(()=>x.abort(),1e4),v=await fetch(c,{headers:m,credentials:"include",signal:x.signal});if(clearTimeout(f),a==="returnNull"&&(v.status===401||v.status===403))return null;if(!v.ok){if(a==="returnNull")return null;const b=await v.text()||v.statusText;throw new Error(`${v.status}: ${b}`)}return await v.json()}catch(r){return console.warn("API request failed:",r.message),null}};new Wl({defaultOptions:{queries:{queryFn:a0({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:!1,retryOnMount:!1,refetchOnReconnect:!1},mutations:{retry:!1}}});function al(){const{theme:a,setTheme:n}=Xl(),{user:r,logout:o}=vt(),{toast:c}=nt(),[u,m]=h.useState(!1),[x,f]=h.useState(!1),[v,b]=h.useState(!1),[y,k]=h.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",address:"",bio:""}),[w,N]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,T]=h.useState({current:!1,new:!1,confirm:!1}),[E,j]=h.useState({appointments:!0,messages:!0,promotions:!1,emailUpdates:!0,smsAlerts:!0}),M=async()=>{try{(await Ma("PUT","/api/user/profile",y)).ok&&(c({title:"Perfil atualizado",description:"Suas informações foram salvas com sucesso."}),m(!1))}catch{c({title:"Erro",description:"Não foi possível atualizar o perfil.",variant:"destructive"})}},I=async()=>{if(w.newPassword!==w.confirmPassword){c({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}try{(await Ma("PUT","/api/user/password",{currentPassword:w.currentPassword,newPassword:w.newPassword})).ok&&(c({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."}),f(!1),N({currentPassword:"",newPassword:"",confirmPassword:""}))}catch{c({title:"Erro",description:"Não foi possível alterar a senha.",variant:"destructive"})}},R=()=>{o(),c({title:"Desconectado",description:"Você foi desconectado com sucesso."})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"lg:hidden sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-3 sm:px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>window.history.back(),children:e.jsx(Xe,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Configurações"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-8 space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx(za,{size:24,className:"sm:w-8 sm:h-8"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Configurações"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Gerencie sua conta e preferências"})]})]})}),e.jsxs(oe,{children:[e.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-3 sm:pb-4",children:[e.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(gt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Perfil"]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>m(!u),className:"text-xs sm:text-sm",children:[e.jsx(Mc,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),u?"Cancelar":"Editar"]})]}),e.jsxs(le,{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(gt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:r?.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 truncate",children:r?.email}),e.jsx(We,{variant:"secondary",className:"mt-1 text-xs",children:r?.userType==="client"?"Cliente":"Profissional"})]}),u&&e.jsx(D,{variant:"outline",size:"sm",className:"flex-shrink-0",children:e.jsx(Ts,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 pt-3 sm:pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome"}),e.jsx(me,{value:y.name,onChange:Z=>k({...y,name:Z.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(me,{value:y.email,onChange:Z=>k({...y,email:Z.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),e.jsx(me,{value:y.phone,onChange:Z=>k({...y,phone:Z.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Endereço"}),e.jsx(me,{value:y.address,onChange:Z=>k({...y,address:Z.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),e.jsx("textarea",{value:y.bio,onChange:Z=>k({...y,bio:Z.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",rows:3,placeholder:"Conte um pouco sobre você..."})]}),e.jsx("div",{className:"md:col-span-2 flex gap-2",children:e.jsxs(D,{onClick:M,className:"bg-yellow-500 hover:bg-yellow-600 text-sm",children:[e.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Salvar"]})})]})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Ca,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Notificações"]})}),e.jsx(le,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Agendamentos"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Receber notificações sobre consultas"})]}),e.jsx(rs,{checked:E.appointments,onCheckedChange:Z=>j({...E,appointments:Z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Mensagens"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Notificações de novas mensagens"})]}),e.jsx(rs,{checked:E.messages,onCheckedChange:Z=>j({...E,messages:Z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Promoções"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Ofertas e descontos especiais"})]}),e.jsx(rs,{checked:E.promotions,onCheckedChange:Z=>j({...E,promotions:Z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Receber atualizações por email"})]}),e.jsx(rs,{checked:E.emailUpdates,onCheckedChange:Z=>j({...E,emailUpdates:Z})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"SMS"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Alertas importantes via SMS"})]}),e.jsx(rs,{checked:E.smsAlerts,onCheckedChange:Z=>j({...E,smsAlerts:Z})})]})]})})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a==="dark"?e.jsx(Sc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}):e.jsx(Oc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Aparência"]})}),e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Modo Escuro"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Alternar entre tema claro e escuro"})]}),e.jsx(rs,{checked:a==="dark",onCheckedChange:Z=>n(Z?"dark":"light")})]})})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Gs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Segurança"]})}),e.jsxs(le,{className:"space-y-3 sm:space-y-4",children:[e.jsxs(D,{variant:"outline",onClick:()=>f(!x),className:"w-full justify-start text-sm",children:[e.jsx(ap,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Alterar Senha"]}),x&&e.jsxs("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha Atual"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{type:g.current?"text":"password",value:w.currentPassword,onChange:Z=>N({...w,currentPassword:Z.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>T({...g,current:!g.current}),children:g.current?e.jsx(gn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx(bs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{type:g.new?"text":"password",value:w.newPassword,onChange:Z=>N({...w,newPassword:Z.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>T({...g,new:!g.new}),children:g.new?e.jsx(gn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx(bs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{type:g.confirm?"text":"password",value:w.confirmPassword,onChange:Z=>N({...w,confirmPassword:Z.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>T({...g,confirm:!g.confirm}),children:g.confirm?e.jsx(gn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx(bs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs(D,{onClick:I,className:"bg-yellow-500 hover:bg-yellow-600 text-sm",children:[e.jsx(jn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Alterar Senha"]})]})]})]}),e.jsxs(oe,{className:"border-red-200 dark:border-red-800",children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg text-red-600 dark:text-red-400",children:[e.jsx(Ks,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Zona de Perigo"]})}),e.jsx(le,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Excluir Conta"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Esta ação não pode ser desfeita. Sua conta será permanentemente removida."}),e.jsxs(D,{variant:"destructive",onClick:()=>b(!0),className:"text-sm",children:[e.jsx(Ks,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Excluir Conta"]})]})})]}),e.jsx("div",{className:"pt-4 sm:pt-6",children:e.jsxs(D,{variant:"outline",onClick:R,className:"w-full text-red-600 border-red-200 hover:bg-red-50 dark:border-red-800 dark:hover:bg-red-900/20 text-sm",children:[e.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Sair da Conta"]})})]})]})}const n0=({amount:a})=>{const{toast:n}=nt(),[,r]=ct(),[o,c]=h.useState(!1),[u,m]=h.useState(""),[x,f]=h.useState(""),[v,b]=h.useState(""),[y,k]=h.useState(""),w=async N=>{N.preventDefault(),c(!0);try{(await Ma("POST","/api/create-payment-intent",{amount:a,card:{cardNumber:u,expiryDate:x,cvv:v,cardHolder:y}})).ok&&(n({title:"Pagamento Realizado",description:"Seu pagamento foi processado com sucesso!"}),r("/profile"))}catch(g){n({title:"Erro no Pagamento",description:g.message||"Erro ao processar pagamento",variant:"destructive"})}c(!1)};return e.jsxs("form",{onSubmit:w,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Nome no Cartão"}),e.jsx(me,{type:"text",placeholder:"João da Silva",value:y,onChange:N=>k(N.target.value),className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Número do Cartão"}),e.jsx(me,{type:"text",placeholder:"0000 0000 0000 0000",value:u,onChange:N=>m(N.target.value),maxLength:19,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Validade"}),e.jsx(me,{type:"text",placeholder:"MM/AA",value:x,onChange:N=>f(N.target.value),maxLength:5,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"CVV"}),e.jsx(me,{type:"text",placeholder:"123",value:v,onChange:N=>b(N.target.value),maxLength:4,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]})]})]}),e.jsx(D,{type:"submit",disabled:o,className:"w-full h-10 sm:h-12 text-sm sm:text-base font-semibold",children:o?"Processando...":`Pagar R$ ${a.toFixed(2)}`})]})};function r0(){const[,a]=ct(),n=150;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:e.jsx("div",{className:"max-w-lg mx-auto px-3 sm:px-4 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[e.jsx(Xe,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold",children:"Pagamento"}),e.jsx("div",{className:"w-12 sm:w-16"})]})})}),e.jsxs("div",{className:"max-w-lg mx-auto p-3 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Ie,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Nc,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Resumo do Serviço"]})}),e.jsxs(le,{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{children:"Consulta Fisioterapia"}),e.jsx("span",{children:"R$ 120,00"})]}),e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{children:"Taxa de serviço"}),e.jsx("span",{children:"R$ 30,00"})]}),e.jsx("div",{className:"border-t pt-2 sm:pt-3",children:e.jsxs("div",{className:"flex justify-between font-semibold text-base sm:text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["R$ ",n.toFixed(2)]})]})})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsx(Ie,{className:"text-base sm:text-lg",children:"Informações de Pagamento"})}),e.jsx(le,{children:e.jsx(n0,{amount:n})})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx(Gs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-800 dark:text-green-300",children:"Pagamento Seguro"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Suas informações são protegidas com criptografia SSL"})]}),e.jsx(Ia,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"})]})]}),e.jsx(Ut,{hidePlus:!0})]})}var Dn="Tabs",[i0,Xv]=Ps(Dn,[jl]),Id=jl(),[o0,gi]=i0(Dn),Dd=h.forwardRef((a,n)=>{const{__scopeTabs:r,value:o,onValueChange:c,defaultValue:u,orientation:m="horizontal",dir:x,activationMode:f="automatic",...v}=a,b=_l(x),[y,k]=Vs({prop:o,onChange:c,defaultProp:u??"",caller:Dn});return e.jsx(o0,{scope:r,baseId:Aa(),value:y,onValueChange:k,orientation:m,dir:b,activationMode:f,children:e.jsx(Re.div,{dir:b,"data-orientation":m,...v,ref:n})})});Dd.displayName=Dn;var zd="TabsList",Fd=h.forwardRef((a,n)=>{const{__scopeTabs:r,loop:o=!0,...c}=a,u=gi(zd,r),m=Id(r);return e.jsx(bm,{asChild:!0,...m,orientation:u.orientation,dir:u.dir,loop:o,children:e.jsx(Re.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:n})})});Fd.displayName=zd;var $d="TabsTrigger",Bd=h.forwardRef((a,n)=>{const{__scopeTabs:r,value:o,disabled:c=!1,...u}=a,m=gi($d,r),x=Id(r),f=qd(m.baseId,o),v=Wd(m.baseId,o),b=o===m.value;return e.jsx(wm,{asChild:!0,...x,focusable:!c,active:b,children:e.jsx(Re.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":v,"data-state":b?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:f,...u,ref:n,onMouseDown:we(a.onMouseDown,y=>{!c&&y.button===0&&y.ctrlKey===!1?m.onValueChange(o):y.preventDefault()}),onKeyDown:we(a.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&m.onValueChange(o)}),onFocus:we(a.onFocus,()=>{const y=m.activationMode!=="manual";!b&&!c&&y&&m.onValueChange(o)})})})});Bd.displayName=$d;var Hd="TabsContent",Zd=h.forwardRef((a,n)=>{const{__scopeTabs:r,value:o,forceMount:c,children:u,...m}=a,x=gi(Hd,r),f=qd(x.baseId,o),v=Wd(x.baseId,o),b=o===x.value,y=h.useRef(b);return h.useEffect(()=>{const k=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(k)},[]),e.jsx(Ur,{present:c||b,children:({present:k})=>e.jsx(Re.div,{"data-state":b?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":f,hidden:!k,id:v,tabIndex:0,...m,ref:n,style:{...a.style,animationDuration:y.current?"0s":void 0},children:k&&u})})});Zd.displayName=Hd;function qd(a,n){return`${a}-trigger-${n}`}function Wd(a,n){return`${a}-content-${n}`}var l0=Dd,Vd=Fd,Ud=Bd,Gd=Zd;const Kd=l0,vi=h.forwardRef(({className:a,...n},r)=>e.jsx(Vd,{ref:r,className:ue("inline-flex h-auto min-h-12 items-center justify-center rounded-md bg-muted p-1.5 text-muted-foreground w-full border border-border shadow-sm",a),...n}));vi.displayName=Vd.displayName;const is=h.forwardRef(({className:a,...n},r)=>e.jsx(Ud,{ref:r,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm hover:bg-accent/50 hover:text-accent-foreground min-h-10 sm:min-h-11",a),...n}));is.displayName=Ud.displayName;const es=h.forwardRef(({className:a,...n},r)=>e.jsx(Gd,{ref:r,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n}));es.displayName=Gd.displayName;function c0({params:a}){const[n,r]=h.useState(void 0),[o,c]=h.useState(new Date),[u,m]=h.useState(""),[x,f]=h.useState(!1);ct();const{data:v}=bn({queryKey:[`/api/professionals/${a.id}`]}),{data:b=[]}=bn({queryKey:["/api/professionals"]}),y=v||b.find(R=>R.id===parseInt(a.id));if(!y)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profissional não encontrado"}),e.jsx(Fe,{href:"/",children:e.jsx(D,{children:"Voltar para Home"})})]})});const k={fisioterapeuta:"🏃‍♂️",acompanhante_hospitalar:"🏥",tecnico_enfermagem:"💉"},w={fisioterapeuta:"Fisioterapeuta",acompanhante_hospitalar:"Acompanhante Hospitalar",tecnico_enfermagem:"Técnico em Enfermagem"},N=k[y.category]||"👨‍⚕️",g=w[y.category]||y.category,E=(()=>{const R=[];for(let Z=8;Z<=18;Z++)for(let O of[0,30]){const U=`${Z.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`;R.push(U)}return R})(),j=()=>{u.trim()&&(console.log("Sending message:",u),m(""),f(!1))},M=[],I=[];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{href:"/",children:e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Xe,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Perfil do Profissional"}),e.jsx("div",{className:"ml-auto flex gap-2",children:e.jsx(D,{variant:"outline",size:"sm",children:e.jsx(ip,{className:"h-4 w-4"})})})]})}),e.jsxs("div",{className:"p-4 pb-20 space-y-6",children:[e.jsx(oe,{children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:y.imageUrl||void 0,alt:y.name,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover mx-auto sm:mx-0"})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:y.name}),e.jsxs("p",{className:"text-lg text-primary font-semibold flex items-center justify-center sm:justify-start gap-2 mb-2",children:[e.jsx("span",{children:N}),g]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:y.specialization})]}),e.jsx(We,{variant:y.available?"secondary":"outline",className:`${y.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:y.available?"Disponível":"Ocupado"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Nt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-semibold",children:y.rating})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Avaliação"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold mb-1",children:y.totalReviews}),e.jsx("p",{className:"text-xs text-gray-500",children:"Avaliações"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold mb-1",children:y.experience}),e.jsx("p",{className:"text-xs text-gray-500",children:"Experiência"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-semibold mb-1 text-primary",children:["R$ ",y.hourlyRate,"/h"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor"})]})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-400 mb-6",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{children:y.location}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[y.distance," km de você"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(D,{className:"flex-1",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]}),e.jsxs(Ea,{open:x,onOpenChange:f,children:[e.jsx(Dr,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:"flex-1",children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})}),e.jsxs(Ys,{children:[e.jsx(Xs,{children:e.jsxs(Js,{children:["Enviar mensagem para ",y.name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Et,{placeholder:"Digite sua mensagem sobre o serviço que você precisa...",value:u,onChange:R=>m(R.target.value),rows:4}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{onClick:j,disabled:!u.trim(),children:"Enviar Mensagem"}),e.jsx(D,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"})]})]})]})]}),e.jsxs(D,{variant:"outline",children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Videochamada"]})]})]})]})})}),e.jsxs(Kd,{defaultValue:"about",className:"space-y-4 sm:space-y-6",children:[e.jsxs(vi,{className:"grid w-full grid-cols-4 h-auto sm:h-10 p-1 gap-1",children:[e.jsx(is,{value:"about",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Sobre"}),e.jsx(is,{value:"portfolio",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Portfólio"}),e.jsx(is,{value:"reviews",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Avaliações"}),e.jsx(is,{value:"schedule",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Agendar"})]}),e.jsxs(es,{value:"about",className:"space-y-6",children:[e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Qf,{className:"h-5 w-5"}),"Sobre o Profissional"]})}),e.jsx(le,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:y.description})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(oi,{className:"h-5 w-5"}),"Certificações e Qualificações"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-3",children:y.certifications?.split(",").map((R,Z)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(st,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:R.trim()})]},Z))})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"h-5 w-5"}),"Informações de Contato"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:y.location})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(lt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:"Atendimento de segunda a sábado"})]})]})})]})]}),e.jsx(es,{value:"portfolio",className:"space-y-6",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-5 w-5"}),"Portfólio de Serviços"]})}),e.jsx(le,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:M.map(R=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-sm border",children:[e.jsx("img",{src:R.image,alt:R.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx(We,{variant:"outline",className:"mb-2",children:R.category}),e.jsx("h3",{className:"font-semibold mb-2",children:R.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:R.description})]})]},R.id))})})]})}),e.jsx(es,{value:"reviews",className:"space-y-6",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"h-5 w-5"}),"Avaliações dos Pacientes"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-6",children:I.map(R=>e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:R.patient[0]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:R.patient}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(R.date).toLocaleDateString("pt-BR")})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((Z,O)=>e.jsx(Nt,{className:`h-4 w-4 ${O<R.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},O))})]}),e.jsx(We,{variant:"outline",className:"mb-2",children:R.service}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:R.comment})]},R.id))})})]})}),e.jsx(es,{value:"schedule",className:"space-y-6",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Agendar Consulta"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Selecione a data"}),e.jsx("input",{type:"date",value:o.toISOString().split("T")[0],onChange:R=>c(new Date(R.target.value)),className:"w-full p-3 border rounded-lg",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Horários disponíveis"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:E.map(R=>e.jsx(D,{variant:n===R?"default":"outline",size:"sm",onClick:()=>r(R),className:"text-xs",children:R},R))})]}),n&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Agendamento"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Profissional:"})," ",y.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Serviço:"})," ",y.specialization]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data:"})," ",o.toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Horário:"})," ",n]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Valor:"})," R$ ",y.hourlyRate,"/hora"]})]}),e.jsx(Fe,{href:"/payment",children:e.jsx(D,{className:"w-full mt-4",children:"Confirmar Agendamento"})})]})]})})]})})]})]})]})}const d0=_m,h0=Nm,u0=h.forwardRef(({className:a,inset:n,children:r,...o},c)=>e.jsxs(Nl,{ref:c,className:ue("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...o,children:[r,e.jsx(_c,{className:"ml-auto"})]}));u0.displayName=Nl.displayName;const m0=h.forwardRef(({className:a,...n},r)=>e.jsx(kl,{ref:r,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...n}));m0.displayName=kl.displayName;const Qd=h.forwardRef(({className:a,sideOffset:n=4,...r},o)=>e.jsx(jm,{children:e.jsx(Cl,{ref:o,sideOffset:n,className:ue("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...r})}));Qd.displayName=Cl.displayName;const qt=h.forwardRef(({className:a,inset:n,...r},o)=>e.jsx(Sl,{ref:o,className:ue("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...r}));qt.displayName=Sl.displayName;const f0=h.forwardRef(({className:a,children:n,checked:r,...o},c)=>e.jsxs(Pl,{ref:c,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tl,{children:e.jsx(Ia,{className:"h-4 w-4"})})}),n]}));f0.displayName=Pl.displayName;const p0=h.forwardRef(({className:a,children:n,...r},o)=>e.jsxs(El,{ref:o,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Tl,{children:e.jsx(ep,{className:"h-2 w-2 fill-current"})})}),n]}));p0.displayName=El.displayName;const x0=h.forwardRef(({className:a,inset:n,...r},o)=>e.jsx(Ml,{ref:o,className:ue("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...r}));x0.displayName=Ml.displayName;const Fr=h.forwardRef(({className:a,...n},r)=>e.jsx(Ll,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",a),...n}));Fr.displayName=Ll.displayName;const g0=Cm,v0=Sm,Yd=h.forwardRef(({className:a,align:n="center",sideOffset:r=4,...o},c)=>e.jsx(km,{children:e.jsx(Rl,{ref:c,align:n,sideOffset:r,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",a),...o})}));Yd.displayName=Rl.displayName;const y0=[{label:"Início",to:"/provider-dashboard",icon:e.jsx(ci,{className:"h-6 w-6"})},{label:"Agenda",to:"/agenda-profissional",icon:e.jsx(Ye,{className:"h-6 w-6"})},{label:"Chat",to:"/messages-provider",icon:e.jsx(Tt,{className:"h-6 w-6"})},{label:"Pedidos",to:"/provider-orders",icon:e.jsx(tp,{className:"h-6 w-6"})},{label:"Perfil",to:"/provider-profile",icon:e.jsx(gt,{className:"h-6 w-6"})}];function $r(){const[a]=ct();return e.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 left-0 w-full z-50 shadow rounded-t-xl px-0",children:e.jsx("ul",{className:"flex justify-around items-center h-16 max-w-full px-2 sm:px-4",children:y0.map(n=>e.jsx("li",{children:e.jsxs(Fe,{href:n.to,className:`flex flex-col items-center text-xs font-medium transition-colors duration-200 ${a===n.to?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:[n.icon,e.jsx("span",{className:"mt-1",children:n.label})]})},n.to))})})}function ta({children:a}){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"flex-1 flex flex-col",children:a}),e.jsx($r,{})]})}function Xd(a,n){const r=h.useRef(n);h.useEffect(function(){n!==r.current&&a.attributionControl!=null&&(r.current!=null&&a.attributionControl.removeAttribution(r.current),n!=null&&a.attributionControl.addAttribution(n)),r.current=n},[a,n])}const b0=1;function w0(a){return Object.freeze({__version:b0,map:a})}function j0(a,n){return Object.freeze({...a,...n})}const Jd=h.createContext(null),eh=Jd.Provider;function yi(){const a=h.useContext(Jd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function _0(a){function n(r,o){const{instance:c,context:u}=a(r).current;return h.useImperativeHandle(o,()=>c),r.children==null?null:Cr.createElement(eh,{value:u},r.children)}return h.forwardRef(n)}function N0(a){function n(r,o){const[c,u]=h.useState(!1),{instance:m}=a(r,u).current;h.useImperativeHandle(o,()=>m),h.useEffect(function(){c&&m.update()},[m,c,r.children]);const x=m._contentNode;return x?Cn.createPortal(r.children,x):null}return h.forwardRef(n)}function k0(a){function n(r,o){const{instance:c}=a(r).current;return h.useImperativeHandle(o,()=>c),null}return h.forwardRef(n)}function th(a,n){const r=h.useRef();h.useEffect(function(){return n!=null&&a.instance.on(n),r.current=n,function(){r.current!=null&&a.instance.off(r.current),r.current=null}},[a,n])}function bi(a,n){const r=a.pane??n.pane;return r?{...a,pane:r}:a}function C0(a,n){return function(o,c){const u=yi(),m=a(bi(o,u),u);return Xd(u.map,o.attribution),th(m.current,o.eventHandlers),n(m.current,u,o,c),m}}var _a={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var S0=_a.exports,nl;function P0(){return nl||(nl=1,function(a,n){(function(r,o){o(n)})(S0,function(r){var o="1.9.4";function c(t){var s,i,l,d;for(i=1,l=arguments.length;i<l;i++){d=arguments[i];for(s in d)t[s]=d[s]}return t}var u=Object.create||function(){function t(){}return function(s){return t.prototype=s,new t}}();function m(t,s){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var l=i.call(arguments,2);return function(){return t.apply(s,l.length?l.concat(i.call(arguments)):arguments)}}var x=0;function f(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function v(t,s,i){var l,d,p,_;return _=function(){l=!1,d&&(p.apply(i,d),d=!1)},p=function(){l?d=arguments:(t.apply(i,arguments),setTimeout(_,s),l=!0)},p}function b(t,s,i){var l=s[1],d=s[0],p=l-d;return t===l&&i?t:((t-d)%p+p)%p+d}function y(){return!1}function k(t,s){if(s===!1)return t;var i=Math.pow(10,s===void 0?6:s);return Math.round(t*i)/i}function w(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function N(t){return w(t).split(/\s+/)}function g(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var i in s)t.options[i]=s[i];return t.options}function T(t,s,i){var l=[];for(var d in t)l.push(encodeURIComponent(i?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!s||s.indexOf("?")===-1?"?":"&")+l.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function j(t,s){return t.replace(E,function(i,l){var d=s[l];if(d===void 0)throw new Error("No value provided for variable "+i);return typeof d=="function"&&(d=d(s)),d})}var M=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function I(t,s){for(var i=0;i<t.length;i++)if(t[i]===s)return i;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var O=0;function U(t){var s=+new Date,i=Math.max(0,16-(s-O));return O=s+i,window.setTimeout(t,i)}var z=window.requestAnimationFrame||Z("RequestAnimationFrame")||U,X=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function B(t,s,i){if(i&&z===U)t.call(s);else return z.call(window,m(t,s))}function V(t){t&&X.call(window,t)}var P={__proto__:null,extend:c,create:u,bind:m,get lastId(){return x},stamp:f,throttle:v,wrapNum:b,falseFn:y,formatNum:k,trim:w,splitWords:N,setOptions:g,getParamString:T,template:j,isArray:M,indexOf:I,emptyImageUrl:R,requestFn:z,cancelFn:X,requestAnimFrame:B,cancelAnimFrame:V};function S(){}S.extend=function(t){var s=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=s.__super__=this.prototype,l=u(i);l.constructor=s,s.prototype=l;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(s[d]=this[d]);return t.statics&&c(s,t.statics),t.includes&&(W(t.includes),c.apply(null,[l].concat(t.includes))),c(l,t),delete l.statics,delete l.includes,l.options&&(l.options=i.options?u(i.options):{},c(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,_=l._initHooks.length;p<_;p++)l._initHooks[p].call(this)}},s},S.include=function(t){var s=this.prototype.options;return c(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},S.mergeOptions=function(t){return c(this.prototype.options,t),this},S.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function W(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=M(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(t,s,i){if(typeof t=="object")for(var l in t)this._on(l,t[l],s);else{t=N(t);for(var d=0,p=t.length;d<p;d++)this._on(t[d],s,i)}return this},off:function(t,s,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],s);else{t=N(t);for(var d=arguments.length===1,p=0,_=t.length;p<_;p++)d?this._off(t[p]):this._off(t[p],s,i)}return this},_on:function(t,s,i,l){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,i)===!1){i===this&&(i=void 0);var d={fn:s,ctx:i};l&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,s,i){var l,d,p;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(d=0,p=l.length;d<p;d++)l[d].fn=y;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var _=this._listens(t,s,i);if(_!==!1){var C=l[_];this._firingCount&&(C.fn=y,this._events[t]=l=l.slice()),l.splice(_,1)}}},fire:function(t,s,i){if(!this.listens(t,i))return this;var l=c({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var p=0,_=d.length;p<_;p++){var C=d[p],A=C.fn;C.once&&this.off(t,A,C.ctx),A.call(C.ctx||this,l)}this._firingCount--}}return i&&this._propagateEvent(l),this},listens:function(t,s,i,l){typeof t!="string"&&console.warn('"string" type argument expected');var d=s;typeof s!="function"&&(l=!!s,d=void 0,i=void 0);var p=this._events&&this._events[t];if(p&&p.length&&this._listens(t,d,i)!==!1)return!0;if(l){for(var _ in this._eventParents)if(this._eventParents[_].listens(t,s,i,l))return!0}return!1},_listens:function(t,s,i){if(!this._events)return!1;var l=this._events[t]||[];if(!s)return!!l.length;i===this&&(i=void 0);for(var d=0,p=l.length;d<p;d++)if(l[d].fn===s&&l[d].ctx===i)return d;return!1},once:function(t,s,i){if(typeof t=="object")for(var l in t)this._on(l,t[l],s,!0);else{t=N(t);for(var d=0,p=t.length;d<p;d++)this._on(t[d],s,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[f(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[f(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var ce=S.extend(G);function K(t,s,i){this.x=i?Math.round(t):t,this.y=i?Math.round(s):s}var se=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(t){return this.clone()._add(re(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(re(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new K(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new K(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(t){t=re(t);var s=t.x-this.x,i=t.y-this.y;return Math.sqrt(s*s+i*i)},equals:function(t){return t=re(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=re(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function re(t,s,i){return t instanceof K?t:M(t)?new K(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new K(t.x,t.y):new K(t,s,i)}function ve(t,s){if(t)for(var i=s?[t,s]:t,l=0,d=i.length;l<d;l++)this.extend(i[l])}ve.prototype={extend:function(t){var s,i;if(!t)return this;if(t instanceof K||typeof t[0]=="number"||"x"in t)s=i=re(t);else if(t=Pe(t),s=t.min,i=t.max,!s||!i)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=i.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,i;return typeof t[0]=="number"||t instanceof K?t=re(t):t=Pe(t),t instanceof ve?(s=t.min,i=t.max):s=i=t,s.x>=this.min.x&&i.x<=this.max.x&&s.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Pe(t);var s=this.min,i=this.max,l=t.min,d=t.max,p=d.x>=s.x&&l.x<=i.x,_=d.y>=s.y&&l.y<=i.y;return p&&_},overlaps:function(t){t=Pe(t);var s=this.min,i=this.max,l=t.min,d=t.max,p=d.x>s.x&&l.x<i.x,_=d.y>s.y&&l.y<i.y;return p&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,i=this.max,l=Math.abs(s.x-i.x)*t,d=Math.abs(s.y-i.y)*t;return Pe(re(s.x-l,s.y-d),re(i.x+l,i.y+d))},equals:function(t){return t?(t=Pe(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Pe(t,s){return!t||t instanceof ve?t:new ve(t,s)}function je(t,s){if(t)for(var i=s?[t,s]:t,l=0,d=i.length;l<d;l++)this.extend(i[l])}je.prototype={extend:function(t){var s=this._southWest,i=this._northEast,l,d;if(t instanceof de)l=t,d=t;else if(t instanceof je){if(l=t._southWest,d=t._northEast,!l||!d)return this}else return t?this.extend(ae(t)||Y(t)):this;return!s&&!i?(this._southWest=new de(l.lat,l.lng),this._northEast=new de(d.lat,d.lng)):(s.lat=Math.min(l.lat,s.lat),s.lng=Math.min(l.lng,s.lng),i.lat=Math.max(d.lat,i.lat),i.lng=Math.max(d.lng,i.lng)),this},pad:function(t){var s=this._southWest,i=this._northEast,l=Math.abs(s.lat-i.lat)*t,d=Math.abs(s.lng-i.lng)*t;return new je(new de(s.lat-l,s.lng-d),new de(i.lat+l,i.lng+d))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof de||"lat"in t?t=ae(t):t=Y(t);var s=this._southWest,i=this._northEast,l,d;return t instanceof je?(l=t.getSouthWest(),d=t.getNorthEast()):l=d=t,l.lat>=s.lat&&d.lat<=i.lat&&l.lng>=s.lng&&d.lng<=i.lng},intersects:function(t){t=Y(t);var s=this._southWest,i=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),p=d.lat>=s.lat&&l.lat<=i.lat,_=d.lng>=s.lng&&l.lng<=i.lng;return p&&_},overlaps:function(t){t=Y(t);var s=this._southWest,i=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),p=d.lat>s.lat&&l.lat<i.lat,_=d.lng>s.lng&&l.lng<i.lng;return p&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=Y(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Y(t,s){return t instanceof je?t:new je(t,s)}function de(t,s,i){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,i!==void 0&&(this.alt=+i)}de.prototype={equals:function(t,s){if(!t)return!1;t=ae(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+k(this.lat,t)+", "+k(this.lng,t)+")"},distanceTo:function(t){return Ce.distance(this,ae(t))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,i=s/Math.cos(Math.PI/180*this.lat);return Y([this.lat-s,this.lng-i],[this.lat+s,this.lng+i])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function ae(t,s,i){return t instanceof de?t:M(t)&&typeof t[0]!="object"?t.length===3?new de(t[0],t[1],t[2]):t.length===2?new de(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new de(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new de(t,s,i)}var ne={latLngToPoint:function(t,s){var i=this.projection.project(t),l=this.scale(s);return this.transformation._transform(i,l)},pointToLatLng:function(t,s){var i=this.scale(s),l=this.transformation.untransform(t,i);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,i=this.scale(t),l=this.transformation.transform(s.min,i),d=this.transformation.transform(s.max,i);return new ve(l,d)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?b(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?b(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new de(i,s,l)},wrapLatLngBounds:function(t){var s=t.getCenter(),i=this.wrapLatLng(s),l=s.lat-i.lat,d=s.lng-i.lng;if(l===0&&d===0)return t;var p=t.getSouthWest(),_=t.getNorthEast(),C=new de(p.lat-l,p.lng-d),A=new de(_.lat-l,_.lng-d);return new je(C,A)}},Ce=c({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var i=Math.PI/180,l=t.lat*i,d=s.lat*i,p=Math.sin((s.lat-t.lat)*i/2),_=Math.sin((s.lng-t.lng)*i/2),C=p*p+Math.cos(l)*Math.cos(d)*_*_,A=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*A}}),Q=6378137,F={R:Q,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,i=this.MAX_LATITUDE,l=Math.max(Math.min(i,t.lat),-i),d=Math.sin(l*s);return new K(this.R*t.lng*s,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var s=180/Math.PI;return new de((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:function(){var t=Q*Math.PI;return new ve([-t,-t],[t,t])}()};function $(t,s,i,l){if(M(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=i,this._d=l}$.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new K((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function te(t,s,i,l){return new $(t,s,i,l)}var _e=c({},Ce,{code:"EPSG:3857",projection:F,transformation:function(){var t=.5/(Math.PI*F.R);return te(t,.5,-t,.5)}()}),Ne=c({},_e,{code:"EPSG:900913"});function Je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function dt(t,s){var i="",l,d,p,_,C,A;for(l=0,p=t.length;l<p;l++){for(C=t[l],d=0,_=C.length;d<_;d++)A=C[d],i+=(d?"L":"M")+A.x+" "+A.y;i+=s?he.svg?"z":"x":""}return i||"M0 0"}var Dt=document.documentElement.style,Es="ActiveXObject"in window,Bn=Es&&!document.addEventListener,$a="msLaunchUri"in navigator&&!("documentMode"in document),oa=$t("webkit"),la=$t("android"),Ms=$t("android 2")||$t("android 3"),zt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hn=la&&$t("Google")&&zt<537&&!("AudioNode"in window),ca=!!window.opera,Ba=!$a&&$t("chrome"),Ha=$t("gecko")&&!oa&&!ca&&!Es,Za=!Ba&&$t("safari"),Ls=$t("phantom"),qa="OTransition"in Dt,H=navigator.platform.indexOf("Win")===0,ie=Es&&"transition"in Dt,xe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ms,ke="MozPerspective"in Dt,Ve=!window.L_DISABLE_3D&&(ie||xe||ke)&&!qa&&!Ls,Ze=typeof orientation<"u"||$t("mobile"),Ee=Ze&&oa,Be=Ze&&xe,De=!window.PointerEvent&&window.MSPointerEvent,ze=!!(window.PointerEvent||De),Ue="ontouchstart"in window||!!window.TouchEvent,yt=!window.L_NO_TOUCH&&(Ue||ze),He=Ze&&ca,Ft=Ze&&Ha,rt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ht=function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",y,s),window.removeEventListener("testPassiveEventSupport",y,s)}catch{}return t}(),ft=function(){return!!document.createElement("canvas").getContext}(),ut=!!(document.createElementNS&&Je("svg").createSVGRect),Wa=!!ut&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Zn=!ut&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),qn=navigator.platform.indexOf("Mac")===0,lu=navigator.platform.indexOf("Linux")===0;function $t(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var he={ie:Es,ielt9:Bn,edge:$a,webkit:oa,android:la,android23:Ms,androidStock:Hn,opera:ca,chrome:Ba,gecko:Ha,safari:Za,phantom:Ls,opera12:qa,win:H,ie3d:ie,webkit3d:xe,gecko3d:ke,any3d:Ve,mobile:Ze,mobileWebkit:Ee,mobileWebkit3d:Be,msPointer:De,pointer:ze,touch:yt,touchNative:Ue,mobileOpera:He,mobileGecko:Ft,retina:rt,passiveEvents:ht,canvas:ft,svg:ut,vml:Zn,inlineSvg:Wa,mac:qn,linux:lu},Mi=he.msPointer?"MSPointerDown":"pointerdown",Li=he.msPointer?"MSPointerMove":"pointermove",Ri=he.msPointer?"MSPointerUp":"pointerup",Ai=he.msPointer?"MSPointerCancel":"pointercancel",Wn={touchstart:Mi,touchmove:Li,touchend:Ri,touchcancel:Ai},Oi={touchstart:fu,touchmove:Va,touchend:Va,touchcancel:Va},Rs={},Ii=!1;function cu(t,s,i){return s==="touchstart"&&mu(),Oi[s]?(i=Oi[s].bind(this,i),t.addEventListener(Wn[s],i,!1),i):(console.warn("wrong event specified:",s),y)}function du(t,s,i){if(!Wn[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(Wn[s],i,!1)}function hu(t){Rs[t.pointerId]=t}function uu(t){Rs[t.pointerId]&&(Rs[t.pointerId]=t)}function Di(t){delete Rs[t.pointerId]}function mu(){Ii||(document.addEventListener(Mi,hu,!0),document.addEventListener(Li,uu,!0),document.addEventListener(Ri,Di,!0),document.addEventListener(Ai,Di,!0),Ii=!0)}function Va(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var i in Rs)s.touches.push(Rs[i]);s.changedTouches=[s],t(s)}}function fu(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&it(s),Va(t,s)}function pu(t){var s={},i,l;for(l in t)i=t[l],s[l]=i&&i.bind?i.bind(t):i;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var xu=200;function gu(t,s){t.addEventListener("dblclick",s);var i=0,l;function d(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var _=Hi(p);if(!(_.some(function(A){return A instanceof HTMLLabelElement&&A.attributes.for})&&!_.some(function(A){return A instanceof HTMLInputElement||A instanceof HTMLSelectElement}))){var C=Date.now();C-i<=xu?(l++,l===2&&s(pu(p))):l=1,i=C}}}return t.addEventListener("click",d),{dblclick:s,simDblclick:d}}function vu(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var Vn=Ka(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),da=Ka(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=da==="webkitTransition"||da==="OTransition"?da+"End":"transitionend";function Fi(t){return typeof t=="string"?document.getElementById(t):t}function ha(t,s){var i=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!i||i==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);i=l?l[s]:null}return i==="auto"?null:i}function Me(t,s,i){var l=document.createElement(t);return l.className=s||"",i&&i.appendChild(l),l}function qe(t){var s=t.parentNode;s&&s.removeChild(t)}function Ua(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function As(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function Os(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function Un(t,s){if(t.classList!==void 0)return t.classList.contains(s);var i=Ga(t);return i.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(i)}function ye(t,s){if(t.classList!==void 0)for(var i=N(s),l=0,d=i.length;l<d;l++)t.classList.add(i[l]);else if(!Un(t,s)){var p=Ga(t);Gn(t,(p?p+" ":"")+s)}}function Ge(t,s){t.classList!==void 0?t.classList.remove(s):Gn(t,w((" "+Ga(t)+" ").replace(" "+s+" "," ")))}function Gn(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function Ga(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function kt(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&yu(t,s)}function yu(t,s){var i=!1,l="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(l)}catch{if(s===1)return}s=Math.round(s*100),i?(i.Enabled=s!==100,i.Opacity=s):t.style.filter+=" progid:"+l+"(opacity="+s+")"}function Ka(t){for(var s=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in s)return t[i];return!1}function fs(t,s,i){var l=s||new K(0,0);t.style[Vn]=(he.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(i?" scale("+i+")":"")}function Ke(t,s){t._leaflet_pos=s,he.any3d?fs(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function ps(t){return t._leaflet_pos||new K(0,0)}var ua,ma,Kn;if("onselectstart"in document)ua=function(){ge(window,"selectstart",it)},ma=function(){$e(window,"selectstart",it)};else{var fa=Ka(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ua=function(){if(fa){var t=document.documentElement.style;Kn=t[fa],t[fa]="none"}},ma=function(){fa&&(document.documentElement.style[fa]=Kn,Kn=void 0)}}function Qn(){ge(window,"dragstart",it)}function Yn(){$e(window,"dragstart",it)}var Qa,Xn;function Jn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Ya(),Qa=t,Xn=t.style.outlineStyle,t.style.outlineStyle="none",ge(window,"keydown",Ya))}function Ya(){Qa&&(Qa.style.outlineStyle=Xn,Qa=void 0,Xn=void 0,$e(window,"keydown",Ya))}function $i(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function er(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var bu={__proto__:null,TRANSFORM:Vn,TRANSITION:da,TRANSITION_END:zi,get:Fi,getStyle:ha,create:Me,remove:qe,empty:Ua,toFront:As,toBack:Os,hasClass:Un,addClass:ye,removeClass:Ge,setClass:Gn,getClass:Ga,setOpacity:kt,testProp:Ka,setTransform:fs,setPosition:Ke,getPosition:ps,get disableTextSelection(){return ua},get enableTextSelection(){return ma},disableImageDrag:Qn,enableImageDrag:Yn,preventOutline:Jn,restoreOutline:Ya,getSizedParentNode:$i,getScale:er};function ge(t,s,i,l){if(s&&typeof s=="object")for(var d in s)sr(t,d,s[d],i);else{s=N(s);for(var p=0,_=s.length;p<_;p++)sr(t,s[p],i,l)}return this}var Bt="_leaflet_events";function $e(t,s,i,l){if(arguments.length===1)Bi(t),delete t[Bt];else if(s&&typeof s=="object")for(var d in s)ar(t,d,s[d],i);else if(s=N(s),arguments.length===2)Bi(t,function(C){return I(s,C)!==-1});else for(var p=0,_=s.length;p<_;p++)ar(t,s[p],i,l);return this}function Bi(t,s){for(var i in t[Bt]){var l=i.split(/\d/)[0];(!s||s(l))&&ar(t,l,null,null,i)}}var tr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sr(t,s,i,l){var d=s+f(i)+(l?"_"+f(l):"");if(t[Bt]&&t[Bt][d])return this;var p=function(C){return i.call(l||t,C||window.event)},_=p;!he.touchNative&&he.pointer&&s.indexOf("touch")===0?p=cu(t,s,p):he.touch&&s==="dblclick"?p=gu(t,p):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(tr[s]||s,p,he.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(p=function(C){C=C||window.event,rr(t,C)&&_(C)},t.addEventListener(tr[s],p,!1)):t.addEventListener(s,_,!1):t.attachEvent("on"+s,p),t[Bt]=t[Bt]||{},t[Bt][d]=p}function ar(t,s,i,l,d){d=d||s+f(i)+(l?"_"+f(l):"");var p=t[Bt]&&t[Bt][d];if(!p)return this;!he.touchNative&&he.pointer&&s.indexOf("touch")===0?du(t,s,p):he.touch&&s==="dblclick"?vu(t,p):"removeEventListener"in t?t.removeEventListener(tr[s]||s,p,!1):t.detachEvent("on"+s,p),t[Bt][d]=null}function xs(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function nr(t){return sr(t,"wheel",xs),this}function pa(t){return ge(t,"mousedown touchstart dblclick contextmenu",xs),t._leaflet_disable_click=!0,this}function it(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function gs(t){return it(t),xs(t),this}function Hi(t){if(t.composedPath)return t.composedPath();for(var s=[],i=t.target;i;)s.push(i),i=i.parentNode;return s}function Zi(t,s){if(!s)return new K(t.clientX,t.clientY);var i=er(s),l=i.boundingClientRect;return new K((t.clientX-l.left)/i.x-s.clientLeft,(t.clientY-l.top)/i.y-s.clientTop)}var wu=he.linux&&he.chrome?window.devicePixelRatio:he.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qi(t){return he.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/wu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function rr(t,s){var i=s.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var ju={__proto__:null,on:ge,off:$e,stopPropagation:xs,disableScrollPropagation:nr,disableClickPropagation:pa,preventDefault:it,stop:gs,getPropagationPath:Hi,getMousePosition:Zi,getWheelDelta:qi,isExternalTarget:rr,addListener:ge,removeListener:$e},Wi=ce.extend({run:function(t,s,i,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ps(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,i=this._duration*1e3;s<i?this._runFrame(this._easeOut(s/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var i=this._startPos.add(this._offset.multiplyBy(t));s&&i._round(),Ke(this._el,i),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Se=ce.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=g(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ae(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=da&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ge(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,i){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(ae(t),s,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=c({animate:i.animate},i.zoom),i.pan=c({animate:i.animate,duration:i.duration},i.pan));var l=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,i.zoom):this._tryAnimatedPan(t,i.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,i){var l=this.getZoomScale(s),d=this.getSize().divideBy(2),p=t instanceof K?t:this.latLngToContainerPoint(t),_=p.subtract(d).multiplyBy(1-1/l),C=this.containerPointToLatLng(d.add(_));return this.setView(C,s,{zoom:i})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():Y(t);var i=re(s.paddingTopLeft||s.padding||[0,0]),l=re(s.paddingBottomRight||s.padding||[0,0]),d=this.getBoundsZoom(t,!1,i.add(l));if(d=typeof s.maxZoom=="number"?Math.min(s.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var p=l.subtract(i).divideBy(2),_=this.project(t.getSouthWest(),d),C=this.project(t.getNorthEast(),d),A=this.unproject(_.add(C).divideBy(2).add(p),d);return{center:A,zoom:d}},fitBounds:function(t,s){if(t=Y(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,s);return this.setView(i.center,i.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=re(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ye(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,i){if(i=i||{},i.animate===!1||!he.any3d)return this.setView(t,s,i);this._stop();var l=this.project(this.getCenter()),d=this.project(t),p=this.getSize(),_=this._zoom;t=ae(t),s=s===void 0?_:s;var C=Math.max(p.x,p.y),A=C*this.getZoomScale(_,s),q=d.distanceTo(l)||1,J=1.42,pe=J*J;function be(Qe){var dn=Qe?-1:1,dm=Qe?A:C,hm=A*A-C*C+dn*pe*pe*q*q,um=2*dm*pe*q,xr=hm/um,Co=Math.sqrt(xr*xr+1)-xr,mm=Co<1e-9?-18:Math.log(Co);return mm}function pt(Qe){return(Math.exp(Qe)-Math.exp(-Qe))/2}function tt(Qe){return(Math.exp(Qe)+Math.exp(-Qe))/2}function St(Qe){return pt(Qe)/tt(Qe)}var bt=be(0);function Bs(Qe){return C*(tt(bt)/tt(bt+J*Qe))}function im(Qe){return C*(tt(bt)*St(bt+J*Qe)-pt(bt))/pe}function om(Qe){return 1-Math.pow(1-Qe,1.5)}var lm=Date.now(),No=(be(1)-bt)/J,cm=i.duration?1e3*i.duration:1e3*No*.8;function ko(){var Qe=(Date.now()-lm)/cm,dn=om(Qe)*No;Qe<=1?(this._flyToFrame=B(ko,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(im(dn)/q)),_),this.getScaleZoom(C/Bs(dn),_),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),ko.call(this),this},flyToBounds:function(t,s){var i=this._getBoundsCenterZoom(t,s);return this.flyTo(i.center,i.zoom,s)},setMaxBounds:function(t){return t=Y(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var i=this.getCenter(),l=this._limitCenter(i,this._zoom,Y(t));return i.equals(l)||this.panTo(l,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var i=re(s.paddingTopLeft||s.padding||[0,0]),l=re(s.paddingBottomRight||s.padding||[0,0]),d=this.project(this.getCenter()),p=this.project(t),_=this.getPixelBounds(),C=Pe([_.min.add(i),_.max.subtract(l)]),A=C.getSize();if(!C.contains(p)){this._enforcingBounds=!0;var q=p.subtract(C.getCenter()),J=C.extend(p).getSize().subtract(A);d.x+=q.x<0?-J.x:J.x,d.y+=q.y<0?-J.y:J.y,this.panTo(this.unproject(d),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),l=s.divideBy(2).round(),d=i.divideBy(2).round(),p=l.subtract(d);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=m(this._handleGeolocationResponse,this),i=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,i,t):navigator.geolocation.getCurrentPosition(s,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,i=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,i=t.coords.longitude,l=new de(s,i),d=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var _=this.getBoundsZoom(d);this.setView(l,p.maxZoom?Math.min(_,p.maxZoom):_)}var C={latlng:l,bounds:d,timestamp:t.timestamp};for(var A in t.coords)typeof t.coords[A]=="number"&&(C[A]=t.coords[A]);this.fire("locationfound",C)}},addHandler:function(t,s){if(!s)return this;var i=this[t]=new s(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)qe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=Me("div",i,s||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new je(s,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,i){t=Y(t),i=re(i||[0,0]);var l=this.getZoom()||0,d=this.getMinZoom(),p=this.getMaxZoom(),_=t.getNorthWest(),C=t.getSouthEast(),A=this.getSize().subtract(i),q=Pe(this.project(C,l),this.project(_,l)).getSize(),J=he.any3d?this.options.zoomSnap:1,pe=A.x/q.x,be=A.y/q.y,pt=s?Math.max(pe,be):Math.min(pe,be);return l=this.getScaleZoom(pt,l),J&&(l=Math.round(l/(J/100))*(J/100),l=s?Math.ceil(l/J)*J:Math.floor(l/J)*J),Math.max(d,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var i=this._getTopLeftPoint(t,s);return new ve(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var i=this.options.crs;return s=s===void 0?this._zoom:s,i.scale(t)/i.scale(s)},getScaleZoom:function(t,s){var i=this.options.crs;s=s===void 0?this._zoom:s;var l=i.zoom(t*i.scale(s));return isNaN(l)?1/0:l},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ae(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(re(t),s)},layerPointToLatLng:function(t){var s=re(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(ae(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ae(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(Y(t))},distance:function(t,s){return this.options.crs.distance(ae(t),ae(s))},containerPointToLayerPoint:function(t){return re(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return re(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(re(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(t)))},mouseEventToContainerPoint:function(t){return Zi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=Fi(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ge(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,ye(t,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ha(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ke(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(t.markerPane,"leaflet-zoom-hide"),ye(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,i){Ke(this._mapPane,new K(0,0));var l=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var d=this._zoom!==s;this._moveStart(d,i)._move(t,s)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,i,l){s===void 0&&(s=this._zoom);var d=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?i&&i.pinch&&this.fire("zoom",i):((d||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ke(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[f(this._container)]=this;var s=t?$e:ge;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var i=[],l,d=s==="mouseout"||s==="mouseover",p=t.target||t.srcElement,_=!1;p;){if(l=this._targets[f(p)],l&&(s==="click"||s==="preclick")&&this._draggableMoved(l)){_=!0;break}if(l&&l.listens(s,!0)&&(d&&!rr(p,t)||(i.push(l),d))||p===this._container)break;p=p.parentNode}return!i.length&&!_&&!d&&this.listens(s,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var i=t.type;i==="mousedown"&&Jn(s),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,i){if(t.type==="click"){var l=c({},t);l.type="preclick",this._fireDOMEvent(l,l.type,i)}var d=this._findEventTargets(t,s);if(i){for(var p=[],_=0;_<i.length;_++)i[_].listens(s,!0)&&p.push(i[_]);d=p.concat(d)}if(d.length){s==="contextmenu"&&it(t);var C=d[0],A={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var q=C.getLatLng&&(!C._radius||C._radius<=10);A.containerPoint=q?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(t),A.layerPoint=this.containerPointToLayerPoint(A.containerPoint),A.latlng=q?C.getLatLng():this.layerPointToLatLng(A.layerPoint)}for(_=0;_<d.length;_++)if(d[_].fire(s,A,!0),A.originalEvent._stopped||d[_].options.bubblingMouseEvents===!1&&I(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return ps(this._mapPane)||new K(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var i=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var i=this.getSize()._divideBy(2);return this.project(t,s)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,i){var l=this._getNewPixelOrigin(i,s);return this.project(t,s)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,s,i){var l=this._getNewPixelOrigin(i,s);return Pe([this.project(t.getSouthWest(),s)._subtract(l),this.project(t.getNorthWest(),s)._subtract(l),this.project(t.getSouthEast(),s)._subtract(l),this.project(t.getNorthEast(),s)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,i){if(!i)return t;var l=this.project(t,s),d=this.getSize().divideBy(2),p=new ve(l.subtract(d),l.add(d)),_=this._getBoundsOffset(p,i,s);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?t:this.unproject(l.add(_),s)},_limitOffset:function(t,s){if(!s)return t;var i=this.getPixelBounds(),l=new ve(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(l,s))},_getBoundsOffset:function(t,s,i){var l=Pe(this.project(s.getNorthEast(),i),this.project(s.getSouthWest(),i)),d=l.min.subtract(t.min),p=l.max.subtract(t.max),_=this._rebound(d.x,-p.x),C=this._rebound(d.y,-p.y);return new K(_,C)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),i=this.getMaxZoom(),l=he.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(s,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var i=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,s),!0)},_createAnimProxy:function(){var t=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var i=Vn,l=this._proxy.style[i];fs(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),l===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();fs(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(s),d=this._getCenterOffset(t)._divideBy(1-1/l);return i.animate!==!0&&!this.getSize().contains(d)?!1:(B(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,i,l){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _u(t,s){return new Se(t,s)}var Lt=S.extend({options:{position:"topright"},initialize:function(t){g(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),i=this.getPosition(),l=t._controlCorners[i];return ye(s,"leaflet-control"),i.indexOf("bottom")!==-1?l.insertBefore(s,l.firstChild):l.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),xa=function(t){return new Lt(t)};Se.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",i=this._controlContainer=Me("div",s+"control-container",this._container);function l(d,p){var _=s+d+" "+s+p;t[d+p]=Me("div",_,i)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)qe(this._controlCorners[t]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vi=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,i,l){return i<l?-1:l<i?1:0}},initialize:function(t,s,i){g(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in s)this._addLayer(s[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Lt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=Me("div",t),i=this.options.collapsed;s.setAttribute("aria-haspopup",!0),pa(s),nr(s);var l=this._section=Me("section",t+"-list");i&&(this._map.on("click",this.collapse,this),ge(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=Me("a",t+"-toggle",s);d.href="#",d.title="Layers",d.setAttribute("role","button"),ge(d,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){it(p),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=Me("div",t+"-base",l),this._separator=Me("div",t+"-separator",l),this._overlaysList=Me("div",t+"-overlays",l),s.appendChild(l)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:i}),this.options.sortLayers&&this._layers.sort(m(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ua(this._baseLayersList),Ua(this._overlaysList),this._layerControlInputs=[];var t,s,i,l,d=0;for(i=0;i<this._layers.length;i++)l=this._layers[i],this._addItem(l),s=s||l.overlay,t=t||!l.overlay,d+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(f(t.target)),i=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,s)},_createRadioElement:function(t,s){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=i,l.firstChild},_addItem:function(t){var s=document.createElement("label"),i=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=i):l=this._createRadioElement("leaflet-base-layers_"+f(this),i),this._layerControlInputs.push(l),l.layerId=f(t.layer),ge(l,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var p=document.createElement("span");s.appendChild(p),p.appendChild(l),p.appendChild(d);var _=t.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,i,l=[],d=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)s=t[p],i=this._getLayer(s.layerId).layer,s.checked?l.push(i):s.checked||d.push(i);for(p=0;p<d.length;p++)this._map.hasLayer(d[p])&&this._map.removeLayer(d[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,i,l=this._map.getZoom(),d=t.length-1;d>=0;d--)s=t[d],i=this._getLayer(s.layerId).layer,s.disabled=i.options.minZoom!==void 0&&l<i.options.minZoom||i.options.maxZoom!==void 0&&l>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,ge(t,"click",it),this.expand();var s=this;setTimeout(function(){$e(t,"click",it),s._preventClick=!1})}}),Nu=function(t,s,i){return new Vi(t,s,i)},ir=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",i=Me("div",s+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,s+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,s+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,i,l,d){var p=Me("a",i,l);return p.innerHTML=t,p.href="#",p.title=s,p.setAttribute("role","button"),p.setAttribute("aria-label",s),pa(p),ge(p,"click",gs),ge(p,"click",d,this),ge(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";Ge(this._zoomInButton,s),Ge(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ye(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ye(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ir,this.addControl(this.zoomControl))});var ku=function(t){return new ir(t)},Ui=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",i=Me("div",s),l=this.options;return this._addScales(l,s+"-line",i),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,i){t.metric&&(this._mScale=Me("div",s,i)),t.imperial&&(this._iScale=Me("div",s,i))},_update:function(){var t=this._map,s=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),i=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,i,s/t)},_updateImperial:function(t){var s=t*3.2808399,i,l,d;s>5280?(i=s/5280,l=this._getRoundNum(i),this._updateScale(this._iScale,l+" mi",l/i)):(d=this._getRoundNum(s),this._updateScale(this._iScale,d+" ft",d/s))},_updateScale:function(t,s,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),i=t/s;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,s*i}}),Cu=function(t){return new Ui(t)},Su='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',or=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?Su+" ":"")+"Leaflet</a>"},initialize:function(t){g(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),pa(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new or().addTo(this)});var Pu=function(t){return new or(t)};Lt.Layers=Vi,Lt.Zoom=ir,Lt.Scale=Ui,Lt.Attribution=or,xa.layers=Nu,xa.zoom=ku,xa.scale=Cu,xa.attribution=Pu;var Ht=S.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ht.addTo=function(t,s){return t.addHandler(s,this),this};var Tu={Events:G},Gi=he.touch?"touchstart mousedown":"mousedown",ss=ce.extend({options:{clickTolerance:3},initialize:function(t,s,i,l){g(this,l),this._element=t,this._dragStartTarget=s||t,this._preventOutline=i},enable:function(){this._enabled||(ge(this._dragStartTarget,Gi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ss._dragging===this&&this.finishDrag(!0),$e(this._dragStartTarget,Gi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Un(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ss._dragging===this&&this.finishDrag();return}if(!(ss._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ss._dragging=this,this._preventOutline&&Jn(this._element),Qn(),ua(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,i=$i(this._element);this._startPoint=new K(s.clientX,s.clientY),this._startPos=ps(this._element),this._parentScale=er(i);var l=t.type==="mousedown";ge(document,l?"mousemove":"touchmove",this._onMove,this),ge(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,i=new K(s.clientX,s.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,it(t),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ke(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ge(document.body,"leaflet-dragging"),this._lastTarget&&(Ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$e(document,"mousemove touchmove",this._onMove,this),$e(document,"mouseup touchend touchcancel",this._onUp,this),Yn(),ma();var s=this._moved&&this._moving;this._moving=!1,ss._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ki(t,s,i){var l,d=[1,4,2,8],p,_,C,A,q,J,pe,be;for(p=0,J=t.length;p<J;p++)t[p]._code=vs(t[p],s);for(C=0;C<4;C++){for(pe=d[C],l=[],p=0,J=t.length,_=J-1;p<J;_=p++)A=t[p],q=t[_],A._code&pe?q._code&pe||(be=Xa(q,A,pe,s,i),be._code=vs(be,s),l.push(be)):(q._code&pe&&(be=Xa(q,A,pe,s,i),be._code=vs(be,s),l.push(be)),l.push(A));t=l}return t}function Qi(t,s){var i,l,d,p,_,C,A,q,J;if(!t||t.length===0)throw new Error("latlngs not passed");Ct(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pe=ae([0,0]),be=Y(t),pt=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());pt<1700&&(pe=lr(t));var tt=t.length,St=[];for(i=0;i<tt;i++){var bt=ae(t[i]);St.push(s.project(ae([bt.lat-pe.lat,bt.lng-pe.lng])))}for(C=A=q=0,i=0,l=tt-1;i<tt;l=i++)d=St[i],p=St[l],_=d.y*p.x-p.y*d.x,A+=(d.x+p.x)*_,q+=(d.y+p.y)*_,C+=_*3;C===0?J=St[0]:J=[A/C,q/C];var Bs=s.unproject(re(J));return ae([Bs.lat+pe.lat,Bs.lng+pe.lng])}function lr(t){for(var s=0,i=0,l=0,d=0;d<t.length;d++){var p=ae(t[d]);s+=p.lat,i+=p.lng,l++}return ae([s/l,i/l])}var Eu={__proto__:null,clipPolygon:Ki,polygonCenter:Qi,centroid:lr};function Yi(t,s){if(!s||!t.length)return t.slice();var i=s*s;return t=Ru(t,i),t=Lu(t,i),t}function Xi(t,s,i){return Math.sqrt(ga(t,s,i,!0))}function Mu(t,s,i){return ga(t,s,i)}function Lu(t,s){var i=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,d=new l(i);d[0]=d[i-1]=1,cr(t,d,s,0,i-1);var p,_=[];for(p=0;p<i;p++)d[p]&&_.push(t[p]);return _}function cr(t,s,i,l,d){var p=0,_,C,A;for(C=l+1;C<=d-1;C++)A=ga(t[C],t[l],t[d],!0),A>p&&(_=C,p=A);p>i&&(s[_]=1,cr(t,s,i,l,_),cr(t,s,i,_,d))}function Ru(t,s){for(var i=[t[0]],l=1,d=0,p=t.length;l<p;l++)Au(t[l],t[d])>s&&(i.push(t[l]),d=l);return d<p-1&&i.push(t[p-1]),i}var Ji;function eo(t,s,i,l,d){var p=l?Ji:vs(t,i),_=vs(s,i),C,A,q;for(Ji=_;;){if(!(p|_))return[t,s];if(p&_)return!1;C=p||_,A=Xa(t,s,C,i,d),q=vs(A,i),C===p?(t=A,p=q):(s=A,_=q)}}function Xa(t,s,i,l,d){var p=s.x-t.x,_=s.y-t.y,C=l.min,A=l.max,q,J;return i&8?(q=t.x+p*(A.y-t.y)/_,J=A.y):i&4?(q=t.x+p*(C.y-t.y)/_,J=C.y):i&2?(q=A.x,J=t.y+_*(A.x-t.x)/p):i&1&&(q=C.x,J=t.y+_*(C.x-t.x)/p),new K(q,J,d)}function vs(t,s){var i=0;return t.x<s.min.x?i|=1:t.x>s.max.x&&(i|=2),t.y<s.min.y?i|=4:t.y>s.max.y&&(i|=8),i}function Au(t,s){var i=s.x-t.x,l=s.y-t.y;return i*i+l*l}function ga(t,s,i,l){var d=s.x,p=s.y,_=i.x-d,C=i.y-p,A=_*_+C*C,q;return A>0&&(q=((t.x-d)*_+(t.y-p)*C)/A,q>1?(d=i.x,p=i.y):q>0&&(d+=_*q,p+=C*q)),_=t.x-d,C=t.y-p,l?_*_+C*C:new K(d,p)}function Ct(t){return!M(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function to(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ct(t)}function so(t,s){var i,l,d,p,_,C,A,q;if(!t||t.length===0)throw new Error("latlngs not passed");Ct(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var J=ae([0,0]),pe=Y(t),be=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());be<1700&&(J=lr(t));var pt=t.length,tt=[];for(i=0;i<pt;i++){var St=ae(t[i]);tt.push(s.project(ae([St.lat-J.lat,St.lng-J.lng])))}for(i=0,l=0;i<pt-1;i++)l+=tt[i].distanceTo(tt[i+1])/2;if(l===0)q=tt[0];else for(i=0,p=0;i<pt-1;i++)if(_=tt[i],C=tt[i+1],d=_.distanceTo(C),p+=d,p>l){A=(p-l)/d,q=[C.x-A*(C.x-_.x),C.y-A*(C.y-_.y)];break}var bt=s.unproject(re(q));return ae([bt.lat+J.lat,bt.lng+J.lng])}var Ou={__proto__:null,simplify:Yi,pointToSegmentDistance:Xi,closestPointOnSegment:Mu,clipSegment:eo,_getEdgeIntersection:Xa,_getBitCode:vs,_sqClosestPointOnSegment:ga,isFlat:Ct,_flat:to,polylineCenter:so},dr={project:function(t){return new K(t.lng,t.lat)},unproject:function(t){return new de(t.y,t.x)},bounds:new ve([-180,-90],[180,90])},hr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,i=this.R,l=t.lat*s,d=this.R_MINOR/i,p=Math.sqrt(1-d*d),_=p*Math.sin(l),C=Math.tan(Math.PI/4-l/2)/Math.pow((1-_)/(1+_),p/2);return l=-i*Math.log(Math.max(C,1e-10)),new K(t.lng*s*i,l)},unproject:function(t){for(var s=180/Math.PI,i=this.R,l=this.R_MINOR/i,d=Math.sqrt(1-l*l),p=Math.exp(-t.y/i),_=Math.PI/2-2*Math.atan(p),C=0,A=.1,q;C<15&&Math.abs(A)>1e-7;C++)q=d*Math.sin(_),q=Math.pow((1-q)/(1+q),d/2),A=Math.PI/2-2*Math.atan(p*q)-_,_+=A;return new de(_*s,t.x*s/i)}},Iu={__proto__:null,LonLat:dr,Mercator:hr,SphericalMercator:F},Du=c({},Ce,{code:"EPSG:3395",projection:hr,transformation:function(){var t=.5/(Math.PI*hr.R);return te(t,.5,-t,.5)}()}),ao=c({},Ce,{code:"EPSG:4326",projection:dr,transformation:te(1/180,1,-1/180,.5)}),zu=c({},ne,{projection:dr,transformation:te(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var i=s.lng-t.lng,l=s.lat-t.lat;return Math.sqrt(i*i+l*l)},infinite:!0});ne.Earth=Ce,ne.EPSG3395=Du,ne.EPSG3857=_e,ne.EPSG900913=Ne,ne.EPSG4326=ao,ne.Simple=zu;var Rt=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[f(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[f(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var i=this.getEvents();s.on(i,this),this.once("remove",function(){s.off(i,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=f(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return f(t)in this._layers},eachLayer:function(t,s){for(var i in this._layers)t.call(s,this._layers[i]);return this},_addLayers:function(t){t=t?M(t)?t:[t]:[];for(var s=0,i=t.length;s<i;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[f(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=f(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,i=this._getZoomSpan();for(var l in this._zoomBoundLayers){var d=this._zoomBoundLayers[l].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),s=d.maxZoom===void 0?s:Math.max(s,d.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Is=Rt.extend({initialize:function(t,s){g(this,s),this._layers={};var i,l;if(t)for(i=0,l=t.length;i<l;i++)this.addLayer(t[i])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),i,l;for(i in this._layers)l=this._layers[i],l[t]&&l[t].apply(l,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var i in this._layers)t.call(s,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return f(t)}}),Fu=function(t,s){return new Is(t,s)},Kt=Is.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Is.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Is.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new je;for(var s in this._layers){var i=this._layers[s];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),$u=function(t,s){return new Kt(t,s)},Ds=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){g(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(i,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,s){var i=this.options,l=i[s+"Size"];typeof l=="number"&&(l=[l,l]);var d=re(l),p=re(s==="shadow"&&i.shadowAnchor||i.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(i.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return he.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Bu(t){return new Ds(t)}var va=Ds.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof va.imagePath!="string"&&(va.imagePath=this._detectIconPath()),(this.options.imagePath||va.imagePath)+Ds.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(i,l,d){var p=l.exec(i);return p&&p[d]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Me("div","leaflet-default-icon-path",document.body),s=ha(t,"background-image")||ha(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),no=Ht.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ss(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,i=s._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,p=ps(s._icon),_=i.getPixelBounds(),C=i.getPixelOrigin(),A=Pe(_.min._subtract(C).add(d),_.max._subtract(C).subtract(d));if(!A.contains(p)){var q=re((Math.max(A.max.x,p.x)-A.max.x)/(_.max.x-A.max.x)-(Math.min(A.min.x,p.x)-A.min.x)/(_.min.x-A.min.x),(Math.max(A.max.y,p.y)-A.max.y)/(_.max.y-A.max.y)-(Math.min(A.min.y,p.y)-A.min.y)/(_.min.y-A.min.y)).multiplyBy(l);i.panBy(q,{animate:!1}),this._draggable._newPos._add(q),this._draggable._startPos._add(q),Ke(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=B(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,i=s._shadow,l=ps(s._icon),d=s._map.layerPointToLatLng(l);i&&Ke(i,l),s._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ja=Rt.extend({options:{icon:new va,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){g(this,s),this._latlng=ae(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=ae(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),l=!1;i!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),ye(i,s),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ge(i,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),p=!1;d!==this._shadow&&(this._removeShadow(),p=!0),d&&(ye(d,s),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ke(this._icon,t),this._shadow&&Ke(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),no)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new no(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&kt(this._icon,t),this._shadow&&kt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,i=s.iconSize?re(s.iconSize):re(0,0),l=s.iconAnchor?re(s.iconAnchor):re(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:i.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hu(t,s){return new Ja(t,s)}var as=Rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return g(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),en=as.extend({options:{fill:!0,radius:10},initialize:function(t,s){g(this,s),this._latlng=ae(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=ae(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return as.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,i=this._clickTolerance(),l=[t+i,s+i];this._pxBounds=new ve(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zu(t,s){return new en(t,s)}var ur=en.extend({initialize:function(t,s,i){if(typeof s=="number"&&(s=c({},i,{radius:s})),g(this,s),this._latlng=ae(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new je(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:as.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,i=this._map,l=i.options.crs;if(l.distance===Ce.distance){var d=Math.PI/180,p=this._mRadius/Ce.R/d,_=i.project([s+p,t]),C=i.project([s-p,t]),A=_.add(C).divideBy(2),q=i.unproject(A).lat,J=Math.acos((Math.cos(p*d)-Math.sin(s*d)*Math.sin(q*d))/(Math.cos(s*d)*Math.cos(q*d)))/d;(isNaN(J)||J===0)&&(J=p/Math.cos(Math.PI/180*s)),this._point=A.subtract(i.getPixelOrigin()),this._radius=isNaN(J)?0:A.x-i.project([q,t-J]).x,this._radiusY=A.y-_.y}else{var pe=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(pe).x}this._updateBounds()}});function qu(t,s,i){return new ur(t,s,i)}var Qt=as.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){g(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,i=null,l=ga,d,p,_=0,C=this._parts.length;_<C;_++)for(var A=this._parts[_],q=1,J=A.length;q<J;q++){d=A[q-1],p=A[q];var pe=l(t,d,p,!0);pe<s&&(s=pe,i=l(t,d,p))}return i&&(i.distance=Math.sqrt(s)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return so(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=ae(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new je,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ct(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],i=Ct(t),l=0,d=t.length;l<d;l++)i?(s[l]=ae(t[l]),this._bounds.extend(s[l])):s[l]=this._convertLatLngs(t[l]);return s},_project:function(){var t=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new K(t,t);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,i){var l=t[0]instanceof de,d=t.length,p,_;if(l){for(_=[],p=0;p<d;p++)_[p]=this._map.latLngToLayerPoint(t[p]),i.extend(_[p]);s.push(_)}else for(p=0;p<d;p++)this._projectLatlngs(t[p],s,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,i,l,d,p,_,C,A;for(i=0,d=0,p=this._rings.length;i<p;i++)for(A=this._rings[i],l=0,_=A.length;l<_-1;l++)C=eo(A[l],A[l+1],t,l,!0),C&&(s[d]=s[d]||[],s[d].push(C[0]),(C[1]!==A[l+1]||l===_-2)&&(s[d].push(C[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,i=0,l=t.length;i<l;i++)t[i]=Yi(t[i],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var i,l,d,p,_,C,A=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,p=this._parts.length;i<p;i++)for(C=this._parts[i],l=0,_=C.length,d=_-1;l<_;d=l++)if(!(!s&&l===0)&&Xi(t,C[d],C[l])<=A)return!0;return!1}});function Wu(t,s){return new Qt(t,s)}Qt._flat=to;var zs=Qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=Qt.prototype._convertLatLngs.call(this,t),i=s.length;return i>=2&&s[0]instanceof de&&s[0].equals(s[i-1])&&s.pop(),s},_setLatLngs:function(t){Qt.prototype._setLatLngs.call(this,t),Ct(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ct(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,i=new K(s,s);if(t=new ve(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,d=this._rings.length,p;l<d;l++)p=Ki(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,i,l,d,p,_,C,A,q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,A=this._parts.length;p<A;p++)for(i=this._parts[p],_=0,q=i.length,C=q-1;_<q;C=_++)l=i[_],d=i[C],l.y>t.y!=d.y>t.y&&t.x<(d.x-l.x)*(t.y-l.y)/(d.y-l.y)+l.x&&(s=!s);return s||Qt.prototype._containsPoint.call(this,t,!0)}});function Vu(t,s){return new zs(t,s)}var Yt=Kt.extend({initialize:function(t,s){g(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=M(t)?t:t.features,i,l,d;if(s){for(i=0,l=s.length;i<l;i++)d=s[i],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var _=tn(t,p);return _?(_.feature=nn(t),_.defaultOptions=_.options,this.resetStyle(_),p.onEachFeature&&p.onEachFeature(t,_),this.addLayer(_)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function tn(t,s){var i=t.type==="Feature"?t.geometry:t,l=i?i.coordinates:null,d=[],p=s&&s.pointToLayer,_=s&&s.coordsToLatLng||mr,C,A,q,J;if(!l&&!i)return null;switch(i.type){case"Point":return C=_(l),ro(p,t,C,s);case"MultiPoint":for(q=0,J=l.length;q<J;q++)C=_(l[q]),d.push(ro(p,t,C,s));return new Kt(d);case"LineString":case"MultiLineString":return A=sn(l,i.type==="LineString"?0:1,_),new Qt(A,s);case"Polygon":case"MultiPolygon":return A=sn(l,i.type==="Polygon"?1:2,_),new zs(A,s);case"GeometryCollection":for(q=0,J=i.geometries.length;q<J;q++){var pe=tn({geometry:i.geometries[q],type:"Feature",properties:t.properties},s);pe&&d.push(pe)}return new Kt(d);case"FeatureCollection":for(q=0,J=i.features.length;q<J;q++){var be=tn(i.features[q],s);be&&d.push(be)}return new Kt(d);default:throw new Error("Invalid GeoJSON object.")}}function ro(t,s,i,l){return t?t(s,i):new Ja(i,l&&l.markersInheritOptions&&l)}function mr(t){return new de(t[1],t[0],t[2])}function sn(t,s,i){for(var l=[],d=0,p=t.length,_;d<p;d++)_=s?sn(t[d],s-1,i):(i||mr)(t[d]),l.push(_);return l}function fr(t,s){return t=ae(t),t.alt!==void 0?[k(t.lng,s),k(t.lat,s),k(t.alt,s)]:[k(t.lng,s),k(t.lat,s)]}function an(t,s,i,l){for(var d=[],p=0,_=t.length;p<_;p++)d.push(s?an(t[p],Ct(t[p])?0:s-1,i,l):fr(t[p],l));return!s&&i&&d.length>0&&d.push(d[0].slice()),d}function Fs(t,s){return t.feature?c({},t.feature,{geometry:s}):nn(s)}function nn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var pr={toGeoJSON:function(t){return Fs(this,{type:"Point",coordinates:fr(this.getLatLng(),t)})}};Ja.include(pr),ur.include(pr),en.include(pr),Qt.include({toGeoJSON:function(t){var s=!Ct(this._latlngs),i=an(this._latlngs,s?1:0,!1,t);return Fs(this,{type:(s?"Multi":"")+"LineString",coordinates:i})}}),zs.include({toGeoJSON:function(t){var s=!Ct(this._latlngs),i=s&&!Ct(this._latlngs[0]),l=an(this._latlngs,i?2:s?1:0,!0,t);return s||(l=[l]),Fs(this,{type:(i?"Multi":"")+"Polygon",coordinates:l})}}),Is.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(i){s.push(i.toGeoJSON(t).geometry.coordinates)}),Fs(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var i=s==="GeometryCollection",l=[];return this.eachLayer(function(d){if(d.toGeoJSON){var p=d.toGeoJSON(t);if(i)l.push(p.geometry);else{var _=nn(p);_.type==="FeatureCollection"?l.push.apply(l,_.features):l.push(_)}}}),i?Fs(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function io(t,s){return new Yt(t,s)}var Uu=io,rn=Rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,i){this._url=t,this._bounds=Y(s),g(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&As(this._image),this},bringToBack:function(){return this._map&&Os(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=Y(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:Me("img");if(ye(s,"leaflet-image-layer"),this._zoomAnimated&&ye(s,"leaflet-zoom-animated"),this.options.className&&ye(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onload=m(this.fire,this,"load"),s.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fs(this._image,i,s)},_reset:function(){var t=this._image,s=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=s.getSize();Ke(t,s.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Gu=function(t,s,i){return new rn(t,s,i)},oo=rn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:Me("video");if(ye(s,"leaflet-image-layer"),this._zoomAnimated&&ye(s,"leaflet-zoom-animated"),this.options.className&&ye(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onloadeddata=m(this.fire,this,"load"),t){for(var i=s.getElementsByTagName("source"),l=[],d=0;d<i.length;d++)l.push(i[d].src);this._url=i.length>0?l:[s.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var _=Me("source");_.src=this._url[p],s.appendChild(_)}}});function Ku(t,s,i){return new oo(t,s,i)}var lo=rn.extend({_initImage:function(){var t=this._image=this._url;ye(t,"leaflet-image-layer"),this._zoomAnimated&&ye(t,"leaflet-zoom-animated"),this.options.className&&ye(t,this.options.className),t.onselectstart=y,t.onmousemove=y}});function Qu(t,s,i){return new lo(t,s,i)}var Zt=Rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof de||M(t))?(this._latlng=ae(t),g(this,s)):(g(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(m(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ae(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&As(this._container),this},bringToBack:function(){return this._map&&Os(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Kt){s=null;var i=this._source._layers;for(var l in i)if(i[l]._map){s=i[l];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=re(this.options.offset),i=this._getAnchor();this._zoomAnimated?Ke(this._container,t.add(i)):s=s.add(t).add(i);var l=this._containerBottom=-s.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=l+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(t,s,i,l){var d=s;return d instanceof t||(d=new t(l).setContent(s)),i&&d.setLatLng(i),d}}),Rt.include({_initOverlay:function(t,s,i,l){var d=i;return d instanceof t?(g(d,l),d._source=this):(d=s&&!l?s:new t(l,this),d.setContent(i)),d}});var on=Zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Zt.prototype.openOn.call(this,t)},onAdd:function(t){Zt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof as||this._source.on("preclick",xs))},onRemove:function(t){Zt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof as||this._source.off("preclick",xs))},getEvents:function(){var t=Zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=Me("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=Me("div",t+"-content-wrapper",s);if(this._contentNode=Me("div",t+"-content",i),pa(s),nr(this._contentNode),ge(s,"contextmenu",xs),this._tipContainer=Me("div",t+"-tip-container",s),this._tip=Me("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=Me("a",t+"-close-button",s);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',ge(l,"click",function(d){it(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),s.width=i+1+"px",s.whiteSpace="",s.height="";var l=t.offsetHeight,d=this.options.maxHeight,p="leaflet-popup-scrolled";d&&l>d?(s.height=d+"px",ye(t,p)):Ge(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Ke(this._container,s.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(ha(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+s,l=this._containerWidth,d=new K(this._containerLeft,-i-this._containerBottom);d._add(ps(this._container));var p=t.layerPointToContainerPoint(d),_=re(this.options.autoPanPadding),C=re(this.options.autoPanPaddingTopLeft||_),A=re(this.options.autoPanPaddingBottomRight||_),q=t.getSize(),J=0,pe=0;p.x+l+A.x>q.x&&(J=p.x+l-q.x+A.x),p.x-J-C.x<0&&(J=p.x-C.x),p.y+i+A.y>q.y&&(pe=p.y+i-q.y+A.y),p.y-pe-C.y<0&&(pe=p.y-C.y),(J||pe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([J,pe]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yu=function(t,s){return new on(t,s)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(t,s,i){return this._initOverlay(on,t,s,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Rt.include({bindPopup:function(t,s){return this._popup=this._initOverlay(on,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Kt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){gs(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof as)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ln=Zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Zt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Zt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Zt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,i,l=this._map,d=this._container,p=l.latLngToContainerPoint(l.getCenter()),_=l.layerPointToContainerPoint(t),C=this.options.direction,A=d.offsetWidth,q=d.offsetHeight,J=re(this.options.offset),pe=this._getAnchor();C==="top"?(s=A/2,i=q):C==="bottom"?(s=A/2,i=0):C==="center"?(s=A/2,i=q/2):C==="right"?(s=0,i=q/2):C==="left"?(s=A,i=q/2):_.x<p.x?(C="right",s=0,i=q/2):(C="left",s=A+(J.x+pe.x)*2,i=q/2),t=t.subtract(re(s,i,!0)).add(J).add(pe),Ge(d,"leaflet-tooltip-right"),Ge(d,"leaflet-tooltip-left"),Ge(d,"leaflet-tooltip-top"),Ge(d,"leaflet-tooltip-bottom"),ye(d,"leaflet-tooltip-"+C),Ke(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&kt(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xu=function(t,s){return new ln(t,s)};Se.include({openTooltip:function(t,s,i){return this._initOverlay(ln,t,s,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Rt.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ln,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[s](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Kt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(ge(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),ge(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,i,l;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(i),s=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(s)}});var co=Ds.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(Ua(s),s.appendChild(i.html)):s.innerHTML=i.html!==!1?i.html:"",i.bgPos){var l=re(i.bgPos);s.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Ju(t){return new co(t)}Ds.Default=va;var ya=Rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){g(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),qe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(As(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Os(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof K?t:new K(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,i=-t(-1/0,1/0),l=0,d=s.length,p;l<d;l++)p=s[l].style.zIndex,s[l]!==this._container&&p&&(i=t(i,+p));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){kt(this._container,this.options.opacity);var t=+new Date,s=!1,i=!1;for(var l in this._tiles){var d=this._tiles[l];if(!(!d.current||!d.loaded)){var p=Math.min(1,(t-d.loaded)/200);kt(d.el,p),p<1?s=!0:(d.active?i=!0:this._onOpaqueTile(d),d.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),s&&(V(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=s-Math.abs(t-i),this._onUpdateLevel(i)):(qe(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var l=this._levels[t],d=this._map;return l||(l=this._levels[t]={},l.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=s,l.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,d.getCenter(),d.getZoom()),y(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var t,s,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var l=s.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)qe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,i,l){var d=Math.floor(t/2),p=Math.floor(s/2),_=i-1,C=new K(+d,+p);C.z=+_;var A=this._tileCoordsToKey(C),q=this._tiles[A];return q&&q.active?(q.retain=!0,!0):(q&&q.loaded&&(q.retain=!0),_>l?this._retainParent(d,p,_,l):!1)},_retainChildren:function(t,s,i,l){for(var d=2*t;d<2*t+2;d++)for(var p=2*s;p<2*s+2;p++){var _=new K(d,p);_.z=i+1;var C=this._tileCoordsToKey(_),A=this._tiles[C];if(A&&A.active){A.retain=!0;continue}else A&&A.loaded&&(A.retain=!0);i+1<l&&this._retainChildren(d,p,i+1,l)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,i,l){var d=Math.round(s);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var p=this.options.updateWhenZooming&&d!==this._tileZoom;(!l||p)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,s)},_setZoomTransform:function(t,s,i){var l=this._map.getZoomScale(i,t.zoom),d=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(s,i)).round();he.any3d?fs(t.el,d,l):Ke(t.el,d)},_resetGrid:function(){var t=this._map,s=t.options.crs,i=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],l).x/i.x),Math.ceil(t.project([0,s.wrapLng[1]],l).x/i.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],l).y/i.x),Math.ceil(t.project([s.wrapLat[1],0],l).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,i=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),l=s.getZoomScale(i,this._tileZoom),d=s.project(t,this._tileZoom).floor(),p=s.getSize().divideBy(l*2);return new ve(d.subtract(p),d.add(p))},_update:function(t){var s=this._map;if(s){var i=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(l),p=d.getCenter(),_=[],C=this.options.keepBuffer,A=new ve(d.getBottomLeft().subtract([C,-C]),d.getTopRight().add([C,-C]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var q in this._tiles){var J=this._tiles[q].coords;(J.z!==this._tileZoom||!A.contains(new K(J.x,J.y)))&&(this._tiles[q].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var pe=d.min.y;pe<=d.max.y;pe++)for(var be=d.min.x;be<=d.max.x;be++){var pt=new K(be,pe);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var tt=this._tiles[this._tileCoordsToKey(pt)];tt?tt.current=!0:_.push(pt)}}if(_.sort(function(bt,Bs){return bt.distanceTo(p)-Bs.distanceTo(p)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var St=document.createDocumentFragment();for(be=0;be<_.length;be++)this._addTile(_[be],St);this._level.el.appendChild(St)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var i=this._globalTileRange;if(!s.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!s.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return Y(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,i=this.getTileSize(),l=t.scaleBy(i),d=l.add(i),p=s.unproject(l,t.z),_=s.unproject(d,t.z);return[p,_]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),i=new je(s[0],s[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),i=new K(+s[0],+s[1]);return i.z=+s[2],i},_removeTile:function(t){var s=this._tiles[t];s&&(qe(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ye(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=y,t.onmousemove=y,he.ielt9&&this.options.opacity<1&&kt(t,this.options.opacity)},_addTile:function(t,s){var i=this._getTilePos(t),l=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&B(m(this._tileReady,this,t,null,d)),Ke(d,i),this._tiles[l]={el:d,coords:t,current:!0},s.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,s,i){s&&this.fire("tileerror",{error:s,tile:i,coords:t});var l=this._tileCoordsToKey(t);i=this._tiles[l],i&&(i.loaded=+new Date,this._map._fadeAnimated?(kt(i.el,0),V(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),s||(ye(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new K(this._wrapX?b(t.x,this._wrapX):t.x,this._wrapY?b(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new ve(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function em(t){return new ya(t)}var $s=ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=g(this,s),s.detectRetina&&he.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var i=document.createElement("img");return ge(i,"load",m(this._tileOnLoad,this,s,i)),ge(i,"error",m(this._tileOnError,this,s,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var s={r:he.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=i),s["-y"]=i}return j(this._url,c(s,this.options))},_tileOnLoad:function(t,s){he.ielt9?setTimeout(m(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,i){var l=this.options.errorTileUrl;l&&s.getAttribute("src")!==l&&(s.src=l),t(i,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,i=this.options.zoomReverse,l=this.options.zoomOffset;return i&&(t=s-t),t+l},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=y,s.onerror=y,!s.complete)){s.src=R;var i=this._tiles[t].coords;qe(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:i})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",R),ya.prototype._removeTile.call(this,t)},_tileReady:function(t,s,i){if(!(!this._map||i&&i.getAttribute("src")===R))return ya.prototype._tileReady.call(this,t,s,i)}});function ho(t,s){return new $s(t,s)}var uo=$s.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var i=c({},this.defaultWmsParams);for(var l in s)l in this.options||(i[l]=s[l]);s=g(this,s);var d=s.detectRetina&&he.retina?2:1,p=this.getTileSize();i.width=p.x*d,i.height=p.y*d,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,$s.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),i=this._crs,l=Pe(i.project(s[0]),i.project(s[1])),d=l.min,p=l.max,_=(this._wmsVersion>=1.3&&this._crs===ao?[d.y,d.x,p.y,p.x]:[d.x,d.y,p.x,p.y]).join(","),C=$s.prototype.getTileUrl.call(this,t);return C+T(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(t,s){return c(this.wmsParams,t),s||this.redraw(),this}});function tm(t,s){return new uo(t,s)}$s.WMS=uo,ho.wms=tm;var Xt=Rt.extend({options:{padding:.1},initialize:function(t){g(this,t),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var i=this._map.getZoomScale(s,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,s),p=l.multiplyBy(-i).add(d).subtract(this._map._getNewPixelOrigin(t,s));he.any3d?fs(this._container,p,i):Ke(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),i=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new ve(i,i.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mo=Xt.extend({options:{tolerance:0},getEvents:function(){var t=Xt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ge(t,"mousemove",this._onMouseMove,this),ge(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ge(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,qe(this._container),$e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xt.prototype._update.call(this);var t=this._bounds,s=this._container,i=t.getSize(),l=he.retina?2:1;Ke(s,t.min),s.width=l*i.x,s.height=l*i.y,s.style.width=i.x+"px",s.style.height=i.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Xt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[f(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,i=s.next,l=s.prev;i?i.prev=l:this._drawLast=l,l?l.next=i:this._drawFirst=i,delete t._order,delete this._layers[f(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),i=[],l,d;for(d=0;d<s.length;d++){if(l=Number(s[d]),isNaN(l))return;i.push(l)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var i=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var i,l,d,p,_=t._parts,C=_.length,A=this._ctx;if(C){for(A.beginPath(),i=0;i<C;i++){for(l=0,d=_[i].length;l<d;l++)p=_[i][l],A[l?"lineTo":"moveTo"](p.x,p.y);s&&A.closePath()}this._fillStroke(A,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,i=this._ctx,l=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||l)/l;d!==1&&(i.save(),i.scale(1,d)),i.beginPath(),i.arc(s.x,s.y/d,l,0,Math.PI*2,!1),d!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,s){var i=s.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),i,l,d=this._drawFirst;d;d=d.next)i=d.layer,i.options.interactive&&i._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(l=i);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var i,l,d=this._drawFirst;d;d=d.next)i=d.layer,i.options.interactive&&i._containsPoint(s)&&(l=i);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(ye(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,i){this._map._fireDOMEvent(s,i||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var i=s.next,l=s.prev;if(i)i.prev=l;else return;l?l.next=i:i&&(this._drawFirst=i),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var i=s.next,l=s.prev;if(l)l.next=i;else return;i?i.prev=l:l&&(this._drawLast=l),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function fo(t){return he.canvas?new mo(t):null}var ba=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),sm={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=ba("shape");ye(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=ba("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;qe(s),t.removeInteractiveTarget(s),delete this._layers[f(t)]},_updateStyle:function(t){var s=t._stroke,i=t._fill,l=t.options,d=t._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(s||(s=t._stroke=ba("stroke")),d.appendChild(s),s.weight=l.weight+"px",s.color=l.color,s.opacity=l.opacity,l.dashArray?s.dashStyle=M(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=l.lineCap.replace("butt","flat"),s.joinstyle=l.lineJoin):s&&(d.removeChild(s),t._stroke=null),l.fill?(i||(i=t._fill=ba("fill")),d.appendChild(i),i.color=l.fillColor||l.color,i.opacity=l.fillOpacity):i&&(d.removeChild(i),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),i=Math.round(t._radius),l=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+i+","+l+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){As(t._container)},_bringToBack:function(t){Os(t._container)}},cn=he.vml?ba:Je,wa=Xt.extend({_initContainer:function(){this._container=cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),$e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xt.prototype._update.call(this);var t=this._bounds,s=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,i.setAttribute("width",s.x),i.setAttribute("height",s.y)),Ke(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=cn("path");t.options.className&&ye(s,t.options.className),t.options.interactive&&ye(s,"leaflet-interactive"),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){qe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[f(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,i=t.options;s&&(i.stroke?(s.setAttribute("stroke",i.color),s.setAttribute("stroke-opacity",i.opacity),s.setAttribute("stroke-width",i.weight),s.setAttribute("stroke-linecap",i.lineCap),s.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?s.setAttribute("stroke-dasharray",i.dashArray):s.removeAttribute("stroke-dasharray"),i.dashOffset?s.setAttribute("stroke-dashoffset",i.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),i.fill?(s.setAttribute("fill",i.fillColor||i.color),s.setAttribute("fill-opacity",i.fillOpacity),s.setAttribute("fill-rule",i.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,dt(t._parts,s))},_updateCircle:function(t){var s=t._point,i=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||i,d="a"+i+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(s.x-i)+","+s.y+d+i*2+",0 "+d+-i*2+",0 ";this._setPath(t,p)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){As(t._path)},_bringToBack:function(t){Os(t._path)}});he.vml&&wa.include(sm);function po(t){return he.svg||he.vml?new wa(t):null}Se.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&fo(t)||po(t)}});var xo=zs.extend({initialize:function(t,s){zs.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=Y(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function am(t,s){return new xo(t,s)}wa.create=cn,wa.pointsToPath=dt,Yt.geometryToLayer=tn,Yt.coordsToLatLng=mr,Yt.coordsToLatLngs=sn,Yt.latLngToCoords=fr,Yt.latLngsToCoords=an,Yt.getFeature=Fs,Yt.asFeature=nn,Se.mergeOptions({boxZoom:!0});var go=Ht.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ua(),Qn(),this._startPoint=this._map.mouseEventToContainerPoint(t),ge(document,{contextmenu:gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new ve(this._point,this._startPoint),i=s.getSize();Ke(this._box,s.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(qe(this._box),Ge(this._container,"leaflet-crosshair")),ma(),Yn(),$e(document,{contextmenu:gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var s=new je(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",go),Se.mergeOptions({doubleClickZoom:!0});var vo=Ht.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,i=s.getZoom(),l=s.options.zoomDelta,d=t.originalEvent.shiftKey?i-l:i+l;s.options.doubleClickZoom==="center"?s.setZoom(d):s.setZoomAround(t.containerPoint,d)}});Se.addInitHook("addHandler","doubleClickZoom",vo),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yo=Ht.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ss(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ge(this._map._container,"leaflet-grab"),Ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=Y(this._map.options.maxBounds);this._offsetLimit=Pe(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),i=this._initialWorldOffset,l=this._draggable._newPos.x,d=(l-s+i)%t+s-i,p=(l+s+i)%t-s-i,_=Math.abs(d+i)<Math.abs(p+i)?d:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(t){var s=this._map,i=s.options,l=!i.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),l)s.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,_=i.easeLinearity,C=d.multiplyBy(_/p),A=C.distanceTo([0,0]),q=Math.min(i.inertiaMaxSpeed,A),J=C.multiplyBy(q/A),pe=q/(i.inertiaDeceleration*_),be=J.multiplyBy(-pe/2).round();!be.x&&!be.y?s.fire("moveend"):(be=s._limitOffset(be,s.options.maxBounds),B(function(){s.panBy(be,{duration:pe,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",yo),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=Ht.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ge(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,i=t.scrollTop||s.scrollTop,l=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(l,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},i=this.keyCodes,l,d;for(l=0,d=i.left.length;l<d;l++)s[i.left[l]]=[-1*t,0];for(l=0,d=i.right.length;l<d;l++)s[i.right[l]]=[t,0];for(l=0,d=i.down.length;l<d;l++)s[i.down[l]]=[0,t];for(l=0,d=i.up.length;l<d;l++)s[i.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},i=this.keyCodes,l,d;for(l=0,d=i.zoomIn.length;l<d;l++)s[i.zoomIn[l]]=t;for(l=0,d=i.zoomOut.length;l<d;l++)s[i.zoomOut[l]]=-t},_addHooks:function(){ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,i=this._map,l;if(s in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(l=this._panKeys[s],t.shiftKey&&(l=re(l).multiplyBy(3)),i.options.maxBounds&&(l=i._limitOffset(re(l),i.options.maxBounds)),i.options.worldCopyJump){var d=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(l)));i.panTo(d)}else i.panBy(l)}else if(s in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;gs(t)}}});Se.addInitHook("addHandler","keyboard",bo),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wo=Ht.extend({addHooks:function(){ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=qi(t),i=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),l),gs(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=i?Math.ceil(d/i)*i:d,_=t._limitZoom(s+(this._delta>0?p:-p))-s;this._delta=0,this._startTime=null,_&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+_):t.setZoomAround(this._lastMousePos,s+_))}});Se.addInitHook("addHandler","scrollWheelZoom",wo);var nm=600;Se.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var jo=Ht.extend({addHooks:function(){ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new K(s.clientX,s.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(ge(document,"touchend",it),ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),nm),ge(document,"touchend touchcancel contextmenu",this._cancel,this),ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){$e(document,"touchend",it),$e(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new K(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});i._simulated=!0,s.target.dispatchEvent(i)}});Se.addInitHook("addHandler","tapHold",jo),Se.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var _o=Ht.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var i=s.mouseEventToContainerPoint(t.touches[0]),l=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(i.add(l)._divideBy(2))),this._startDist=i.distanceTo(l),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ge(document,"touchmove",this._onTouchMove,this),ge(document,"touchend touchcancel",this._onTouchEnd,this),it(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,i=s.mouseEventToContainerPoint(t.touches[0]),l=s.mouseEventToContainerPoint(t.touches[1]),d=i.distanceTo(l)/this._startDist;if(this._zoom=s.getScaleZoom(d,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&d<1||this._zoom>s.getMaxZoom()&&d>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var p=i._add(l)._divideBy(2)._subtract(this._centerPoint);if(d===1&&p.x===0&&p.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var _=m(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(_,this,!0),it(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",_o),Se.BoxZoom=go,Se.DoubleClickZoom=vo,Se.Drag=yo,Se.Keyboard=bo,Se.ScrollWheelZoom=wo,Se.TapHold=jo,Se.TouchZoom=_o,r.Bounds=ve,r.Browser=he,r.CRS=ne,r.Canvas=mo,r.Circle=ur,r.CircleMarker=en,r.Class=S,r.Control=Lt,r.DivIcon=co,r.DivOverlay=Zt,r.DomEvent=ju,r.DomUtil=bu,r.Draggable=ss,r.Evented=ce,r.FeatureGroup=Kt,r.GeoJSON=Yt,r.GridLayer=ya,r.Handler=Ht,r.Icon=Ds,r.ImageOverlay=rn,r.LatLng=de,r.LatLngBounds=je,r.Layer=Rt,r.LayerGroup=Is,r.LineUtil=Ou,r.Map=Se,r.Marker=Ja,r.Mixin=Tu,r.Path=as,r.Point=K,r.PolyUtil=Eu,r.Polygon=zs,r.Polyline=Qt,r.Popup=on,r.PosAnimation=Wi,r.Projection=Iu,r.Rectangle=xo,r.Renderer=Xt,r.SVG=wa,r.SVGOverlay=lo,r.TileLayer=$s,r.Tooltip=ln,r.Transformation=$,r.Util=P,r.VideoOverlay=oo,r.bind=m,r.bounds=Pe,r.canvas=fo,r.circle=qu,r.circleMarker=Zu,r.control=xa,r.divIcon=Ju,r.extend=c,r.featureGroup=$u,r.geoJSON=io,r.geoJson=Uu,r.gridLayer=em,r.icon=Bu,r.imageOverlay=Gu,r.latLng=ae,r.latLngBounds=Y,r.layerGroup=Fu,r.map=_u,r.marker=Hu,r.point=re,r.polygon=Vu,r.polyline=Wu,r.popup=Yu,r.rectangle=am,r.setOptions=g,r.stamp=f,r.svg=po,r.svgOverlay=Qu,r.tileLayer=ho,r.tooltip=Xu,r.transformation=te,r.version=o,r.videoOverlay=Ku;var rm=window.L;r.noConflict=function(){return window.L=rm,this},window.L=r})}(_a,_a.exports)),_a.exports}var Fa=P0();const rl=Im(Fa);function wi(a,n,r){return Object.freeze({instance:a,context:n,container:r})}function ji(a,n){return n==null?function(o,c){const u=h.useRef();return u.current||(u.current=a(o,c)),u}:function(o,c){const u=h.useRef();u.current||(u.current=a(o,c));const m=h.useRef(o),{instance:x}=u.current;return h.useEffect(function(){m.current!==o&&(n(x,o,m.current),m.current=o)},[x,o,c]),u}}function T0(a,n){h.useEffect(function(){return(n.layerContainer??n.map).addLayer(a.instance),function(){n.layerContainer?.removeLayer(a.instance),n.map.removeLayer(a.instance)}},[n,a])}function sh(a){return function(r){const o=yi(),c=a(bi(r,o),o);return Xd(o.map,r.attribution),th(c.current,r.eventHandlers),T0(c.current,o),c}}function E0(a,n){const r=ji(a,n),o=sh(r);return _0(o)}function M0(a,n){const r=ji(a),o=C0(r,n);return N0(o)}function L0(a,n){const r=ji(a,n),o=sh(r);return k0(o)}function R0(a,n,r){const{opacity:o,zIndex:c}=n;o!=null&&o!==r.opacity&&a.setOpacity(o),c!=null&&c!==r.zIndex&&a.setZIndex(c)}function A0(){return yi().map}function Br(){return Br=Object.assign||function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])}return a},Br.apply(this,arguments)}function O0({bounds:a,boundsOptions:n,center:r,children:o,className:c,id:u,placeholder:m,style:x,whenReady:f,zoom:v,...b},y){const[k]=h.useState({className:c,id:u,style:x}),[w,N]=h.useState(null);h.useImperativeHandle(y,()=>w?.map??null,[w]);const g=h.useCallback(E=>{if(E!==null&&w===null){const j=new Fa.Map(E,b);r!=null&&v!=null?j.setView(r,v):a!=null&&j.fitBounds(a,n),f!=null&&j.whenReady(f),N(w0(j))}},[]);h.useEffect(()=>()=>{w?.map.remove()},[w]);const T=w?Cr.createElement(eh,{value:w},o):m??null;return Cr.createElement("div",Br({},k,{ref:g}),T)}const I0=h.forwardRef(O0),il=E0(function({position:n,...r},o){const c=new Fa.Marker(n,r);return wi(c,j0(o,{overlayContainer:c}))},function(n,r,o){r.position!==o.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==o.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==o.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==o.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),D0=M0(function(n,r){const o=new Fa.Popup(n,r.overlayContainer);return wi(o,r)},function(n,r,{position:o},c){h.useEffect(function(){const{instance:m}=n;function x(v){v.popup===m&&(m.update(),c(!0))}function f(v){v.popup===m&&c(!1)}return r.map.on({popupopen:x,popupclose:f}),r.overlayContainer==null?(o!=null&&m.setLatLng(o),m.openOn(r.map)):r.overlayContainer.bindPopup(m),function(){r.map.off({popupopen:x,popupclose:f}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(m)}},[n,r,c,o])}),z0=L0(function({url:n,...r},o){const c=new Fa.TileLayer(n,bi(r,o));return wi(c,o)},function(n,r,o){R0(n,r,o);const{url:c}=r;c!=null&&c!==o.url&&n.setUrl(c)});function F0({userLocation:a}){const n=A0();return h.useEffect(()=>{n&&a&&(console.log("🗺️ Centralizando mapa em:",a),n.setView(a,15))},[n,a]),null}function ol(){const[a,n]=h.useState(null),[r,o]=h.useState(!0),[c,u]=h.useState(5),[m,x]=h.useState(!1),[f,v]=h.useState(null),[b,y]=h.useState(!1),[k,w]=h.useState(!1),[N,g]=h.useState(!1),[T,E]=h.useState(!1),[j,M]=h.useState(null),[I,R]=h.useState(!1),{theme:Z,setTheme:O}=Xl(),{logout:U,user:z}=vt(),{toast:X}=nt(),[B,V]=h.useState(0),[P,S]=h.useState(!1),[W,G]=h.useState(null);h.useEffect(()=>{E(!1)},[z?.profileImage]),h.useEffect(()=>{const H="geolocation"in navigator,ie=window.location.protocol==="https:"||window.location.hostname==="localhost";g(H),console.log("📍 Geolocalização suportada:",H),console.log("📍 Contexto seguro (HTTPS/localhost):",ie),console.log("📍 Protocolo atual:",window.location.protocol),console.log("📍 Hostname atual:",window.location.hostname)},[]),h.useEffect(()=>{console.log("📍 Localização do usuário atualizada:",f)},[f]),h.useEffect(()=>{N&&!f&&!b&&(console.log("📍 Ativando geolocalização automática..."),Ls())},[N,f,b]);const ce={monthlyEarnings:0,totalServices:0,averageRating:0,responseTime:"0min",monthlyGrowth:0,servicesThisWeek:0},[K,se]=h.useState([]),[re,ve]=h.useState(!1),[Pe,je]=h.useState(0),[Y,de]=h.useState(""),[ae,ne]=h.useState({}),[Ce,Q]=h.useState(null),[F,$]=h.useState([]),te=[],_e=[],Ne=0,Je=H=>{n(H),window.location.href=`/service-offer/${H}`},dt=H=>{M(H),R(!0)},Dt=()=>{R(!1),M(null)},Es=()=>{M(null)},Bn=()=>{U(),window.location.href="/"},$a=async H=>{try{const ie=localStorage.getItem("token");if(!ie){X({title:"Erro",description:"Token de autenticação não encontrado.",variant:"destructive"});return}(await fetch(`${fe()}/api/provider/availability`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify({available:H})})).ok?(o(H),X({title:H?"Disponível":"Indisponível",description:H?"Você está agora disponível para receber solicitações de serviço.":"Você está agora indisponível. Os clientes não verão seu perfil."})):X({title:"Erro",description:"Não foi possível atualizar sua disponibilidade.",variant:"destructive"})}catch(ie){console.error("Error updating availability:",ie),X({title:"Erro",description:"Erro ao conectar com o servidor.",variant:"destructive"})}},oa=H=>{console.log(`Marking notification ${H} as read`)},la=(H,ie,xe,ke)=>{const Ze=(xe-H)*Math.PI/180,Ee=(ke-ie)*Math.PI/180,Be=Math.sin(Ze/2)*Math.sin(Ze/2)+Math.cos(H*Math.PI/180)*Math.cos(xe*Math.PI/180)*Math.sin(Ee/2)*Math.sin(Ee/2);return 6371*(2*Math.atan2(Math.sqrt(Be),Math.sqrt(1-Be)))},Ms={"rua das flores, 150, vila madalena, são paulo, sp":[-23.55,-46.68],"av. albert einstein, 627, morumbi, são paulo, sp":[-23.62,-46.72],"rua harmonia, 456, vila madalena, são paulo, sp":[-23.55,-46.68],"rua dos pinheiros, 789, pinheiros, são paulo, sp":[-23.5671,-46.7034],"rua dona adma jafet, 91, bela vista, são paulo, sp":[-23.56,-46.65],"av. paulista, 1000, bela vista, são paulo, sp":[-23.56,-46.66],"av. paulista, são paulo, sp":[-23.56,-46.66],"rua augusta, jardins, são paulo, sp":[-23.56,-46.66],"rua harmonia, vila madalena, são paulo, sp":[-23.55,-46.68],"rua das flores, vila madalena, são paulo, sp":[-23.55,-46.68],"rua dos pinheiros, pinheiros, são paulo, sp":[-23.5671,-46.7034],"rua dona adma jafet, bela vista, são paulo, sp":[-23.56,-46.65],"av. brigadeiro faria lima, são paulo, sp":[-23.59,-46.68],"shopping morumbi, são paulo, sp":[-23.62,-46.72],"hospital albert einstein, são paulo, sp":[-23.62,-46.72],"hospital sírio-libanês, são paulo, sp":[-23.56,-46.65],"vila madalena, são paulo, sp":[-23.55,-46.68],"jardins, são paulo, sp":[-23.56,-46.66],"morumbi, são paulo, sp":[-23.62,-46.72],"itaim bibi, são paulo, sp":[-23.6,-46.68],"moema, são paulo, sp":[-23.6,-46.66],"pinheiros, são paulo, sp":[-23.5671,-46.7034],"vila mariana, são paulo, sp":[-23.59,-46.63],"centro, são paulo, sp":[-23.5505,-46.6333],"sé, são paulo, sp":[-23.5505,-46.6333],"republica, são paulo, sp":[-23.54,-46.64],"bela vista, são paulo, sp":[-23.56,-46.65],"consolação, são paulo, sp":[-23.56,-46.66],"liberdade, são paulo, sp":[-23.56,-46.64],"bom retiro, são paulo, sp":[-23.53,-46.64],"brás, são paulo, sp":[-23.54,-46.62],"cambuci, são paulo, sp":[-23.57,-46.62],"tatuapé, são paulo, sp":[-23.54,-46.57],"vila prudente, são paulo, sp":[-23.58,-46.58],"mooca, são paulo, sp":[-23.55,-46.6],"belenzinho, são paulo, sp":[-23.54,-46.62],"penha, são paulo, sp":[-23.52,-46.54],"santana, são paulo, sp":[-23.5,-46.64],"tucuruvi, são paulo, sp":[-23.48,-46.62],"casa verde, são paulo, sp":[-23.51,-46.66],"vila guilherme, são paulo, sp":[-23.52,-46.61],"lapa, são paulo, sp":[-23.52,-46.7],"perdizes, são paulo, sp":[-23.53,-46.68],"vila pompeia, são paulo, sp":[-23.54,-46.68],"butantã, são paulo, sp":[-23.57,-46.72],"jabaquara, são paulo, sp":[-23.65,-46.64],"santo amaro, são paulo, sp":[-23.65,-46.72],"campo belo, são paulo, sp":[-23.61,-46.68],"vila olímpia, são paulo, sp":[-23.6,-46.69],"brooklin, são paulo, sp":[-23.61,-46.7],"vila andrade, são paulo, sp":[-23.63,-46.72],"jardim paulista, são paulo, sp":[-23.57,-46.67],"jardim europa, são paulo, sp":[-23.57,-46.68],"jardim paulistano, são paulo, sp":[-23.58,-46.68],"alto de pinheiros, são paulo, sp":[-23.57,-46.71],"vila leopoldina, são paulo, sp":[-23.53,-46.73],"barra funda, são paulo, sp":[-23.52,-46.66],"campos elíseos, são paulo, sp":[-23.54,-46.65],"santa cecília, são paulo, sp":[-23.54,-46.66],"vila buarque, são paulo, sp":[-23.54,-46.65],"higienópolis, são paulo, sp":[-23.55,-46.66],"pacifica, são paulo, sp":[-23.55,-46.67],"vila romana, são paulo, sp":[-23.54,-46.69],"sumaré, são paulo, sp":[-23.55,-46.67],"agua branca, são paulo, sp":[-23.52,-46.68],"vila nova cachoeirinha, são paulo, sp":[-23.49,-46.67],"limão, são paulo, sp":[-23.5,-46.65],"brasilândia, são paulo, sp":[-23.47,-46.64],"freguesia do ó, são paulo, sp":[-23.52,-46.7],"rua leão xiii, 431, serrinha, fortaleza, ce":[-3.7319,-38.5267],"rua leão xiii, serrinha, fortaleza, ce":[-3.7319,-38.5267],"leão xiii, serrinha, fortaleza, ce":[-3.7319,-38.5267],"serrinha, fortaleza, ce":[-3.7319,-38.5267],"avenida beira mar, fortaleza, ce":[-3.7319,-38.5267],"praça do ferreira, fortaleza, ce":[-3.7319,-38.5267],"centro, fortaleza, ce":[-3.7319,-38.5267],"aldeota, fortaleza, ce":[-3.7319,-38.5267],"meireles, fortaleza, ce":[-3.7319,-38.5267],"dionísio torres, fortaleza, ce":[-3.7319,-38.5267],"papicu, fortaleza, ce":[-3.7319,-38.5267],"cocó, fortaleza, ce":[-3.7319,-38.5267],"varjota, fortaleza, ce":[-3.7319,-38.5267],"montese, fortaleza, ce":[-3.7319,-38.5267],"fátima, fortaleza, ce":[-3.7319,-38.5267],"joaquim távora, fortaleza, ce":[-3.7319,-38.5267],"benfica, fortaleza, ce":[-3.7319,-38.5267],"damas, fortaleza, ce":[-3.7319,-38.5267],"são gerardo, fortaleza, ce":[-3.7319,-38.5267],"parangaba, fortaleza, ce":[-3.7319,-38.5267],"messejana, fortaleza, ce":[-3.7319,-38.5267],"conjunto ceará, fortaleza, ce":[-3.7319,-38.5267],"sabiguaba, fortaleza, ce":[-3.7319,-38.5267],"copacabana, rio de janeiro, rj":[-22.9707,-43.1824],"ipanema, rio de janeiro, rj":[-22.9844,-43.2034],"centro, belo horizonte, mg":[-19.9167,-43.9345],"centro, salvador, ba":[-12.9714,-38.5011],"centro, recife, pe":[-8.0476,-34.877],"centro, brasília, df":[-15.7942,-47.8822],"centro, curitiba, pr":[-25.4289,-49.2671],"centro, porto alegre, rs":[-30.0346,-51.2177],"centro, belém, pa":[-1.4554,-48.4898],"centro, manaus, am":[-3.119,-60.0217]},zt=new Map,Hn=async H=>{try{if(zt.has(H)){const ze=zt.get(H);return console.log(`✅ Coordenadas encontradas no cache: "${H}" → [${ze[0]}, ${ze[1]}]`),ze}const ie=H.toLowerCase().trim().replace(/\s+/g," ");for(const[ze,Ue]of Object.entries(Ms))if(ie===ze)return zt.set(H,Ue),console.log(`✅ Busca exata no mapeamento local: "${H}" → [${Ue[0]}, ${Ue[1]}]`),Ue;const xe=["rua leão xiii","serrinha","fortaleza"];for(const ze of xe)if(ie.includes(ze)){for(const[Ue,yt]of Object.entries(Ms))if(Ue.includes(ze))return zt.set(H,yt),console.log(`✅ Busca por palavra-chave "${ze}": "${H}" → [${yt[0]}, ${yt[1]}]`),yt}let ke=null;for(const[ze,Ue]of Object.entries(Ms)){const yt=ca(ie,ze);yt>.6&&(!ke||yt>ke.score)&&(ke={key:ze,coords:Ue,score:yt})}if(ke)return zt.set(H,ke.coords),console.log(`✅ Busca parcial no mapeamento local: "${H}" → "${ke.key}" (score: ${ke.score.toFixed(2)}) → [${ke.coords[0]}, ${ke.coords[1]}]`),ke.coords;const Ve=ie.match(/([^,]+),\s*([a-z]{2})/);let Ze="",Ee="";Ve&&(Ze=Ve[1].trim(),Ee=Ve[2].trim().toUpperCase());const Be=[];Ze&&Ee?Be.push(ie+", "+Ze+", "+Ee+", brasil",ie+", "+Ze+", "+Ee,ie+", "+Ee+", brasil",ie+", brasil"):Be.push(ie+", brasil",ie);for(const ze of Be)try{console.log(`🌐 Tentando geocoding externo para: "${ze}"`);const Ue=new AbortController,yt=setTimeout(()=>Ue.abort(),5e3),He=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ze)}&limit=3&countrycodes=br&addressdetails=1&accept-language=pt-BR`,{signal:Ue.signal});if(clearTimeout(yt),He.ok){const Ft=await He.json();if(Ft.length>0){const rt=Ft.reduce((ut,Wa)=>{const Zn=parseFloat(Wa.importance||0),qn=parseFloat(ut.importance||0);return Zn>qn?Wa:ut}),ht=parseFloat(rt.lat),ft=parseFloat(rt.lon);if(Ba(ht,ft)){const ut=[ht,ft];return zt.set(H,ut),console.log(`✅ Geocoding externo bem-sucedido para "${H}": [${ht}, ${ft}] (relevância: ${rt.importance})`),ut}else console.log(`⚠️ Coordenadas inválidas para "${H}": [${ht}, ${ft}]`)}}}catch(Ue){Ue.name==="AbortError"?console.warn(`⏰ Timeout na tentativa "${ze}"`):console.warn(`❌ Erro na tentativa "${ze}":`,Ue)}const De=Ha(ie,Ze,Ee);return zt.set(H,De),console.log(`🔄 Usando fallback inteligente para "${H}": [${De[0].toFixed(6)}, ${De[1].toFixed(6)}]`),De}catch(ie){console.error("Erro geral no geocoding:",ie);const xe=[-15.7942,-47.8822];return zt.set(H,xe),console.log(`🔄 Fallback final para "${H}": centro do Brasil`),xe}},ca=(H,ie)=>{const xe=H.split(" ").filter(De=>De.length>2),ke=ie.split(" ").filter(De=>De.length>2);if(xe.length===0||ke.length===0)return 0;const Ze=["rua","avenida","fortaleza","serrinha","leão","xiii"].some(De=>H.includes(De)&&ie.includes(De));let Be=xe.filter(De=>ke.some(ze=>ze.includes(De)||De.includes(ze))).length/Math.max(xe.length,ke.length);return Ze&&(Be+=.3),Math.min(Be,1)},Ba=(H,ie)=>H>=-34&&H<=6&&ie>=-74&&ie<=-34,Ha=(H,ie,xe)=>{const ke={"são paulo":[-23.5505,-46.6333],sp:[-23.5505,-46.6333],fortaleza:[-3.7319,-38.5267],ce:[-3.7319,-38.5267],serrinha:[-3.7319,-38.5267],"rio de janeiro":[-22.9068,-43.1729],rj:[-22.9068,-43.1729],"belo horizonte":[-19.9167,-43.9345],mg:[-19.9167,-43.9345],salvador:[-12.9714,-38.5011],ba:[-12.9714,-38.5011],recife:[-8.0476,-34.877],pe:[-8.0476,-34.877],brasília:[-15.7942,-47.8822],df:[-15.7942,-47.8822],curitiba:[-25.4289,-49.2671],pr:[-25.4289,-49.2671],"porto alegre":[-30.0346,-51.2177],rs:[-30.0346,-51.2177],belém:[-1.4554,-48.4898],pa:[-1.4554,-48.4898],manaus:[-3.119,-60.0217],am:[-3.119,-60.0217]};if(H.includes("fortaleza")||H.includes("ce")||H.includes("serrinha")||ie.includes("fortaleza")||ie.includes("ce")||ie.includes("serrinha")||xe.includes("CE"))return console.log(`🎯 Detecção específica de Fortaleza para: "${H}"`),[-3.7319,-38.5267];for(const[Be,De]of Object.entries(ke))if(H.includes(Be)||ie.includes(Be)||xe.includes(Be))return De;const Ve=H.split("").reduce((Be,De)=>(Be=(Be<<5)-Be+De.charCodeAt(0),Be&Be),0),Ze=Math.abs(Ve)%2e3/1e4-.1,Ee=Math.abs(Ve>>10)%2e3/1e4-.1;return[-15.7942+Ze,-47.8822+Ee]},Za=async()=>{if(console.log("🚀 Iniciando busca de solicitações..."),console.log("👤 Usuário:",z),!z){console.log("❌ Usuário não autenticado");return}ve(!0),je(0),de("Iniciando busca de solicitações..."),se([]),ne({});try{const H=localStorage.getItem("token");if(console.log("🔑 Token encontrado:",!!H),!H){X({title:"Erro de Autenticação",description:"Token de autenticação não encontrado. Faça login novamente.",variant:"destructive"}),ve(!1);return}const ie=["fisioterapeuta","acompanhante_hospitalar","tecnico_enfermagem"],xe=[];let ke=0;console.log("🌐 URL da API:",fe()),console.log("🔑 Token presente:",!!H);const Ve=ie.map(async He=>{const Ft=`${fe()}/api/service-requests/category/${He}`;console.log(`📡 Buscando solicitações para categoria: ${He}`),console.log(`🔗 URL completa: ${Ft}`);try{const rt=await fetch(Ft,{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(console.log(`📊 Resposta para ${He}:`,rt.status,rt.statusText),rt.ok){const ht=await rt.json();return console.log(`✅ Solicitações encontradas para ${He}:`,ht),console.log(`📈 Quantidade de solicitações para ${He}:`,ht.length),ke+=ht.length,ht}else{const ht=await rt.text();return console.error(`❌ Erro na API para ${He}:`,ht),console.error(`Status: ${rt.status}, StatusText: ${rt.statusText}`),[]}}catch(rt){return console.error(`💥 Erro na requisição para ${He}:`,rt),[]}});if(je(30),de("Buscando solicitações das categorias..."),(await Promise.all(Ve)).forEach(He=>xe.push(...He)),console.log("📋 Total de solicitações encontradas:",xe.length),xe.length===0){ve(!1),X({title:"Nenhuma solicitação encontrada",description:"Não há solicitações disponíveis no momento. Tente novamente mais tarde."});return}const Ee=xe.filter(He=>He.status==="open").sort((He,Ft)=>new Date(Ft.createdAt).getTime()-new Date(He.createdAt).getTime());console.log("🔓 Solicitações abertas encontradas:",Ee.length),je(50),de(`Processando ${Ee.length} solicitações...`),se(Ee);const Be={},De=[],ze=3;for(let He=0;He<Ee.length;He+=ze){const rt=Ee.slice(He,He+ze).map(async ft=>{if(ft.address)try{const ut=await Hn(ft.address);ut?(Be[ft.id]=ut,console.log(`✅ Endereço geocodificado: ${ft.address} → [${ut[0]}, ${ut[1]}]`)):(De.push(ft.address),console.warn(`❌ Falha no geocoding: ${ft.address}`))}catch(ut){De.push(ft.address),console.error(`❌ Erro no geocoding para ${ft.address}:`,ut)}});await Promise.all(rt);const ht=50+Math.min((He+ze)/Ee.length*40,40);je(ht),de(`Processando localizações... ${Math.round((He+ze)/Ee.length*100)}%`),console.log(`🔄 Progresso do geocoding: ${ht.toFixed(1)}%`)}je(100),de("Finalizando..."),ne(Be),$(De);const Ue=Object.keys(Be).length,yt=Ee.length-Ue;console.log(`✅ Processamento concluído: ${Ee.length} solicitações`),console.log(`📍 Com coordenadas: ${Ue}`),console.log(`❓ Sem coordenadas: ${yt}`),De.length>0?X({title:"Solicitações Carregadas!",description:`${Ee.length} solicitações encontradas. ${Ue} com localização precisa. ${De.length} com problemas de localização.`,variant:"default"}):X({title:"Solicitações Carregadas!",description:`${Ee.length} solicitações encontradas. Todos os endereços foram localizados com sucesso!`,variant:"default"})}catch(H){console.error("💥 Erro geral ao buscar solicitações:",H),X({title:"Erro de Conexão",description:"Erro ao carregar solicitações. Verifique sua conexão e tente novamente.",variant:"destructive"})}finally{ve(!1)}},Ls=()=>{if(console.log("📍 Iniciando geolocalização..."),console.log("📍 Geolocalização suportada:",N),y(!0),w(!0),N){console.log("📍 Geolocalização suportada pelo navegador");const H={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(ie=>{const{latitude:xe,longitude:ke,accuracy:Ve}=ie.coords;if(console.log("📍 Localização obtida com sucesso:",{latitude:xe,longitude:ke,accuracy:`${Ve}m de precisão`}),xe&&ke&&!isNaN(xe)&&!isNaN(ke)&&xe>=-90&&xe<=90&&ke>=-180&&ke<=180){console.log("📍 Coordenadas válidas:",[xe,ke]),v([xe,ke]),G(Ve||0),V(Ee=>Ee+1),y(!1),S(!0);const Ze=Ve<=10?"Excelente":Ve<=30?"Muito Boa":Ve<=50?"Boa":Ve<=100?"Regular":"Baixa";X({title:`Localização ${Ze}`,description:`Precisão: ${Math.round(Ve||0)}m | ${xe.toFixed(6)}, ${ke.toFixed(6)}`}),setTimeout(()=>{V(Ee=>Ee+1)},200),setTimeout(()=>{S(!1)},3e3)}else console.warn("📍 Coordenadas inválidas:",{latitude:xe,longitude:ke}),y(!1),X({title:"Erro na Localização",description:"Coordenadas inválidas obtidas. Tente novamente.",variant:"destructive"})},ie=>{console.error("📍 Erro na geolocalização:",ie);let xe="Erro desconhecido na geolocalização";switch(ie.code){case ie.PERMISSION_DENIED:xe="Permissão negada. Ative a localização nas configurações do navegador.";break;case ie.POSITION_UNAVAILABLE:xe="Localização indisponível. Verifique sua conexão de internet.";break;case ie.TIMEOUT:xe="Tempo limite excedido. Tente novamente em alguns segundos.";break}console.log(`📍 ${xe}`),y(!1)},H)}else console.log("📍 Geolocalização não suportada pelo navegador"),y(!1)};h.useEffect(()=>{console.log("useEffect triggered - user:",z),z?(console.log("User authenticated, calling fetchServiceRequests"),Za()):console.log("User not authenticated yet")},[z]);const qa=()=>{f&&(console.log("🗺️ Centralizando mapa na localização do usuário:",f),V(H=>H+1))};return e.jsxs(ta,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-32",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b-2 border-gray-200 dark:border-gray-700 rounded-b-lg px-3 sm:px-4 py-2 sm:py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:z?.profileImage&&!T?e.jsx("img",{src:`${fe()}${z.profileImage}`,alt:`Foto de ${z?.name||"Profissional"}`,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700",onError:H=>{E(!0);const ie=H.target;ie.src.includes("http")||(ie.src=`https://lifebee.onrender.com${z.profileImage}`)},onLoad:()=>{console.log("Imagem carregada com sucesso:",z.profileImage),E(!1)}}):e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-yellow-500 flex items-center justify-center border-2 border-gray-200 dark:border-gray-700",children:e.jsx("span",{className:"text-white text-xs sm:text-sm font-semibold",children:z?.name?z.name.charAt(0).toUpperCase():"P"})})}),e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:"Painel do Profissional"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:["Bem-vindo de volta, ",z?.name||"Profissional","!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-emerald-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${r?"text-emerald-700 dark:text-emerald-300":"text-gray-600 dark:text-gray-400"}`,children:r?"Disponível":"Indisponível"})]}),e.jsx(od,{children:e.jsxs(ex,{children:[e.jsx(tx,{asChild:!0,children:e.jsx(rs,{checked:r,onCheckedChange:$a,className:"h-6 w-11 sm:h-7 sm:w-12 [&>span]:h-5 [&>span]:w-5 sm:[&>span]:h-6 sm:[&>span]:w-6 flex-shrink-0 data-[state=checked]:bg-blue-500 data-[state=checked]:hover:bg-blue-600 data-[state=unchecked]:bg-gray-400 data-[state=unchecked]:hover:bg-gray-500 transition-all duration-300 ease-in-out shadow-md hover:shadow-lg"})}),e.jsx(ld,{children:e.jsx("p",{children:r?"Clique para ficar indisponível":"Clique para ficar disponível"})})]})})]}),e.jsxs(g0,{open:m,onOpenChange:x,children:[e.jsx(v0,{asChild:!0,children:e.jsxs(D,{variant:"outline",size:"sm",className:"relative h-8 sm:h-9 w-8 sm:w-auto px-2.5 sm:px-3 min-w-0 flex-shrink-0 justify-center aspect-square sm:aspect-auto",children:[e.jsx(Ca,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),Ne>0]})}),e.jsxs(Yd,{className:"w-80 p-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-xl backdrop-blur-sm",align:"end",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Notificações"}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:e.jsx(Da,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:_e.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma notificação"}):_e.map(H=>{const ie=H.icon;return e.jsx("div",{className:`p-4 border-b hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer ${H.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>oa(H.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 ${H.color}`,children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`text-sm font-medium ${H.read?"text-gray-900 dark:text-white":"text-blue-900 dark:text-blue-100"}`,children:H.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:H.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:H.time})]}),!H.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})},H.id)})}),_e.length>0&&e.jsx("div",{className:"p-3 border-t",children:e.jsx(D,{variant:"ghost",size:"sm",className:"w-full",children:"Ver todas as notificações"})})]})]}),e.jsxs(d0,{children:[e.jsx(h0,{asChild:!0,children:e.jsx(D,{variant:"outline",size:"sm",className:"h-8 sm:h-9 w-8 sm:w-auto px-2 sm:px-3 min-w-0 flex-shrink-0 gap-1 sm:gap-1.5 justify-center aspect-square sm:aspect-auto",children:e.jsx(li,{className:"h-2 w-2 sm:h-3 sm:w-3 flex-shrink-0"})})}),e.jsxs(Qd,{align:"end",className:"w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg z-[100]",children:[e.jsx(qt,{asChild:!0,children:e.jsxs(Fe,{href:"/provider-profile",className:"flex items-center cursor-pointer",children:[e.jsx(gt,{className:"mr-2 h-4 w-4"}),"Meu Perfil"]})}),e.jsx(qt,{asChild:!0,children:e.jsxs(Fe,{href:"/provider-proposals",className:"flex items-center cursor-pointer",children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"}),"Propostas"]})}),e.jsx(qt,{asChild:!0,children:e.jsxs(Fe,{href:"/settings",className:"flex items-center cursor-pointer",children:[e.jsx(Lc,{className:"mr-2 h-4 w-4"}),"Configurações"]})}),e.jsx(qt,{onClick:()=>O(Z==="dark"?"light":"dark"),children:Z==="dark"?e.jsxs(e.Fragment,{children:[e.jsx(Oc,{className:"mr-2 h-4 w-4"}),"Modo Claro"]}):e.jsxs(e.Fragment,{children:[e.jsx(Sc,{className:"mr-2 h-4 w-4"}),"Modo Escuro"]})}),e.jsx(Fr,{}),e.jsxs(qt,{children:[e.jsx(Gs,{className:"mr-2 h-4 w-4"}),"Privacidade e Segurança"]}),e.jsxs(qt,{children:[e.jsx(Ca,{className:"mr-2 h-4 w-4"}),"Preferências de Notificação"]}),e.jsxs(qt,{children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"Métodos de Pagamento"]}),e.jsxs(qt,{children:[e.jsx(Cc,{className:"mr-2 h-4 w-4"}),"Central de Ajuda"]}),e.jsx(Fr,{}),e.jsxs(qt,{onClick:Bn,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[e.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Sair da Conta"]})]})]})]})]})}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 pb-8 sm:pb-12 lg:pb-16 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ganhos do Mês"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",ce.monthlyEarnings.toLocaleString("pt-BR")]})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full",children:e.jsx(_t,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(cp,{className:"h-3 w-3 text-green-600"}),e.jsxs("span",{className:"text-xs text-green-600",children:["+",ce.monthlyGrowth,"% vs mês anterior"]})]})]})}),e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Serviços Realizados"}),e.jsx("p",{className:"text-2xl font-bold",children:ce.totalServices})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full",children:e.jsx(Bo,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[ce.servicesThisWeek," esta semana"]})]})}),e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avaliação Média"}),e.jsxs("p",{className:"text-2xl font-bold flex items-center gap-1",children:[ce.averageRating,e.jsx(Nt,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"})]})]}),e.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full",children:e.jsx(oi,{className:"h-6 w-6 text-yellow-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Baseado em 47 avaliações"})]})}),e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo de Resposta"}),e.jsx("p",{className:"text-2xl font-bold",children:ce.responseTime})]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-full",children:e.jsx(dp,{className:"h-6 w-6 text-purple-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Média de resposta"})]})})]}),e.jsxs(Kd,{defaultValue:"opportunities",className:"space-y-6 sm:space-y-8",children:[e.jsxs(vi,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto min-h-12 p-1.5 gap-1.5 sm:gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsxs(is,{value:"opportunities",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Oportunidades"}),e.jsx("span",{className:"xs:hidden",children:"Oport."})]}),e.jsxs(is,{value:"performance",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Performance"}),e.jsx("span",{className:"xs:hidden",children:"Perf."})]}),e.jsx(Fe,{href:"/agenda-profissional",className:"contents",children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm hover:text-yellow-600 dark:hover:text-yellow-400 min-h-10 sm:min-h-11 text-center",children:"Agenda"})}),e.jsxs(is,{value:"earnings",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Ganhos"}),e.jsx("span",{className:"xs:hidden",children:"Ganhos"})]})]}),e.jsx(es,{value:"opportunities",className:"space-y-8",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs(Ie,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Oe,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-base sm:text-lg lg:text-xl",children:"Serviços Próximos a Você"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Raio:"}),e.jsx(me,{type:"number",value:c,onChange:H=>u(Number(H.target.value)),className:"w-12 sm:w-16 h-7 sm:h-8 text-xs sm:text-sm",min:"1",max:"50"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"km"})]})})]})}),e.jsxs(le,{children:[e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg h-48 sm:h-56 md:h-64 mb-4 sm:mb-6 overflow-hidden relative sticky top-2 sm:top-4 z-10",children:[e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{console.log("🔘 Botão de localização clicado!"),k&&f?qa():Ls()},className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg",disabled:b,children:b?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}):k?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs hidden sm:inline",children:"Centralizar"})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs hidden sm:inline",children:"Minha Localização"})]})})}),b?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Obtendo sua localização..."})]})}):f?e.jsxs(I0,{center:f||[-23.55052,-46.633308],zoom:15,style:{height:"100%",width:"100%"},children:[f&&e.jsx(F0,{userLocation:f}),e.jsx(z0,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f&&e.jsx(il,{position:f,icon:rl.divIcon({className:"custom-div-icon",html:`<div style="background-color: ${P?"#10b981":"#3b82f6"}; width: 24px; height: 24px; border-radius: 50%; border: 4px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.4); animation: pulse 2s infinite; ${P?"border-color: #10b981;":""}"></div>`,iconSize:[24,24],iconAnchor:[12,12]}),children:e.jsx(D0,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("strong",{children:"📍 Sua localização"}),P&&e.jsx("div",{className:"text-green-600 text-xs font-bold",children:"✓ Atualizada"}),e.jsxs("small",{children:["Lat: ",f[0].toFixed(6)]}),e.jsx("br",{}),e.jsxs("small",{children:["Lng: ",f[1].toFixed(6)]}),e.jsx("br",{}),W&&e.jsxs("small",{className:`font-medium ${W<=20?"text-green-600":W<=50?"text-yellow-600":"text-red-600"}`,children:["Precisão: ",Math.round(W),"m"]}),e.jsx("br",{}),e.jsxs("small",{children:["Raio de busca: ",c,"km"]})]})})}),K.map(H=>{const ie=ae[H.id];if(!ie)return null;const xe=Ce===H.id,ke=j?.id===H.id;return e.jsx(il,{position:ie,draggable:xe,icon:rl.divIcon({className:"custom-div-icon",html:`<div style="width: 32px; height: 32px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); background-image: url('/service-icon.png'); background-size: cover; background-position: center; background-repeat: no-repeat; ${ke?"animation: pulse 2s infinite;":""}"></div>`,iconSize:[32,32],iconAnchor:[16,16]}),eventHandlers:{click:()=>{xe?Q(null):dt(H)},dragend:Ve=>{if(xe){const Ze=Ve.target.getLatLng();ne(Ee=>({...Ee,[H.id]:[Ze.lat,Ze.lng]})),Q(null),X({title:"Posição Atualizada",description:"A posição da solicitação foi ajustada manualmente."})}}}},H.id)})]},`map-${B}-${f?`${f[0]}-${f[1]}`:"fallback"}`):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Oe,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Clique para obter sua localização"}),e.jsx(D,{size:"sm",onClick:Ls,disabled:b,className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:b?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Obter Localização"]})})]})}),e.jsx("div",{className:"absolute left-0 right-0 bottom-0 p-2 text-center pointer-events-none",children:e.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 rounded-lg px-3 py-2 shadow-lg",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium mb-1",children:["Mostrando serviços em um raio de ",c,"km"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Sua localização"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("span",{children:["Solicitações (",K.length,")"]})]}),j&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Selecionado"})]})]})]})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Solicitações Disponíveis"}),F.length>0&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["⚠️ ",F.length," endereço(s) não localizados"]})]}),e.jsx(D,{variant:"outline",size:"sm",onClick:Za,disabled:re,className:"h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:re?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-primary mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Carregando..."}),e.jsx("span",{className:"sm:hidden",children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(rp,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Atualizar"}),e.jsx("span",{className:"sm:hidden",children:"Atualizar"})]})})]}),re?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsxs("div",{className:"relative mx-auto mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-gray-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 sm:w-16 sm:h-16 border-4 border-primary rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+Pe*.36}% 0%, ${50+Pe*.36}% 50%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs sm:text-sm font-medium text-primary",children:[Pe,"%"]})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-2",children:Y}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2 max-w-xs mx-auto",children:e.jsx("div",{className:"bg-primary h-1.5 sm:h-2 rounded-full transition-all duration-300",style:{width:`${Pe}%`}})})]}):K.length===0?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(Ca,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-2",children:"Nenhuma solicitação disponível"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Novas solicitações aparecerão aqui automaticamente"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["💡 ",e.jsx("strong",{children:"Dica:"})," Clique nos pins amarelos no mapa para ver detalhes dos serviços!"]})})]}):K.map(H=>e.jsx(oe,{id:`service-${H.id}`,className:"border-l-4 border-l-primary transition-all duration-300",children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsxs("h4",{className:"font-semibold text-sm sm:text-base lg:text-lg",children:["Solicitação #",H.id]}),e.jsx(We,{variant:"outline",className:"text-xs w-fit",children:H.category==="fisioterapeuta"?"Fisioterapeuta":H.category==="acompanhante_hospitalar"?"Acompanhante":H.category==="tecnico_enfermagem"?"Técnico Enfermagem":H.category})]}),e.jsx("p",{className:"font-medium text-primary mb-1 text-sm sm:text-base",children:H.serviceType}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:H.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(Oe,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:H.address})]}),e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(Ye,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[new Date(H.scheduledDate).toLocaleDateString("pt-BR")," às ",H.scheduledTime]})]}),e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(Tt,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{children:[H.responses||0," respostas"]})]}),ae[H.id]&&f&&e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx("span",{className:"h-3 w-3 flex-shrink-0",children:"📏"}),e.jsxs("span",{children:[la(f[0],f[1],ae[H.id][0],ae[H.id][1]).toFixed(1)," km"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[H.budget&&e.jsxs("p",{className:"text-sm sm:text-base lg:text-lg font-bold text-green-600",children:["R$ ",parseFloat(H.budget).toFixed(2)]}),e.jsx(D,{size:"sm",className:"w-full sm:w-auto h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>Je(H.id),children:"Ofertar Serviço"})]})]})})},H.id))]})]})]})}),e.jsx(es,{value:"performance",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Kf,{className:"h-5 w-5"}),"Performance Mensal"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:te.map((H,ie)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:H.month}),e.jsxs("p",{className:"text-sm text-gray-600",children:[H.services," serviços"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",H.earnings.toLocaleString("pt-BR")]}),ie>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[H.earnings>te[ie-1].earnings?"+":"",((H.earnings-te[ie-1].earnings)/te[ie-1].earnings*100).toFixed(1),"%"]})]})]},H.month))})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(lp,{className:"h-5 w-5"}),"Metas e Objetivos"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Meta Mensal: R$ 5.000"}),e.jsx("span",{className:"text-sm text-gray-600",children:"97%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"97%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Serviços no Mês: 25"}),e.jsx("span",{className:"text-sm text-gray-600",children:"92%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"92%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avaliação 4.8+"}),e.jsx("span",{className:"text-sm text-gray-600",children:"100%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"100%"}})})]})]})})]})]})}),e.jsx(es,{value:"schedule",className:"space-y-8",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Próximos Agendamentos"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 border border-orange-200 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"bg-orange-500 text-white rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(lt,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Maria Silva"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Fisioterapia Respiratória"}),e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Hoje às 14:00 • Vila Madalena"})]}),e.jsx(D,{size:"sm",children:"Ver Detalhes"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(Ye,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"João Santos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhamento Hospitalar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Amanhã às 08:00 • Hospital das Clínicas"})]}),e.jsx(D,{variant:"outline",size:"sm",children:"Ver Detalhes"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 text-green-600 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(Bo,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Ana Costa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Curativo Domiciliar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Quinta-feira às 16:00 • Jardins"})]}),e.jsx(D,{variant:"outline",size:"sm",children:"Ver Detalhes"})]})]})})]})}),e.jsx(es,{value:"earnings",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(oe,{className:"lg:col-span-2",children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),"Histórico de Ganhos"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Fisioterapia Respiratória"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Maria Silva • Hoje"})]}),e.jsx("p",{className:"font-semibold text-green-600",children:"+R$ 120,00"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Acompanhamento Hospitalar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"João Santos • Ontem"})]}),e.jsx("p",{className:"font-semibold text-green-600",children:"+R$ 200,00"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Curativo Domiciliar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ana Costa • 2 dias atrás"})]}),e.jsx("p",{className:"font-semibold text-green-600",children:"+R$ 80,00"})]})]})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(np,{className:"h-5 w-5"}),"Resumo do Mês"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"R$ 4.850"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total em Maio"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Fisioterapia"}),e.jsx("span",{className:"text-sm font-medium",children:"R$ 2.400"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Acompanhamento"}),e.jsx("span",{className:"text-sm font-medium",children:"R$ 1.600"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Curativos"}),e.jsx("span",{className:"text-sm font-medium",children:"R$ 850"})]})]})]})})]})]})})]})]})]}),e.jsx(Ea,{open:I,onOpenChange:R,children:e.jsxs(Ys,{className:"max-w-2xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-xl",children:[e.jsxs(Xs,{children:[e.jsxs(Js,{className:"flex items-center gap-2 text-xl",children:[e.jsx(Oe,{className:"h-6 w-6 text-yellow-500"}),"Detalhes da Solicitação"]}),e.jsx(yd,{children:"Informações completas sobre o cliente e o serviço solicitado"})]}),j&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[j.clientProfileImage?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${fe()}${j.clientProfileImage}`,alt:j.clientName||"Cliente",className:"w-full h-full object-cover",onError:H=>{const ie=H.target;ie.style.display="none";const xe=ie.parentElement;xe&&(xe.innerHTML=`
                                  <div class="w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                    <span class="text-white text-xl font-bold">
                                      ${j.clientName?j.clientName.charAt(0).toUpperCase():"C"}
                                    </span>
                                  </div>
                                `)}})}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:j.clientName?j.clientName.charAt(0).toUpperCase():"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:j.clientName||"Cliente"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Nt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:j.clientRating||"5.0"}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[j.clientServices||"0"," serviços"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cliente desde ",j.clientSince?new Date(j.clientSince).getFullYear():"2024"]})]})]}),e.jsx("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:j.status==="open"?"Aberta":j.status==="in_progress"?"Em Andamento":j.status==="completed"?"Concluída":"Normal"})]})}),e.jsxs("div",{className:"p-6 pt-0 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-primary mb-2",children:j.serviceType||"Serviço Solicitado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:j.description||"Descrição do serviço não disponível"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(_t,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",j.budget?parseFloat(j.budget).toFixed(2):"0,00"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Oe,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Distância"}),e.jsx("p",{className:"font-semibold text-blue-600",children:ae[j.id]&&f?`${la(f[0],f[1],ae[j.id][0],ae[j.id][1]).toFixed(1)} km`:"0 km"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(lt,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Horário"}),e.jsx("p",{className:"font-semibold text-purple-600",children:j.scheduledTime||"Não definido"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Tt,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respostas"}),e.jsx("p",{className:"font-semibold text-orange-600",children:j.responses||0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-500"}),"Endereço"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:j.address||"Endereço não informado"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-gray-500"}),"Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:j.scheduledDate?new Date(j.scheduledDate).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Data não definida"})]}),j.additionalInfo&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-gray-500"}),"Detalhes Adicionais"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:j.additionalInfo})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(D,{onClick:()=>Je(j.id),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold",children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Fazer Proposta"]}),e.jsx(D,{variant:"outline",onClick:Dt,className:"flex-1",children:"Fechar"})]}),e.jsxs(D,{variant:"ghost",size:"sm",onClick:Es,className:"w-full text-xs",children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"}),"Limpar Seleção no Mapa"]})]})]})})]})}function ll(a,[n,r]){return Math.min(r,Math.max(n,a))}var $0=[" ","Enter","ArrowUp","ArrowDown"],B0=[" ","Enter"],Cs="Select",[zn,Fn,H0]=hl(Cs),[ia,Jv]=Ps(Cs,[H0,Sn]),$n=Sn(),[Z0,us]=ia(Cs),[q0,W0]=ia(Cs),ah=a=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:c,onOpenChange:u,value:m,defaultValue:x,onValueChange:f,dir:v,name:b,autoComplete:y,disabled:k,required:w,form:N}=a,g=$n(n),[T,E]=h.useState(null),[j,M]=h.useState(null),[I,R]=h.useState(!1),Z=_l(v),[O,U]=Vs({prop:o,defaultProp:c??!1,onChange:u,caller:Cs}),[z,X]=Vs({prop:m,defaultProp:x,onChange:f,caller:Cs}),B=h.useRef(null),V=T?N||!!T.closest("form"):!0,[P,S]=h.useState(new Set),W=Array.from(P).map(G=>G.props.value).join(";");return e.jsx(xl,{...g,children:e.jsxs(Z0,{required:w,scope:n,trigger:T,onTriggerChange:E,valueNode:j,onValueNodeChange:M,valueNodeHasChildren:I,onValueNodeHasChildrenChange:R,contentId:Aa(),value:z,onValueChange:X,open:O,onOpenChange:U,dir:Z,triggerPointerDownPosRef:B,disabled:k,children:[e.jsx(zn.Provider,{scope:n,children:e.jsx(q0,{scope:a.__scopeSelect,onNativeOptionAdd:h.useCallback(G=>{S(ce=>new Set(ce).add(G))},[]),onNativeOptionRemove:h.useCallback(G=>{S(ce=>{const K=new Set(ce);return K.delete(G),K})},[]),children:r})}),V?e.jsxs(Sh,{"aria-hidden":!0,required:w,tabIndex:-1,name:b,autoComplete:y,value:z,onChange:G=>X(G.target.value),disabled:k,form:N,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from(P)]},W):null]})})};ah.displayName=Cs;var nh="SelectTrigger",rh=h.forwardRef((a,n)=>{const{__scopeSelect:r,disabled:o=!1,...c}=a,u=$n(r),m=us(nh,r),x=m.disabled||o,f=at(n,m.onTriggerChange),v=Fn(r),b=h.useRef("touch"),[y,k,w]=Th(g=>{const T=v().filter(M=>!M.disabled),E=T.find(M=>M.value===m.value),j=Eh(T,g,E);j!==void 0&&m.onValueChange(j.value)}),N=g=>{x||(m.onOpenChange(!0),w()),g&&(m.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(gl,{asChild:!0,...u,children:e.jsx(Re.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:x,"data-disabled":x?"":void 0,"data-placeholder":Ph(m.value)?"":void 0,...c,ref:f,onClick:we(c.onClick,g=>{g.currentTarget.focus(),b.current!=="mouse"&&N(g)}),onPointerDown:we(c.onPointerDown,g=>{b.current=g.pointerType;const T=g.target;T.hasPointerCapture(g.pointerId)&&T.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(N(g),g.preventDefault())}),onKeyDown:we(c.onKeyDown,g=>{const T=y.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&k(g.key),!(T&&g.key===" ")&&$0.includes(g.key)&&(N(),g.preventDefault())})})})});rh.displayName=nh;var ih="SelectValue",oh=h.forwardRef((a,n)=>{const{__scopeSelect:r,className:o,style:c,children:u,placeholder:m="",...x}=a,f=us(ih,r),{onValueNodeHasChildrenChange:v}=f,b=u!==void 0,y=at(n,f.onValueNodeChange);return Mt(()=>{v(b)},[v,b]),e.jsx(Re.span,{...x,ref:y,style:{pointerEvents:"none"},children:Ph(f.value)?e.jsx(e.Fragment,{children:m}):u})});oh.displayName=ih;var V0="SelectIcon",lh=h.forwardRef((a,n)=>{const{__scopeSelect:r,children:o,...c}=a;return e.jsx(Re.span,{"aria-hidden":!0,...c,ref:n,children:o||"▼"})});lh.displayName=V0;var U0="SelectPortal",ch=a=>e.jsx(ul,{asChild:!0,...a});ch.displayName=U0;var Ss="SelectContent",dh=h.forwardRef((a,n)=>{const r=us(Ss,a.__scopeSelect),[o,c]=h.useState();if(Mt(()=>{c(new DocumentFragment)},[]),!r.open){const u=o;return u?Cn.createPortal(e.jsx(hh,{scope:a.__scopeSelect,children:e.jsx(zn.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),u):null}return e.jsx(uh,{...a,ref:n})});dh.displayName=Ss;var At=10,[hh,ms]=ia(Ss),G0="SelectContentImpl",K0=Mm("SelectContent.RemoveScroll"),uh=h.forwardRef((a,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:m,side:x,sideOffset:f,align:v,alignOffset:b,arrowPadding:y,collisionBoundary:k,collisionPadding:w,sticky:N,hideWhenDetached:g,avoidCollisions:T,...E}=a,j=us(Ss,r),[M,I]=h.useState(null),[R,Z]=h.useState(null),O=at(n,ne=>I(ne)),[U,z]=h.useState(null),[X,B]=h.useState(null),V=Fn(r),[P,S]=h.useState(!1),W=h.useRef(!1);h.useEffect(()=>{if(M)return Pm(M)},[M]),Tm();const G=h.useCallback(ne=>{const[Ce,...Q]=V().map(te=>te.ref.current),[F]=Q.slice(-1),$=document.activeElement;for(const te of ne)if(te===$||(te?.scrollIntoView({block:"nearest"}),te===Ce&&R&&(R.scrollTop=0),te===F&&R&&(R.scrollTop=R.scrollHeight),te?.focus(),document.activeElement!==$))return},[V,R]),ce=h.useCallback(()=>G([U,M]),[G,U,M]);h.useEffect(()=>{P&&ce()},[P,ce]);const{onOpenChange:K,triggerPointerDownPosRef:se}=j;h.useEffect(()=>{if(M){let ne={x:0,y:0};const Ce=F=>{ne={x:Math.abs(Math.round(F.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(F.pageY)-(se.current?.y??0))}},Q=F=>{ne.x<=10&&ne.y<=10?F.preventDefault():M.contains(F.target)||K(!1),document.removeEventListener("pointermove",Ce),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Q,{capture:!0})}}},[M,K,se]),h.useEffect(()=>{const ne=()=>K(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[K]);const[re,ve]=Th(ne=>{const Ce=V().filter($=>!$.disabled),Q=Ce.find($=>$.ref.current===document.activeElement),F=Eh(Ce,ne,Q);F&&setTimeout(()=>F.ref.current.focus())}),Pe=h.useCallback((ne,Ce,Q)=>{const F=!W.current&&!Q;(j.value!==void 0&&j.value===Ce||F)&&(z(ne),F&&(W.current=!0))},[j.value]),je=h.useCallback(()=>M?.focus(),[M]),Y=h.useCallback((ne,Ce,Q)=>{const F=!W.current&&!Q;(j.value!==void 0&&j.value===Ce||F)&&B(ne)},[j.value]),de=o==="popper"?Hr:mh,ae=de===Hr?{side:x,sideOffset:f,align:v,alignOffset:b,arrowPadding:y,collisionBoundary:k,collisionPadding:w,sticky:N,hideWhenDetached:g,avoidCollisions:T}:{};return e.jsx(hh,{scope:r,content:M,viewport:R,onViewportChange:Z,itemRefCallback:Pe,selectedItem:U,onItemLeave:je,itemTextRefCallback:Y,focusSelectedItem:ce,selectedItemText:X,position:o,isPositioned:P,searchRef:re,children:e.jsx(Em,{as:K0,allowPinchZoom:!0,children:e.jsx(Lm,{asChild:!0,trapped:j.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:we(c,ne=>{j.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:e.jsx(ml,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ne=>ne.preventDefault(),...E,...ae,onPlaced:()=>S(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:we(E.onKeyDown,ne=>{const Ce=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Ce&&ne.key.length===1&&ve(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let F=V().filter($=>!$.disabled).map($=>$.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const $=ne.target,te=F.indexOf($);F=F.slice(te+1)}setTimeout(()=>G(F)),ne.preventDefault()}})})})})})})});uh.displayName=G0;var Q0="SelectItemAlignedPosition",mh=h.forwardRef((a,n)=>{const{__scopeSelect:r,onPlaced:o,...c}=a,u=us(Ss,r),m=ms(Ss,r),[x,f]=h.useState(null),[v,b]=h.useState(null),y=at(n,O=>b(O)),k=Fn(r),w=h.useRef(!1),N=h.useRef(!0),{viewport:g,selectedItem:T,selectedItemText:E,focusSelectedItem:j}=m,M=h.useCallback(()=>{if(u.trigger&&u.valueNode&&x&&v&&g&&T&&E){const O=u.trigger.getBoundingClientRect(),U=v.getBoundingClientRect(),z=u.valueNode.getBoundingClientRect(),X=E.getBoundingClientRect();if(u.dir!=="rtl"){const $=X.left-U.left,te=z.left-$,_e=O.left-te,Ne=O.width+_e,Je=Math.max(Ne,U.width),dt=window.innerWidth-At,Dt=ll(te,[At,Math.max(At,dt-Je)]);x.style.minWidth=Ne+"px",x.style.left=Dt+"px"}else{const $=U.right-X.right,te=window.innerWidth-z.right-$,_e=window.innerWidth-O.right-te,Ne=O.width+_e,Je=Math.max(Ne,U.width),dt=window.innerWidth-At,Dt=ll(te,[At,Math.max(At,dt-Je)]);x.style.minWidth=Ne+"px",x.style.right=Dt+"px"}const B=k(),V=window.innerHeight-At*2,P=g.scrollHeight,S=window.getComputedStyle(v),W=parseInt(S.borderTopWidth,10),G=parseInt(S.paddingTop,10),ce=parseInt(S.borderBottomWidth,10),K=parseInt(S.paddingBottom,10),se=W+G+P+K+ce,re=Math.min(T.offsetHeight*5,se),ve=window.getComputedStyle(g),Pe=parseInt(ve.paddingTop,10),je=parseInt(ve.paddingBottom,10),Y=O.top+O.height/2-At,de=V-Y,ae=T.offsetHeight/2,ne=T.offsetTop+ae,Ce=W+G+ne,Q=se-Ce;if(Ce<=Y){const $=B.length>0&&T===B[B.length-1].ref.current;x.style.bottom="0px";const te=v.clientHeight-g.offsetTop-g.offsetHeight,_e=Math.max(de,ae+($?je:0)+te+ce),Ne=Ce+_e;x.style.height=Ne+"px"}else{const $=B.length>0&&T===B[0].ref.current;x.style.top="0px";const _e=Math.max(Y,W+g.offsetTop+($?Pe:0)+ae)+Q;x.style.height=_e+"px",g.scrollTop=Ce-Y+g.offsetTop}x.style.margin=`${At}px 0`,x.style.minHeight=re+"px",x.style.maxHeight=V+"px",o?.(),requestAnimationFrame(()=>w.current=!0)}},[k,u.trigger,u.valueNode,x,v,g,T,E,u.dir,o]);Mt(()=>M(),[M]);const[I,R]=h.useState();Mt(()=>{v&&R(window.getComputedStyle(v).zIndex)},[v]);const Z=h.useCallback(O=>{O&&N.current===!0&&(M(),j?.(),N.current=!1)},[M,j]);return e.jsx(X0,{scope:r,contentWrapper:x,shouldExpandOnScrollRef:w,onScrollButtonChange:Z,children:e.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:e.jsx(Re.div,{...c,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});mh.displayName=Q0;var Y0="SelectPopperPosition",Hr=h.forwardRef((a,n)=>{const{__scopeSelect:r,align:o="start",collisionPadding:c=At,...u}=a,m=$n(r);return e.jsx(fl,{...m,...u,ref:n,align:o,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hr.displayName=Y0;var[X0,_i]=ia(Ss,{}),Zr="SelectViewport",fh=h.forwardRef((a,n)=>{const{__scopeSelect:r,nonce:o,...c}=a,u=ms(Zr,r),m=_i(Zr,r),x=at(n,u.onViewportChange),f=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(zn.Slot,{scope:r,children:e.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:x,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:we(c.onScroll,v=>{const b=v.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:k}=m;if(k?.current&&y){const w=Math.abs(f.current-b.scrollTop);if(w>0){const N=window.innerHeight-At*2,g=parseFloat(y.style.minHeight),T=parseFloat(y.style.height),E=Math.max(g,T);if(E<N){const j=E+w,M=Math.min(N,j),I=j-M;y.style.height=M+"px",y.style.bottom==="0px"&&(b.scrollTop=I>0?I:0,y.style.justifyContent="flex-end")}}}f.current=b.scrollTop})})})]})});fh.displayName=Zr;var ph="SelectGroup",[J0,ev]=ia(ph),tv=h.forwardRef((a,n)=>{const{__scopeSelect:r,...o}=a,c=Aa();return e.jsx(J0,{scope:r,id:c,children:e.jsx(Re.div,{role:"group","aria-labelledby":c,...o,ref:n})})});tv.displayName=ph;var xh="SelectLabel",gh=h.forwardRef((a,n)=>{const{__scopeSelect:r,...o}=a,c=ev(xh,r);return e.jsx(Re.div,{id:c.id,...o,ref:n})});gh.displayName=xh;var kn="SelectItem",[sv,vh]=ia(kn),yh=h.forwardRef((a,n)=>{const{__scopeSelect:r,value:o,disabled:c=!1,textValue:u,...m}=a,x=us(kn,r),f=ms(kn,r),v=x.value===o,[b,y]=h.useState(u??""),[k,w]=h.useState(!1),N=at(n,j=>f.itemRefCallback?.(j,o,c)),g=Aa(),T=h.useRef("touch"),E=()=>{c||(x.onValueChange(o),x.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(sv,{scope:r,value:o,disabled:c,textId:g,isSelected:v,onItemTextChange:h.useCallback(j=>{y(M=>M||(j?.textContent??"").trim())},[]),children:e.jsx(zn.ItemSlot,{scope:r,value:o,disabled:c,textValue:b,children:e.jsx(Re.div,{role:"option","aria-labelledby":g,"data-highlighted":k?"":void 0,"aria-selected":v&&k,"data-state":v?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...m,ref:N,onFocus:we(m.onFocus,()=>w(!0)),onBlur:we(m.onBlur,()=>w(!1)),onClick:we(m.onClick,()=>{T.current!=="mouse"&&E()}),onPointerUp:we(m.onPointerUp,()=>{T.current==="mouse"&&E()}),onPointerDown:we(m.onPointerDown,j=>{T.current=j.pointerType}),onPointerMove:we(m.onPointerMove,j=>{T.current=j.pointerType,c?f.onItemLeave?.():T.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(m.onPointerLeave,j=>{j.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:we(m.onKeyDown,j=>{f.searchRef?.current!==""&&j.key===" "||(B0.includes(j.key)&&E(),j.key===" "&&j.preventDefault())})})})})});yh.displayName=kn;var Na="SelectItemText",bh=h.forwardRef((a,n)=>{const{__scopeSelect:r,className:o,style:c,...u}=a,m=us(Na,r),x=ms(Na,r),f=vh(Na,r),v=W0(Na,r),[b,y]=h.useState(null),k=at(n,E=>y(E),f.onItemTextChange,E=>x.itemTextRefCallback?.(E,f.value,f.disabled)),w=b?.textContent,N=h.useMemo(()=>e.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:g,onNativeOptionRemove:T}=v;return Mt(()=>(g(N),()=>T(N)),[g,T,N]),e.jsxs(e.Fragment,{children:[e.jsx(Re.span,{id:f.textId,...u,ref:k}),f.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Cn.createPortal(u.children,m.valueNode):null]})});bh.displayName=Na;var wh="SelectItemIndicator",jh=h.forwardRef((a,n)=>{const{__scopeSelect:r,...o}=a;return vh(wh,r).isSelected?e.jsx(Re.span,{"aria-hidden":!0,...o,ref:n}):null});jh.displayName=wh;var qr="SelectScrollUpButton",_h=h.forwardRef((a,n)=>{const r=ms(qr,a.__scopeSelect),o=_i(qr,a.__scopeSelect),[c,u]=h.useState(!1),m=at(n,o.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let x=function(){const v=f.scrollTop>0;u(v)};const f=r.viewport;return x(),f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[r.viewport,r.isPositioned]),c?e.jsx(kh,{...a,ref:m,onAutoScroll:()=>{const{viewport:x,selectedItem:f}=r;x&&f&&(x.scrollTop=x.scrollTop-f.offsetHeight)}}):null});_h.displayName=qr;var Wr="SelectScrollDownButton",Nh=h.forwardRef((a,n)=>{const r=ms(Wr,a.__scopeSelect),o=_i(Wr,a.__scopeSelect),[c,u]=h.useState(!1),m=at(n,o.onScrollButtonChange);return Mt(()=>{if(r.viewport&&r.isPositioned){let x=function(){const v=f.scrollHeight-f.clientHeight,b=Math.ceil(f.scrollTop)<v;u(b)};const f=r.viewport;return x(),f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[r.viewport,r.isPositioned]),c?e.jsx(kh,{...a,ref:m,onAutoScroll:()=>{const{viewport:x,selectedItem:f}=r;x&&f&&(x.scrollTop=x.scrollTop+f.offsetHeight)}}):null});Nh.displayName=Wr;var kh=h.forwardRef((a,n)=>{const{__scopeSelect:r,onAutoScroll:o,...c}=a,u=ms("SelectScrollButton",r),m=h.useRef(null),x=Fn(r),f=h.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return h.useEffect(()=>()=>f(),[f]),Mt(()=>{x().find(b=>b.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[x]),e.jsx(Re.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:we(c.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:we(c.onPointerMove,()=>{u.onItemLeave?.(),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:we(c.onPointerLeave,()=>{f()})})}),av="SelectSeparator",Ch=h.forwardRef((a,n)=>{const{__scopeSelect:r,...o}=a;return e.jsx(Re.div,{"aria-hidden":!0,...o,ref:n})});Ch.displayName=av;var Vr="SelectArrow",nv=h.forwardRef((a,n)=>{const{__scopeSelect:r,...o}=a,c=$n(r),u=us(Vr,r),m=ms(Vr,r);return u.open&&m.position==="popper"?e.jsx(vl,{...c,...o,ref:n}):null});nv.displayName=Vr;var rv="SelectBubbleInput",Sh=h.forwardRef(({__scopeSelect:a,value:n,...r},o)=>{const c=h.useRef(null),u=at(o,c),m=Td(n);return h.useEffect(()=>{const x=c.current;if(!x)return;const f=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(f,"value").set;if(m!==n&&b){const y=new Event("change",{bubbles:!0});b.call(x,n),x.dispatchEvent(y)}},[m,n]),e.jsx(Re.select,{...r,style:{...Jl,...r.style},ref:u,defaultValue:n})});Sh.displayName=rv;function Ph(a){return a===""||a===void 0}function Th(a){const n=Us(a),r=h.useRef(""),o=h.useRef(0),c=h.useCallback(m=>{const x=r.current+m;n(x),function f(v){r.current=v,window.clearTimeout(o.current),v!==""&&(o.current=window.setTimeout(()=>f(""),1e3))}(x)},[n]),u=h.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,c,u]}function Eh(a,n,r){const c=n.length>1&&Array.from(n).every(v=>v===n[0])?n[0]:n,u=r?a.indexOf(r):-1;let m=iv(a,Math.max(u,0));c.length===1&&(m=m.filter(v=>v!==r));const f=m.find(v=>v.textValue.toLowerCase().startsWith(c.toLowerCase()));return f!==r?f:void 0}function iv(a,n){return a.map((r,o)=>a[(n+o)%a.length])}var ov=ah,Mh=rh,lv=oh,cv=lh,dv=ch,Lh=dh,hv=fh,Rh=gh,Ah=yh,uv=bh,mv=jh,Oh=_h,Ih=Nh,Dh=Ch;const La=ov,Ra=lv,sa=h.forwardRef(({className:a,children:n,...r},o)=>e.jsxs(Mh,{ref:o,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[n,e.jsx(cv,{asChild:!0,children:e.jsx(li,{className:"h-4 w-4 opacity-50"})})]}));sa.displayName=Mh.displayName;const zh=h.forwardRef(({className:a,...n},r)=>e.jsx(Oh,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",a),...n,children:e.jsx(Jf,{className:"h-4 w-4"})}));zh.displayName=Oh.displayName;const Fh=h.forwardRef(({className:a,...n},r)=>e.jsx(Ih,{ref:r,className:ue("flex cursor-default items-center justify-center py-1",a),...n,children:e.jsx(li,{className:"h-4 w-4"})}));Fh.displayName=Ih.displayName;const aa=h.forwardRef(({className:a,children:n,position:r="popper",...o},c)=>e.jsx(dv,{children:e.jsxs(Lh,{ref:c,className:ue("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...o,children:[e.jsx(zh,{}),e.jsx(hv,{className:ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(Fh,{})]})}));aa.displayName=Lh.displayName;const fv=h.forwardRef(({className:a,...n},r)=>e.jsx(Rh,{ref:r,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n}));fv.displayName=Rh.displayName;const wt=h.forwardRef(({className:a,children:n,...r},o)=>e.jsxs(Ah,{ref:o,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(mv,{children:e.jsx(Ia,{className:"h-4 w-4"})})}),e.jsx(uv,{children:n})]}));wt.displayName=Ah.displayName;const pv=h.forwardRef(({className:a,...n},r)=>e.jsx(Dh,{ref:r,className:ue("-mx-1 my-1 h-px bg-muted",a),...n}));pv.displayName=Dh.displayName;const kr={fisioterapeuta:{name:"Fisioterapeuta",icon:"🏃‍♂️",subServices:[{id:"terapias_especializadas",name:"Terapias Especializadas"}]},acompanhante_hospitalar:{name:"Acompanhante Hospitalar",icon:"🏥",subServices:[{id:"acompanhamento_hospitalar",name:"Acompanhamento Hospitalar"},{id:"companhia_apoio_emocional",name:"Companhia e Apoio Emocional"}]},tecnico_enfermagem:{name:"Técnico em Enfermagem",icon:"💉",subServices:[{id:"curativos_medicacao",name:"Curativos e Medicação"},{id:"preparacao_refeicoes",name:"Preparação de Refeições"},{id:"compras_transporte",name:"Compras e Transporte"},{id:"lavanderia_limpeza",name:"Lavanderia e Limpeza"}]}};function xv({onComplete:a}){const[n,r]=h.useState(1),[o,c]=h.useState({name:"",email:"",phone:"",address:"",category:"",subService:"",specialization:"",description:"",experience:"",certifications:"",hourlyRate:"",profileImage:null,documents:[]}),u=4,m=()=>{n<u?r(n+1):a()},x=()=>{n>1&&r(n-1)},f=(b,y)=>{c(k=>({...k,[b]:y}))},v=()=>{switch(n){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Informações Pessoais"}),e.jsx("p",{className:"text-gray-600",children:"Vamos começar com seus dados básicos"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"text",placeholder:"Nome completo",value:o.name,onChange:b=>f("name",b.target.value),className:"pl-10 py-3",required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx(wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"email",placeholder:"E-mail profissional",value:o.email,onChange:b=>f("email",b.target.value),className:"pl-10 py-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"tel",placeholder:"(11) 99999-9999",value:o.phone,onChange:b=>f("phone",b.target.value),className:"pl-10 py-3",required:!0})]}),o.phone&&o.phone.length>=10&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(st,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Telefone válido"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"text",placeholder:"Cidade, Estado",value:o.address,onChange:b=>f("address",b.target.value),className:"pl-10 py-3",required:!0})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Área de Atuação"}),e.jsx("p",{className:"text-gray-600",children:"Selecione sua especialidade profissional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Categoria Principal"}),e.jsxs(La,{value:o.category,onValueChange:b=>f("category",b),children:[e.jsx(sa,{children:e.jsx(Ra,{placeholder:"Selecione sua área de atuação"})}),e.jsx(aa,{children:Object.entries(kr).map(([b,y])=>e.jsxs(wt,{value:b,children:[y.icon," ",y.name]},b))})]})]}),o.category&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Serviço Específico"}),e.jsxs(La,{value:o.subService,onValueChange:b=>f("subService",b),children:[e.jsx(sa,{children:e.jsx(Ra,{placeholder:"Selecione o serviço específico"})}),e.jsx(aa,{children:kr[o.category]?.subServices.map(b=>e.jsx(wt,{value:b.id,children:b.name},b.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Especialização"}),e.jsx(me,{placeholder:"Ex: Fisioterapia respiratória, Reabilitação neurológica...",value:o.specialization,onChange:b=>f("specialization",b.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Descrição dos Serviços"}),e.jsx(Et,{placeholder:"Descreva em detalhes como você realiza seus serviços, metodologia e diferenciais...",rows:4,value:o.description,onChange:b=>f("description",b.target.value)})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Experiência e Qualificações"}),e.jsx("p",{className:"text-gray-600",children:"Conte-nos sobre sua experiência profissional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{placeholder:"Ex: 5 anos",value:o.experience,onChange:b=>f("experience",b.target.value),className:"pl-10"}),e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tempo de Experiência"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"number",placeholder:"80.00",value:o.hourlyRate,onChange:b=>f("hourlyRate",b.target.value),className:"pl-10"}),e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Valor por Hora (R$)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(oi,{className:"h-4 w-4"}),"Certificações e Qualificações"]}),e.jsx(Et,{placeholder:"Liste suas certificações, cursos e qualificações relevantes...",rows:4,value:o.certifications,onChange:b=>f("certifications",b.target.value)})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Documentação"}),e.jsx("p",{className:"text-gray-600",children:"Adicione sua foto e documentos profissionais"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Foto de Perfil"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx($o,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para adicionar uma foto profissional"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG até 2MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(kc,{className:"h-4 w-4"}),"Documentos Profissionais"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx($o,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Adicione diplomas, certificados e registros profissionais"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG até 5MB cada"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5 text-blue-600"}),"Revisão dos Dados"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Categoria:"})," ",o.category&&kr[o.category]?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Especialização:"})," ",o.specialization]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Experiência:"})," ",o.experience]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Valor/Hora:"})," R$ ",o.hourlyRate]})]})]})]})]});default:return null}};return e.jsx(ta,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cadastro de Profissional"})]})}),e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(za,{size:40})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Cadastro do Profissional"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Junte-se à nossa rede de profissionais de saúde"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-white/80 text-sm",children:["Etapa ",n," de ",u]}),e.jsxs("span",{className:"text-white/80 text-sm",children:[Math.round(n/u*100),"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${n/u*100}%`}})})]}),e.jsx(oe,{className:"bg-white/95 backdrop-blur-sm",children:e.jsxs(le,{className:"p-6",children:[v(),e.jsxs("div",{className:"flex gap-3 mt-8",children:[n>1&&e.jsx(D,{variant:"outline",onClick:x,className:"flex-1",children:"Voltar"}),e.jsxs(D,{onClick:m,className:"flex-1",children:[n===u?"Finalizar Cadastro":"Continuar",e.jsx(wc,{className:"ml-2 h-4 w-4"})]})]})]})})]})]})})}function gv(){const{toast:a}=nt(),[n,r]=h.useState(""),[o,c]=h.useState("all"),[u,m]=h.useState([]),[x,f]=h.useState(!0),[v,b]=h.useState(null);h.useEffect(()=>{y()},[]);const y=async()=>{try{f(!0);const I=await fetch(`${fe()}/api/provider/orders`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(I.ok){const R=await I.json();m(R)}else console.error("Erro ao buscar pedidos:",I.statusText),a({title:"Erro",description:"Não foi possível carregar os pedidos",variant:"destructive"})}catch(I){console.error("Erro ao buscar pedidos:",I),a({title:"Erro",description:"Erro de conexão ao carregar pedidos",variant:"destructive"})}finally{f(!1)}},k=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},w=I=>{switch(I){case"pending":return"Pendente";case"accepted":return"Aceito";case"rejected":return"Rejeitado";case"completed":return"Concluído";default:return"Desconhecido"}},N=I=>{switch(I){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},g=I=>{switch(I){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return"Desconhecida"}},T=u.filter(I=>{const R=I.clientName.toLowerCase().includes(n.toLowerCase())||I.serviceType.toLowerCase().includes(n.toLowerCase()),Z=o==="all"||I.status===o;return R&&Z}),E=async I=>{try{b(I);const R=await fetch(`${fe()}/api/provider/orders/${I}/accept`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(R.ok)a({title:"Sucesso",description:"Pedido aceito com sucesso!"}),y();else{const Z=await R.json();a({title:"Erro",description:Z.message||"Erro ao aceitar pedido",variant:"destructive"})}}catch(R){console.error("Erro ao aceitar pedido:",R),a({title:"Erro",description:"Erro de conexão ao aceitar pedido",variant:"destructive"})}finally{b(null)}},j=async I=>{try{b(I);const R=await fetch(`${fe()}/api/provider/orders/${I}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(R.ok)a({title:"Sucesso",description:"Pedido rejeitado com sucesso!"}),y();else{const Z=await R.json();a({title:"Erro",description:Z.message||"Erro ao rejeitar pedido",variant:"destructive"})}}catch(R){console.error("Erro ao rejeitar pedido:",R),a({title:"Erro",description:"Erro de conexão ao rejeitar pedido",variant:"destructive"})}finally{b(null)}},M=I=>{console.log(`Entrando em contato com cliente do pedido ${I}`)};return e.jsx(ta,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meus Pedidos"})]})}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Buscar pedidos...",value:n,onChange:I=>r(I.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[e.jsx(D,{variant:o==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"Todos"}),e.jsx(D,{variant:o==="pending"?"default":"outline",size:"sm",onClick:()=>c("pending"),children:"Pendentes"}),e.jsx(D,{variant:o==="accepted"?"default":"outline",size:"sm",onClick:()=>c("accepted"),children:"Aceitos"}),e.jsx(D,{variant:o==="completed"?"default":"outline",size:"sm",onClick:()=>c("completed"),children:"Concluídos"})]})]}),e.jsx("div",{className:"space-y-4",children:x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ot,{className:"h-8 w-8 text-gray-400 animate-spin"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Carregando pedidos..."})]}):T.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ns,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum pedido encontrado"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:n?"Tente ajustar sua busca":"Você ainda não tem pedidos"})]}):T.map(I=>e.jsxs(oe,{className:"overflow-hidden",children:[e.jsx(Te,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:I.clientName}),e.jsx(We,{className:k(I.status),children:w(I.status)})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.serviceType})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",I.budget]}),e.jsx("p",{className:"text-xs text-gray-500",children:I.timePosted})]})]})}),e.jsxs(le,{className:"pt-0",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:I.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{children:I.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tc,{className:"h-4 w-4"}),e.jsxs("span",{children:[I.distance,"km"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsxs("span",{children:[I.responses," respostas"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(We,{className:N(I.urgency),children:g(I.urgency)}),I.clientRating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm",children:I.clientRating})]})]}),e.jsxs("div",{className:"flex gap-2",children:[I.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(D,{size:"sm",className:"flex-1",onClick:()=>E(I.id),disabled:v===I.id,children:[v===I.id?e.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(st,{className:"h-4 w-4 mr-2"}),"Aceitar"]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>j(I.id),disabled:v===I.id,children:[v===I.id?e.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Rejeitar"]})]}),I.status==="accepted"&&e.jsxs(D,{size:"sm",className:"flex-1",onClick:()=>M(I.id),children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Entrar em Contato"]}),I.clientPhone&&e.jsxs(D,{variant:"outline",size:"sm",children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Ligar"]})]}),I.scheduledDate&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yf,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:["Agendado para: ",I.scheduledDate]})]})})]})]},I.id))})]})]})})}function vv(){const[,a]=ct(),{user:n,logout:r}=vt(),{toast:o}=nt(),[c,u]=h.useState(!0),[m,x]=h.useState(!1),[f,v]=h.useState(!1),[b,y]=h.useState(!1),k=h.useRef(null),[w,N]=h.useState(null),[g,T]=h.useState(null),[E,j]=h.useState({name:"",email:"",phone:"",specialization:"",category:"",subCategory:"",description:"",experience:"",certifications:"",hourlyRate:"",location:"",available:!0});h.useEffect(()=>{n?.userType==="provider"&&M()},[n]);const M=async()=>{try{u(!0);const B=localStorage.getItem("token"),V={"Content-Type":"application/json"};B&&(V.Authorization=`Bearer ${B}`);const P=await fetch(`${fe()}/api/provider/profile`,{credentials:"include",headers:V});if(P.ok){const W=await P.json();N(W),j({name:W.name||"",email:W.email||"",phone:W.phone||"",specialization:W.specialization||"",category:W.category||"",subCategory:W.subCategory||"",description:W.description||"",experience:W.experience||"",certifications:W.certifications||"",hourlyRate:W.hourlyRate||"",location:W.location||"",available:W.available||!0})}const S=await fetch(`${fe()}/api/user`,{credentials:"include",headers:V});if(S.ok){const W=await S.json();T(W)}}catch(B){console.error("Erro ao carregar dados do perfil:",B),o({title:"Erro",description:"Não foi possível carregar os dados do perfil",variant:"destructive"})}finally{u(!1)}},I=async()=>{try{x(!0);const B=localStorage.getItem("token"),V={"Content-Type":"application/json"};B&&(V.Authorization=`Bearer ${B}`);const P=await fetch(`${fe()}/api/provider/profile`,{method:"PUT",credentials:"include",headers:V,body:JSON.stringify(E)});if(P.ok)o({title:"Sucesso",description:"Perfil atualizado com sucesso!"}),v(!1),M();else{const S=await P.json();o({title:"Erro",description:S.message||"Erro ao atualizar perfil",variant:"destructive"})}}catch(B){console.error("Erro ao salvar perfil:",B),o({title:"Erro",description:"Erro de conexão ao salvar perfil",variant:"destructive"})}finally{x(!1)}},R=()=>{v(!1),w&&g&&j({name:w.name||"",email:g.email||"",phone:g.phone||"",specialization:w.specialization||"",category:w.category||"",subCategory:w.subCategory||"",description:w.description||"",experience:w.experience||"",certifications:w.certifications||"",hourlyRate:w.hourlyRate||"",location:w.location||"",available:w.available||!0})},Z=async B=>{const V=B.target.files?.[0];if(!V)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(V.type)){o({title:"Erro",description:"Apenas imagens são permitidas (JPEG, PNG, GIF, WebP)",variant:"destructive"});return}if(V.size>5*1024*1024){o({title:"Erro",description:"A imagem deve ter no máximo 5MB",variant:"destructive"});return}try{y(!0);const S=localStorage.getItem("token"),W=new FormData;W.append("profileImage",V);const G=await fetch(`${fe()}/api/provider/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${S}`},body:W});if(G.ok){const ce=await G.json();w&&N({...w,imageUrl:ce.imageUrl}),o({title:"Sucesso",description:"Imagem de perfil atualizada com sucesso!"})}else{const ce=await G.json();o({title:"Erro",description:ce.message||"Erro ao fazer upload da imagem",variant:"destructive"})}}catch(S){console.error("Erro ao fazer upload da imagem:",S),o({title:"Erro",description:"Erro de conexão ao fazer upload da imagem",variant:"destructive"})}finally{y(!1)}},O=()=>{k.current?.click()},U=()=>{r(),a("/login"),o({title:"Logout realizado",description:"Você foi desconectado com sucesso."})},z=B=>({fisioterapeuta:"Fisioterapeuta",acompanhante_hospitalar:"Acompanhante Hospitalar",tecnico_enfermagem:"Técnico de Enfermagem"})[B]||B,X=B=>({companhia_apoio_emocional:"Companhia e Apoio Emocional",preparacao_refeicoes:"Preparação de Refeições",compras_transporte:"Compras e Transporte",lavanderia_limpeza:"Lavanderia e Limpeza",curativos_medicacao:"Curativos e Medicação",terapias_especializadas:"Terapias Especializadas",acompanhamento_hospitalar:"Acompanhamento Hospitalar"})[B]||B;return c?e.jsx(ta,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando perfil..."})]})})}):e.jsx(ta,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:e.jsxs("div",{className:"w-full max-w-sm lg:max-w-none mx-auto lg:mx-0 relative px-3 sm:px-4 lg:px-8 py-3 sm:py-4 lg:py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>a("/provider-dashboard"),className:"p-2",children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Meu Perfil"})]}),f?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{onClick:R,variant:"outline",size:"sm",children:[e.jsx(Da,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsx(D,{onClick:I,size:"sm",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"h-4 w-4 mr-2"}),"Salvar"]})})]}):e.jsxs(D,{onClick:()=>v(!0),size:"sm",children:[e.jsx(Ac,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"mb-6",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsxs(ls,{className:"w-24 h-24 mx-auto border-4 border-yellow-500",children:[e.jsx(cs,{src:w.imageUrl?`${fe()}${w.imageUrl}`:void 0,alt:w.name}),e.jsx(ds,{className:"bg-yellow-500 text-white text-2xl font-bold",children:w.name?.charAt(0)||"P"})]}),e.jsx(D,{size:"sm",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full w-8 h-8 p-0 bg-white border-2 border-gray-200 hover:bg-gray-50",onClick:O,disabled:b,children:b?e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full"}):e.jsx(Ts,{className:"h-4 w-4"})})]}),e.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:Z,className:"hidden"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:f?e.jsx(me,{value:E.name,onChange:B=>j(V=>({...V,name:B.target.value})),className:"text-center text-2xl font-bold"}):w.name}),e.jsx("p",{className:"text-lg text-primary font-semibold mb-2",children:f?e.jsx(me,{value:E.specialization,onChange:B=>j(V=>({...V,specialization:B.target.value})),className:"text-center text-lg"}):w.specialization}),e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:w.totalReviews}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avaliações"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:w.rating}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nota"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",parseFloat(w.hourlyRate||"0").toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hora"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(We,{variant:w.available?"secondary":"outline",className:`${w.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:w.available?e.jsxs(e.Fragment,{children:[e.jsx(st,{className:"h-3 w-3 mr-1"}),"Disponível"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"h-3 w-3 mr-1"}),"Indisponível"]})})})]})})}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5"}),"Informações Profissionais"]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Pt,{children:"Categoria"}),f?e.jsxs(La,{value:E.category,onValueChange:B=>j(V=>({...V,category:B})),children:[e.jsx(sa,{children:e.jsx(Ra,{placeholder:"Selecione a categoria"})}),e.jsxs(aa,{children:[e.jsx(wt,{value:"fisioterapeuta",children:"Fisioterapeuta"}),e.jsx(wt,{value:"acompanhante_hospitalar",children:"Acompanhante Hospitalar"}),e.jsx(wt,{value:"tecnico_enfermagem",children:"Técnico de Enfermagem"})]})]}):e.jsx("p",{className:"font-medium",children:z(w.category)})]}),e.jsxs("div",{children:[e.jsx(Pt,{children:"Subcategoria"}),f?e.jsxs(La,{value:E.subCategory,onValueChange:B=>j(V=>({...V,subCategory:B})),children:[e.jsx(sa,{children:e.jsx(Ra,{placeholder:"Selecione a subcategoria"})}),e.jsxs(aa,{children:[e.jsx(wt,{value:"companhia_apoio_emocional",children:"Companhia e Apoio Emocional"}),e.jsx(wt,{value:"preparacao_refeicoes",children:"Preparação de Refeições"}),e.jsx(wt,{value:"compras_transporte",children:"Compras e Transporte"}),e.jsx(wt,{value:"lavanderia_limpeza",children:"Lavanderia e Limpeza"}),e.jsx(wt,{value:"curativos_medicacao",children:"Curativos e Medicação"}),e.jsx(wt,{value:"terapias_especializadas",children:"Terapias Especializadas"}),e.jsx(wt,{value:"acompanhamento_hospitalar",children:"Acompanhamento Hospitalar"})]})]}):e.jsx("p",{className:"font-medium",children:X(w.subCategory)})]})]}),e.jsxs("div",{children:[e.jsx(Pt,{children:"Descrição"}),f?e.jsx(Et,{value:E.description,onChange:B=>j(V=>({...V,description:B.target.value})),placeholder:"Descreva seus serviços...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:w.description})]}),e.jsxs("div",{children:[e.jsx(Pt,{children:"Experiência"}),f?e.jsx(Et,{value:E.experience,onChange:B=>j(V=>({...V,experience:B.target.value})),placeholder:"Descreva sua experiência...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:w.experience||"Não informado"})]}),e.jsxs("div",{children:[e.jsx(Pt,{children:"Certificações"}),f?e.jsx(Et,{value:E.certifications,onChange:B=>j(V=>({...V,certifications:B.target.value})),placeholder:"Liste suas certificações...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:w.certifications||"Não informado"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Pt,{children:"Valor por Hora (R$)"}),f?e.jsx(me,{type:"number",value:E.hourlyRate,onChange:B=>j(V=>({...V,hourlyRate:B.target.value})),placeholder:"0.00"}):e.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(w.hourlyRate||"0").toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(Pt,{children:"Localização"}),f?e.jsx(me,{value:E.location,onChange:B=>j(V=>({...V,location:B.target.value})),placeholder:"Sua localização"}):e.jsx("p",{className:"font-medium",children:w.location||"Não informado"})]})]})]})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"h-5 w-5"}),"Informações de Contato"]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wn,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),f?e.jsx(me,{type:"email",value:E.email,onChange:B=>j(V=>({...V,email:B.target.value}))}):e.jsx("p",{className:"font-medium",children:g?.email||"Não informado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Gt,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),f?e.jsx(me,{value:E.phone,onChange:B=>j(V=>({...V,phone:B.target.value}))}):e.jsx("p",{className:"font-medium",children:g?.phone||"Não informado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Oe,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Endereço"}),e.jsx("p",{className:"font-medium",children:w.location||"Não informado"})]})]})]})]}),e.jsx(oe,{className:"mb-6 border-green-100 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Gs,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:g?.isVerified?"Conta Verificada":"Conta Pendente"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g?.isVerified?"Sua identidade foi confirmada com sucesso":"Aguardando verificação da identidade"})]})]}),e.jsx(We,{className:`${g?.isVerified?"bg-green-500 text-white":"bg-yellow-500 text-white"} shadow-md hover:opacity-90 transition-opacity`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:g?.isVerified?"✓":"⏳"}),e.jsx("span",{children:g?.isVerified?"Verificado":"Pendente"})]})})]})})}),e.jsx(oe,{className:"mb-6 border-red-100 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Pa,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Sair da Conta"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Encerre sua sessão e saia do aplicativo"})]})]}),e.jsxs(D,{onClick:U,variant:"destructive",className:"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Sair"]})]})})})]})]})})})}function yv(){const{user:a}=vt(),{toast:n}=nt(),[,r]=ct(),[o,c]=h.useState([]),[u,m]=h.useState(!0),[x,f]=h.useState(""),[v,b]=h.useState("all");h.useEffect(()=>{(async()=>{if(a)try{m(!0);const M=await fetch(`${fe()}/api/professionals/${a.id}/proposals`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(M.ok){const I=await M.json();c(I)}else console.error("Erro ao buscar propostas:",M.status),n({title:"Erro",description:"Não foi possível carregar suas propostas",variant:"destructive"})}catch(M){console.error("Erro ao buscar propostas:",M),n({title:"Erro",description:"Erro ao carregar propostas",variant:"destructive"})}finally{m(!1)}})()},[a,n]);const y=o.filter(j=>{const M=j.serviceRequest.serviceType.toLowerCase().includes(x.toLowerCase())||j.serviceRequest.clientName.toLowerCase().includes(x.toLowerCase())||j.serviceRequest.description.toLowerCase().includes(x.toLowerCase()),I=v==="all"||j.status===v;return M&&I}),k=j=>{switch(j){case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},w=j=>{switch(j){case"accepted":return"Aceita";case"rejected":return"Rejeitada";case"completed":return"Concluída";case"pending":return"Pendente";default:return"Desconhecido"}},N=j=>{switch(j){case"accepted":return e.jsx(st,{className:"h-4 w-4"});case"rejected":return e.jsx(ks,{className:"h-4 w-4"});case"completed":return e.jsx(st,{className:"h-4 w-4"});case"pending":return e.jsx(lt,{className:"h-4 w-4"});default:return e.jsx(lt,{className:"h-4 w-4"})}},g=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=j=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(j)),E=async j=>{try{console.log("🚀 Iniciando openChat para proposta:",j.id),console.log("📋 Dados da proposta:",{clientId:j.serviceRequest.clientId,serviceRequestId:j.serviceRequestId,serviceType:j.serviceRequest.serviceType,clientName:j.serviceRequest.clientName});const M=localStorage.getItem("token");if(!M){console.error("❌ Token não encontrado"),n({title:"Erro",description:"Token de autenticação não encontrado. Faça login novamente.",variant:"destructive"});return}n({title:"Iniciando conversa...",description:"Aguarde um momento..."});const I={clientId:j.serviceRequest.clientId,serviceRequestId:j.serviceRequestId,initialMessage:`Olá! Gostaria de conversar sobre o serviço "${j.serviceRequest.serviceType}". Minha proposta: R$ ${j.proposedPrice} - Tempo estimado: ${j.estimatedTime}. ${j.message?`Observações: ${j.message}`:""}`};console.log("📤 Enviando requisição para /api/conversations"),console.log("📤 Request body:",I),console.log("📤 API URL:",fe());const R=await fetch(`${fe()}/api/conversations`,{method:"POST",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(console.log("📥 Response status:",R.status),console.log("📥 Response headers:",Object.fromEntries(R.headers.entries())),R.ok){const Z=await R.json();console.log("✅ Resposta bem-sucedida:",Z),n({title:"Conversa iniciada!",description:`Mensagem enviada para ${j.serviceRequest.clientName}`}),console.log("🧭 Navegando para:",`/messages/${Z.id}`),r(`/messages/${Z.id}`)}else{const Z=await R.json();console.error("❌ Erro na resposta:",Z),console.error("❌ Status:",R.status),n({title:"Erro",description:Z.message||"Erro ao iniciar conversa",variant:"destructive"})}}catch(M){console.error("❌ Erro ao abrir chat:",M),n({title:"Erro",description:"Erro ao abrir chat. Tente novamente.",variant:"destructive"})}};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-yellow-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas propostas..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{href:"/provider-dashboard",children:e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Xe,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Minhas Propostas"})]})}),e.jsxs("div",{className:"p-4 space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(me,{placeholder:"Buscar por serviço, cliente ou descrição...",value:x,onChange:j=>f(j.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:v==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),children:"Todas"}),e.jsx(D,{variant:v==="pending"?"default":"outline",size:"sm",onClick:()=>b("pending"),children:"Pendentes"}),e.jsx(D,{variant:v==="accepted"?"default":"outline",size:"sm",onClick:()=>b("accepted"),children:"Aceitas"}),e.jsx(D,{variant:v==="rejected"?"default":"outline",size:"sm",onClick:()=>b("rejected"),children:"Rejeitadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Propostas"}),e.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),e.jsx(Jt,{className:"h-6 w-6 text-blue-600"})]})})}),e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.filter(j=>j.status==="pending").length})]}),e.jsx(lt,{className:"h-6 w-6 text-yellow-600"})]})})}),e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aceitas"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.filter(j=>j.status==="accepted").length})]}),e.jsx(st,{className:"h-6 w-6 text-green-600"})]})})}),e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Concluídas"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.filter(j=>j.status==="completed").length})]}),e.jsx(st,{className:"h-6 w-6 text-blue-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsx(oe,{children:e.jsxs(le,{className:"p-8 text-center",children:[e.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:x||v!=="all"?"Nenhuma proposta encontrada":"Nenhuma proposta ainda"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x||v!=="all"?"Tente ajustar os filtros de busca":"Você ainda não fez nenhuma proposta. Explore os serviços disponíveis!"}),!x&&v==="all"&&e.jsx(Fe,{href:"/provider-dashboard",children:e.jsx(D,{className:"mt-4",children:"Explorar Serviços"})})]})}):y.map(j=>e.jsx(oe,{className:"hover:shadow-md transition-shadow",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:j.serviceRequest.serviceType}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:j.serviceRequest.description})]}),e.jsx(We,{className:k(j.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[N(j.status),w(j.status)]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[j.serviceRequest.clientProfileImage?e.jsx("img",{src:`${fe()}${j.serviceRequest.clientProfileImage}`,alt:j.serviceRequest.clientName,className:"w-10 h-10 rounded-full object-cover",onError:M=>{const I=M.target;I.style.display="none";const R=I.parentElement;R&&(R.innerHTML=`
                                  <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm font-bold">
                                      ${j.serviceRequest.clientName.charAt(0).toUpperCase()}
                                    </span>
                                  </div>
                                `)}}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:j.serviceRequest.clientName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:j.serviceRequest.clientName}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cliente desde ",new Date(j.serviceRequest.clientCreatedAt).getFullYear()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(_t,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sua Proposta"}),e.jsx("p",{className:"font-semibold text-green-600",children:T(j.proposedPrice)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(_t,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento Cliente"}),e.jsx("p",{className:"font-semibold text-blue-600",children:T(j.serviceRequest.budget)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(lt,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo Estimado"}),e.jsx("p",{className:"font-semibold text-purple-600",children:j.estimatedTime})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Ye,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Agendada"}),e.jsx("p",{className:"font-semibold text-orange-600",children:j.serviceRequest.scheduledDate?new Date(j.serviceRequest.scheduledDate).toLocaleDateString("pt-BR"):"Não definida"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{children:j.serviceRequest.address})]}),j.message&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Sua mensagem:"})," ",j.message]})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Proposta enviada em ",g(j.createdAt)]})]}),e.jsx("div",{className:"flex flex-col gap-2 lg:flex-shrink-0",children:e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>E(j),children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Chat com Cliente"]})})]})})},j.id))})]})]})}function bv(){const n=Qc()?.id;vt();const{toast:r}=nt(),[o,c]=h.useState(""),[u,m]=h.useState(""),[x,f]=h.useState(""),[v,b]=h.useState(!1),[y,k]=h.useState(!0),[w,N]=h.useState(null),[g,T]=h.useState(null),[E,j]=h.useState(!1),[M,I]=h.useState([]),[R,Z]=h.useState(!1),[O,U]=h.useState(!1),[z,X]=h.useState(""),[B,V]=h.useState(!1),[P,S]=h.useState(!1),[W,G]=h.useState(""),[ce,K]=h.useState(!1),[se,re]=h.useState({id:parseInt(n||"0"),clientName:"",clientAvatar:"",clientProfileImage:"",serviceType:"",location:"",distance:0,urgency:"low",budget:0,description:"",timePosted:"",responses:0,preferredTime:"",scheduledTime:"",clientRating:0,previousServices:0,additionalDetails:"",additionalInfo:"",address:"",scheduledDate:"",status:"open",clientCreatedAt:""}),ve=(Q,F,$,te)=>{const Ne=($-Q)*Math.PI/180,Je=(te-F)*Math.PI/180,dt=Math.sin(Ne/2)*Math.sin(Ne/2)+Math.cos(Q*Math.PI/180)*Math.cos($*Math.PI/180)*Math.sin(Je/2)*Math.sin(Je/2);return 6371*(2*Math.atan2(Math.sqrt(dt),Math.sqrt(1-dt)))},Pe=()=>new Promise(Q=>{if(!navigator.geolocation){Q(null);return}navigator.geolocation.getCurrentPosition(F=>{const{latitude:$,longitude:te}=F.coords;Q([$,te])},F=>{Q(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),je=async Q=>{try{const F=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Q)}&limit=1&countrycodes=br`,{method:"GET",headers:{Accept:"application/json","User-Agent":"LifeBee-App/1.0"}});if(!F.ok)return null;const $=await F.json();if($&&$.length>0){const{lat:te,lon:_e}=$[0];return[parseFloat(te),parseFloat(_e)]}return null}catch{return null}};h.useEffect(()=>{(async()=>{if(!n){N("ID do serviço não fornecido"),k(!1);return}try{k(!0),N(null);const F=await fetch(`${fe()}/api/service-requests/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!F.ok)throw new Error(`Erro ao carregar serviço: ${F.status}`);const $=await F.json(),te={id:$.id,clientName:$.clientName||"Cliente",clientAvatar:$.clientProfileImage||"",clientProfileImage:$.clientProfileImage||"",serviceType:$.serviceType||"Serviço",location:$.address||"",distance:0,urgency:$.urgency||"low",budget:$.budget||0,description:$.description||"Descrição não disponível",timePosted:$.createdAt||"",responses:$.responses||0,preferredTime:$.scheduledTime||"Não definido",scheduledTime:$.scheduledTime||"Não definido",clientRating:5,previousServices:0,additionalDetails:$.description||"",additionalInfo:$.description||"",address:$.address||"Endereço não informado",scheduledDate:$.scheduledDate||"",status:$.status||"open",clientCreatedAt:$.clientCreatedAt||""};if(re(te),te.address&&te.address!=="Endereço não informado"){j(!0);try{const _e=await Pe();T(_e);const Ne=await je(te.address);if(Ne&&_e){const Je=ve(_e[0],_e[1],Ne[0],Ne[1]);re(dt=>({...dt,distance:Math.round(Je*10)/10}))}else re(Je=>({...Je,distance:-1}))}catch{re(Ne=>({...Ne,distance:-1}))}finally{j(!1)}}}catch(F){console.error("Erro ao carregar serviço:",F),N(F instanceof Error?F.message:"Erro desconhecido"),r({title:"Erro",description:"Não foi possível carregar os detalhes do serviço",variant:"destructive"})}finally{k(!1)}})()},[n,r]),h.useEffect(()=>{(async()=>{if(n)try{Z(!0);const F=await fetch(`${fe()}/api/service-requests/${n}/offers`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(F.ok){const $=await F.json();I($)}else console.error("Erro ao buscar propostas:",F.status)}catch(F){console.error("Erro ao buscar propostas:",F)}finally{Z(!1)}})()},[n]);const Y=async()=>{if(o.trim()&&u&&x)try{const Q=await fetch(`${fe()}/api/service-requests/${n}/offers`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({proposedPrice:parseFloat(u),estimatedTime:x,message:o})});if(Q.ok){const F=await Q.json();r({title:"Sucesso!",description:"Sua proposta foi enviada com sucesso"});const $=await fetch(`${fe()}/api/service-requests/${n}/offers`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if($.ok){const te=await $.json();I(te)}b(!0)}else{const F=await Q.json();r({title:"Erro",description:F.message||"Não foi possível enviar a proposta",variant:"destructive"})}}catch{r({title:"Erro",description:"Não foi possível enviar a proposta",variant:"destructive"})}},de=async()=>{if(!z.trim()){r({title:"Erro",description:"Digite uma mensagem antes de enviar",variant:"destructive"});return}V(!0);try{await new Promise(Q=>setTimeout(Q,1e3)),r({title:"Sucesso",description:"Mensagem enviada com sucesso!"}),X(""),U(!1)}catch(Q){console.error("Erro ao enviar mensagem:",Q),r({title:"Erro",description:"Erro ao enviar mensagem. Tente novamente.",variant:"destructive"})}finally{V(!1)}},ae=async()=>{if(!W.trim()){r({title:"Erro",description:"Digite uma mensagem antes de enviar",variant:"destructive"});return}K(!0);try{await new Promise(Q=>setTimeout(Q,1e3)),r({title:"Sucesso",description:"Mensagem enviada com sucesso!"}),G(""),S(!1)}catch(Q){console.error("Erro ao enviar mensagem:",Q),r({title:"Erro",description:"Erro ao enviar mensagem. Tente novamente.",variant:"destructive"})}finally{K(!1)}},ne=Q=>{switch(Q){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},Ce=Q=>{const F=new Date(Q),te=Math.floor((new Date().getTime()-F.getTime())/(1e3*60));return te<1?"agora mesmo":te<60?`há ${te} min`:te<1440?`há ${Math.floor(te/60)}h`:`há ${Math.floor(te/1440)} dias`};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-yellow-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando detalhes do serviço..."})]})}):w?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx(Ns,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar serviço"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:w}),e.jsx(Fe,{href:"/provider-dashboard",children:e.jsxs(D,{children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Voltar ao Dashboard"]})})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{href:"/provider-dashboard",children:e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Xe,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Detalhes do Serviço"})]})}),e.jsx("div",{className:"p-3 sm:p-4 space-y-4 sm:space-y-6 max-w-4xl mx-auto",children:v?e.jsx(oe,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:e.jsxs(le,{className:"p-4 sm:p-6 text-center",children:[e.jsx(st,{className:"h-12 w-12 sm:h-16 sm:w-16 text-green-600 mx-auto mb-3 sm:mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-green-800 dark:text-green-200 mb-2",children:"Oferta Enviada com Sucesso!"}),e.jsxs("p",{className:"text-sm sm:text-base text-green-700 dark:text-green-300 mb-4",children:["Sua proposta foi enviada para ",se.clientName,". Você receberá uma notificação quando ela responder."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(Fe,{href:"/provider-dashboard",children:e.jsx(D,{variant:"outline",className:"h-10 sm:h-11 text-sm sm:text-base",children:"Voltar ao Dashboard"})}),e.jsxs(Ea,{open:O,onOpenChange:U,children:[e.jsx(Dr,{asChild:!0,children:e.jsxs(D,{className:"h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})}),e.jsxs(Ys,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Xs,{children:e.jsxs(Js,{className:"text-lg sm:text-xl",children:["Mensagem para ",se.clientName]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Et,{placeholder:"Digite uma mensagem adicional...",rows:4,className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]",value:z,onChange:Q=>X(Q.target.value)}),e.jsx(D,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",onClick:de,disabled:B,children:B?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})]})]})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[se.clientProfileImage?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${fe()}${se.clientProfileImage}`,alt:se.clientName||"Cliente",className:"w-full h-full object-cover",onError:Q=>{const F=Q.target;F.style.display="none";const $=F.parentElement;$&&($.innerHTML=`
                                <div class="w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                  <span class="text-white text-xl font-bold">
                                    ${se.clientName?se.clientName.charAt(0).toUpperCase():"C"}
                                  </span>
                                </div>
                              `)}})}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:se.clientName?se.clientName.charAt(0).toUpperCase():"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:se.clientName||"Cliente"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Nt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:se.clientRating||"5.0"}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[se.previousServices||"0"," serviços"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cliente desde ",se.clientCreatedAt?new Date(se.clientCreatedAt).getFullYear():"2024"]})]})]}),e.jsx(We,{className:ne(se.urgency),children:se.status==="open"?"Aberta":se.status==="in_progress"?"Em Andamento":se.status==="completed"?"Concluída":"Normal"})]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-primary mb-2",children:se.serviceType||"Serviço Solicitado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:se.description||"Descrição do serviço não disponível"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(_t,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento"}),e.jsxs("div",{className:"font-semibold text-green-600",children:["R$ ",se.budget?typeof se.budget=="string"?parseFloat(se.budget).toFixed(2):se.budget.toFixed(2):"0,00"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Oe,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Distância"}),e.jsx("div",{className:"font-semibold text-blue-600",children:E?e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(ot,{className:"h-3 w-3 animate-spin"}),e.jsx("span",{children:"Calculando..."})]}):se.distance===-1?"Não disponível":`${se.distance||"0"} km`})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(lt,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Horário"}),e.jsx("div",{className:"font-semibold text-purple-600",children:se.preferredTime||"Não definido"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Tt,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respostas"}),e.jsx("div",{className:"font-semibold text-orange-600",children:se.responses||0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-500"}),"Endereço"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:se.address||"Endereço não informado"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-gray-500"}),"Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:se.scheduledDate?new Date(se.scheduledDate).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Data não definida"})]}),se.additionalInfo&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-gray-500"}),"Detalhes Adicionais"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:se.additionalInfo})]})]})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Fazer Proposta"]})}),e.jsxs(le,{className:"space-y-4 p-4 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Valor Proposto (R$)"}),e.jsx(me,{type:"number",placeholder:"120.00",value:u,onChange:Q=>m(Q.target.value),className:"h-10 sm:h-11 text-sm sm:text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Tempo Estimado"}),e.jsx(me,{placeholder:"1 hora",value:x,onChange:Q=>f(Q.target.value),className:"h-10 sm:h-11 text-sm sm:text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Mensagem da Proposta"}),e.jsx(Et,{placeholder:"Olá! Sou fisioterapeuta especializada em reabilitação respiratória pós-COVID. Tenho experiência com pacientes na sua faixa etária e posso levar equipamentos específicos para o atendimento domiciliar...",rows:4,value:o,onChange:Q=>c(Q.target.value),className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(Ns,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"Dicas para uma boa proposta:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Demonstre sua experiência específica no tipo de serviço"}),e.jsx("li",{children:"• Mencione equipamentos ou materiais que você possui"}),e.jsx("li",{children:"• Seja claro sobre disponibilidade e tempo de resposta"}),e.jsx("li",{children:"• Ofereça um valor competitivo mas justo"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsxs(D,{onClick:Y,disabled:!o.trim()||!u||!x,className:"flex-1 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Enviar Proposta"]}),e.jsxs(Ea,{open:P,onOpenChange:S,children:[e.jsx(Dr,{asChild:!0,children:e.jsxs(D,{variant:"outline",className:"h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Observações"]})}),e.jsxs(Ys,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Xs,{children:e.jsxs(Js,{className:"text-lg sm:text-xl",children:["Observações para ",se.clientName]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Et,{placeholder:"Faça uma pergunta sobre o serviço...",rows:4,className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]",value:W,onChange:Q=>G(Q.target.value)}),e.jsx(D,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",onClick:ae,disabled:ce,children:ce?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})]})]})]})]})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Outras Propostas"}),R&&e.jsx(ot,{className:"h-4 w-4 animate-spin text-gray-500"})]})}),e.jsx(le,{children:M.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:R?"Carregando propostas...":"Nenhuma proposta ainda"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Seja o primeiro a fazer uma proposta!"})]}):e.jsx("div",{className:"space-y-3",children:M.map(Q=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[Q.professionalProfileImage?e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`${fe()}${Q.professionalProfileImage}`,alt:Q.professionalName||"Profissional",className:"w-full h-full object-cover",onError:F=>{const $=F.target;$.style.display="none";const te=$.parentElement;te&&(te.innerHTML=`
                                       <div class="w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                         <span class="text-white text-xs font-bold">
                                           ${Q.professionalName?Q.professionalName.charAt(0).toUpperCase():"P"}
                                         </span>
                                       </div>
                                     `)}})}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:Q.professionalName?Q.professionalName.charAt(0).toUpperCase():"P"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:Q.professionalName||"Profissional"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["⭐ ",Q.professionalRating||"5.0"," • ",Q.professionalTotalReviews||"0"," serviços"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-sm",children:["R$ ",Q.proposedPrice?parseFloat(Q.proposedPrice).toFixed(2):"0,00"]}),e.jsx("p",{className:"text-xs text-gray-500",children:Ce(Q.createdAt)})]})]},Q.id))})})]})]})})]})}function wv(){console.log("Servico component rendering");const[,a]=ct(),{toast:n}=nt(),{isAuthenticated:r,isLoading:o}=vt(),[c,u]=h.useState(""),[m,x]=h.useState(""),[f,v]=h.useState(""),[b,y]=h.useState(""),[k,w]=h.useState(""),[N,g]=h.useState(""),[T,E]=h.useState(""),[j,M]=h.useState(""),[I,R]=h.useState(""),[Z,O]=h.useState(""),[U,z]=h.useState(""),[X,B]=h.useState(""),[V,P]=h.useState(!1),[S,W]=h.useState(!1),[G,ce]=h.useState(!1);if(h.useEffect(()=>{console.log("Auth state:",{isAuthenticated:r,isLoading:o}),!o&&!r&&(n({title:"Acesso Negado",description:"Você precisa estar logado para acessar esta página",variant:"destructive"}),a("/login"))},[r,o,a,n]),o)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecionando para login..."})})});const K=[{value:"fisioterapeuta",label:"Fisioterapeuta",icon:"🧑‍⚕️"},{value:"acompanhante_hospitalar",label:"Acompanhante Hospitalar",icon:"🏥"},{value:"tecnico_enfermagem",label:"Técnico em Enfermagem",icon:"🩺"}],se=async Y=>{Y.preventDefault(),P(!0),W(!1);const de=localStorage.getItem("token");if(!de){n({title:"Erro",description:"Você precisa estar logado para solicitar um serviço",variant:"destructive"}),P(!1);return}try{const ae=await fetch(`${fe()}/api/service-request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify({category:c,serviceType:m,description:f,address:je(),scheduledDate:Z,scheduledTime:U,budget:X?parseFloat(X):null}),credentials:"include"});if(ae.ok){const ne=await ae.json();W(!0),n({title:"Sucesso!",description:"Sua solicitação foi enviada com sucesso. Profissionais serão notificados."}),u(""),x(""),v(""),y(""),w(""),g(""),E(""),M(""),R(""),O(""),z(""),B("")}else{const ne=await ae.json();n({title:"Erro",description:ne.message||"Erro ao enviar solicitação",variant:"destructive"})}}catch{n({title:"Erro",description:"Erro de conexão. Tente novamente.",variant:"destructive"})}finally{P(!1)}},re=Y=>K.find(de=>de.value===Y)?.icon||"📋",ve=async Y=>{if(Y.length===8){ce(!0);try{const ae=await(await fetch(`https://viacep.com.br/ws/${Y}/json/`)).json();ae.erro?n({title:"CEP não encontrado",description:"Verifique se o CEP está correto",variant:"destructive"}):(w(ae.logradouro||""),E(ae.bairro||""),M(ae.localidade||""),R(ae.uf||""),n({title:"Endereço encontrado!",description:"Endereço preenchido automaticamente pelo CEP",variant:"default"}))}catch(de){console.error("Erro ao buscar CEP:",de),n({title:"Erro",description:"Erro ao buscar endereço pelo CEP",variant:"destructive"})}finally{ce(!1)}}},Pe=Y=>Y.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),je=()=>[k,N,T,j,I].filter(Boolean).join(", ");return console.log("Rendering Servico component, auth state:",{isAuthenticated:r,isLoading:o}),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pb-24",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Solicitar Serviço"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Preencha os dados abaixo para solicitar um profissional"})]}),e.jsxs(oe,{className:"w-full",children:[e.jsx(Te,{children:e.jsxs(Ie,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Nova Solicitação"]})}),e.jsxs(le,{children:[e.jsxs("form",{onSubmit:se,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Categoria do Serviço"}),e.jsxs(La,{value:c,onValueChange:u,required:!0,children:[e.jsx(sa,{children:e.jsx(Ra,{placeholder:"Selecione uma categoria"})}),e.jsx(aa,{children:K.map(Y=>e.jsx(wt,{value:Y.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:Y.icon}),e.jsx("span",{children:Y.label})]})},Y.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Tipo de Serviço"}),e.jsx(me,{placeholder:"Ex: Fisioterapia domiciliar, Acompanhamento hospitalar...",value:m,onChange:Y=>x(Y.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Descrição Detalhada"}),e.jsx(Et,{placeholder:"Descreva o serviço que precisa, sintomas, necessidades específicas...",value:f,onChange:Y=>v(Y.target.value),rows:4,required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(Oe,{className:"h-4 w-4 inline mr-1"}),"Endereço"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{placeholder:"CEP (00000-000)",value:b,onChange:Y=>{const de=Pe(Y.target.value);y(de),de.length===9&&ve(de.replace(/\D/g,""))},maxLength:9,required:!0}),G&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(ot,{className:"h-4 w-4 animate-spin text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(me,{placeholder:"Rua/Avenida",value:k,onChange:Y=>w(Y.target.value),required:!0})}),e.jsx("div",{children:e.jsx(me,{placeholder:"Número",value:N,onChange:Y=>g(Y.target.value),required:!0})})]}),e.jsx(me,{placeholder:"Bairro",value:T,onChange:Y=>E(Y.target.value),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(me,{placeholder:"Cidade",value:j,onChange:Y=>M(Y.target.value),required:!0}),e.jsx(me,{placeholder:"Estado",value:I,onChange:Y=>R(Y.target.value),maxLength:2,required:!0})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Endereço Completo"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:je()||"Preencha os campos acima ou digite o CEP para preenchimento automático"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Data"}),e.jsx(me,{type:"date",value:Z,onChange:Y=>O(Y.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Hora"}),e.jsx(me,{type:"time",value:U,onChange:Y=>z(Y.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Orçamento Previsto (Opcional)"}),e.jsx(me,{type:"number",placeholder:"R$ 0,00",value:X,onChange:Y=>B(Y.target.value),min:"0",step:"0.01"})]}),e.jsx(D,{type:"submit",className:"w-full",disabled:V,size:"lg",children:V?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(st,{className:"mr-2 h-4 w-4"}),"Solicitar Serviço"]})})]}),S&&e.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(st,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Solicitação Enviada!"})]}),e.jsxs("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["Profissionais da categoria ",re(c)," serão notificados sobre sua solicitação."]})]})]})]})]})}),e.jsx(Ut,{hidePlus:!0})]})}var $h="AlertDialog",[jv,ey]=Ps($h,[Al]),ts=Al(),Bh=a=>{const{__scopeAlertDialog:n,...r}=a,o=ts(n);return e.jsx(bl,{...o,...r,modal:!0})};Bh.displayName=$h;var _v="AlertDialogTrigger",Hh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,...o}=a,c=ts(r);return e.jsx(wl,{...c,...o,ref:n})});Hh.displayName=_v;var Nv="AlertDialogPortal",Zh=a=>{const{__scopeAlertDialog:n,...r}=a,o=ts(n);return e.jsx(yl,{...o,...r})};Zh.displayName=Nv;var kv="AlertDialogOverlay",qh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,...o}=a,c=ts(r);return e.jsx(Gr,{...c,...o,ref:n})});qh.displayName=kv;var Ws="AlertDialogContent",[Cv,Sv]=jv(Ws),Pv=pl("AlertDialogContent"),Wh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,children:o,...c}=a,u=ts(r),m=h.useRef(null),x=at(n,m),f=h.useRef(null);return e.jsx(Rm,{contentName:Ws,titleName:Vh,docsSlug:"alert-dialog",children:e.jsx(Cv,{scope:r,cancelRef:f,children:e.jsxs(Kr,{role:"alertdialog",...u,...c,ref:x,onOpenAutoFocus:we(c.onOpenAutoFocus,v=>{v.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:v=>v.preventDefault(),onInteractOutside:v=>v.preventDefault(),children:[e.jsx(Pv,{children:o}),e.jsx(Ev,{contentRef:m})]})})})});Wh.displayName=Ws;var Vh="AlertDialogTitle",Uh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,...o}=a,c=ts(r);return e.jsx(Yr,{...c,...o,ref:n})});Uh.displayName=Vh;var Gh="AlertDialogDescription",Kh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,...o}=a,c=ts(r);return e.jsx(Xr,{...c,...o,ref:n})});Kh.displayName=Gh;var Tv="AlertDialogAction",Qh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,...o}=a,c=ts(r);return e.jsx(Qr,{...c,...o,ref:n})});Qh.displayName=Tv;var Yh="AlertDialogCancel",Xh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:r,...o}=a,{cancelRef:c}=Sv(Yh,r),u=ts(r),m=at(n,c);return e.jsx(Qr,{...u,...o,ref:m})});Xh.displayName=Yh;var Ev=({contentRef:a})=>{const n=`\`${Ws}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ws}\` by passing a \`${Gh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ws}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,a]),null},Mv=Bh,Lv=Hh,Rv=Zh,Jh=qh,eu=Wh,tu=Qh,su=Xh,au=Uh,nu=Kh;const ru=Mv,iu=Lv,Av=Rv,ou=h.forwardRef(({className:a,...n},r)=>e.jsx(Jh,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:r}));ou.displayName=Jh.displayName;const Ni=h.forwardRef(({className:a,...n},r)=>e.jsxs(Av,{children:[e.jsx(ou,{}),e.jsx(eu,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n})]}));Ni.displayName=eu.displayName;const ki=({className:a,...n})=>e.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",a),...n});ki.displayName="AlertDialogHeader";const Ci=({className:a,...n})=>e.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...n});Ci.displayName="AlertDialogFooter";const Si=h.forwardRef(({className:a,...n},r)=>e.jsx(au,{ref:r,className:ue("text-lg font-semibold",a),...n}));Si.displayName=au.displayName;const Pi=h.forwardRef(({className:a,...n},r)=>e.jsx(nu,{ref:r,className:ue("text-sm text-muted-foreground",a),...n}));Pi.displayName=nu.displayName;const Ti=h.forwardRef(({className:a,...n},r)=>e.jsx(tu,{ref:r,className:ue(pi(),a),...n}));Ti.displayName=tu.displayName;const Ei=h.forwardRef(({className:a,...n},r)=>e.jsx(su,{ref:r,className:ue(pi({variant:"outline"}),"mt-2 sm:mt-0",a),...n}));Ei.displayName=su.displayName;function Ov(){const[,a]=ct(),{user:n}=vt(),{toast:r}=nt(),[o,c]=h.useState([]),[u,m]=h.useState(!0),[x,f]=h.useState(null),v=async()=>{if(n){m(!0);try{const g=localStorage.getItem("token");if(console.log("👤 Usuário:",n),!g){r({title:"Erro de Autenticação",description:"Token não encontrado. Faça login novamente.",variant:"destructive"});return}const E=`${fe()}/api/service-requests/my-requests`;console.log("🌐 Fazendo requisição para:",E),console.log("🔑 Token:",g.substring(0,20)+"...");const j=await fetch(E,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(console.log("📡 Resposta do servidor:",j.status,j.statusText),j.ok){const M=await j.json();console.log("✅ Dados recebidos:",M),c(M)}else{console.error("❌ Erro ao buscar solicitações:",j.status);const M=await j.text();console.error("📄 Resposta de erro:",M),r({title:"Erro",description:"Erro ao carregar suas solicitações.",variant:"destructive"})}}catch(g){console.error("💥 Erro ao buscar solicitações:",g),r({title:"Erro de Conexão",description:"Erro ao conectar com o servidor.",variant:"destructive"})}finally{m(!1)}}},b=async g=>{f(g);try{const T=localStorage.getItem("token");if(!T){r({title:"Erro de Autenticação",description:"Token não encontrado. Faça login novamente.",variant:"destructive"});return}const E=await fetch(`${fe()}/api/service-requests/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(E.ok)c(j=>j.filter(M=>M.id!==g)),r({title:"Solicitação Excluída",description:"Sua solicitação foi excluída com sucesso."});else{const j=await E.json();r({title:"Erro",description:j.message||"Erro ao excluir solicitação.",variant:"destructive"})}}catch(T){console.error("Erro ao excluir solicitação:",T),r({title:"Erro de Conexão",description:"Erro ao conectar com o servidor.",variant:"destructive"})}finally{f(null)}};h.useEffect(()=>{v()},[n]);const y=g=>{switch(g){case"open":return"bg-blue-100 text-blue-800 border-blue-200";case"in_progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=g=>{switch(g){case"open":return"Aberta";case"in_progress":return"Em Andamento";case"completed":return"Concluída";case"cancelled":return"Cancelada";default:return"Desconhecido"}},w=g=>{switch(g){case"open":return e.jsx(bs,{className:"h-4 w-4"});case"in_progress":return e.jsx(lt,{className:"h-4 w-4"});case"completed":return e.jsx(st,{className:"h-4 w-4"});case"cancelled":return e.jsx(ks,{className:"h-4 w-4"});default:return e.jsx(bc,{className:"h-4 w-4"})}},N=g=>{switch(g){case"fisioterapeuta":return"Fisioterapeuta";case"acompanhante_hospitalar":return"Acompanhante Hospitalar";case"tecnico_enfermagem":return"Técnico de Enfermagem";default:return g}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pb-24",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"mr-2",children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Minhas Solicitações"})]}),u?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas solicitações..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Nenhuma solicitação encontrada"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Você ainda não fez nenhuma solicitação de serviço"}),e.jsx(D,{onClick:()=>a("/servico"),children:"Fazer Primeira Solicitação"})]}):e.jsx("div",{className:"space-y-4",children:o.map(g=>e.jsxs(oe,{className:"border-l-4 border-l-primary",children:[e.jsx(Te,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Solicitação #",g.id]}),e.jsx(We,{variant:"outline",className:`text-xs ${y(g.status)}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[w(g.status),k(g.status)]})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N(g.category)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>a(`/service-offer/${g.id}`),disabled:g.status!=="open",children:e.jsx(bs,{className:"h-4 w-4"})}),e.jsxs(ru,{children:[e.jsx(iu,{asChild:!0,children:e.jsx(D,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:g.status!=="open"||x===g.id,children:x===g.id?e.jsx(ot,{className:"h-4 w-4 animate-spin"}):e.jsx(Ks,{className:"h-4 w-4"})})}),e.jsxs(Ni,{children:[e.jsxs(ki,{children:[e.jsx(Si,{children:"Excluir Solicitação"}),e.jsx(Pi,{children:"Tem certeza que deseja excluir esta solicitação? Esta ação não pode ser desfeita e todos os profissionais que responderam não poderão mais ver sua solicitação."})]}),e.jsxs(Ci,{children:[e.jsx(Ei,{children:"Cancelar"}),e.jsx(Ti,{onClick:()=>b(g.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]})}),e.jsx(le,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary mb-1",children:g.serviceType}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:g.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:g.address})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:new Date(g.scheduledDate).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:g.scheduledTime})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["R$ ",g.budget&&!isNaN(Number(g.budget))?Number(g.budget).toFixed(2):"Não informado"]})]})]}),g.responses!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsxs("span",{children:[g.responses," profissional(is) responderam"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Criada em ",new Date(g.createdAt).toLocaleDateString("pt-BR")," às"," ",new Date(g.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})})]},g.id))}),e.jsx("div",{className:"mt-6",children:e.jsx(D,{onClick:()=>a("/servico"),className:"w-full",children:"Nova Solicitação"})})]})}),e.jsx(Ut,{})]})}function Iv(){const[a,n]=ct(),{user:r}=vt(),[o,c]=h.useState([]),[u,m]=h.useState([]),[x,f]=h.useState(!0),[v,b]=h.useState("offers"),[y,k]=h.useState(null),[w,N]=h.useState(null);h.useEffect(()=>{r?.id&&(g(),T())},[r]);const g=async()=>{try{const O=localStorage.getItem("token"),U=await fetch(`${fe()}/api/service-requests/client`,{headers:{Authorization:`Bearer ${O}`}});if(U.ok){const z=await U.json();c(z),console.log("✅ Pedidos carregados:",z.length)}else console.error("❌ Erro ao buscar pedidos - Status:",U.status)}catch(O){console.error("❌ Erro ao buscar pedidos:",O)}},T=async()=>{try{const O=localStorage.getItem("token"),U=await fetch(`${fe()}/api/service-offers/client`,{headers:{Authorization:`Bearer ${O}`}});if(U.ok){const z=await U.json();m(z)}else console.error("Erro ao buscar propostas")}catch(O){console.error("Erro ao buscar propostas",O)}finally{f(!1)}},E=async O=>{try{const U=localStorage.getItem("token");(await fetch(`${fe()}/api/service-offers/${O}/accept`,{method:"PUT",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}})).ok&&(T(),g())}catch(U){console.error("Erro ao aceitar proposta:",U)}},j=async O=>{try{const U=localStorage.getItem("token");(await fetch(`${fe()}/api/service-offers/${O}/reject`,{method:"PUT",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}})).ok&&(T(),k(null))}catch(U){console.error("Erro ao rejeitar proposta:",U)}},M=async(O,U)=>{N(U);try{const z=localStorage.getItem("token"),B=`Olá! Gostaria de conversar sobre sua proposta para "${u.find(P=>P.id===U)?.serviceTitle}".`;(await fetch(`${fe()}/api/messages/start-conversation`,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({professionalId:O,message:B})})).ok?n("/messages"):console.error("Erro ao iniciar conversa")}catch(z){console.error("Erro ao iniciar conversa:",z)}finally{N(null)}},I=O=>{switch(O){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=O=>{switch(O){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return O}},Z=O=>({acompanhante_hospitalar:"Acompanhante Hospitalar",cuidador_idosos:"Cuidador de Idosos",enfermagem_domiciliar:"Enfermagem Domiciliar",fisioterapia:"Fisioterapia",nutricao:"Nutrição",psicologia:"Psicologia",terapia_ocupacional:"Terapia Ocupacional",servicos_gerais:"Serviços Gerais"})[O]||O.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase());return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando serviços..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n("/"),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Xe,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(It,{className:"h-5 w-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Meus Serviços"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{href:"/my-service-requests",children:e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(It,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Meus Pedidos"})]})}),e.jsx(Fe,{href:"/agenda",children:e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-yellow-600 transition-colors",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Agenda"})]})}),e.jsx(Fe,{href:"/servico",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg text-sm font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(di,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Novo Pedido"})]})})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsxs("button",{onClick:()=>b("offers"),className:`py-4 px-1 border-b-2 font-medium text-sm ${v==="offers"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Propostas (",u.length,")"]}),e.jsxs("button",{onClick:()=>b("requests"),className:`py-4 px-1 border-b-2 font-medium text-sm ${v==="requests"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Pedidos (",o.length,")"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:v==="offers"?e.jsx("div",{className:"space-y-4",children:u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma proposta recebida"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Quando profissionais enviarem propostas para seus pedidos, elas aparecerão aqui."}),e.jsx(Fe,{href:"/servico",children:e.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-3 rounded-lg font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200",children:"Criar Primeiro Pedido"})})]}):u.map(O=>e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center overflow-hidden shadow-md",children:O.professionalProfileImage?e.jsx("img",{src:O.professionalProfileImage.startsWith("http")?O.professionalProfileImage:`${fe()}${O.professionalProfileImage}`,alt:O.professionalName,className:"w-full h-full object-cover",onError:U=>{const z=U.target;z.style.display="none";const X=z.parentElement;if(X&&!X.querySelector(".fallback-icon")){const B=document.createElement("div");B.className="fallback-icon w-6 h-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white flex items-center justify-center",B.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',X.appendChild(B)}}}):e.jsx(gt,{className:"h-6 w-6 sm:h-7 sm:w-7 lg:h-8 lg:w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg text-gray-900 truncate",children:O.professionalName}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:O.professionalRating})]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["(",O.professionalTotalReviews," ",O.professionalTotalReviews===1?"avaliação":"avaliações",")"]})]})]}),e.jsx("div",{className:"flex-shrink-0 mt-2 sm:mt-0",children:e.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${O.status==="accepted"?"bg-green-100 text-green-800":O.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:O.status==="accepted"?"Aceita":O.status==="rejected"?"Rejeitada":"Pendente"})})]})})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(It,{className:"h-4 w-4 text-blue-600"}),e.jsx("p",{className:"text-sm text-blue-800 font-semibold",children:"Serviço Solicitado"})]}),e.jsx("p",{className:"text-base text-blue-900 font-bold",children:Z(O.serviceTitle)}),e.jsx("div",{className:"flex items-center gap-4 mt-2 text-xs text-blue-700",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ye,{className:"h-3 w-3"}),new Date(O.createdAt).toLocaleDateString("pt-BR")]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(mt,{className:"h-4 w-4 text-gray-600"}),e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Proposta do Profissional"})]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed italic",children:['"',O.message,'"']})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(_t,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Preço"}),e.jsxs("p",{className:"text-sm sm:text-base font-semibold text-green-800 truncate",children:["R$ ",O.price.toFixed(2)]})]})]})}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(lt,{className:"h-3 w-3 sm:h-4 sm:w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Tempo estimado"}),e.jsxs("p",{className:"text-sm sm:text-base font-semibold text-blue-800 truncate",children:[O.estimatedTime," horas"]})]})]})})]}),O.status==="pending"&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>E(O.id),className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-2.5 sm:py-3 px-3 sm:px-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:[e.jsx(st,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Aceitar"}),e.jsx("span",{className:"sm:hidden",children:"Aceitar"})]}),e.jsxs(ru,{open:y===O.id,onOpenChange:U=>!U&&k(null),children:[e.jsx(iu,{asChild:!0,children:e.jsxs("button",{onClick:()=>k(O.id),className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white py-2.5 sm:py-3 px-3 sm:px-4 rounded-xl font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:[e.jsx(ks,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Rejeitar"}),e.jsx("span",{className:"sm:hidden",children:"Rejeitar"})]})}),e.jsxs(Ni,{children:[e.jsxs(ki,{children:[e.jsxs(Si,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(bc,{className:"h-5 w-5 text-red-500"})}),"Rejeitar Proposta"]}),e.jsxs(Pi,{className:"text-left space-y-4",children:[e.jsxs("p",{children:["Tem certeza que deseja rejeitar a proposta de ",e.jsx("strong",{children:O.professionalName}),"?"]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center overflow-hidden",children:O.professionalProfileImage?e.jsx("img",{src:O.professionalProfileImage.startsWith("http")?O.professionalProfileImage:`${fe()}${O.professionalProfileImage}`,alt:O.professionalName,className:"w-full h-full object-cover",onError:U=>{const z=U.target;z.style.display="none";const X=z.parentElement;if(X&&!X.querySelector(".fallback-icon")){const B=document.createElement("div");B.className="fallback-icon w-5 h-5 text-white flex items-center justify-center",B.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>',X.appendChild(B)}}}):e.jsx(gt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:O.professionalName}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_t,{className:"h-4 w-4"}),"R$ ",O.price.toFixed(2)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"h-4 w-4"}),O.estimatedTime," horas"]})]})]})]})}),e.jsx("p",{className:"text-red-600 font-medium",children:"Esta ação não pode ser desfeita e o profissional será notificado."})]})]}),e.jsxs(Ci,{children:[e.jsx(Ei,{children:"Cancelar"}),e.jsx(Ti,{onClick:()=>j(O.id),className:"bg-red-500 hover:bg-red-600 text-white",children:"Sim, Rejeitar"})]})]})]}),e.jsxs("button",{onClick:()=>M(O.professionalId,O.id),disabled:w===O.id,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2.5 sm:py-3 px-4 sm:px-6 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-1.5 sm:gap-2 text-xs sm:text-sm shadow-md hover:shadow-lg transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:[w===O.id?e.jsx(ot,{className:"h-3 w-3 sm:h-4 sm:w-4 animate-spin"}):e.jsx(mt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Conversar"}),e.jsx("span",{className:"sm:hidden",children:"Chat"})]})]})]},O.id))}):e.jsx("div",{className:"space-y-4",children:o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido criado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Crie seu primeiro pedido de serviço e receba propostas de profissionais qualificados."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(Fe,{href:"/servico",children:e.jsx("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-3 rounded-lg font-medium hover:from-yellow-600 hover:to-orange-600 transition-all duration-200",children:"Criar Pedido"})}),e.jsx(Fe,{href:"/my-service-requests",children:e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200",children:"Ver Todos os Pedidos"})})]})]}):o.map(O=>e.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-5 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(It,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1 line-clamp-2",children:O.title}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:Z(O.category)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${O.status==="completed"?"bg-green-100 text-green-800":O.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:O.status==="completed"?"Concluído":O.status==="in_progress"?"Em Andamento":"Aberto"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(O.urgency)}`,children:R(O.urgency)})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed line-clamp-3",children:O.description})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Oe,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Localização"}),e.jsx("p",{className:"text-sm font-medium text-blue-800 truncate",children:O.location})]})]})}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(_t,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Orçamento"}),e.jsxs("p",{className:"text-sm font-medium text-green-800 truncate",children:["R$ ",O.budget.toFixed(2)]})]})]})}),e.jsx("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ye,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Criado em"}),e.jsx("p",{className:"text-sm font-medium text-purple-800 truncate",children:new Date(O.createdAt).toLocaleDateString("pt-BR")})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[O.responseCount," ",O.responseCount===1?"proposta":"propostas"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[O.responseCount>0&&e.jsxs("button",{onClick:()=>b("offers"),className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:["Ver Propostas (",O.responseCount,")"]}),e.jsx(Fe,{href:"/my-service-requests",children:e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-purple-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"Ver Detalhes"})}),e.jsx(Fe,{href:"/servico",children:e.jsx("button",{className:"flex-1 sm:flex-none px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg text-sm font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"Editar"})})]})]})]},O.id))})})]})}function Dv(){const[a,n]=ct(),{user:r}=vt(),[o,c]=h.useState([]),[u,m]=h.useState(!0);h.useEffect(()=>{r?.id&&x()},[r]);const x=async()=>{try{m(!0);const w=localStorage.getItem("token"),N=await fetch(`${fe()}/api/service-requests/client`,{headers:{Authorization:`Bearer ${w}`}});if(N.ok){const g=await N.json();c(g),console.log("✅ Pedidos carregados:",g.length)}else console.error("❌ Erro ao buscar pedidos - Status:",N.status)}catch(w){console.error("❌ Erro ao buscar pedidos:",w)}finally{m(!1)}},f=w=>{switch(w){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=w=>{switch(w){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return w}},b=w=>{switch(w){case"completed":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},y=w=>{switch(w){case"completed":return"Concluído";case"in_progress":return"Em Andamento";case"cancelled":return"Cancelado";case"open":return"Aberto";default:return w}},k=w=>({acompanhante_hospitalar:"Acompanhante Hospitalar",cuidador_idosos:"Cuidador de Idosos",enfermagem_domiciliar:"Enfermagem Domiciliar",fisioterapia:"Fisioterapia",nutricao:"Nutrição",psicologia:"Psicologia",terapia_ocupacional:"Terapia Ocupacional",servicos_gerais:"Serviços Gerais"})[w]||w.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase());return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ot,{className:"h-8 w-8 animate-spin text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando seus pedidos..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n("/services"),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(Xe,{className:"h-5 w-5 text-gray-600"})}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(It,{className:"h-5 w-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Meus Pedidos"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{href:"/services",children:e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Propostas"})]})}),e.jsx(Fe,{href:"/servico",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg text-sm font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(di,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Novo Pedido"})]})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(It,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.length})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(mt,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Propostas Recebidas"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.reduce((w,N)=>w+N.responseCount,0)})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(lt,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Ativos"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.filter(w=>w.status==="open"||w.status==="in_progress").length})]})]})})]}),e.jsx("div",{className:"space-y-6",children:o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(It,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido criado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Crie seu primeiro pedido de serviço e receba propostas de profissionais qualificados."}),e.jsx(Fe,{href:"/servico",children:e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:"Criar Primeiro Pedido"})})]}):o.map(w=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx(It,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2",children:w.title}),e.jsx("p",{className:"text-sm text-blue-600 font-semibold mb-3 bg-blue-50 px-3 py-1 rounded-full inline-block",children:k(w.category)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${b(w.status)}`,children:y(w.status)}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${f(w.urgency)}`,children:["Urgência ",v(w.urgency)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Descrição do Serviço"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:w.description})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Oe,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-blue-700 font-medium mb-1",children:"Localização"}),e.jsx("p",{className:"text-sm font-semibold text-blue-800 truncate",children:w.location})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(_t,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-green-700 font-medium mb-1",children:"Orçamento Máximo"}),e.jsxs("p",{className:"text-sm font-semibold text-green-800",children:["R$ ",w.budget.toFixed(2)]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx(Ye,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-purple-700 font-medium mb-1",children:"Criado em"}),e.jsx("p",{className:"text-sm font-semibold text-purple-800",children:new Date(w.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(mt,{className:"h-5 w-5 text-orange-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Propostas Recebidas"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:w.responseCount}),e.jsx("span",{className:"text-sm text-gray-600",children:w.responseCount===1?"proposta recebida":"propostas recebidas"})]}),w.responseCount>0&&e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-semibold",children:"Aguardando análise"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[w.responseCount>0&&e.jsx(Fe,{href:"/services",className:"flex-1",children:e.jsxs("button",{className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(bs,{className:"h-4 w-4"}),"Ver Propostas (",w.responseCount,")"]})}),e.jsx(Fe,{href:"/servico",className:"flex-1",children:e.jsxs("button",{className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(Mc,{className:"h-4 w-4"}),"Editar Pedido"]})}),w.status==="open"&&e.jsxs("button",{className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Cancelar"]})]})]},w.id))})]})]})}function zv({onLogin:a}){const[n,r]=h.useState(!0),[o,c]=h.useState(!1),[u,m]=h.useState("client"),[x,f]=h.useState(""),[v,b]=h.useState(""),[y,k]=h.useState(""),[w,N]=h.useState(""),[g,T]=h.useState(""),[E,j]=h.useState(!1),{toast:M}=nt(),[I,R]=h.useState(""),[Z,O]=h.useState(""),[U,z]=h.useState(""),[X,B]=h.useState(""),[V,P]=h.useState(""),S=F=>{const $=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return F?$.test(F)?F.length>100?"Email muito longo":"":"Digite um email válido":"Email é obrigatório"},W=F=>{const $=/^\(\d{2}\) \d{4,5}-\d{4}$/;return F?$.test(F)?"":"Digite um telefone válido: (11) 99999-9999":"Telefone é obrigatório"},G=F=>F?F.length<8?"Senha deve ter pelo menos 8 caracteres":/(?=.*[a-z])/.test(F)?/(?=.*[A-Z])/.test(F)?/(?=.*\d)/.test(F)?/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(F)?F.length>50?"Senha muito longa":"":"Senha deve conter pelo menos um caractere especial":"Senha deve conter pelo menos um número":"Senha deve conter pelo menos uma letra maiúscula":"Senha deve conter pelo menos uma letra minúscula":"Senha é obrigatória",ce=F=>F?F.length<2?"Nome deve ter pelo menos 2 caracteres":F.length>100?"Nome muito longo":/^[a-zA-ZÀ-ÿ\s]+$/.test(F)?"":"Nome deve conter apenas letras":"Nome é obrigatório",K=F=>F?F!==v?"As senhas não coincidem":"":"Confirme sua senha",se=F=>{if(!F)return{strength:0,color:"bg-gray-200",text:""};let $=0;return F.length>=8&&$++,/(?=.*[a-z])/.test(F)&&$++,/(?=.*[A-Z])/.test(F)&&$++,/(?=.*\d)/.test(F)&&$++,/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(F)&&$++,$<=1?{strength:$,color:"bg-red-500",text:"Muito fraca"}:$<=2?{strength:$,color:"bg-orange-500",text:"Fraca"}:$<=3?{strength:$,color:"bg-yellow-500",text:"Média"}:$<=4?{strength:$,color:"bg-blue-500",text:"Forte"}:{strength:$,color:"bg-green-500",text:"Muito forte"}},re=F=>{const te=F.replace(/\D/g,"").substring(0,11);return te.length<=2?te:te.length<=7?`(${te.substring(0,2)}) ${te.substring(2)}`:`(${te.substring(0,2)}) ${te.substring(2,7)}-${te.substring(7)}`},ve=F=>{const $=re(F.target.value);T($),n||O(W($))},Pe=F=>{const $=F.target.value;f($),R(S($))},je=F=>{const $=F.target.value;b($),z(n?$?"":"Senha é obrigatória":G($)),y&&B(K(y))},Y=F=>{const $=F.target.value;k($),B(K($))},de=F=>{const $=F.target.value;N($),n||P(ce($))},ae=async F=>{console.log("🔐 Iniciando login social:",F),j(!0);try{const te=`https://lifebee-backend.onrender.com/api/auth/${F}`;console.log("🔐 URL de autenticação:",te),console.log("🔐 Redirecionando diretamente..."),window.location.href=te}catch($){console.error("❌ Erro no login social:",$),j(!1),M({title:"Erro no login social",description:$.message,variant:"destructive"})}},ne=()=>{R(""),O(""),z(""),B(""),P("")},Ce=()=>{r(!n),ne(),n||z("")},Q=async F=>{F.preventDefault();const $=S(x),te=v?"":"Senha é obrigatória";if(R($),z(te),n){if($||te){M({title:"Erro de validação",description:"Por favor, preencha todos os campos",variant:"destructive"});return}}else{const _e=ce(w),Ne=W(g),Je=K(y),dt=G(v);if(P(_e),O(Ne),B(Je),z(dt),$||dt||_e||Ne||Je){M({title:"Erro de validação",description:"Por favor, corrija os campos destacados",variant:"destructive"});return}}j(!0);try{if(n){const _e=await Ma("POST","/api/auth/login",{email:x,password:v,userType:u}),Ne=await _e.json();if(_e.ok)localStorage.setItem("token",Ne.token),localStorage.setItem("user",JSON.stringify(Ne.user)),M({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${Ne.user.name}`}),a(Ne.user.userType);else throw new Error(Ne.message||"Erro no login")}else{const _e=await Ma("POST","/api/auth/register",{username:x,email:x,password:v,name:w,userType:u,phone:g}),Ne=await _e.json();if(_e.ok)localStorage.setItem("token",Ne.token),localStorage.setItem("user",JSON.stringify(Ne.user)),M({title:"Conta criada com sucesso!",description:`Bem-vindo(a), ${Ne.user.name}`}),a(Ne.user.userType);else throw new Error(Ne.message||"Erro no cadastro")}}catch(_e){M({title:n?"Erro no login":"Erro no cadastro",description:_e.message,variant:"destructive"})}finally{j(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 xl:p-12",children:e.jsxs("div",{className:"max-w-md w-full text-center lg:text-left space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 sm:gap-3",children:[e.jsx(za,{size:40,className:"sm:w-12 sm:h-12"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"LifeBee"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-xs sm:text-sm font-medium",children:"Cuidados Profissionais"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:"Conectamos você com profissionais de saúde qualificados"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base lg:text-lg",children:"Fisioterapeutas, técnicos em enfermagem e acompanhantes hospitalares prontos para cuidar de você"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:[e.jsx(We,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 text-xs sm:text-sm",children:"🏃‍♂️ Fisioterapia"}),e.jsx(We,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs sm:text-sm",children:"💉 Enfermagem"}),e.jsx(We,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs sm:text-sm",children:"🏥 Acompanhamento"})]})]})}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 xl:p-12",children:e.jsxs(oe,{className:"w-full max-w-md shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsxs(Te,{className:"space-y-3 sm:space-y-4 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n?"Entrar na conta":"Criar conta"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:n?"Acesse sua conta para continuar":"Junte-se à nossa comunidade de cuidados"})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-1 flex w-full",children:[e.jsx(D,{variant:"ghost",className:`flex-1 rounded-lg transition-all duration-200 text-xs sm:text-sm lg:text-base py-2 sm:py-3 lg:py-4 px-2 sm:px-4 lg:px-6 ${n?"bg-white shadow-sm text-gray-900 dark:bg-gray-600 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white"}`,onClick:()=>{r(!0),ne()},children:"Entrar"}),e.jsx(D,{variant:"ghost",className:`flex-1 rounded-lg transition-all duration-200 text-xs sm:text-sm lg:text-base py-2 sm:py-3 lg:py-4 px-2 sm:px-4 lg:px-6 ${n?"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white":"bg-white shadow-sm text-gray-900 dark:bg-gray-600 dark:text-white"}`,onClick:()=>{r(!1),ne()},children:"Cadastrar"})]})]}),e.jsxs(le,{className:"space-y-3 sm:space-y-4",children:[e.jsxs("form",{onSubmit:Q,className:"space-y-3 sm:space-y-4",children:[!n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Você é:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxs(D,{type:"button",variant:u==="client"?"default":"outline",className:`h-10 sm:h-12 lg:h-14 text-xs sm:text-sm lg:text-base px-2 sm:px-4 lg:px-6 ${u==="client"?"bg-yellow-500 hover:bg-yellow-600":"border-gray-300"}`,onClick:()=>m("client"),children:[e.jsx(gt,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 mr-1 sm:mr-2"}),"Cliente"]}),e.jsxs(D,{type:"button",variant:u==="provider"?"default":"outline",className:`h-10 sm:h-12 lg:h-14 text-xs sm:text-sm lg:text-base px-2 sm:px-4 lg:px-6 ${u==="provider"?"bg-yellow-500 hover:bg-yellow-600":"border-gray-300"}`,onClick:()=>m("provider"),children:[e.jsx(op,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 mr-1 sm:mr-2"}),"Profissional"]})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome completo"}),e.jsx(me,{type:"text",placeholder:"Seu nome completo",value:w,onChange:de,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${V?"border-red-500 focus:border-red-500":""}`,autoComplete:"name",required:!n}),V&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:V})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),e.jsx(me,{type:"tel",placeholder:"(11) 99999-9999",value:g,onChange:ve,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${Z?"border-red-500 focus:border-red-500":""}`,autoComplete:"tel",required:!n}),Z&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:Z})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(me,{type:"email",placeholder:"seu@email.com",value:x,onChange:Pe,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${I?"border-red-500 focus:border-red-500":""}`,autoComplete:"email",required:!0}),I&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:I})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{type:o?"text":"password",placeholder:"Sua senha",value:v,onChange:je,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 pr-10 ${U?"border-red-500 focus:border-red-500":""}`,autoComplete:n?"current-password":"new-password",required:!0}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-10 sm:h-12 w-10 sm:w-12 p-0 hover:bg-transparent",onClick:()=>c(!o),children:o?e.jsx(gn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}):e.jsx(bs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})})]}),U&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:U}),!n&&v&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(F=>{const $=se(v);return e.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${F<=$.strength?$.color:"bg-gray-200"}`},F)})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Força da senha: ",se(v).text]})]})]}),!n&&e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar senha"}),e.jsx(me,{type:"password",placeholder:"Confirme sua senha",value:y,onChange:Y,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${X?"border-red-500 focus:border-red-500":""}`,autoComplete:"new-password",required:!n}),X&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:X})]}),e.jsx(D,{type:"submit",disabled:E,className:"w-full h-10 sm:h-12 lg:h-14 bg-yellow-500 hover:bg-yellow-600 text-white font-medium text-sm sm:text-base lg:text-lg px-4 sm:px-6 lg:px-8",children:E?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n?"Entrando...":"Cadastrando..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:n?"Entrar":"Criar conta"}),e.jsx(wc,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"text-center space-y-2 sm:space-y-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[n?"Não tem uma conta?":"Já tem uma conta?",e.jsx("button",{type:"button",className:"ml-1 text-yellow-600 hover:text-yellow-700 font-medium",onClick:Ce,children:n?"Cadastre-se":"Faça login"})]}),n&&e.jsx("button",{type:"button",className:"text-xs sm:text-sm text-yellow-600 hover:text-yellow-700",children:"Esqueceu sua senha?"})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:e.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 text-gray-500 dark:text-gray-400",children:"Ou continue com"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[e.jsxs(D,{type:"button",variant:"outline",className:"h-10 sm:h-12 flex items-center justify-center gap-2 text-xs sm:text-sm border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",onClick:F=>{F.preventDefault(),F.stopPropagation(),console.log("🔘 Botão Google clicado!"),console.log("🔘 Estado isLoading:",E),console.log("🔘 Evento:",F),console.log("🔘 Target:",F.target),console.log("🔘 Current Target:",F.currentTarget),E?console.log("❌ Botão desabilitado devido ao estado de loading"):ae("google")},disabled:E,children:[e.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(D,{type:"button",variant:"outline",className:"h-10 sm:h-12 flex items-center justify-center gap-2 text-xs sm:text-sm border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",onClick:()=>ae("apple"),disabled:E,children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Apple"]})]})]})]})]})})]})}function cl(){const[,a]=ct();return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(oe,{className:"w-full max-w-md mx-4",children:e.jsxs(le,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Ns,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Página não encontrada"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 mb-6",children:"A página que você está procurando não existe ou foi movida."}),e.jsxs(D,{onClick:()=>a("/"),className:"w-full",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Voltar para Home"]})]})})})}function Fv(){const{user:a}=vt(),{toast:n}=nt(),[r,o]=h.useState([]),[c,u]=h.useState(!0),[m,x]=h.useState("all");h.useEffect(()=>{a?.userType==="provider"&&f()},[a]);const f=async()=>{u(!0);try{const w=await fetch(`${fe()}/api/appointments/provider`,{credentials:"include"});if(w.ok){const N=await w.json();o(N)}else o([])}catch{o([])}finally{u(!1)}},v=w=>{switch(w){case"agendado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"confirmado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"em_andamento":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"concluido":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},b=w=>{switch(w){case"confirmado":return e.jsx(st,{className:"h-3 w-3"});case"cancelado":return e.jsx(ks,{className:"h-3 w-3"});case"em_andamento":return e.jsx(yc,{className:"h-3 w-3"});case"concluido":return e.jsx(st,{className:"h-3 w-3"});default:return e.jsx(Ns,{className:"h-3 w-3"})}},y=w=>{switch(w){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concluído";case"cancelado":return"Cancelado";default:return w}},k=m==="all"?r:r.filter(w=>w.status===m);return e.jsx(ta,{children:e.jsxs("div",{className:"max-w-3xl mx-auto py-4 sm:py-6 px-2 sm:px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Agenda do Profissional"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx(D,{variant:m==="all"?"default":"outline",size:"sm",onClick:()=>x("all"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="all"?"bg-yellow-500 hover:bg-yellow-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Todos"}),e.jsx(D,{variant:m==="agendado"?"default":"outline",size:"sm",onClick:()=>x("agendado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="agendado"?"bg-blue-500 hover:bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Agendados"}),e.jsx(D,{variant:m==="confirmado"?"default":"outline",size:"sm",onClick:()=>x("confirmado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="confirmado"?"bg-green-500 hover:bg-green-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Confirmados"}),e.jsx(D,{variant:m==="em_andamento"?"default":"outline",size:"sm",onClick:()=>x("em_andamento"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="em_andamento"?"bg-orange-500 hover:bg-orange-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Em andamento"}),e.jsx(D,{variant:m==="concluido"?"default":"outline",size:"sm",onClick:()=>x("concluido"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="concluido"?"bg-gray-500 hover:bg-gray-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Concluídos"}),e.jsx(D,{variant:m==="cancelado"?"default":"outline",size:"sm",onClick:()=>x("cancelado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="cancelado"?"bg-red-500 hover:bg-red-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Cancelados"})]}),c?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Carregando agendamentos..."}):k.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Nenhum agendamento encontrado."}):e.jsx("div",{className:"space-y-4",children:k.map(w=>e.jsxs(oe,{children:[e.jsxs(Te,{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-4",children:[e.jsx(gt,{className:"h-6 w-6 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(Ie,{className:"text-base sm:text-lg font-semibold truncate",children:w.clientName}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[ja(new Date(w.date),"dd 'de' MMMM 'de' yyyy",{locale:zr})," às ",w.time]})]}),e.jsxs(We,{className:`${v(w.status)} flex-shrink-0`,children:[b(w.status),e.jsx("span",{className:"ml-1 hidden sm:inline",children:y(w.status)}),e.jsx("span",{className:"ml-1 sm:hidden",children:y(w.status).charAt(0)})]})]}),e.jsx(le,{className:"p-4 pt-0",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Tipo: ",e.jsx("span",{className:"font-medium",children:w.type==="presencial"?"Presencial":"Online"})]}),w.location&&e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Local: ",e.jsx("span",{className:"font-medium truncate block",children:w.location})]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Duração: ",e.jsxs("span",{className:"font-medium",children:[w.duration," min"]})]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Valor: ",e.jsxs("span",{className:"font-medium",children:["R$ ",w.price]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.canConfirm&&e.jsx(D,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Agendamento confirmado!"}),children:"Confirmar"}),w.canStart&&e.jsx(D,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Atendimento iniciado!"}),children:"Iniciar"}),w.canFinish&&e.jsx(D,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Atendimento concluído!"}),children:"Concluir"}),w.canCancel&&e.jsx(D,{size:"sm",variant:"destructive",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Agendamento cancelado!"}),children:"Cancelar"})]})]})})]},w.id))})]})})}function dl({params:a}){const{user:n}=vt(),{toast:r}=nt(),[o,c]=h.useState(""),[u,m]=h.useState(""),x=h.useRef(null),[f,v]=h.useState([]),[b,y]=h.useState([]),[k,w]=h.useState(!0),[,N]=ct(),[g,T]=Yc("/messages/:conversationId"),E=a?.conversationId||null,j=async()=>{try{w(!0);const P=localStorage.getItem("token");if(!P){r({title:"Erro de autenticação",description:"Faça login para acessar as mensagens",variant:"destructive"});return}const S=await fetch(`${fe()}/api/messages`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`}});if(S.ok){const W=await S.json();y(W)}else S.status===401?r({title:"Sessão expirada",description:"Faça login novamente",variant:"destructive"}):r({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"})}catch{r({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"})}finally{w(!1)}},M=async P=>{try{const S=localStorage.getItem("token");if(!S)return;const W=await fetch(`${fe()}/api/messages/${P}`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`}});if(W.ok){const G=await W.json();v(G)}else W.status===404&&(r({title:"Conversa não encontrada",description:"Esta conversa não existe ou você não tem acesso.",variant:"destructive"}),N("/messages"))}catch{}};h.useEffect(()=>{j()},[]),h.useEffect(()=>{E&&M(E)},[E]);const I=b.filter(P=>P.professionalName.toLowerCase().includes(u.toLowerCase())||P.specialization.toLowerCase().includes(u.toLowerCase())),R=b.find(P=>String(P.id)===String(E)),Z=()=>{x.current?.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{Z()},[f]);const O=P=>{const S=new Date,W=new Date(P),G=S.getTime()-W.getTime(),ce=Math.floor(G/(1e3*60)),K=Math.floor(G/(1e3*60*60)),se=Math.floor(G/(1e3*60*60*24));return ce<1?"agora":ce<60?`${ce}m`:K<24?`${K}h`:se<7?`${se}d`:W.toLocaleDateString("pt-BR")},U=P=>new Date(P).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),z=async()=>{if(!o.trim()||!R)return;const P=localStorage.getItem("token");if(!P){r({title:"Erro de autenticação",description:"Faça login para enviar mensagens",variant:"destructive"});return}try{const S={id:Date.now(),senderId:n?.id||0,content:o,timestamp:new Date,isRead:!1,type:"text"};v(G=>[...G,S]),c(""),(await fetch(`${fe()}/api/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({recipientId:R.professionalId,conversationId:Number(E),content:o,type:"text"})})).ok?E&&M(E):(v(G=>G.filter(ce=>ce.id!==S.id)),r({title:"Erro",description:"Não foi possível enviar a mensagem",variant:"destructive"}))}catch{r({title:"Erro de conexão",description:"Não foi possível enviar a mensagem",variant:"destructive"})}},X=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),z())},B=P=>{N(`/messages/${P}`)},V=async P=>{try{const S=localStorage.getItem("token");if(!S)return;(await fetch(`${fe()}/api/messages/conversation/${P}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`}})).ok?(r({title:"Conversa excluída",description:"A conversa foi removida com sucesso."}),j()):r({title:"Erro",description:"Não foi possível excluir a conversa",variant:"destructive"})}catch{r({title:"Erro",description:"Erro ao excluir conversa",variant:"destructive"})}};return E?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>N("/messages"),className:"lg:hidden",children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>N("/messages"),children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(ls,{className:"w-10 h-10",children:[e.jsx(cs,{src:R?.professionalAvatar,alt:R?.professionalName}),e.jsx(ds,{className:"bg-yellow-500 text-white",children:R?.professionalName.split(" ").map(P=>P[0]).join("")})]}),R?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:R?.professionalName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:R?.specialization}),R?.isOnline&&e.jsx("span",{className:"text-xs text-green-600",children:"online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Zs,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Pc,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"60vh"},children:[f.map(P=>{const S=P.senderId===n?.id;return e.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${S?"order-2":""}`,children:[!S&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:R?.professionalName})}),e.jsx("div",{className:`rounded-2xl px-4 py-2 ${S?"bg-yellow-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:P.content})}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${S?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs text-gray-500",children:U(P.timestamp)}),S&&e.jsx("div",{className:"text-gray-500",children:P.isRead?e.jsx(jc,{className:"h-3 w-3 text-blue-500"}):e.jsx(Ia,{className:"h-3 w-3"})})]})]})},P.id)}),e.jsx("div",{ref:x})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Ec,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Ts,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(me,{placeholder:"Digite sua mensagem...",value:o,onChange:P=>c(P.target.value),onKeyPress:X,className:"pr-10"}),e.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:e.jsx(Rc,{className:"h-4 w-4"})})]}),e.jsx(D,{onClick:z,disabled:!o.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:e.jsx(Jt,{className:"h-4 w-4"})})]})})]}),e.jsx(Ut,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})})}),e.jsxs("div",{className:"w-full lg:w-96 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Buscar conversas...",value:u,onChange:P=>m(P.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:k?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Carregando conversas..."})]})}):I.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não tem conversas ativas"})]})}):I.map(P=>e.jsxs("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between",onClick:()=>B(P.id),children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(ls,{className:"w-12 h-12",children:[e.jsx(cs,{src:P.professionalAvatar,alt:P.professionalName}),e.jsx(ds,{className:"bg-yellow-500 text-white",children:P.professionalName.split(" ").map(S=>S[0]).join("")})]}),P.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:P.professionalName}),e.jsx("span",{className:"text-xs text-gray-500",children:O(P.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(We,{variant:"secondary",className:"text-xs px-2 py-0 bg-yellow-100 text-yellow-800",children:P.specialization}),P.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:P.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.lastMessage}),P.unreadCount>0&&e.jsx(We,{className:"bg-yellow-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:P.unreadCount})]}),P.location&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Oe,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.location})]})]})]}),e.jsx("button",{className:"ml-2 p-2 rounded-full hover:bg-red-100 text-red-600",title:"Excluir conversa",onClick:S=>{S.stopPropagation(),V(P.id)},children:e.jsx(Ks,{className:"h-5 w-5"})})]},P.id))})]}),e.jsx(Ut,{})]})}function fn({params:a}){const{user:n}=vt(),{toast:r}=nt(),[o,c]=h.useState(""),[u,m]=h.useState(""),x=h.useRef(null),[f,v]=h.useState([]),[b,y]=h.useState([]),[k,w]=h.useState(!0),[,N]=ct(),[g,T]=Yc("/messages-provider/:conversationId"),E=a?.conversationId||null,j=async()=>{try{console.log("🔄 fetchConversations - Iniciando busca de conversas..."),w(!0);const P=localStorage.getItem("token");if(!P){console.log("❌ Token não encontrado"),r({title:"Erro de autenticação",description:"Faça login para acessar as mensagens",variant:"destructive"});return}const S=await fetch(`${fe()}/api/messages`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`}});if(S.ok){const W=await S.json();console.log("📋 Dados recebidos do backend:",W),y(W),console.log("✅ Conversas atualizadas no estado:",W.length,"conversas")}else S.status===401?(console.log("❌ Erro 401 - Sessão expirada"),r({title:"Sessão expirada",description:"Faça login novamente",variant:"destructive"})):(console.log("❌ Erro na resposta:",S.status),r({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"}))}catch(P){console.log("❌ Erro na busca de conversas:",P),r({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"})}finally{w(!1),console.log("🔄 fetchConversations - Finalizado")}},M=async P=>{try{const S=localStorage.getItem("token");if(!S)return;const W=await fetch(`${fe()}/api/messages/${P}`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`}});if(W.ok){const G=await W.json();v(G)}}catch{}};h.useEffect(()=>{j()},[]),h.useEffect(()=>{E&&M(E)},[E]),h.useEffect(()=>{console.log("Mensagens carregadas do backend:",f)},[f]);const I=b.filter(P=>P.clientName?.toLowerCase().includes(u.toLowerCase())),R=b.find(P=>String(P.id)===String(E)),Z=()=>{x.current?.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{Z()},[f]);const O=P=>{const S=new Date,W=new Date(P),G=S.getTime()-W.getTime(),ce=Math.floor(G/(1e3*60)),K=Math.floor(G/(1e3*60*60)),se=Math.floor(G/(1e3*60*60*24));return ce<1?"agora":ce<60?`${ce}m`:K<24?`${K}h`:se<7?`${se}d`:W.toLocaleDateString("pt-BR")},U=P=>new Date(P).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),z=async()=>{if(!o.trim()||!R)return;const P=localStorage.getItem("token");if(!P){r({title:"Erro de autenticação",description:"Faça login para enviar mensagens",variant:"destructive"});return}try{const S={id:Date.now(),senderId:n?.id||0,content:o,timestamp:new Date,isRead:!1,type:"text"};v(G=>[...G,S]),c(""),(await fetch(`${fe()}/api/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({recipientId:R.clientId,conversationId:Number(E),content:o,type:"text"})})).ok?E&&M(E):(v(G=>G.filter(ce=>ce.id!==S.id)),r({title:"Erro",description:"Não foi possível enviar a mensagem",variant:"destructive"}))}catch{r({title:"Erro de conexão",description:"Não foi possível enviar a mensagem",variant:"destructive"})}},X=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),z())},B=P=>{N(`/messages-provider/${P}`)},V=async P=>{try{console.log("🗑️ Tentando excluir conversa:",P);const S=localStorage.getItem("token");if(!S)return;const W=await fetch(`${fe()}/api/messages/conversation/${P}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`}});W.ok?(console.log("✅ Conversa excluída com sucesso, recarregando lista..."),r({title:"Conversa excluída",description:"A conversa foi removida com sucesso."}),await j(),console.log("✅ Lista de conversas recarregada")):(console.log("❌ Erro ao excluir conversa:",W.status),r({title:"Erro",description:"Não foi possível excluir a conversa",variant:"destructive"}))}catch(S){console.log("❌ Erro ao excluir conversa:",S),r({title:"Erro",description:"Erro ao excluir conversa",variant:"destructive"})}};return E?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>N("/messages"),className:"lg:hidden",children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>N("/messages"),children:e.jsx(Xe,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(ls,{className:"w-10 h-10",children:[e.jsx(cs,{src:R?.clientAvatar,alt:R?.clientName}),e.jsx(ds,{className:"bg-yellow-500 text-white",children:R?.clientName?.split(" ").map(P=>P[0]).join("")})]}),R?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:R?.clientName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:R?.specialization}),R?.isOnline&&e.jsx("span",{className:"text-xs text-green-600",children:"online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Zs,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Pc,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"60vh"},children:[f.map(P=>{const S=P.senderId===n?.id;return e.jsx("div",{className:`flex ${S?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${S?"order-2":""}`,children:[!S&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:R?.clientName})}),e.jsx("div",{className:`rounded-2xl px-4 py-2 ${S?"bg-yellow-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:P.content})}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${S?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs text-gray-500",children:U(P.timestamp)}),S&&e.jsx("div",{className:"text-gray-500",children:P.isRead?e.jsx(jc,{className:"h-3 w-3 text-blue-500"}):e.jsx(Ia,{className:"h-3 w-3"})})]})]})},P.id)}),e.jsx("div",{ref:x})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Ec,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(Ts,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(me,{placeholder:"Digite sua mensagem...",value:o,onChange:P=>c(P.target.value),onKeyPress:X,className:"pr-10"}),e.jsx(D,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:e.jsx(Rc,{className:"h-4 w-4"})})]}),e.jsx(D,{onClick:z,disabled:!o.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:e.jsx(Jt,{className:"h-4 w-4"})})]})})]}),e.jsx($r,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})})}),e.jsxs("div",{className:"w-full lg:w-96 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Buscar conversas...",value:u,onChange:P=>m(P.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:k?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Carregando conversas..."})]})}):I.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não tem conversas ativas"})]})}):I.map(P=>e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between",onClick:()=>B(P.id),children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(ls,{className:"w-10 h-10 sm:w-12 sm:h-12",children:[e.jsx(cs,{src:P.clientAvatar,alt:P.clientName}),e.jsx(ds,{className:"bg-yellow-500 text-white text-xs sm:text-sm",children:P.clientName?.split(" ").map(S=>S[0]).join("")})]}),P.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:P.clientName}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:O(P.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1 flex-wrap",children:[e.jsx(We,{variant:"secondary",className:"text-xs px-1.5 sm:px-2 py-0 bg-yellow-100 text-yellow-800",children:P.specialization}),P.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:P.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate flex-1 min-w-0",children:P.lastMessage}),P.unreadCount>0&&e.jsx(We,{className:"bg-yellow-500 text-white text-xs min-w-[18px] sm:min-w-[20px] h-4 sm:h-5 flex items-center justify-center flex-shrink-0",children:P.unreadCount})]}),P.location&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Oe,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-500 truncate",children:P.location})]})]})]}),e.jsx("button",{className:"ml-1 sm:ml-2 p-1.5 sm:p-2 rounded-full hover:bg-red-100 text-red-600 flex-shrink-0",title:"Excluir conversa",onClick:S=>{S.stopPropagation(),V(P.id)},children:e.jsx(Ks,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]},P.id))})]}),e.jsx($r,{})]})}function $v(){const{toast:a}=nt();return h.useEffect(()=>{console.log("🔄 AuthCallback iniciado"),console.log("🔄 URL atual:",window.location.href),console.log("🔄 Search params:",window.location.search);const n=new URLSearchParams(window.location.search),r=n.get("token"),o=n.get("userType"),c=n.get("error");if(console.log("🔄 Token:",r?"Presente":"Ausente"),console.log("🔄 UserType:",o),console.log("🔄 Error:",c),c){console.log("❌ Erro detectado:",c),a({title:"Erro na autenticação",description:c==="google_auth_failed"?"Falha no login com Google":"Falha no login com Apple",variant:"destructive"}),window.location.href="/login";return}if(r&&o){console.log("✅ Token e userType presentes, processando..."),localStorage.setItem("token",r),console.log("✅ Token salvo no localStorage");try{console.log("🔍 Decodificando token...");const u=JSON.parse(atob(r.split(".")[1]));console.log("🔍 Payload decodificado:",u);const m={id:u.id,email:u.email,userType:u.userType,name:u.name||"Usuário"};console.log("👤 Usuário processado:",m),localStorage.setItem("user",JSON.stringify(m)),console.log("✅ Usuário salvo no localStorage"),a({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${m.name}`});const x=o==="provider"?"/provider-dashboard":"/home";console.log("🔄 Redirecionando para:",x),window.location.href=x}catch(u){console.error("❌ Erro ao decodificar token:",u),a({title:"Erro na autenticação",description:"Token inválido",variant:"destructive"}),console.log("🔄 Redirecionando para /login devido a erro no token"),window.location.href="/login"}}else console.log("❌ Token ou userType ausentes"),a({title:"Erro na autenticação",description:"Dados de autenticação inválidos",variant:"destructive"}),console.log("🔄 Redirecionando para /login devido a dados inválidos"),window.location.href="/login"},[a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(za,{size:48,className:"text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"LifeBee"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:"Cuidados Profissionais"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Processando autenticação..."})]})]})})}function Bv(){const{user:a,isLoading:n,isAuthenticated:r}=vt();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full"})}):r?a?.userType==="provider"?e.jsxs(_r,{children:[e.jsx(Le,{path:"/",component:ol}),e.jsx(Le,{path:"/provider-dashboard",component:ol}),e.jsx(Le,{path:"/provider-registration",children:e.jsx(xv,{onComplete:()=>window.location.reload()})}),e.jsx(Le,{path:"/provider-orders",component:gv}),e.jsx(Le,{path:"/provider-proposals",component:yv}),e.jsx(Le,{path:"/service-offer/:id",component:bv}),e.jsx(Le,{path:"/messages/:conversationId",component:fn}),e.jsx(Le,{path:"/messages",component:fn}),e.jsx(Le,{path:"/messages-provider/:conversationId",component:fn}),e.jsx(Le,{path:"/messages-provider",component:fn}),e.jsx(Le,{path:"/agenda",component:tl}),e.jsx(Le,{path:"/agenda-profissional",component:Fv}),e.jsx(Le,{path:"/profile",component:sl}),e.jsx(Le,{path:"/provider-profile",component:vv}),e.jsx(Le,{path:"/settings",component:al}),e.jsx(Le,{component:cl})]}):e.jsxs(_r,{children:[e.jsx(Le,{path:"/",component:nx}),e.jsx(Le,{path:"/services",component:Iv}),e.jsx(Le,{path:"/my-service-requests",component:Dv}),e.jsx(Le,{path:"/agenda",component:tl}),e.jsx(Le,{path:"/messages/:conversationId",component:dl}),e.jsx(Le,{path:"/messages",component:dl}),e.jsx(Le,{path:"/profile",component:sl}),e.jsx(Le,{path:"/settings",component:al}),e.jsx(Le,{path:"/payment",component:r0}),e.jsx(Le,{path:"/professional/:id",component:c0}),e.jsx(Le,{path:"/servico",component:wv}),e.jsx(Le,{path:"/my-requests",component:Ov}),e.jsx(Le,{component:cl})]}):e.jsxs(_r,{children:[e.jsx(Le,{path:"/auth-callback",component:$v}),e.jsx(Le,{path:"*",children:e.jsx(zv,{onLogin:()=>{window.location.reload()}})})]})}function Hv(){const[a,n]=h.useState(!0);return e.jsx(Ul,{client:Kl,children:e.jsx(Yl,{defaultTheme:"light",storageKey:"lifebee-theme",children:e.jsxs(od,{children:[a?e.jsx(ax,{onComplete:()=>n(!1)}):e.jsx(Bv,{}),e.jsx(Bc,{})]})})})}window.addEventListener("unhandledrejection",a=>{console.warn("Unhandled promise rejection:",a.reason),a.preventDefault()});window.addEventListener("error",a=>{console.warn("Uncaught error:",a.error)});$m.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(fp,{children:e.jsx(Ul,{client:Kl,children:e.jsxs(Yl,{defaultTheme:"light",storageKey:"lifebee-ui-theme",children:[e.jsx(Hv,{}),e.jsx(Bc,{})]})})})}));
