import{r as h,j as e,P as Le,c as ks,a as sl,u as tt,B as lm,b as qs,d as Vi,e as we,f as Ws,g as kn,R as cm,h as al,i as Pt,k as dm,l as hm,m as Cn,D as nl,C as il,n as rl,o as Ra,p as ol,A as ll,q as cl,S as um,O as Ui,s as dl,t as Gi,v as Ki,T as Qi,w as Yi,x as hl,y as ul,z as mm,E as ml,F as fm,I as pm,G as fl,H as pl,J as xl,K as xm,L as gl,M as vl,N as yl,Q as bl,U as wl,V as _l,W as jl,X as gm,Y as vm,Z as ym,_ as Nl,$ as bm,a0 as wm,a1 as ki,a2 as _m,a3 as jm,a4 as Nm,a5 as km,a6 as Cm,a7 as kl,a8 as Sm}from"./ui-lBbVqUN1.js";import{a as Pm,r as Tm,g as Em}from"./vendor-DavUf6mE.js";import{t as Mm,c as Lm,a as Sn}from"./utils--BulIq_u.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}})();var dn={},vo;function Rm(){if(vo)return dn;vo=1;var a=Pm();return dn.createRoot=a.createRoot,dn.hydrateRoot=a.hydrateRoot,dn}var Am=Rm(),sa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bs=typeof window>"u"||"Deno"in globalThis;function dt(){}function Om(a,n){return typeof a=="function"?a(n):a}function Ci(a){return typeof a=="number"&&a>=0&&a!==1/0}function Cl(a,n){return Math.max(a+(n||0)-Date.now(),0)}function rs(a,n){return typeof a=="function"?a(n):a}function Rt(a,n){return typeof a=="function"?a(n):a}function yo(a,n){const{type:i="all",exact:o,fetchStatus:c,predicate:u,queryKey:m,stale:x}=a;if(m){if(o){if(n.queryHash!==Xi(m,n.options))return!1}else if(!ka(n.queryKey,m))return!1}if(i!=="all"){const f=n.isActive();if(i==="active"&&!f||i==="inactive"&&f)return!1}return!(typeof x=="boolean"&&n.isStale()!==x||c&&c!==n.state.fetchStatus||u&&!u(n))}function bo(a,n){const{exact:i,status:o,predicate:c,mutationKey:u}=a;if(u){if(!n.options.mutationKey)return!1;if(i){if(ws(n.options.mutationKey)!==ws(u))return!1}else if(!ka(n.options.mutationKey,u))return!1}return!(o&&n.state.status!==o||c&&!c(n))}function Xi(a,n){return(n?.queryKeyHashFn||ws)(a)}function ws(a){return JSON.stringify(a,(n,i)=>Si(i)?Object.keys(i).sort().reduce((o,c)=>(o[c]=i[c],o),{}):i)}function ka(a,n){return a===n?!0:typeof a!=typeof n?!1:a&&n&&typeof a=="object"&&typeof n=="object"?Object.keys(n).every(i=>ka(a[i],n[i])):!1}function Sl(a,n){if(a===n)return a;const i=wo(a)&&wo(n);if(i||Si(a)&&Si(n)){const o=i?a:Object.keys(a),c=o.length,u=i?n:Object.keys(n),m=u.length,x=i?[]:{},f=new Set(o);let g=0;for(let b=0;b<m;b++){const y=i?b:u[b];(!i&&f.has(y)||i)&&a[y]===void 0&&n[y]===void 0?(x[y]=void 0,g++):(x[y]=Sl(a[y],n[y]),x[y]===a[y]&&a[y]!==void 0&&g++)}return c===m&&g===c?a:x}return n}function gn(a,n){if(!n||Object.keys(a).length!==Object.keys(n).length)return!1;for(const i in a)if(a[i]!==n[i])return!1;return!0}function wo(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Si(a){if(!_o(a))return!1;const n=a.constructor;if(n===void 0)return!0;const i=n.prototype;return!(!_o(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(a)!==Object.prototype)}function _o(a){return Object.prototype.toString.call(a)==="[object Object]"}function Im(a){return new Promise(n=>{setTimeout(n,a)})}function Pi(a,n,i){return typeof i.structuralSharing=="function"?i.structuralSharing(a,n):i.structuralSharing!==!1?Sl(a,n):n}function Dm(a,n,i=0){const o=[...a,n];return i&&o.length>i?o.slice(1):o}function zm(a,n,i=0){const o=[n,...a];return i&&o.length>i?o.slice(0,-1):o}var Ji=Symbol();function Pl(a,n){return!a.queryFn&&n?.initialPromise?()=>n.initialPromise:!a.queryFn||a.queryFn===Ji?()=>Promise.reject(new Error(`Missing queryFn: '${a.queryHash}'`)):a.queryFn}function Tl(a,n){return typeof a=="function"?a(...n):!!a}var Fm=class extends sa{#t;#e;#s;constructor(){super(),this.#s=a=>{if(!bs&&window.addEventListener){const n=()=>a();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#s=a,this.#e?.(),this.#e=a(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(a){this.#t!==a&&(this.#t=a,this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(n=>{n(a)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},er=new Fm,$m=class extends sa{#t=!0;#e;#s;constructor(){super(),this.#s=a=>{if(!bs&&window.addEventListener){const n=()=>a(!0),i=()=>a(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#e||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(a){this.#s=a,this.#e?.(),this.#e=a(this.setOnline.bind(this))}setOnline(a){this.#t!==a&&(this.#t=a,this.listeners.forEach(i=>{i(a)}))}isOnline(){return this.#t}},vn=new $m;function Ti(){let a,n;const i=new Promise((c,u)=>{a=c,n=u});i.status="pending",i.catch(()=>{});function o(c){Object.assign(i,c),delete i.resolve,delete i.reject}return i.resolve=c=>{o({status:"fulfilled",value:c}),a(c)},i.reject=c=>{o({status:"rejected",reason:c}),n(c)},i}function Bm(a){return Math.min(1e3*2**a,3e4)}function El(a){return(a??"online")==="online"?vn.isOnline():!0}var Ml=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function xi(a){return a instanceof Ml}function Ll(a){let n=!1,i=0,o=!1,c;const u=Ti(),m=v=>{o||(k(new Ml(v)),a.abort?.())},x=()=>{n=!0},f=()=>{n=!1},g=()=>er.isFocused()&&(a.networkMode==="always"||vn.isOnline())&&a.canRun(),b=()=>El(a.networkMode)&&a.canRun(),y=v=>{o||(o=!0,a.onSuccess?.(v),c?.(),u.resolve(v))},k=v=>{o||(o=!0,a.onError?.(v),c?.(),u.reject(v))},_=()=>new Promise(v=>{c=T=>{(o||g())&&v(T)},a.onPause?.()}).then(()=>{c=void 0,o||a.onContinue?.()}),E=()=>{if(o)return;let v;const T=i===0?a.initialPromise:void 0;try{v=T??a.fn()}catch(S){v=Promise.reject(S)}Promise.resolve(v).then(y).catch(S=>{if(o)return;const w=a.retry??(bs?0:3),A=a.retryDelay??Bm,I=typeof A=="function"?A(i,S):A,M=w===!0||typeof w=="number"&&i<w||typeof w=="function"&&w(i,S);if(n||!M){k(S);return}i++,a.onFail?.(i,S),Im(I).then(()=>g()?void 0:_()).then(()=>{n?k(S):E()})})};return{promise:u,cancel:m,continue:()=>(c?.(),u),cancelRetry:x,continueRetry:f,canStart:b,start:()=>(b()?E():_().then(E),u)}}var Zm=a=>setTimeout(a,0);function Hm(){let a=[],n=0,i=x=>{x()},o=x=>{x()},c=Zm;const u=x=>{n?a.push(x):c(()=>{i(x)})},m=()=>{const x=a;a=[],x.length&&c(()=>{o(()=>{x.forEach(f=>{i(f)})})})};return{batch:x=>{let f;n++;try{f=x()}finally{n--,n||m()}return f},batchCalls:x=>(...f)=>{u(()=>{x(...f)})},schedule:u,setNotifyFunction:x=>{i=x},setBatchNotifyFunction:x=>{o=x},setScheduler:x=>{c=x}}}var Ye=Hm(),Rl=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ci(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(bs?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},qm=class extends Rl{#t;#e;#s;#a;#n;#r;#o;constructor(a){super(),this.#o=!1,this.#r=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#a=a.client,this.#s=this.#a.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#t=Wm(this.options),this.state=a.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(a){this.options={...this.#r,...a},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(a,n){const i=Pi(this.state.data,a,this.options);return this.#i({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(a,n){this.#i({type:"setState",state:a,setStateOptions:n})}cancel(a){const n=this.#n?.promise;return this.#n?.cancel(a),n?n.then(dt).catch(dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(a=>Rt(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ji||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>rs(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!Cl(this.state.dataUpdatedAt,a)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(n=>n!==a),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(a,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(a&&this.setOptions(a),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,o=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},c=()=>{const f=Pl(this.options,n),b=(()=>{const y={client:this.#a,queryKey:this.queryKey,meta:this.meta};return o(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,b,this):f(b)},m=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:c};return o(f),f})();this.options.behavior?.onFetch(m,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#i({type:"fetch",meta:m.fetchOptions?.meta});const x=f=>{xi(f)&&f.silent||this.#i({type:"error",error:f}),xi(f)||(this.#s.config.onError?.(f,this),this.#s.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#n=Ll({initialPromise:n?.initialPromise,fn:m.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{if(f===void 0){x(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){x(g);return}this.#s.config.onSuccess?.(f,this),this.#s.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:x,onFail:(f,g)=>{this.#i({type:"failed",failureCount:f,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(a){const n=i=>{switch(a.type){case"failed":return{...i,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Al(i.data,this.options),fetchMeta:a.meta??null};case"success":return this.#e=void 0,{...i,data:a.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=a.error;return xi(o)&&o.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...a.state}}};this.state=n(this.state),Ye.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:a})})}};function Al(a,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:El(n.networkMode)?"fetching":"paused",...a===void 0&&{error:null,status:"pending"}}}function Wm(a){const n=typeof a.initialData=="function"?a.initialData():a.initialData,i=n!==void 0,o=i?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:i?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Vm=class extends sa{constructor(a={}){super(),this.config=a,this.#t=new Map}#t;build(a,n,i){const o=n.queryKey,c=n.queryHash??Xi(o,n);let u=this.get(c);return u||(u=new qm({client:a,queryKey:o,queryHash:c,options:a.defaultQueryOptions(n),state:i,defaultOptions:a.getQueryDefaults(o)}),this.add(u)),u}add(a){this.#t.has(a.queryHash)||(this.#t.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const n=this.#t.get(a.queryHash);n&&(a.destroy(),n===a&&this.#t.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Ye.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#t.get(a)}getAll(){return[...this.#t.values()]}find(a){const n={exact:!0,...a};return this.getAll().find(i=>yo(n,i))}findAll(a={}){const n=this.getAll();return Object.keys(a).length>0?n.filter(i=>yo(a,i)):n}notify(a){Ye.batch(()=>{this.listeners.forEach(n=>{n(a)})})}onFocus(){Ye.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Ye.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Um=class extends Rl{#t;#e;#s;constructor(a){super(),this.mutationId=a.mutationId,this.#e=a.mutationCache,this.#t=[],this.state=a.state||Ol(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#t.includes(a)||(this.#t.push(a),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#t=this.#t.filter(n=>n!==a),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(a){const n=()=>{this.#a({type:"continue"})};this.#s=Ll({fn:()=>this.options.mutationFn?this.options.mutationFn(a):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const i=this.state.status==="pending",o=!this.#s.canStart();try{if(i)n();else{this.#a({type:"pending",variables:a,isPaused:o}),await this.#e.config.onMutate?.(a,this);const u=await this.options.onMutate?.(a);u!==this.state.context&&this.#a({type:"pending",context:u,variables:a,isPaused:o})}const c=await this.#s.start();return await this.#e.config.onSuccess?.(c,a,this.state.context,this),await this.options.onSuccess?.(c,a,this.state.context),await this.#e.config.onSettled?.(c,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(c,null,a,this.state.context),this.#a({type:"success",data:c}),c}catch(c){try{throw await this.#e.config.onError?.(c,a,this.state.context,this),await this.options.onError?.(c,a,this.state.context),await this.#e.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,c,a,this.state.context),c}finally{this.#a({type:"error",error:c})}}finally{this.#e.runNext(this)}}#a(a){const n=i=>{switch(a.type){case"failed":return{...i,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...i,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:a.error,failureCount:i.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ye.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(a)}),this.#e.notify({mutation:this,type:"updated",action:a})})}};function Ol(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gm=class extends sa{constructor(a={}){super(),this.config=a,this.#t=new Set,this.#e=new Map,this.#s=0}#t;#e;#s;build(a,n,i){const o=new Um({mutationCache:this,mutationId:++this.#s,options:a.defaultMutationOptions(n),state:i});return this.add(o),o}add(a){this.#t.add(a);const n=hn(a);if(typeof n=="string"){const i=this.#e.get(n);i?i.push(a):this.#e.set(n,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#t.delete(a)){const n=hn(a);if(typeof n=="string"){const i=this.#e.get(n);if(i)if(i.length>1){const o=i.indexOf(a);o!==-1&&i.splice(o,1)}else i[0]===a&&this.#e.delete(n)}}this.notify({type:"removed",mutation:a})}canRun(a){const n=hn(a);if(typeof n=="string"){const o=this.#e.get(n)?.find(c=>c.state.status==="pending");return!o||o===a}else return!0}runNext(a){const n=hn(a);return typeof n=="string"?this.#e.get(n)?.find(o=>o!==a&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ye.batch(()=>{this.#t.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(a){const n={exact:!0,...a};return this.getAll().find(i=>bo(n,i))}findAll(a={}){return this.getAll().filter(n=>bo(a,n))}notify(a){Ye.batch(()=>{this.listeners.forEach(n=>{n(a)})})}resumePausedMutations(){const a=this.getAll().filter(n=>n.state.isPaused);return Ye.batch(()=>Promise.all(a.map(n=>n.continue().catch(dt))))}};function hn(a){return a.options.scope?.id}function jo(a){return{onFetch:(n,i)=>{const o=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,u=n.state.data?.pages||[],m=n.state.data?.pageParams||[];let x={pages:[],pageParams:[]},f=0;const g=async()=>{let b=!1;const y=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(n.signal.aborted?b=!0:n.signal.addEventListener("abort",()=>{b=!0}),n.signal)})},k=Pl(n.options,n.fetchOptions),_=async(E,v,T)=>{if(b)return Promise.reject();if(v==null&&E.pages.length)return Promise.resolve(E);const w=(()=>{const $={client:n.client,queryKey:n.queryKey,pageParam:v,direction:T?"backward":"forward",meta:n.options.meta};return y($),$})(),A=await k(w),{maxPages:I}=n.options,M=T?zm:Dm;return{pages:M(E.pages,A,I),pageParams:M(E.pageParams,v,I)}};if(c&&u.length){const E=c==="backward",v=E?Km:No,T={pages:u,pageParams:m},S=v(o,T);x=await _(T,S,E)}else{const E=a??u.length;do{const v=f===0?m[0]??o.initialPageParam:No(o,x);if(f>0&&v==null)break;x=await _(x,v),f++}while(f<E)}return x};n.options.persister?n.fetchFn=()=>n.options.persister?.(g,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},i):n.fetchFn=g}}}function No(a,{pages:n,pageParams:i}){const o=n.length-1;return n.length>0?a.getNextPageParam(n[o],n,i[o],i):void 0}function Km(a,{pages:n,pageParams:i}){return n.length>0?a.getPreviousPageParam?.(n[0],n,i[0],i):void 0}var Il=class{#t;#e;#s;#a;#n;#r;#o;#i;constructor(a={}){this.#t=a.queryCache||new Vm,this.#e=a.mutationCache||new Gm,this.#s=a.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=er.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=vn.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#e.findAll({...a,status:"pending"}).length}getQueryData(a){const n=this.defaultQueryOptions({queryKey:a});return this.#t.get(n.queryHash)?.state.data}ensureQueryData(a){const n=this.defaultQueryOptions(a),i=this.#t.build(this,n),o=i.state.data;return o===void 0?this.fetchQuery(a):(a.revalidateIfStale&&i.isStaleByTime(rs(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(o))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:n,state:i})=>{const o=i.data;return[n,o]})}setQueryData(a,n,i){const o=this.defaultQueryOptions({queryKey:a}),u=this.#t.get(o.queryHash)?.state.data,m=Om(n,u);if(m!==void 0)return this.#t.build(this,o).setData(m,{...i,manual:!0})}setQueriesData(a,n,i){return Ye.batch(()=>this.#t.findAll(a).map(({queryKey:o})=>[o,this.setQueryData(o,n,i)]))}getQueryState(a){const n=this.defaultQueryOptions({queryKey:a});return this.#t.get(n.queryHash)?.state}removeQueries(a){const n=this.#t;Ye.batch(()=>{n.findAll(a).forEach(i=>{n.remove(i)})})}resetQueries(a,n){const i=this.#t;return Ye.batch(()=>(i.findAll(a).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...a},n)))}cancelQueries(a,n={}){const i={revert:!0,...n},o=Ye.batch(()=>this.#t.findAll(a).map(c=>c.cancel(i)));return Promise.all(o).then(dt).catch(dt)}invalidateQueries(a,n={}){return Ye.batch(()=>(this.#t.findAll(a).forEach(i=>{i.invalidate()}),a?.refetchType==="none"?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},n)))}refetchQueries(a,n={}){const i={...n,cancelRefetch:n.cancelRefetch??!0},o=Ye.batch(()=>this.#t.findAll(a).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let u=c.fetch(void 0,i);return i.throwOnError||(u=u.catch(dt)),c.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(o).then(dt)}fetchQuery(a){const n=this.defaultQueryOptions(a);n.retry===void 0&&(n.retry=!1);const i=this.#t.build(this,n);return i.isStaleByTime(rs(n.staleTime,i))?i.fetch(n):Promise.resolve(i.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(dt).catch(dt)}fetchInfiniteQuery(a){return a.behavior=jo(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(dt).catch(dt)}ensureInfiniteQueryData(a){return a.behavior=jo(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return vn.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#s}setDefaultOptions(a){this.#s=a}setQueryDefaults(a,n){this.#a.set(ws(a),{queryKey:a,defaultOptions:n})}getQueryDefaults(a){const n=[...this.#a.values()],i={};return n.forEach(o=>{ka(a,o.queryKey)&&Object.assign(i,o.defaultOptions)}),i}setMutationDefaults(a,n){this.#n.set(ws(a),{mutationKey:a,defaultOptions:n})}getMutationDefaults(a){const n=[...this.#n.values()],i={};return n.forEach(o=>{ka(a,o.mutationKey)&&Object.assign(i,o.defaultOptions)}),i}defaultQueryOptions(a){if(a._defaulted)return a;const n={...this.#s.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return n.queryHash||(n.queryHash=Xi(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Ji&&(n.enabled=!1),n}defaultMutationOptions(a){return a?._defaulted?a:{...this.#s.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Qm=class extends sa{constructor(a,n){super(),this.options=n,this.#t=a,this.#i=null,this.#o=Ti(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}#t;#e=void 0;#s=void 0;#a=void 0;#n;#r;#o;#i;#p;#u;#m;#c;#d;#l;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),ko(this.#e,this.options)?this.#h():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ei(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ei(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(a){const n=this.options,i=this.#e;if(this.options=this.#t.defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rt(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),n._defaulted&&!gn(this.options,n)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const o=this.hasListeners();o&&Co(this.#e,i,this.options,n)&&this.#h(),this.updateResult(),o&&(this.#e!==i||Rt(this.options.enabled,this.#e)!==Rt(n.enabled,this.#e)||rs(this.options.staleTime,this.#e)!==rs(n.staleTime,this.#e))&&this.#x();const c=this.#g();o&&(this.#e!==i||Rt(this.options.enabled,this.#e)!==Rt(n.enabled,this.#e)||c!==this.#l)&&this.#v(c)}getOptimisticResult(a){const n=this.#t.getQueryCache().build(this.#t,a),i=this.createResult(n,a);return Xm(this,i)&&(this.#a=i,this.#r=this.options,this.#n=this.#e.state),i}getCurrentResult(){return this.#a}trackResult(a,n){return new Proxy(a,{get:(i,o)=>(this.trackProp(o),n?.(o),Reflect.get(i,o))})}trackProp(a){this.#f.add(a)}getCurrentQuery(){return this.#e}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const n=this.#t.defaultQueryOptions(a),i=this.#t.getQueryCache().build(this.#t,n);return i.fetch().then(()=>this.createResult(i,n))}fetch(a){return this.#h({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#h(a){this.#_();let n=this.#e.fetch(this.options,a);return a?.throwOnError||(n=n.catch(dt)),n}#x(){this.#b();const a=rs(this.options.staleTime,this.#e);if(bs||this.#a.isStale||!Ci(a))return;const i=Cl(this.#a.dataUpdatedAt,a)+1;this.#c=setTimeout(()=>{this.#a.isStale||this.updateResult()},i)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(a){this.#w(),this.#l=a,!(bs||Rt(this.options.enabled,this.#e)===!1||!Ci(this.#l)||this.#l===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||er.isFocused())&&this.#h()},this.#l))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(a,n){const i=this.#e,o=this.options,c=this.#a,u=this.#n,m=this.#r,f=a!==i?a.state:this.#s,{state:g}=a;let b={...g},y=!1,k;if(n._optimisticResults){const re=this.hasListeners(),H=!re&&ko(a,n),ae=re&&Co(a,i,n,o);(H||ae)&&(b={...b,...Al(g.data,a.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:_,errorUpdatedAt:E,status:v}=b;k=b.data;let T=!1;if(n.placeholderData!==void 0&&k===void 0&&v==="pending"){let re;c?.isPlaceholderData&&n.placeholderData===m?.placeholderData?(re=c.data,T=!0):re=typeof n.placeholderData=="function"?n.placeholderData(this.#m?.state.data,this.#m):n.placeholderData,re!==void 0&&(v="success",k=Pi(c?.data,re,n),y=!0)}if(n.select&&k!==void 0&&!T)if(c&&k===u?.data&&n.select===this.#p)k=this.#u;else try{this.#p=n.select,k=n.select(k),k=Pi(c?.data,k,n),this.#u=k,this.#i=null}catch(re){this.#i=re}this.#i&&(_=this.#i,k=this.#u,E=Date.now(),v="error");const S=b.fetchStatus==="fetching",w=v==="pending",A=v==="error",I=w&&S,M=k!==void 0,se={status:v,fetchStatus:b.fetchStatus,isPending:w,isSuccess:v==="success",isError:A,isInitialLoading:I,isLoading:I,data:k,dataUpdatedAt:b.dataUpdatedAt,error:_,errorUpdatedAt:E,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>f.dataUpdateCount||b.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!w,isLoadingError:A&&!M,isPaused:b.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:A&&M,isStale:tr(a,n),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const re=B=>{se.status==="error"?B.reject(se.error):se.data!==void 0&&B.resolve(se.data)},H=()=>{const B=this.#o=se.promise=Ti();re(B)},ae=this.#o;switch(ae.status){case"pending":a.queryHash===i.queryHash&&re(ae);break;case"fulfilled":(se.status==="error"||se.data!==ae.value)&&H();break;case"rejected":(se.status!=="error"||se.error!==ae.reason)&&H();break}}return se}updateResult(){const a=this.#a,n=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#r=this.options,this.#n.data!==void 0&&(this.#m=this.#e),gn(n,a))return;this.#a=n;const i=()=>{if(!a)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!this.#f.size)return!0;const u=new Set(c??this.#f);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(m=>{const x=m;return this.#a[x]!==a[x]&&u.has(x)})};this.#j({listeners:i()})}#_(){const a=this.#t.getQueryCache().build(this.#t,this.options);if(a===this.#e)return;const n=this.#e;this.#e=a,this.#s=a.state,this.hasListeners()&&(n?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#j(a){Ye.batch(()=>{a.listeners&&this.listeners.forEach(n=>{n(this.#a)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Ym(a,n){return Rt(n.enabled,a)!==!1&&a.state.data===void 0&&!(a.state.status==="error"&&n.retryOnMount===!1)}function ko(a,n){return Ym(a,n)||a.state.data!==void 0&&Ei(a,n,n.refetchOnMount)}function Ei(a,n,i){if(Rt(n.enabled,a)!==!1&&rs(n.staleTime,a)!=="static"){const o=typeof i=="function"?i(a):i;return o==="always"||o!==!1&&tr(a,n)}return!1}function Co(a,n,i,o){return(a!==n||Rt(o.enabled,a)===!1)&&(!i.suspense||a.state.status!=="error")&&tr(a,i)}function tr(a,n){return Rt(n.enabled,a)!==!1&&a.isStaleByTime(rs(n.staleTime,a))}function Xm(a,n){return!gn(a.getCurrentResult(),n)}var Jm=class extends sa{#t;#e=void 0;#s;#a;constructor(n,i){super(),this.#t=n,this.setOptions(i),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){const i=this.options;this.options=this.#t.defaultMutationOptions(n),gn(this.options,i)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),i?.mutationKey&&this.options.mutationKey&&ws(i.mutationKey)!==ws(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(n){this.#n(),this.#r(n)}getCurrentResult(){return this.#e}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#r()}mutate(n,i){return this.#a=i,this.#s?.removeObserver(this),this.#s=this.#t.getMutationCache().build(this.#t,this.options),this.#s.addObserver(this),this.#s.execute(n)}#n(){const n=this.#s?.state??Ol();this.#e={...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset}}#r(n){Ye.batch(()=>{if(this.#a&&this.hasListeners()){const i=this.#e.variables,o=this.#e.context;n?.type==="success"?(this.#a.onSuccess?.(n.data,i,o),this.#a.onSettled?.(n.data,null,i,o)):n?.type==="error"&&(this.#a.onError?.(n.error,i,o),this.#a.onSettled?.(void 0,n.error,i,o))}this.listeners.forEach(i=>{i(this.#e)})})}},Dl=h.createContext(void 0),sr=a=>{const n=h.useContext(Dl);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},zl=({client:a,children:n})=>(h.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),e.jsx(Dl.Provider,{value:a,children:n})),Fl=h.createContext(!1),ef=()=>h.useContext(Fl);Fl.Provider;function tf(){let a=!1;return{clearReset:()=>{a=!1},reset:()=>{a=!0},isReset:()=>a}}var sf=h.createContext(tf()),af=()=>h.useContext(sf),nf=(a,n)=>{(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&(n.isReset()||(a.retryOnMount=!1))},rf=a=>{h.useEffect(()=>{a.clearReset()},[a])},of=({result:a,errorResetBoundary:n,throwOnError:i,query:o,suspense:c})=>a.isError&&!n.isReset()&&!a.isFetching&&o&&(c&&a.data===void 0||Tl(i,[a.error,o])),lf=a=>{if(a.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),i=a.staleTime;a.staleTime=typeof i=="function"?(...o)=>n(i(...o)):n(i),typeof a.gcTime=="number"&&(a.gcTime=Math.max(a.gcTime,1e3))}},cf=(a,n)=>a.isLoading&&a.isFetching&&!n,df=(a,n)=>a?.suspense&&n.isPending,So=(a,n,i)=>n.fetchOptimistic(a).catch(()=>{i.clearReset()});function hf(a,n,i){const o=ef(),c=af(),u=sr(),m=u.defaultQueryOptions(a);u.getDefaultOptions().queries?._experimental_beforeQuery?.(m),m._optimisticResults=o?"isRestoring":"optimistic",lf(m),nf(m,c),rf(c);const x=!u.getQueryCache().get(m.queryHash),[f]=h.useState(()=>new n(u,m)),g=f.getOptimisticResult(m),b=!o&&a.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(y=>{const k=b?f.subscribe(Ye.batchCalls(y)):dt;return f.updateResult(),k},[f,b]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),h.useEffect(()=>{f.setOptions(m)},[m,f]),df(m,g))throw So(m,f,c);if(of({result:g,errorResetBoundary:c,throwOnError:m.throwOnError,query:u.getQueryCache().get(m.queryHash),suspense:m.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(m,g),m.experimental_prefetchInRender&&!bs&&cf(g,o)&&(x?So(m,f,c):u.getQueryCache().get(m.queryHash)?.promise)?.catch(dt).finally(()=>{f.updateResult()}),m.notifyOnChangeProps?g:f.trackResult(g)}function yn(a,n){return hf(a,Qm)}function Po(a,n){const i=sr(),[o]=h.useState(()=>new Jm(i,a));h.useEffect(()=>{o.setOptions(a)},[o,a]);const c=h.useSyncExternalStore(h.useCallback(m=>o.subscribe(Ye.batchCalls(m)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),u=h.useCallback((m,x)=>{o.mutate(m,x).catch(dt)},[o]);if(c.error&&Tl(o.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}const uf={development:{baseUrl:"http://localhost:5000"},production:{baseUrl:"https://home-professional-connect-viniciusalves36.replit.app"}},ge=()=>uf["production"]?.baseUrl;async function mf(a){const n=ge(),i=a.startsWith("http")?a:`${n}${a}`,o=localStorage.getItem("token"),c={"Content-Type":"application/json",Accept:"application/json"};o&&(c.Authorization=`Bearer ${o}`);try{const u=await fetch(i,{method:"GET",headers:c,mode:"cors",credentials:"include"});return u.ok?await u.json():null}catch{return null}}const ff=async({queryKey:a})=>await mf(a[0]),$l=new Il({defaultOptions:{queries:{queryFn:ff,retry:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:5*60*1e3},mutations:{retry:!1}}}),pf={theme:"system",setTheme:()=>null},Bl=h.createContext(pf);function Zl({children:a,defaultTheme:n="system",storageKey:i="lifebee-ui-theme",...o}){const[c,u]=h.useState(()=>{try{return localStorage.getItem(i)||n}catch{return n}});h.useEffect(()=>{const x=window.document.documentElement;if(x.classList.remove("light","dark"),c==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";x.classList.add(f);return}x.classList.add(c)},[c]);const m={theme:c,setTheme:x=>{try{localStorage.setItem(i,x)}catch{}u(x)}};return e.jsx(Bl.Provider,{...o,value:m,children:a})}const Hl=()=>{const a=h.useContext(Bl);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},xf=1,gf=1e6;let gi=0;function vf(){return gi=(gi+1)%Number.MAX_SAFE_INTEGER,gi.toString()}const vi=new Map,To=a=>{if(vi.has(a))return;const n=setTimeout(()=>{vi.delete(a),ja({type:"REMOVE_TOAST",toastId:a})},gf);vi.set(a,n)},yf=(a,n)=>{switch(n.type){case"ADD_TOAST":return{...a,toasts:[n.toast,...a.toasts].slice(0,xf)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(i=>i.id===n.toast.id?{...i,...n.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=n;return i?To(i):a.toasts.forEach(o=>{To(o.id)}),{...a,toasts:a.toasts.map(o=>o.id===i||i===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return n.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(i=>i.id!==n.toastId)}}},fn=[];let pn={toasts:[]};function ja(a){pn=yf(pn,a),fn.forEach(n=>{n(pn)})}function bf({...a}){const n=vf(),i=c=>ja({type:"UPDATE_TOAST",toast:{...c,id:n}}),o=()=>ja({type:"DISMISS_TOAST",toastId:n});return ja({type:"ADD_TOAST",toast:{...a,id:n,open:!0,onOpenChange:c=>{c||o()}}}),{id:n,dismiss:o,update:i}}function st(){const[a,n]=h.useState(pn);return h.useEffect(()=>(fn.push(n),()=>{const i=fn.indexOf(n);i>-1&&fn.splice(i,1)}),[a]),{...a,toast:bf,dismiss:i=>ja({type:"DISMISS_TOAST",toastId:i})}}var ql=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wf="VisuallyHidden",Pn=h.forwardRef((a,n)=>e.jsx(Le.span,{...a,ref:n,style:{...ql,...a.style}}));Pn.displayName=wf;var _f=Pn,ar="ToastProvider",[nr,jf,Nf]=sl("Toast"),[Wl,q0]=ks("Toast",[Nf]),[kf,Tn]=Wl(ar),Vl=a=>{const{__scopeToast:n,label:i="Notification",duration:o=5e3,swipeDirection:c="right",swipeThreshold:u=50,children:m}=a,[x,f]=h.useState(null),[g,b]=h.useState(0),y=h.useRef(!1),k=h.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${ar}\`. Expected non-empty \`string\`.`),e.jsx(nr.Provider,{scope:n,children:e.jsx(kf,{scope:n,label:i,duration:o,swipeDirection:c,swipeThreshold:u,toastCount:g,viewport:x,onViewportChange:f,onToastAdd:h.useCallback(()=>b(_=>_+1),[]),onToastRemove:h.useCallback(()=>b(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:k,children:m})})};Vl.displayName=ar;var Ul="ToastViewport",Cf=["F8"],Mi="toast.viewportPause",Li="toast.viewportResume",Gl=h.forwardRef((a,n)=>{const{__scopeToast:i,hotkey:o=Cf,label:c="Notifications ({hotkey})",...u}=a,m=Tn(Ul,i),x=jf(i),f=h.useRef(null),g=h.useRef(null),b=h.useRef(null),y=h.useRef(null),k=tt(n,y,m.onViewportChange),_=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=m.toastCount>0;h.useEffect(()=>{const T=S=>{o.length!==0&&o.every(A=>S[A]||S.code===A)&&y.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[o]),h.useEffect(()=>{const T=f.current,S=y.current;if(E&&T&&S){const w=()=>{if(!m.isClosePausedRef.current){const $=new CustomEvent(Mi);S.dispatchEvent($),m.isClosePausedRef.current=!0}},A=()=>{if(m.isClosePausedRef.current){const $=new CustomEvent(Li);S.dispatchEvent($),m.isClosePausedRef.current=!1}},I=$=>{!T.contains($.relatedTarget)&&A()},M=()=>{T.contains(document.activeElement)||A()};return T.addEventListener("focusin",w),T.addEventListener("focusout",I),T.addEventListener("pointermove",w),T.addEventListener("pointerleave",M),window.addEventListener("blur",w),window.addEventListener("focus",A),()=>{T.removeEventListener("focusin",w),T.removeEventListener("focusout",I),T.removeEventListener("pointermove",w),T.removeEventListener("pointerleave",M),window.removeEventListener("blur",w),window.removeEventListener("focus",A)}}},[E,m.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:T})=>{const w=x().map(A=>{const I=A.ref.current,M=[I,...Ff(I)];return T==="forwards"?M:M.reverse()});return(T==="forwards"?w.reverse():w).flat()},[x]);return h.useEffect(()=>{const T=y.current;if(T){const S=w=>{const A=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!A){const M=document.activeElement,$=w.shiftKey;if(w.target===T&&$){g.current?.focus();return}const H=v({tabbingDirection:$?"backwards":"forwards"}),ae=H.findIndex(B=>B===M);yi(H.slice(ae+1))?w.preventDefault():$?g.current?.focus():b.current?.focus()}};return T.addEventListener("keydown",S),()=>T.removeEventListener("keydown",S)}},[x,v]),e.jsxs(lm,{ref:f,role:"region","aria-label":c.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&e.jsx(Ri,{ref:g,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"forwards"});yi(T)}}),e.jsx(nr.Slot,{scope:i,children:e.jsx(Le.ol,{tabIndex:-1,...u,ref:k})}),E&&e.jsx(Ri,{ref:b,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"backwards"});yi(T)}})]})});Gl.displayName=Ul;var Kl="ToastFocusProxy",Ri=h.forwardRef((a,n)=>{const{__scopeToast:i,onFocusFromOutsideViewport:o,...c}=a,u=Tn(Kl,i);return e.jsx(Pn,{"aria-hidden":!0,tabIndex:0,...c,ref:n,style:{position:"fixed"},onFocus:m=>{const x=m.relatedTarget;!u.viewport?.contains(x)&&o()}})});Ri.displayName=Kl;var Aa="Toast",Sf="toast.swipeStart",Pf="toast.swipeMove",Tf="toast.swipeCancel",Ef="toast.swipeEnd",Ql=h.forwardRef((a,n)=>{const{forceMount:i,open:o,defaultOpen:c,onOpenChange:u,...m}=a,[x,f]=qs({prop:o,defaultProp:c??!0,onChange:u,caller:Aa});return e.jsx(Vi,{present:i||x,children:e.jsx(Rf,{open:x,...m,ref:n,onClose:()=>f(!1),onPause:Ws(a.onPause),onResume:Ws(a.onResume),onSwipeStart:we(a.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(a.onSwipeMove,g=>{const{x:b,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:we(a.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(a.onSwipeEnd,g=>{const{x:b,y}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),f(!1)})})})});Ql.displayName=Aa;var[Mf,Lf]=Wl(Aa,{onClose(){}}),Rf=h.forwardRef((a,n)=>{const{__scopeToast:i,type:o="foreground",duration:c,open:u,onClose:m,onEscapeKeyDown:x,onPause:f,onResume:g,onSwipeStart:b,onSwipeMove:y,onSwipeCancel:k,onSwipeEnd:_,...E}=a,v=Tn(Aa,i),[T,S]=h.useState(null),w=tt(n,C=>S(C)),A=h.useRef(null),I=h.useRef(null),M=c||v.duration,$=h.useRef(0),se=h.useRef(M),re=h.useRef(0),{onToastAdd:H,onToastRemove:ae}=v,B=Ws(()=>{T?.contains(document.activeElement)&&v.viewport?.focus(),m()}),W=h.useCallback(C=>{!C||C===1/0||(window.clearTimeout(re.current),$.current=new Date().getTime(),re.current=window.setTimeout(B,C))},[B]);h.useEffect(()=>{const C=v.viewport;if(C){const q=()=>{W(se.current),g?.()},V=()=>{const ce=new Date().getTime()-$.current;se.current=se.current-ce,window.clearTimeout(re.current),f?.()};return C.addEventListener(Mi,V),C.addEventListener(Li,q),()=>{C.removeEventListener(Mi,V),C.removeEventListener(Li,q)}}},[v.viewport,M,f,g,W]),h.useEffect(()=>{u&&!v.isClosePausedRef.current&&W(M)},[u,M,v.isClosePausedRef,W]),h.useEffect(()=>(H(),()=>ae()),[H,ae]);const P=h.useMemo(()=>T?ac(T):null,[T]);return v.viewport?e.jsxs(e.Fragment,{children:[P&&e.jsx(Af,{__scopeToast:i,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),e.jsx(Mf,{scope:i,onClose:B,children:kn.createPortal(e.jsx(nr.ItemSlot,{scope:i,children:e.jsx(cm,{asChild:!0,onEscapeKeyDown:we(x,()=>{v.isFocusedToastEscapeKeyDownRef.current||B(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":v.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...a.style},onKeyDown:we(a.onKeyDown,C=>{C.key==="Escape"&&(x?.(C.nativeEvent),C.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:we(a.onPointerDown,C=>{C.button===0&&(A.current={x:C.clientX,y:C.clientY})}),onPointerMove:we(a.onPointerMove,C=>{if(!A.current)return;const q=C.clientX-A.current.x,V=C.clientY-A.current.y,ce=!!I.current,U=["left","right"].includes(v.swipeDirection),J=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ne=U?J(0,q):0,ve=U?0:J(0,V),Pe=C.pointerType==="touch"?10:2,_e={x:ne,y:ve},K={originalEvent:C,delta:_e};ce?(I.current=_e,un(Pf,y,K,{discrete:!1})):Eo(_e,v.swipeDirection,Pe)?(I.current=_e,un(Sf,b,K,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(q)>Pe||Math.abs(V)>Pe)&&(A.current=null)}),onPointerUp:we(a.onPointerUp,C=>{const q=I.current,V=C.target;if(V.hasPointerCapture(C.pointerId)&&V.releasePointerCapture(C.pointerId),I.current=null,A.current=null,q){const ce=C.currentTarget,U={originalEvent:C,delta:q};Eo(q,v.swipeDirection,v.swipeThreshold)?un(Ef,_,U,{discrete:!0}):un(Tf,k,U,{discrete:!0}),ce.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Af=a=>{const{__scopeToast:n,children:i,...o}=a,c=Tn(Aa,n),[u,m]=h.useState(!1),[x,f]=h.useState(!1);return Df(()=>m(!0)),h.useEffect(()=>{const g=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(g)},[]),x?null:e.jsx(al,{asChild:!0,children:e.jsx(Pn,{...o,children:u&&e.jsxs(e.Fragment,{children:[c.label," ",i]})})})},Of="ToastTitle",Yl=h.forwardRef((a,n)=>{const{__scopeToast:i,...o}=a;return e.jsx(Le.div,{...o,ref:n})});Yl.displayName=Of;var If="ToastDescription",Xl=h.forwardRef((a,n)=>{const{__scopeToast:i,...o}=a;return e.jsx(Le.div,{...o,ref:n})});Xl.displayName=If;var Jl="ToastAction",ec=h.forwardRef((a,n)=>{const{altText:i,...o}=a;return i.trim()?e.jsx(sc,{altText:i,asChild:!0,children:e.jsx(ir,{...o,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${Jl}\`. Expected non-empty \`string\`.`),null)});ec.displayName=Jl;var tc="ToastClose",ir=h.forwardRef((a,n)=>{const{__scopeToast:i,...o}=a,c=Lf(tc,i);return e.jsx(sc,{asChild:!0,children:e.jsx(Le.button,{type:"button",...o,ref:n,onClick:we(a.onClick,c.onClose)})})});ir.displayName=tc;var sc=h.forwardRef((a,n)=>{const{__scopeToast:i,altText:o,...c}=a;return e.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...c,ref:n})});function ac(a){const n=[];return Array.from(a.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&n.push(o.textContent),zf(o)){const c=o.ariaHidden||o.hidden||o.style.display==="none",u=o.dataset.radixToastAnnounceExclude==="";if(!c)if(u){const m=o.dataset.radixToastAnnounceAlt;m&&n.push(m)}else n.push(...ac(o))}}),n}function un(a,n,i,{discrete:o}){const c=i.originalEvent.currentTarget,u=new CustomEvent(a,{bubbles:!0,cancelable:!0,detail:i});n&&c.addEventListener(a,n,{once:!0}),o?dm(c,u):c.dispatchEvent(u)}var Eo=(a,n,i=0)=>{const o=Math.abs(a.x),c=Math.abs(a.y),u=o>c;return n==="left"||n==="right"?u&&o>i:!u&&c>i};function Df(a=()=>{}){const n=Ws(a);Pt(()=>{let i=0,o=0;return i=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(o)}},[n])}function zf(a){return a.nodeType===a.ELEMENT_NODE}function Ff(a){const n=[],i=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)n.push(i.currentNode);return n}function yi(a){const n=document.activeElement;return a.some(i=>i===n?!0:(i.focus(),document.activeElement!==n))}var $f=Vl,nc=Gl,ic=Ql,rc=Yl,oc=Xl,lc=ec,cc=ir;/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(a,n)=>{const i=h.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:u=2,absoluteStrokeWidth:m,className:x="",children:f,...g},b)=>h.createElement("svg",{ref:b,...Bf,width:c,height:c,stroke:o,strokeWidth:m?Number(u)*24/Number(c):u,className:["lucide",`lucide-${Zf(a)}`,x].join(" "),...g},[...n.map(([y,k])=>h.createElement(y,k)),...Array.isArray(f)?f:[f]]));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=X("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=X("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=X("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=X("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=X("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=X("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=X("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=X("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=X("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=X("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=X("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=X("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=X("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=X("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=X("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.331.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ue(...a){return Mm(Lm(a))}const lp=$f,kc=h.forwardRef(({className:a,...n},i)=>e.jsx(nc,{ref:i,className:ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] pointer-events-none",a),...n}));kc.displayName=nc.displayName;const cp=Sn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-xl",destructive:"destructive group border-red-200 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 shadow-xl"}},defaultVariants:{variant:"default"}}),Cc=h.forwardRef(({className:a,variant:n,...i},o)=>e.jsx(ic,{ref:o,className:ue(cp({variant:n}),a),...i}));Cc.displayName=ic.displayName;const dp=h.forwardRef(({className:a,...n},i)=>e.jsx(lc,{ref:i,className:ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...n}));dp.displayName=lc.displayName;const Sc=h.forwardRef(({className:a,...n},i)=>e.jsx(cc,{ref:i,className:ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...n,children:e.jsx(Ia,{className:"h-4 w-4"})}));Sc.displayName=cc.displayName;const Pc=h.forwardRef(({className:a,...n},i)=>e.jsx(rc,{ref:i,className:ue("text-sm font-semibold",a),...n}));Pc.displayName=rc.displayName;const Tc=h.forwardRef(({className:a,...n},i)=>e.jsx(oc,{ref:i,className:ue("text-sm opacity-90",a),...n}));Tc.displayName=oc.displayName;function Ec(){const{toasts:a}=st();return e.jsxs(lp,{children:[a.map(function({id:n,title:i,description:o,action:c,...u}){return e.jsxs(Cc,{...u,children:[e.jsxs("div",{className:"grid gap-1",children:[i&&e.jsx(Pc,{children:i}),o&&e.jsx(Tc,{children:o})]}),c,e.jsx(Sc,{})]},n)}),e.jsx(kc,{})]})}class hp extends h.Component{state={hasError:!1};static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.warn("Error caught by boundary:",n,i)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Algo deu errado"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Ocorreu um erro inesperado. Tente recarregar a página."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-black px-4 py-2 rounded-lg font-medium",children:"Recarregar página"})]})}):this.props.children}}function up(a,n){if(a instanceof RegExp)return{keys:!1,pattern:a};var i,o,c,u,m=[],x="",f=a.split("/");for(f[0]||f.shift();c=f.shift();)i=c[0],i==="*"?(m.push(i),x+=c[1]==="?"?"(?:/(.*))?":"/(.*)"):i===":"?(o=c.indexOf("?",1),u=c.indexOf(".",1),m.push(c.substring(1,~o?o:~u?u:c.length)),x+=~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(x+=(~o?"?":"")+"\\"+c.substring(u))):x+="/"+c;return{keys:m,pattern:new RegExp("^"+x+(n?"(?=$|/)":"/?$"),"i")}}var bi={exports:{}},wi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro;function mp(){if(Ro)return wi;Ro=1;var a=Tm();function n(y,k){return y===k&&(y!==0||1/y===1/k)||y!==y&&k!==k}var i=typeof Object.is=="function"?Object.is:n,o=a.useState,c=a.useEffect,u=a.useLayoutEffect,m=a.useDebugValue;function x(y,k){var _=k(),E=o({inst:{value:_,getSnapshot:k}}),v=E[0].inst,T=E[1];return u(function(){v.value=_,v.getSnapshot=k,f(v)&&T({inst:v})},[y,_,k]),c(function(){return f(v)&&T({inst:v}),y(function(){f(v)&&T({inst:v})})},[y]),m(_),_}function f(y){var k=y.getSnapshot;y=y.value;try{var _=k();return!i(y,_)}catch{return!0}}function g(y,k){return k()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:x;return wi.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:b,wi}var Ao;function fp(){return Ao||(Ao=1,bi.exports=mp()),bi.exports}var Mc=fp();const pp=hm.useInsertionEffect,xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gp=xp?h.useLayoutEffect:h.useEffect,vp=pp||gp,Lc=a=>{const n=h.useRef([a,(...i)=>n[0](...i)]).current;return vp(()=>{n[0]=a}),n[1]},yp="popstate",cr="pushState",dr="replaceState",bp="hashchange",Oo=[yp,cr,dr,bp],wp=a=>{for(const n of Oo)addEventListener(n,a);return()=>{for(const n of Oo)removeEventListener(n,a)}},Rc=(a,n)=>Mc.useSyncExternalStore(wp,a,n),_p=()=>location.search,jp=({ssrSearch:a=""}={})=>Rc(_p,()=>a),Io=()=>location.pathname,Np=({ssrPath:a}={})=>Rc(Io,a?()=>a:Io),kp=(a,{replace:n=!1,state:i=null}={})=>history[n?dr:cr](i,"",a),Cp=(a={})=>[Np(a),kp],Do=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Do]>"u"){for(const a of[cr,dr]){const n=history[a];history[a]=function(){const i=n.apply(this,arguments),o=new Event(a);return o.arguments=arguments,dispatchEvent(o),i}}Object.defineProperty(window,Do,{value:!0})}const Sp=(a,n)=>n.toLowerCase().indexOf(a.toLowerCase())?"~"+n:n.slice(a.length)||"/",Ac=(a="")=>a==="/"?"":a,Pp=(a,n)=>a[0]==="~"?a.slice(1):Ac(n)+a,Tp=(a="",n)=>Sp(zo(Ac(a)),zo(n)),zo=a=>{try{return decodeURI(a)}catch{return a}},Oc={hook:Cp,searchHook:jp,parser:up,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:a=>a},Ic=h.createContext(Oc),aa=()=>h.useContext(Ic),Dc={},zc=h.createContext(Dc),Fc=()=>h.useContext(zc),En=a=>{const[n,i]=a.hook(a);return[Tp(a.base,n),Lc((o,c)=>i(Pp(o,a.base),c))]},ut=()=>En(aa()),hr=(a,n,i,o)=>{const{pattern:c,keys:u}=n instanceof RegExp?{keys:!1,pattern:n}:a(n||"*",o),m=c.exec(i)||[],[x,...f]=m;return x!==void 0?[!0,(()=>{const g=u!==!1?Object.fromEntries(u.map((y,k)=>[y,f[k]])):m.groups;let b={...f};return g&&Object.assign(b,g),b})(),...o?[x]:[]]:[!1,null]},$c=a=>hr(aa().parser,a,ut()[0]),Ep=({children:a,...n})=>{const i=aa(),o=n.hook?Oc:i;let c=o;const[u,m]=n.ssrPath?.split("?")??[];m&&(n.ssrSearch=m,n.ssrPath=u),n.hrefs=n.hrefs??n.hook?.hrefs;let x=h.useRef({}),f=x.current,g=f;for(let b in o){const y=b==="base"?o[b]+(n[b]||""):n[b]||o[b];f===g&&y!==g[b]&&(x.current=g={...g}),g[b]=y,(y!==o[b]||y!==c[b])&&(c=g)}return h.createElement(Ic.Provider,{value:c,children:a})},Fo=({children:a,component:n},i)=>n?h.createElement(n,{params:i}):typeof a=="function"?a(i):a,Mp=a=>{let n=h.useRef(Dc);const i=n.current;return n.current=Object.keys(a).length!==Object.keys(i).length||Object.entries(a).some(([o,c])=>c!==i[o])?a:i},Re=({path:a,nest:n,match:i,...o})=>{const c=aa(),[u]=En(c),[m,x,f]=i??hr(c.parser,a,u,n),g=Mp({...Fc(),...x});if(!m)return null;const b=f?h.createElement(Ep,{base:f},Fo(o,g)):Fo(o,g);return h.createElement(zc.Provider,{value:g,children:b})},ht=h.forwardRef((a,n)=>{const i=aa(),[o,c]=En(i),{to:u="",href:m=u,onClick:x,asChild:f,children:g,className:b,replace:y,state:k,..._}=a,E=Lc(T=>{T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0||(x?.(T),T.defaultPrevented||(T.preventDefault(),c(m,a)))}),v=i.hrefs(m[0]==="~"?m.slice(1):i.base+m,i);return f&&h.isValidElement(g)?h.cloneElement(g,{onClick:E,href:v}):h.createElement("a",{..._,onClick:E,href:v,className:b?.call?b(o===m):b,children:g,ref:n})}),Bc=a=>Array.isArray(a)?a.flatMap(n=>Bc(n&&n.type===h.Fragment?n.props.children:n)):[a],_i=({children:a,location:n})=>{const i=aa(),[o]=En(i);for(const c of Bc(a)){let u=0;if(h.isValidElement(c)&&(u=hr(i.parser,c.props.path,n||o,c.props.nest))[0])return h.cloneElement(c,{match:u})}return null};var[Mn,W0]=ks("Tooltip",[Cn]),Ln=Cn(),Zc="TooltipProvider",Lp=700,Ai="tooltip.open",[Rp,ur]=Mn(Zc),Hc=a=>{const{__scopeTooltip:n,delayDuration:i=Lp,skipDelayDuration:o=300,disableHoverableContent:c=!1,children:u}=a,m=h.useRef(!0),x=h.useRef(!1),f=h.useRef(0);return h.useEffect(()=>{const g=f.current;return()=>window.clearTimeout(g)},[]),e.jsx(Rp,{scope:n,isOpenDelayedRef:m,delayDuration:i,onOpen:h.useCallback(()=>{window.clearTimeout(f.current),m.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>m.current=!0,o)},[o]),isPointerInTransitRef:x,onPointerInTransitChange:h.useCallback(g=>{x.current=g},[]),disableHoverableContent:c,children:u})};Hc.displayName=Zc;var Pa="Tooltip",[Ap,Rn]=Mn(Pa),qc=a=>{const{__scopeTooltip:n,children:i,open:o,defaultOpen:c,onOpenChange:u,disableHoverableContent:m,delayDuration:x}=a,f=ur(Pa,a.__scopeTooltip),g=Ln(n),[b,y]=h.useState(null),k=Ra(),_=h.useRef(0),E=m??f.disableHoverableContent,v=x??f.delayDuration,T=h.useRef(!1),[S,w]=qs({prop:o,defaultProp:c??!1,onChange:se=>{se?(f.onOpen(),document.dispatchEvent(new CustomEvent(Ai))):f.onClose(),u?.(se)},caller:Pa}),A=h.useMemo(()=>S?T.current?"delayed-open":"instant-open":"closed",[S]),I=h.useCallback(()=>{window.clearTimeout(_.current),_.current=0,T.current=!1,w(!0)},[w]),M=h.useCallback(()=>{window.clearTimeout(_.current),_.current=0,w(!1)},[w]),$=h.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{T.current=!0,w(!0),_.current=0},v)},[v,w]);return h.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),e.jsx(ol,{...g,children:e.jsx(Ap,{scope:n,contentId:k,open:S,stateAttribute:A,trigger:b,onTriggerChange:y,onTriggerEnter:h.useCallback(()=>{f.isOpenDelayedRef.current?$():I()},[f.isOpenDelayedRef,$,I]),onTriggerLeave:h.useCallback(()=>{E?M():(window.clearTimeout(_.current),_.current=0)},[M,E]),onOpen:I,onClose:M,disableHoverableContent:E,children:i})})};qc.displayName=Pa;var Oi="TooltipTrigger",Wc=h.forwardRef((a,n)=>{const{__scopeTooltip:i,...o}=a,c=Rn(Oi,i),u=ur(Oi,i),m=Ln(i),x=h.useRef(null),f=tt(n,x,c.onTriggerChange),g=h.useRef(!1),b=h.useRef(!1),y=h.useCallback(()=>g.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),e.jsx(ll,{asChild:!0,...m,children:e.jsx(Le.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...o,ref:f,onPointerMove:we(a.onPointerMove,k=>{k.pointerType!=="touch"&&!b.current&&!u.isPointerInTransitRef.current&&(c.onTriggerEnter(),b.current=!0)}),onPointerLeave:we(a.onPointerLeave,()=>{c.onTriggerLeave(),b.current=!1}),onPointerDown:we(a.onPointerDown,()=>{c.open&&c.onClose(),g.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:we(a.onFocus,()=>{g.current||c.onOpen()}),onBlur:we(a.onBlur,c.onClose),onClick:we(a.onClick,c.onClose)})})});Wc.displayName=Oi;var Op="TooltipPortal",[V0,Ip]=Mn(Op,{forceMount:void 0}),Gs="TooltipContent",Vc=h.forwardRef((a,n)=>{const i=Ip(Gs,a.__scopeTooltip),{forceMount:o=i.forceMount,side:c="top",...u}=a,m=Rn(Gs,a.__scopeTooltip);return e.jsx(Vi,{present:o||m.open,children:m.disableHoverableContent?e.jsx(Uc,{side:c,...u,ref:n}):e.jsx(Dp,{side:c,...u,ref:n})})}),Dp=h.forwardRef((a,n)=>{const i=Rn(Gs,a.__scopeTooltip),o=ur(Gs,a.__scopeTooltip),c=h.useRef(null),u=tt(n,c),[m,x]=h.useState(null),{trigger:f,onClose:g}=i,b=c.current,{onPointerInTransitChange:y}=o,k=h.useCallback(()=>{x(null),y(!1)},[y]),_=h.useCallback((E,v)=>{const T=E.currentTarget,S={x:E.clientX,y:E.clientY},w=Zp(S,T.getBoundingClientRect()),A=Hp(S,w),I=qp(v.getBoundingClientRect()),M=Vp([...A,...I]);x(M),y(!0)},[y]);return h.useEffect(()=>()=>k(),[k]),h.useEffect(()=>{if(f&&b){const E=T=>_(T,b),v=T=>_(T,f);return f.addEventListener("pointerleave",E),b.addEventListener("pointerleave",v),()=>{f.removeEventListener("pointerleave",E),b.removeEventListener("pointerleave",v)}}},[f,b,_,k]),h.useEffect(()=>{if(m){const E=v=>{const T=v.target,S={x:v.clientX,y:v.clientY},w=f?.contains(T)||b?.contains(T),A=!Wp(S,m);w?k():A&&(k(),g())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[f,b,m,g,k]),e.jsx(Uc,{...a,ref:u})}),[zp,Fp]=Mn(Pa,{isInside:!1}),$p=rl("TooltipContent"),Uc=h.forwardRef((a,n)=>{const{__scopeTooltip:i,children:o,"aria-label":c,onEscapeKeyDown:u,onPointerDownOutside:m,...x}=a,f=Rn(Gs,i),g=Ln(i),{onClose:b}=f;return h.useEffect(()=>(document.addEventListener(Ai,b),()=>document.removeEventListener(Ai,b)),[b]),h.useEffect(()=>{if(f.trigger){const y=k=>{k.target?.contains(f.trigger)&&b()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[f.trigger,b]),e.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:y=>y.preventDefault(),onDismiss:b,children:e.jsxs(il,{"data-state":f.stateAttribute,...g,...x,ref:n,style:{...x.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx($p,{children:o}),e.jsx(zp,{scope:i,isInside:!0,children:e.jsx(_f,{id:f.contentId,role:"tooltip",children:c||o})})]})})});Vc.displayName=Gs;var Gc="TooltipArrow",Bp=h.forwardRef((a,n)=>{const{__scopeTooltip:i,...o}=a,c=Ln(i);return Fp(Gc,i).isInside?null:e.jsx(cl,{...c,...o,ref:n})});Bp.displayName=Gc;function Zp(a,n){const i=Math.abs(n.top-a.y),o=Math.abs(n.bottom-a.y),c=Math.abs(n.right-a.x),u=Math.abs(n.left-a.x);switch(Math.min(i,o,c,u)){case u:return"left";case c:return"right";case i:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function Hp(a,n,i=5){const o=[];switch(n){case"top":o.push({x:a.x-i,y:a.y+i},{x:a.x+i,y:a.y+i});break;case"bottom":o.push({x:a.x-i,y:a.y-i},{x:a.x+i,y:a.y-i});break;case"left":o.push({x:a.x+i,y:a.y-i},{x:a.x+i,y:a.y+i});break;case"right":o.push({x:a.x-i,y:a.y-i},{x:a.x-i,y:a.y+i});break}return o}function qp(a){const{top:n,right:i,bottom:o,left:c}=a;return[{x:c,y:n},{x:i,y:n},{x:i,y:o},{x:c,y:o}]}function Wp(a,n){const{x:i,y:o}=a;let c=!1;for(let u=0,m=n.length-1;u<n.length;m=u++){const x=n[u],f=n[m],g=x.x,b=x.y,y=f.x,k=f.y;b>o!=k>o&&i<(y-g)*(o-b)/(k-b)+g&&(c=!c)}return c}function Vp(a){const n=a.slice();return n.sort((i,o)=>i.x<o.x?-1:i.x>o.x?1:i.y<o.y?-1:i.y>o.y?1:0),Up(n)}function Up(a){if(a.length<=1)return a.slice();const n=[];for(let o=0;o<a.length;o++){const c=a[o];for(;n.length>=2;){const u=n[n.length-1],m=n[n.length-2];if((u.x-m.x)*(c.y-m.y)>=(u.y-m.y)*(c.x-m.x))n.pop();else break}n.push(c)}n.pop();const i=[];for(let o=a.length-1;o>=0;o--){const c=a[o];for(;i.length>=2;){const u=i[i.length-1],m=i[i.length-2];if((u.x-m.x)*(c.y-m.y)>=(u.y-m.y)*(c.x-m.x))i.pop();else break}i.push(c)}return i.pop(),n.length===1&&i.length===1&&n[0].x===i[0].x&&n[0].y===i[0].y?n:n.concat(i)}var Gp=Hc,Kp=qc,Qp=Wc,Kc=Vc;const Qc=Gp,Yp=Kp,Xp=Qp,Yc=h.forwardRef(({className:a,sideOffset:n=4,...i},o)=>e.jsx(Kc,{ref:o,sideOffset:n,className:ue("z-50 overflow-hidden rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-3 py-1.5 text-sm text-gray-900 dark:text-white shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...i}));Yc.displayName=Kc.displayName;const Jp="/assets/new-logo-ISLgSUsv.png";function Da({size:a=40,className:n=""}){return e.jsx("img",{src:Jp,alt:"Logo LifeBee",width:a,height:a,className:n,style:{objectFit:"contain",display:"block"}})}function ex({onComplete:a}){const[n,i]=h.useState(0);return h.useEffect(()=>{const o=setInterval(()=>{i(c=>c>=100?(clearInterval(o),setTimeout(a,500),100):c+2)},30);return()=>clearInterval(o)},[a]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a1a] via-[#f4c430] to-[#fdf6e3] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-[#fdf6e3]/20 backdrop-blur-sm rounded-full w-32 h-32 mx-auto mb-8 flex items-center justify-center shadow-2xl animate-pulse",children:e.jsx("div",{className:"bg-[#fdf6e3] rounded-full w-24 h-24 flex items-center justify-center",children:e.jsx(Da,{size:60,className:"animate-bounce"})})}),e.jsx("h1",{className:"text-4xl font-bold text-[#fdf6e3] mb-2",children:"LifeBee"}),e.jsx("p",{className:"text-[#fdf6e3]/80 text-lg mb-8",children:"Conectando você aos melhores profissionais de saúde"}),e.jsx("div",{className:"w-64 mx-auto bg-[#fdf6e3]/20 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-[#fdf6e3] transition-all duration-300 ease-out rounded-full",style:{width:`${n}%`}})}),e.jsxs("p",{className:"text-[#fdf6e3]/70 text-sm mt-4",children:["Carregando... ",n,"%"]})]})})}function Tt(){const[a,n]=h.useState({user:null,isLoading:!0,isAuthenticated:!1});return h.useEffect(()=>{(async()=>{const u=localStorage.getItem("token"),m=localStorage.getItem("user");if(u&&m)try{const x=await fetch(`${ge()}/api/user`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`}});if(x.ok){const f=await x.json();n({user:f,isLoading:!1,isAuthenticated:!0})}else localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,isLoading:!1,isAuthenticated:!1})}catch(x){console.error("Error verifying token:",x);try{const f=JSON.parse(m);n({user:f,isLoading:!1,isAuthenticated:!0})}catch{localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,isLoading:!1,isAuthenticated:!1})}}else n({user:null,isLoading:!1,isAuthenticated:!1})})()},[]),{...a,login:(c,u)=>{localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(u)),n({user:u,isLoading:!1,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,isLoading:!1,isAuthenticated:!1})}}}function qt({hidePlus:a}){const[n]=ut(),i=[{label:"Início",to:"/",icon:e.jsx(lr,{className:"h-6 w-6"}),show:!0},{label:"Agenda",to:"/agenda",icon:e.jsx(Je,{className:"h-6 w-6"}),show:!0},{label:"Adicionar",to:"/servico",isCenter:!0,show:!a},{label:"Chat",to:"/messages",icon:e.jsx(kt,{className:"h-6 w-6"}),show:!0},{label:"Perfil",to:"/profile",icon:e.jsx(bt,{className:"h-6 w-6"}),show:!0}];return e.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 left-0 w-full z-50 shadow rounded-t-xl px-0",children:e.jsx("ul",{className:"flex justify-around items-center h-16 max-w-full px-2 sm:px-4",children:i.filter(o=>o.show).map(o=>e.jsx("li",{className:o.isCenter?"relative -mt-10 z-10":"",children:o.isCenter?e.jsx(ht,{href:o.to,"aria-label":"Criar Serviço",children:e.jsx("button",{className:"gap-2 whitespace-nowrap text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 rounded-full bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-xl hover:shadow-2xl hover:from-yellow-600 hover:to-yellow-700 w-16 h-16 flex items-center justify-center transition-all duration-300 border-4 border-white dark:border-gray-900 focus:ring-4 focus:ring-yellow-200 dark:focus:ring-yellow-800 ring-4 ring-yellow-200 dark:ring-yellow-800",tabIndex:0,type:"button",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus h-8 w-8",children:[e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M12 5v14"})]})})}):e.jsxs(ht,{href:o.to,className:`flex flex-col items-center text-xs font-medium transition-colors duration-200 ${n===o.to?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:[o.icon,e.jsx("span",{className:"mt-1",children:o.label})]})},o.to))})})}function tx(){const{toast:a}=st(),[n,i]=h.useState(""),[o,c]=h.useState([]),[u,m]=h.useState(!0),[,x]=ut();h.useEffect(()=>{f()},[]);const f=async()=>{try{m(!0);const _=await fetch(`${ge()}/api/professionals`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(_.ok){const E=await _.json();c(E)}else console.error("Erro ao buscar profissionais:",_.statusText),c([]),a({title:"Erro",description:"Não foi possível carregar os profissionais",variant:"destructive"})}catch(_){console.error("Erro ao buscar profissionais:",_),a({title:"Erro",description:"Não foi possível carregar os profissionais",variant:"destructive"})}finally{m(!1)}},g=async(_,E)=>{try{const v=localStorage.getItem("token"),T=await fetch(`${ge()}/api/messages/start-conversation`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({professionalId:_,message:"Olá! Gostaria de conversar sobre seus serviços."})});if(T.ok){const S=await T.json();console.log("Resposta do backend:",S),a({title:"Conversa iniciada!",description:`Você pode conversar com ${E} agora`});const w=S.conversationId||S.id||S.conversationID;x(w?`/messages/${w}`:"/messages")}else a({title:"Erro",description:"Não foi possível iniciar a conversa",variant:"destructive"})}catch(v){console.error("Erro ao iniciar conversa:",v),a({title:"Erro",description:"Erro de conexão ao iniciar conversa",variant:"destructive"})}},b=_=>{window.location.href=`tel:${_}`},y=_=>{switch(_){case"Home":x("/");break;case"Chat":x("/messages");break;case"Agenda":x("/agenda");break;case"Perfil":x("/profile");break;default:x("/")}};if(u)return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen flex items-center justify-center px-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium text-sm sm:text-base",children:"Carregando profissionais..."})]}),e.jsx(qt,{})]});if(o.length===0)return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Olá,"}),e.jsx("p",{className:"font-semibold text-base sm:text-lg text-gray-900",children:"Usuário"})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx(bt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})})]}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] px-4",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center",children:e.jsx(ys,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Nenhum profissional disponível"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-6",children:"No momento não há profissionais cadastrados na sua região. Tente novamente mais tarde."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-full font-medium hover:bg-yellow-600 transition-colors text-sm sm:text-base",children:"Tentar novamente"})]})}),e.jsx("nav",{className:"fixed bottom-0 w-full bg-white border-t border-gray-200 flex justify-around py-2 sm:py-3",children:[{icon:lr,label:"Home"},{icon:Jt,label:"Chat"},{icon:Je,label:"Agenda"},{icon:bt,label:"Perfil"}].map((_,E)=>e.jsxs("button",{className:"flex flex-col items-center text-xs text-gray-600 hover:text-yellow-500 transition-colors",onClick:()=>y(_.label),children:[e.jsx(_.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 mb-1"}),_.label]},E))}),e.jsx(qt,{})]});const k=o.filter(_=>_.name.toLowerCase().includes(n.toLowerCase())||_.specialization.toLowerCase().includes(n.toLowerCase()));return e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 min-h-screen",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Olá,"}),e.jsx("p",{className:"font-semibold text-base sm:text-lg text-gray-900",children:"Usuário"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Na,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:"3"})]}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx(bt,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})})]})]}),e.jsx("div",{className:"px-3 sm:px-4 mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar profissional...",className:"w-full bg-white rounded-full px-10 sm:px-12 py-3 sm:py-4 text-sm sm:text-base text-gray-900 placeholder-gray-500 border-0 shadow-lg focus:ring-2 focus:ring-yellow-400 focus:outline-none",value:n,onChange:_=>i(_.target.value)})]})}),e.jsx("div",{className:"px-3 sm:px-4 mb-4 sm:mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white rounded-2xl p-3 sm:p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg",children:"Emergência 24h"}),e.jsx("p",{className:"text-xs sm:text-sm opacity-90",children:"Profissionais disponíveis agora"})]}),e.jsx("div",{className:"text-2xl sm:text-3xl",children:"🚨"})]})})}),e.jsxs("div",{className:"px-3 sm:px-4 pb-20 sm:pb-24",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:n?`Resultados para "${n}"`:"Profissionais Disponíveis"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:k.map(_=>e.jsx("div",{className:"bg-white rounded-2xl p-3 sm:p-4 shadow-lg border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:_.imageUrl?e.jsx("img",{src:_.imageUrl,alt:_.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover"}):e.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1",children:_.name}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-2",children:_.specialization}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:_.rating})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(ze,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),e.jsx("span",{className:"truncate",children:_.location})]}),e.jsxs("div",{className:"text-xs sm:text-sm font-medium text-green-600",children:["R$ ",_.hourlyRate,"/h"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{className:"flex-1 bg-yellow-500 text-white py-2 px-3 sm:px-4 rounded-full font-medium hover:bg-yellow-600 transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>g(_.userId,_.name),children:[e.jsx(Jt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Conversar"]}),_.phone&&e.jsxs("button",{className:"bg-green-500 text-white py-2 px-3 sm:px-4 rounded-full font-medium hover:bg-green-600 transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm",onClick:()=>b(_.phone),children:[e.jsx(Wt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Ligar"]})]})]})]})},_.id))}),k.length===0&&n&&e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(ys,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Nenhum profissional encontrado"})]})]}),e.jsx(qt,{})]})}const mr=Sn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=h.forwardRef(({className:a,variant:n,size:i,asChild:o=!1,...c},u)=>{const m=o?um:"button";return e.jsx(m,{className:ue(mr({variant:n,size:i,className:a})),ref:u,...c})});O.displayName="Button";const oe=h.forwardRef(({className:a,...n},i)=>e.jsx("div",{ref:i,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n}));oe.displayName="Card";const Te=h.forwardRef(({className:a,...n},i)=>e.jsx("div",{ref:i,className:ue("flex flex-col space-y-1.5 p-6",a),...n}));Te.displayName="CardHeader";const Oe=h.forwardRef(({className:a,...n},i)=>e.jsx("div",{ref:i,className:ue("text-2xl font-semibold leading-none tracking-tight",a),...n}));Oe.displayName="CardTitle";const sx=h.forwardRef(({className:a,...n},i)=>e.jsx("div",{ref:i,className:ue("text-sm text-muted-foreground",a),...n}));sx.displayName="CardDescription";const le=h.forwardRef(({className:a,...n},i)=>e.jsx("div",{ref:i,className:ue("p-6 pt-0",a),...n}));le.displayName="CardContent";const ax=h.forwardRef(({className:a,...n},i)=>e.jsx("div",{ref:i,className:ue("flex items-center p-6 pt-0",a),...n}));ax.displayName="CardFooter";const nx=Sn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qe({className:a,variant:n,...i}){return e.jsx("div",{className:ue(nx({variant:n}),a),...i})}function ix(){return Mc.useSyncExternalStore(rx,()=>!0,()=>!1)}function rx(){return()=>{}}var fr="Avatar",[ox,U0]=ks(fr),[lx,Xc]=ox(fr),Jc=h.forwardRef((a,n)=>{const{__scopeAvatar:i,...o}=a,[c,u]=h.useState("idle");return e.jsx(lx,{scope:i,imageLoadingStatus:c,onImageLoadingStatusChange:u,children:e.jsx(Le.span,{...o,ref:n})})});Jc.displayName=fr;var ed="AvatarImage",td=h.forwardRef((a,n)=>{const{__scopeAvatar:i,src:o,onLoadingStatusChange:c=()=>{},...u}=a,m=Xc(ed,i),x=cx(o,u),f=Ws(g=>{c(g),m.onImageLoadingStatusChange(g)});return Pt(()=>{x!=="idle"&&f(x)},[x,f]),x==="loaded"?e.jsx(Le.img,{...u,ref:n,src:o}):null});td.displayName=ed;var sd="AvatarFallback",ad=h.forwardRef((a,n)=>{const{__scopeAvatar:i,delayMs:o,...c}=a,u=Xc(sd,i),[m,x]=h.useState(o===void 0);return h.useEffect(()=>{if(o!==void 0){const f=window.setTimeout(()=>x(!0),o);return()=>window.clearTimeout(f)}},[o]),m&&u.imageLoadingStatus!=="loaded"?e.jsx(Le.span,{...c,ref:n}):null});ad.displayName=sd;function $o(a,n){return a?n?(a.src!==n&&(a.src=n),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cx(a,{referrerPolicy:n,crossOrigin:i}){const o=ix(),c=h.useRef(null),u=o?(c.current||(c.current=new window.Image),c.current):null,[m,x]=h.useState(()=>$o(u,a));return Pt(()=>{x($o(u,a))},[u,a]),Pt(()=>{const f=y=>()=>{x(y)};if(!u)return;const g=f("loaded"),b=f("error");return u.addEventListener("load",g),u.addEventListener("error",b),n&&(u.referrerPolicy=n),typeof i=="string"&&(u.crossOrigin=i),()=>{u.removeEventListener("load",g),u.removeEventListener("error",b)}},[u,i,n]),m}var nd=Jc,id=td,rd=ad;const os=h.forwardRef(({className:a,...n},i)=>e.jsx(nd,{ref:i,className:ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...n}));os.displayName=nd.displayName;const ls=h.forwardRef(({className:a,src:n,...i},o)=>e.jsx(id,{ref:o,className:ue("aspect-square h-full w-full",a),src:n,onError:c=>{},...i}));ls.displayName=id.displayName;const cs=h.forwardRef(({className:a,...n},i)=>e.jsx(rd,{ref:i,className:ue("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...n}));cs.displayName=rd.displayName;const Ta=hl,Ii=ul,dx=dl,od=h.forwardRef(({className:a,...n},i)=>e.jsx(Ui,{ref:i,className:ue("fixed inset-0 z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),style:{backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:50,width:"100vw",height:"100vh"},...n}));od.displayName=Ui.displayName;const Ks=h.forwardRef(({className:a,children:n,...i},o)=>e.jsxs(dx,{children:[e.jsx(od,{}),e.jsxs(Gi,{ref:o,className:ue("fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg overflow-y-auto",a),style:{backgroundColor:"var(--background)",border:"1px solid var(--border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",width:"min(95vw, 32rem)",maxWidth:"min(95vw, 32rem)",maxHeight:"min(85vh, 90vh)",height:"auto",minHeight:"auto"},...i,children:[n,e.jsxs(Ki,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ia,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ks.displayName=Gi.displayName;const Qs=({className:a,...n})=>e.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",a),...n});Qs.displayName="DialogHeader";const Ys=h.forwardRef(({className:a,...n},i)=>e.jsx(Qi,{ref:i,className:ue("text-lg font-semibold leading-none tracking-tight",a),...n}));Ys.displayName=Qi.displayName;const ld=h.forwardRef(({className:a,...n},i)=>e.jsx(Yi,{ref:i,className:ue("text-sm text-muted-foreground",a),...n}));ld.displayName=Yi.displayName;function vt(a){const n=Object.prototype.toString.call(a);return a instanceof Date||typeof a=="object"&&n==="[object Date]"?new a.constructor(+a):typeof a=="number"||n==="[object Number]"||typeof a=="string"||n==="[object String]"?new Date(a):new Date(NaN)}function ds(a,n){return a instanceof Date?new a.constructor(n):new Date(n)}function cd(a,n){const i=vt(a);return isNaN(n)?ds(a,NaN):(n&&i.setDate(i.getDate()+n),i)}const dd=6048e5,hx=864e5;let ux={};function An(){return ux}function Xs(a,n){const i=An(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=vt(a),u=c.getDay(),m=(u<o?7:0)+u-o;return c.setDate(c.getDate()-m),c.setHours(0,0,0,0),c}function _n(a){return Xs(a,{weekStartsOn:1})}function hd(a){const n=vt(a),i=n.getFullYear(),o=ds(a,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);const c=_n(o),u=ds(a,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const m=_n(u);return n.getTime()>=c.getTime()?i+1:n.getTime()>=m.getTime()?i:i-1}function jn(a){const n=vt(a);return n.setHours(0,0,0,0),n}function Bo(a){const n=vt(a),i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),+a-+i}function mx(a,n){const i=jn(a),o=jn(n),c=+i-Bo(i),u=+o-Bo(o);return Math.round((c-u)/hx)}function fx(a){const n=hd(a),i=ds(a,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),_n(i)}function ud(a,n){const i=n*7;return cd(a,i)}function ji(a,n){const i=jn(a),o=jn(n);return+i==+o}function px(a){return a instanceof Date||typeof a=="object"&&Object.prototype.toString.call(a)==="[object Date]"}function xx(a){if(!px(a)&&typeof a!="number")return!1;const n=vt(a);return!isNaN(Number(n))}function gx(a){const n=vt(a),i=ds(a,0);return i.setFullYear(n.getFullYear(),0,1),i.setHours(0,0,0,0),i}const vx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yx=(a,n,i)=>{let o;const c=vx[a];return typeof c=="string"?o=c:n===1?o=c.one:o=c.other.replace("{{count}}",n.toString()),i?.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};function Zs(a){return(n={})=>{const i=n.width?String(n.width):a.defaultWidth;return a.formats[i]||a.formats[a.defaultWidth]}}const bx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_x={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jx={date:Zs({formats:bx,defaultWidth:"full"}),time:Zs({formats:wx,defaultWidth:"full"}),dateTime:Zs({formats:_x,defaultWidth:"full"})},Nx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kx=(a,n,i,o)=>Nx[a];function Zt(a){return(n,i)=>{const o=i?.context?String(i.context):"standalone";let c;if(o==="formatting"&&a.formattingValues){const m=a.defaultFormattingWidth||a.defaultWidth,x=i?.width?String(i.width):m;c=a.formattingValues[x]||a.formattingValues[m]}else{const m=a.defaultWidth,x=i?.width?String(i.width):a.defaultWidth;c=a.values[x]||a.values[m]}const u=a.argumentCallback?a.argumentCallback(n):n;return c[u]}}const Cx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Px={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ex={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lx=(a,n)=>{const i=Number(a),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Rx={ordinalNumber:Lx,era:Zt({values:Cx,defaultWidth:"wide"}),quarter:Zt({values:Sx,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Zt({values:Px,defaultWidth:"wide"}),day:Zt({values:Tx,defaultWidth:"wide"}),dayPeriod:Zt({values:Ex,defaultWidth:"wide",formattingValues:Mx,defaultFormattingWidth:"wide"})};function Ht(a){return(n,i={})=>{const o=i.width,c=o&&a.matchPatterns[o]||a.matchPatterns[a.defaultMatchWidth],u=n.match(c);if(!u)return null;const m=u[0],x=o&&a.parsePatterns[o]||a.parsePatterns[a.defaultParseWidth],f=Array.isArray(x)?Ox(x,y=>y.test(m)):Ax(x,y=>y.test(m));let g;g=a.valueCallback?a.valueCallback(f):f,g=i.valueCallback?i.valueCallback(g):g;const b=n.slice(m.length);return{value:g,rest:b}}}function Ax(a,n){for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&n(a[i]))return i}function Ox(a,n){for(let i=0;i<a.length;i++)if(n(a[i]))return i}function md(a){return(n,i={})=>{const o=n.match(a.matchPattern);if(!o)return null;const c=o[0],u=n.match(a.parsePattern);if(!u)return null;let m=a.valueCallback?a.valueCallback(u[0]):u[0];m=i.valueCallback?i.valueCallback(m):m;const x=n.slice(c.length);return{value:m,rest:x}}}const Ix=/^(\d+)(th|st|nd|rd)?/i,Dx=/\d+/i,zx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fx={any:[/^b/i,/^(a|c)/i]},$x={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bx={any:[/1/i,/2/i,/3/i,/4/i]},Zx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ux={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gx={ordinalNumber:md({matchPattern:Ix,parsePattern:Dx,valueCallback:a=>parseInt(a,10)}),era:Ht({matchPatterns:zx,defaultMatchWidth:"wide",parsePatterns:Fx,defaultParseWidth:"any"}),quarter:Ht({matchPatterns:$x,defaultMatchWidth:"wide",parsePatterns:Bx,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Ht({matchPatterns:Zx,defaultMatchWidth:"wide",parsePatterns:Hx,defaultParseWidth:"any"}),day:Ht({matchPatterns:qx,defaultMatchWidth:"wide",parsePatterns:Wx,defaultParseWidth:"any"}),dayPeriod:Ht({matchPatterns:Vx,defaultMatchWidth:"any",parsePatterns:Ux,defaultParseWidth:"any"})},Kx={code:"en-US",formatDistance:yx,formatLong:jx,formatRelative:kx,localize:Rx,match:Gx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qx(a){const n=vt(a);return mx(n,gx(n))+1}function Yx(a){const n=vt(a),i=+_n(n)-+fx(n);return Math.round(i/dd)+1}function fd(a,n){const i=vt(a),o=i.getFullYear(),c=An(),u=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,m=ds(a,0);m.setFullYear(o+1,0,u),m.setHours(0,0,0,0);const x=Xs(m,n),f=ds(a,0);f.setFullYear(o,0,u),f.setHours(0,0,0,0);const g=Xs(f,n);return i.getTime()>=x.getTime()?o+1:i.getTime()>=g.getTime()?o:o-1}function Xx(a,n){const i=An(),o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=fd(a,n),u=ds(a,0);return u.setFullYear(c,0,o),u.setHours(0,0,0,0),Xs(u,n)}function Jx(a,n){const i=vt(a),o=+Xs(i,n)-+Xx(i,n);return Math.round(o/dd)+1}function Ae(a,n){const i=a<0?"-":"",o=Math.abs(a).toString().padStart(n,"0");return i+o}const as={y(a,n){const i=a.getFullYear(),o=i>0?i:1-i;return Ae(n==="yy"?o%100:o,n.length)},M(a,n){const i=a.getMonth();return n==="M"?String(i+1):Ae(i+1,2)},d(a,n){return Ae(a.getDate(),n.length)},a(a,n){const i=a.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(a,n){return Ae(a.getHours()%12||12,n.length)},H(a,n){return Ae(a.getHours(),n.length)},m(a,n){return Ae(a.getMinutes(),n.length)},s(a,n){return Ae(a.getSeconds(),n.length)},S(a,n){const i=n.length,o=a.getMilliseconds(),c=Math.trunc(o*Math.pow(10,i-3));return Ae(c,n.length)}},Fs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zo={G:function(a,n,i){const o=a.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return i.era(o,{width:"abbreviated"});case"GGGGG":return i.era(o,{width:"narrow"});case"GGGG":default:return i.era(o,{width:"wide"})}},y:function(a,n,i){if(n==="yo"){const o=a.getFullYear(),c=o>0?o:1-o;return i.ordinalNumber(c,{unit:"year"})}return as.y(a,n)},Y:function(a,n,i,o){const c=fd(a,o),u=c>0?c:1-c;if(n==="YY"){const m=u%100;return Ae(m,2)}return n==="Yo"?i.ordinalNumber(u,{unit:"year"}):Ae(u,n.length)},R:function(a,n){const i=hd(a);return Ae(i,n.length)},u:function(a,n){const i=a.getFullYear();return Ae(i,n.length)},Q:function(a,n,i){const o=Math.ceil((a.getMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Ae(o,2);case"Qo":return i.ordinalNumber(o,{unit:"quarter"});case"QQQ":return i.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(o,{width:"wide",context:"formatting"})}},q:function(a,n,i){const o=Math.ceil((a.getMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Ae(o,2);case"qo":return i.ordinalNumber(o,{unit:"quarter"});case"qqq":return i.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(o,{width:"wide",context:"standalone"})}},M:function(a,n,i){const o=a.getMonth();switch(n){case"M":case"MM":return as.M(a,n);case"Mo":return i.ordinalNumber(o+1,{unit:"month"});case"MMM":return i.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(o,{width:"wide",context:"formatting"})}},L:function(a,n,i){const o=a.getMonth();switch(n){case"L":return String(o+1);case"LL":return Ae(o+1,2);case"Lo":return i.ordinalNumber(o+1,{unit:"month"});case"LLL":return i.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(o,{width:"wide",context:"standalone"})}},w:function(a,n,i,o){const c=Jx(a,o);return n==="wo"?i.ordinalNumber(c,{unit:"week"}):Ae(c,n.length)},I:function(a,n,i){const o=Yx(a);return n==="Io"?i.ordinalNumber(o,{unit:"week"}):Ae(o,n.length)},d:function(a,n,i){return n==="do"?i.ordinalNumber(a.getDate(),{unit:"date"}):as.d(a,n)},D:function(a,n,i){const o=Qx(a);return n==="Do"?i.ordinalNumber(o,{unit:"dayOfYear"}):Ae(o,n.length)},E:function(a,n,i){const o=a.getDay();switch(n){case"E":case"EE":case"EEE":return i.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(o,{width:"short",context:"formatting"});case"EEEE":default:return i.day(o,{width:"wide",context:"formatting"})}},e:function(a,n,i,o){const c=a.getDay(),u=(c-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(u);case"ee":return Ae(u,2);case"eo":return i.ordinalNumber(u,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});case"eeee":default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(a,n,i,o){const c=a.getDay(),u=(c-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(u);case"cc":return Ae(u,n.length);case"co":return i.ordinalNumber(u,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});case"cccc":default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(a,n,i){const o=a.getDay(),c=o===0?7:o;switch(n){case"i":return String(c);case"ii":return Ae(c,n.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(o,{width:"short",context:"formatting"});case"iiii":default:return i.day(o,{width:"wide",context:"formatting"})}},a:function(a,n,i){const c=a.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(a,n,i){const o=a.getHours();let c;switch(o===12?c=Fs.noon:o===0?c=Fs.midnight:c=o/12>=1?"pm":"am",n){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(a,n,i){const o=a.getHours();let c;switch(o>=17?c=Fs.evening:o>=12?c=Fs.afternoon:o>=4?c=Fs.morning:c=Fs.night,n){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(a,n,i){if(n==="ho"){let o=a.getHours()%12;return o===0&&(o=12),i.ordinalNumber(o,{unit:"hour"})}return as.h(a,n)},H:function(a,n,i){return n==="Ho"?i.ordinalNumber(a.getHours(),{unit:"hour"}):as.H(a,n)},K:function(a,n,i){const o=a.getHours()%12;return n==="Ko"?i.ordinalNumber(o,{unit:"hour"}):Ae(o,n.length)},k:function(a,n,i){let o=a.getHours();return o===0&&(o=24),n==="ko"?i.ordinalNumber(o,{unit:"hour"}):Ae(o,n.length)},m:function(a,n,i){return n==="mo"?i.ordinalNumber(a.getMinutes(),{unit:"minute"}):as.m(a,n)},s:function(a,n,i){return n==="so"?i.ordinalNumber(a.getSeconds(),{unit:"second"}):as.s(a,n)},S:function(a,n){return as.S(a,n)},X:function(a,n,i){const o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return qo(o);case"XXXX":case"XX":return vs(o);case"XXXXX":case"XXX":default:return vs(o,":")}},x:function(a,n,i){const o=a.getTimezoneOffset();switch(n){case"x":return qo(o);case"xxxx":case"xx":return vs(o);case"xxxxx":case"xxx":default:return vs(o,":")}},O:function(a,n,i){const o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ho(o,":");case"OOOO":default:return"GMT"+vs(o,":")}},z:function(a,n,i){const o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ho(o,":");case"zzzz":default:return"GMT"+vs(o,":")}},t:function(a,n,i){const o=Math.trunc(a.getTime()/1e3);return Ae(o,n.length)},T:function(a,n,i){const o=a.getTime();return Ae(o,n.length)}};function Ho(a,n=""){const i=a>0?"-":"+",o=Math.abs(a),c=Math.trunc(o/60),u=o%60;return u===0?i+String(c):i+String(c)+n+Ae(u,2)}function qo(a,n){return a%60===0?(a>0?"-":"+")+Ae(Math.abs(a)/60,2):vs(a,n)}function vs(a,n=""){const i=a>0?"-":"+",o=Math.abs(a),c=Ae(Math.trunc(o/60),2),u=Ae(o%60,2);return i+c+n+u}const Wo=(a,n)=>{switch(a){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pd=(a,n)=>{switch(a){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},eg=(a,n)=>{const i=a.match(/(P+)(p+)?/)||[],o=i[1],c=i[2];if(!c)return Wo(a,n);let u;switch(o){case"P":u=n.dateTime({width:"short"});break;case"PP":u=n.dateTime({width:"medium"});break;case"PPP":u=n.dateTime({width:"long"});break;case"PPPP":default:u=n.dateTime({width:"full"});break}return u.replace("{{date}}",Wo(o,n)).replace("{{time}}",pd(c,n))},tg={p:pd,P:eg},sg=/^D+$/,ag=/^Y+$/,ng=["D","DD","YY","YYYY"];function ig(a){return sg.test(a)}function rg(a){return ag.test(a)}function og(a,n,i){const o=lg(a,n,i);if(console.warn(o),ng.includes(a))throw new RangeError(o)}function lg(a,n,i){const o=a[0]==="Y"?"years":"days of the month";return`Use \`${a.toLowerCase()}\` instead of \`${a}\` (in \`${n}\`) for formatting ${o} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cg=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dg=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hg=/^'([^]*?)'?$/,ug=/''/g,mg=/[a-zA-Z]/;function ba(a,n,i){const o=An(),c=i?.locale??o.locale??Kx,u=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,x=vt(a);if(!xx(x))throw new RangeError("Invalid time value");let f=n.match(dg).map(b=>{const y=b[0];if(y==="p"||y==="P"){const k=tg[y];return k(b,c.formatLong)}return b}).join("").match(cg).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:fg(b)};if(Zo[y])return{isToken:!0,value:b};if(y.match(mg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});c.localize.preprocessor&&(f=c.localize.preprocessor(x,f));const g={firstWeekContainsDate:u,weekStartsOn:m,locale:c};return f.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!i?.useAdditionalWeekYearTokens&&rg(y)||!i?.useAdditionalDayOfYearTokens&&ig(y))&&og(y,n,String(a));const k=Zo[y[0]];return k(x,y,c.localize,g)}).join("")}function fg(a){const n=a.match(hg);return n?n[1].replace(ug,"'"):a}function pg(a,n){const i=vt(a),o=vt(n);return i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()}function xg(a,n){return ud(a,-4)}const gg={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},vg=(a,n,i)=>{let o;const c=gg[a];return typeof c=="string"?o=c:n===1?o=c.one:o=c.other.replace("{{count}}",String(n)),i?.addSuffix?i.comparison&&i.comparison>0?"em "+o:"há "+o:o},yg={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},bg={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wg={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_g={date:Zs({formats:yg,defaultWidth:"full"}),time:Zs({formats:bg,defaultWidth:"full"}),dateTime:Zs({formats:wg,defaultWidth:"full"})},jg={lastWeek:a=>{const n=a.getDay();return"'"+(n===0||n===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Ng=(a,n,i,o)=>{const c=jg[a];return typeof c=="function"?c(n):c},kg={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Cg={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Sg={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Pg={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Tg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Eg={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Mg=(a,n)=>{const i=Number(a);return n?.unit==="week"?i+"ª":i+"º"},Lg={ordinalNumber:Mg,era:Zt({values:kg,defaultWidth:"wide"}),quarter:Zt({values:Cg,defaultWidth:"wide",argumentCallback:a=>a-1}),month:Zt({values:Sg,defaultWidth:"wide"}),day:Zt({values:Pg,defaultWidth:"wide"}),dayPeriod:Zt({values:Tg,defaultWidth:"wide",formattingValues:Eg,defaultFormattingWidth:"wide"})},Rg=/^(\d+)[ºªo]?/i,Ag=/\d+/i,Og={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Ig={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Dg={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},zg={any:[/1/i,/2/i,/3/i,/4/i]},Fg={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$g={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Bg={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Zg={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Hg={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},qg={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Wg={ordinalNumber:md({matchPattern:Rg,parsePattern:Ag,valueCallback:a=>parseInt(a,10)}),era:Ht({matchPatterns:Og,defaultMatchWidth:"wide",parsePatterns:Ig,defaultParseWidth:"any"}),quarter:Ht({matchPatterns:Dg,defaultMatchWidth:"wide",parsePatterns:zg,defaultParseWidth:"any",valueCallback:a=>a+1}),month:Ht({matchPatterns:Fg,defaultMatchWidth:"wide",parsePatterns:$g,defaultParseWidth:"any"}),day:Ht({matchPatterns:Bg,defaultMatchWidth:"wide",parsePatterns:Zg,defaultParseWidth:"any"}),dayPeriod:Ht({matchPatterns:Hg,defaultMatchWidth:"any",parsePatterns:qg,defaultParseWidth:"any"})},Di={code:"pt-BR",formatDistance:vg,formatLong:_g,formatRelative:Ng,localize:Lg,match:Wg,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vo(){const{toast:a}=st(),[n,i]=h.useState(new Date),[o,c]=h.useState(new Date),[u,m]=h.useState(null),[x,f]=h.useState(!1),[g,b]=h.useState("all"),y=H=>{switch(H){case"agendado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"confirmado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"em_andamento":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"concluido":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},k=H=>{switch(H){case"confirmado":return e.jsx(it,{className:"h-3 w-3"});case"cancelado":return e.jsx(Us,{className:"h-3 w-3"});case"em_andamento":return e.jsx(dc,{className:"h-3 w-3"});case"concluido":return e.jsx(it,{className:"h-3 w-3"});default:return e.jsx(_s,{className:"h-3 w-3"})}},_=H=>{switch(H){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concluído";case"cancelado":return"Cancelado";default:return H}},E=[],v=H=>E.filter(ae=>ji(ae.date,H)),T=()=>{const H=Xs(new Date(n.getFullYear(),n.getMonth(),1)),ae=[];for(let B=0;B<42;B++)ae.push(cd(H,B));return ae},S=()=>{i(xg(n))},w=()=>{i(ud(n,4))},A=H=>{m(H),f(!0)},I=()=>{a({title:"Agendamento cancelado",description:"Seu agendamento foi cancelado com sucesso."}),f(!1)},M=()=>{a({title:"Reagendamento",description:"Redirecionando para reagendar consulta..."}),f(!1)},$=()=>{u?.meetingLink&&(window.open(u.meetingLink,"_blank"),a({title:"Videochamada iniciada",description:"Abrindo link da reunião..."}))},se=()=>{u?.professionalPhone&&window.open(`tel:${u.professionalPhone}`)},re=()=>{if(u?.location){const H=encodeURIComponent(u.location);window.open(`https://maps.google.com/?q=${H}`,"_blank")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Minha Agenda"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-4 lg:p-8",children:[e.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agenda"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gerencie seus agendamentos"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(O,{variant:"outline",children:[e.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Filtros"]}),e.jsxs(O,{className:"bg-yellow-500 hover:bg-yellow-600",children:[e.jsx(tp,{className:"h-4 w-4 mr-2"}),"Nova Consulta"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6 overflow-x-auto",children:[e.jsx(O,{variant:g==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),className:g==="all"?"bg-yellow-500 hover:bg-yellow-600":"",children:"Todos"}),e.jsx(O,{variant:g==="agendado"?"default":"outline",size:"sm",onClick:()=>b("agendado"),className:g==="agendado"?"bg-blue-500 hover:bg-blue-600":"",children:"Agendados"}),e.jsx(O,{variant:g==="confirmado"?"default":"outline",size:"sm",onClick:()=>b("confirmado"),className:g==="confirmado"?"bg-green-500 hover:bg-green-600":"",children:"Confirmados"}),e.jsx(O,{variant:g==="concluido"?"default":"outline",size:"sm",onClick:()=>b("concluido"),className:g==="concluido"?"bg-gray-500 hover:bg-gray-600":"",children:"Concluídos"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(oe,{children:[e.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(Oe,{className:"text-lg",children:ba(n,"MMMM yyyy",{locale:Di})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:S,children:e.jsx(Uf,{className:"h-4 w-4"})}),e.jsx(O,{variant:"outline",size:"sm",onClick:w,children:e.jsx(mc,{className:"h-4 w-4"})})]})]}),e.jsxs(le,{children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(H=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-600 dark:text-gray-400",children:H},H))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T().map((H,ae)=>{const B=v(H),W=pg(H,n),P=ji(H,new Date),C=ji(H,o);return e.jsxs("div",{className:`
                            min-h-[80px] p-1 border border-gray-200 dark:border-gray-700 cursor-pointer transition-colors
                            ${W?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900"}
                            ${P?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700":""}
                            ${C?"ring-2 ring-yellow-500":""}
                            hover:bg-gray-50 dark:hover:bg-gray-700
                          `,onClick:()=>c(H),children:[e.jsx("div",{className:`
                            text-sm font-medium mb-1
                            ${W?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-600"}
                            ${P?"text-yellow-600 dark:text-yellow-400":""}
                          `,children:ba(H,"d")}),e.jsxs("div",{className:"space-y-1",children:[B.slice(0,2).map(q=>e.jsxs("div",{className:`
                                  text-xs p-1 rounded cursor-pointer truncate
                                  ${y(q.status)}
                                `,onClick:V=>{V.stopPropagation(),A(q)},children:[q.time," - ",q.professionalName]},q.id)),B.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 p-1",children:["+",B.length-2," mais"]})]})]},ae)})})]})]})}),e.jsx("div",{children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"text-lg",children:["Agendamentos - ",ba(o,"dd/MM/yyyy")]})}),e.jsx(le,{className:"space-y-4",children:v(o).length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Nenhum agendamento para este dia"})]}):v(o).map(H=>e.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>A(H),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(os,{className:"w-10 h-10",children:[e.jsx(ls,{src:H.professionalAvatar,alt:H.professionalName}),e.jsx(cs,{children:H.professionalName.split(" ").map(ae=>ae[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:H.professionalName}),e.jsxs(qe,{className:`text-xs ${y(H.status)}`,children:[k(H.status),e.jsx("span",{className:"ml-1",children:_(H.status)})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-1",children:H.specialization}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gt,{className:"h-3 w-3"}),H.time," (",H.duration,"min)"]}),H.type==="presencial"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"h-3 w-3"}),"Presencial"]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"h-3 w-3"}),"Online"]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:["R$ ",H.price]}),H.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:H.rating})]})]})]})]})},H.id))})]})})]}),e.jsx(Ta,{open:x,onOpenChange:f,children:e.jsxs(Ks,{className:"max-w-2xl",children:[e.jsx(Qs,{children:e.jsxs(Ys,{className:"flex items-center gap-3",children:[e.jsxs(os,{className:"w-12 h-12",children:[e.jsx(ls,{src:u?.professionalAvatar,alt:u?.professionalName}),e.jsx(cs,{children:u?.professionalName.split(" ").map(H=>H[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:u?.professionalName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:u?.specialization})]})]})}),u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(qe,{className:`${y(u.status)}`,children:[k(u.status),e.jsx("span",{className:"ml-1",children:_(u.status)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u.type==="online"&&u.meetingLink&&e.jsxs(O,{size:"sm",onClick:$,className:"bg-blue-500 hover:bg-blue-600",children:[e.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Entrar na Reunião"]}),u.professionalPhone&&e.jsxs(O,{variant:"outline",size:"sm",onClick:se,children:[e.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Ligar"]}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Mensagem"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Data e Horário"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(Je,{className:"h-4 w-4"}),ba(u.date,"dd 'de' MMMM 'de' yyyy",{locale:Di})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 mt-1",children:[e.jsx(gt,{className:"h-4 w-4"}),u.time," - ",u.duration," minutos"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Tipo de Consulta"}),e.jsx("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:u.type==="presencial"?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4"}),"Presencial"]}):e.jsxs(e.Fragment,{children:[e.jsx(Bs,{className:"h-4 w-4"}),"Online"]})})]}),u.location&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Local"}),e.jsxs("div",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(ze,{className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{children:u.location}),e.jsxs(O,{variant:"link",size:"sm",className:"p-0 h-auto text-yellow-600 hover:text-yellow-700",onClick:re,children:[e.jsx(yc,{className:"h-3 w-3 mr-1"}),"Ver no mapa"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Valor"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",u.price]})]}),u.rating&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Avaliação"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold",children:u.rating})]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Excelente profissional"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Contato"}),u.professionalPhone&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[e.jsx(Wt,{className:"h-4 w-4"}),u.professionalPhone]})]})]})]}),u.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Observações"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:u.notes})]}),u.status!=="concluido"&&u.status!=="cancelado"&&e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[u.canReschedule&&e.jsxs(O,{variant:"outline",onClick:()=>M(),children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Reagendar"]}),u.canCancel&&e.jsxs(O,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-900/20",onClick:()=>I(),children:[e.jsx(Us,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]})]})]})})]}),e.jsx(qt,{})]})}const me=h.forwardRef(({className:a,type:n,...i},o)=>e.jsx("input",{type:n,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:o,...i}));me.displayName="Input";var Vg="Label",xd=h.forwardRef((a,n)=>e.jsx(Le.label,{...a,ref:n,onMouseDown:i=>{i.target.closest("button, input, select, textarea")||(a.onMouseDown?.(i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));xd.displayName=Vg;var gd=xd;const Ug=Sn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=h.forwardRef(({className:a,...n},i)=>e.jsx(gd,{ref:i,className:ue(Ug(),a),...n}));Nt.displayName=gd.displayName;const St=h.forwardRef(({className:a,...n},i)=>e.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:i,...n}));St.displayName="Textarea";function Uo(){const[,a]=ut(),{logout:n}=Tt(),{toast:i}=st(),o=sr(),[c,u]=h.useState(!1),[m,x]=h.useState(!1),[f,g]=h.useState(!1),b=h.useRef(null),[y,k]=h.useState({name:"",email:"",phone:"",address:""}),{data:_,isLoading:E}=yn({queryKey:["/api/user"]}),{data:v=[]}=yn({queryKey:["/api/appointments"]});h.useEffect(()=>{_&&k({name:_.name||"",email:_.email||"",phone:_.phone||"",address:_.address||""})},[_]);const T=(v||[]).filter(C=>new Date(C.scheduledFor)<=new Date).length,S=Po({mutationFn:async C=>{const q=localStorage.getItem("token");if(!q)throw new Error("Token não encontrado");const V=await fetch(`${ge()}/api/user/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${q}`},body:JSON.stringify(C)});if(!V.ok)throw new Error("Erro ao atualizar perfil");return V.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/user"]}),u(!1),i({title:"Perfil atualizado",description:"Suas informações foram atualizadas com sucesso."})},onError:C=>{i({title:"Erro",description:"Não foi possível atualizar o perfil. Tente novamente.",variant:"destructive"})}}),w=Po({mutationFn:async C=>{const q=localStorage.getItem("token");if(!q)throw new Error("Token não encontrado");const V=new FormData;V.append("profileImage",C);const ce=await fetch(`${ge()}/api/user/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${q}`},body:V});if(!ce.ok)throw new Error("Erro ao fazer upload da imagem");return ce.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/user"]}),x(!1),g(!1),i({title:"Foto atualizada",description:"Sua foto de perfil foi atualizada com sucesso."})},onError:C=>{x(!1),i({title:"Erro",description:"Não foi possível fazer upload da imagem. Tente novamente.",variant:"destructive"})}}),A=()=>{u(!0)},I=()=>{S.mutate(y)},M=()=>{u(!1),_&&k({name:_.name||"",email:_.email||"",phone:_.phone||"",address:_.address||""})},$=()=>{b.current?.click()},se=C=>{const q=C.target.files?.[0];q&&(x(!0),w.mutate(q))},re=(C,q)=>{k(V=>({...V,[C]:q}))},H=()=>{a("/payment")},ae=()=>{console.log("Opening privacy settings")},B=()=>{console.log("Opening help center")},W=()=>{a("/my-requests")},P=()=>{n(),a("/login"),i({title:"Logout realizado",description:"Você foi desconectado com sucesso."})};return E?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando perfil..."})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:e.jsxs("div",{className:"w-full max-w-sm lg:max-w-none mx-auto lg:mx-0 relative px-3 sm:px-4 lg:px-8 py-3 sm:py-4 lg:py-6",children:[e.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"mr-2 p-2 lg:hidden",children:e.jsx(et,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Meu Perfil"})]}),e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsxs("div",{className:"relative inline-block mb-3 sm:mb-4",children:[_?.profileImage&&!f?e.jsx("img",{src:`${ge()}${_.profileImage}`,alt:`Foto de ${_?.name||"Cliente"}`,className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto rounded-full object-cover border-4 border-white shadow-lg",onError:()=>{console.log("Erro ao carregar imagem:",_.profileImage),g(!0)},onLoad:()=>{console.log("Imagem carregada com sucesso:",_.profileImage),g(!1)}}):e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto bg-yellow-500 rounded-full flex items-center justify-center border-4 border-white shadow-lg",children:e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white",children:_?.name?.charAt(0)||"G"})}),e.jsx(O,{size:"sm",variant:"secondary",className:"absolute -bottom-1 -right-1 sm:-bottom-2 sm:-right-2 rounded-full w-6 h-6 sm:w-8 sm:h-8 p-0 bg-white border-2 border-gray-200 hover:bg-gray-50",onClick:$,disabled:m,children:m?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-gray-600"}):e.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:se,className:"hidden"})]}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2",children:_?.name||"Gustavo Silva"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Membro desde Janeiro 2024"}),e.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:v?.length||0}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Agendamentos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:T}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Concluídos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-primary",children:"4.8"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Avaliação"})]})]}),c?e.jsxs("div",{className:"flex gap-2 mb-4 sm:mb-6",children:[e.jsxs(O,{onClick:I,className:"flex-1 h-10 sm:h-12 text-sm sm:text-base",disabled:S.isPending,children:[S.isPending?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Salvar"]}),e.jsx(O,{variant:"outline",onClick:M,className:"h-10 sm:h-12 text-sm sm:text-base",children:e.jsx(Ia,{className:"h-4 w-4"})})]}):e.jsxs(O,{onClick:A,className:"w-full mb-4 sm:mb-6 h-10 sm:h-12 text-sm sm:text-base",children:[e.jsx(jc,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]}),e.jsxs(oe,{className:"mb-4 sm:mb-6",children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsx(Oe,{className:"text-base sm:text-lg",children:"Informações Pessoais"})}),e.jsx(le,{className:"space-y-3 sm:space-y-4",children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Nt,{htmlFor:"name",className:"text-xs sm:text-sm text-gray-600",children:"Nome"}),e.jsx(me,{id:"name",value:y.name,onChange:C=>re("name",C.target.value),className:"mt-1",placeholder:"Seu nome completo"})]}),e.jsxs("div",{children:[e.jsx(Nt,{htmlFor:"email",className:"text-xs sm:text-sm text-gray-600",children:"Email"}),e.jsx(me,{id:"email",type:"email",value:y.email,onChange:C=>re("email",C.target.value),className:"mt-1",placeholder:"seu@email.com"})]}),e.jsxs("div",{children:[e.jsx(Nt,{htmlFor:"phone",className:"text-xs sm:text-sm text-gray-600",children:"Telefone"}),e.jsx(me,{id:"phone",value:y.phone,onChange:C=>re("phone",C.target.value),className:"mt-1",placeholder:"(11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsx(Nt,{htmlFor:"address",className:"text-xs sm:text-sm text-gray-600",children:"Endereço"}),e.jsx(St,{id:"address",value:y.address,onChange:C=>re("address",C.target.value),className:"mt-1",placeholder:"Seu endereço completo",rows:3})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(bn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:_?.email||"gustavo@email.com"})]})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Wt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Telefone"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:_?.phone||"(11) 99999-9999"})]})]}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(ze,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Endereço"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:_?.address||"São Paulo, SP"})]})]})]})})]}),e.jsx(oe,{className:"mb-4 sm:mb-6 border-green-100 bg-gradient-to-r from-green-50 to-emerald-50",children:e.jsx(le,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Vs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:"Conta Verificada"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 leading-relaxed",children:"Sua identidade foi confirmada com sucesso"})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(qe,{className:"bg-green-500 text-white shadow-md hover:bg-green-600 transition-colors px-3 sm:px-4 py-1 sm:py-2 text-xs sm:text-sm font-medium border-0",children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("span",{className:"text-base sm:text-lg",children:"✓"}),e.jsx("span",{children:"Verificado"})]})})})]})})}),e.jsxs("div",{className:"space-y-2 mb-16 sm:mb-20",children:[e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:W,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(pc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Minhas Solicitações"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:H,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(fc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Formas de Pagamento"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a("/settings"),children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(wc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Configurações"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:ae,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Vs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Privacidade e Segurança"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:B,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(xc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-600 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Ajuda e Suporte"})]}),e.jsx("span",{className:"text-gray-400",children:"→"})]})})}),e.jsx("hr",{className:"border-gray-200 dark:border-gray-700 my-3 sm:my-4"}),e.jsx(oe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:P,children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(Ca,{className:"h-4 w-4 sm:h-5 sm:w-5 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"font-medium text-red-500 text-sm sm:text-base",children:"Sair da Conta"})]})})})]}),e.jsx(qt,{})]})})})}function vd(a){const n=h.useRef({value:a,previous:a});return h.useMemo(()=>(n.current.value!==a&&(n.current.previous=n.current.value,n.current.value=a),n.current.previous),[a])}var On="Switch",[Gg,G0]=ks(On),[Kg,Qg]=Gg(On),yd=h.forwardRef((a,n)=>{const{__scopeSwitch:i,name:o,checked:c,defaultChecked:u,required:m,disabled:x,value:f="on",onCheckedChange:g,form:b,...y}=a,[k,_]=h.useState(null),E=tt(n,A=>_(A)),v=h.useRef(!1),T=k?b||!!k.closest("form"):!0,[S,w]=qs({prop:c,defaultProp:u??!1,onChange:g,caller:On});return e.jsxs(Kg,{scope:i,checked:S,disabled:x,children:[e.jsx(Le.button,{type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":jd(S),"data-disabled":x?"":void 0,disabled:x,value:f,...y,ref:E,onClick:we(a.onClick,A=>{w(I=>!I),T&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),T&&e.jsx(_d,{control:k,bubbles:!v.current,name:o,value:f,checked:S,required:m,disabled:x,form:b,style:{transform:"translateX(-100%)"}})]})});yd.displayName=On;var bd="SwitchThumb",wd=h.forwardRef((a,n)=>{const{__scopeSwitch:i,...o}=a,c=Qg(bd,i);return e.jsx(Le.span,{"data-state":jd(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:n})});wd.displayName=bd;var Yg="SwitchBubbleInput",_d=h.forwardRef(({__scopeSwitch:a,control:n,checked:i,bubbles:o=!0,...c},u)=>{const m=h.useRef(null),x=tt(m,u),f=vd(i),g=mm(n);return h.useEffect(()=>{const b=m.current;if(!b)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==i&&_){const E=new Event("click",{bubbles:o});_.call(b,i),b.dispatchEvent(E)}},[f,i,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:x,style:{...c.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_d.displayName=Yg;function jd(a){return a?"checked":"unchecked"}var Nd=yd,Xg=wd;const ns=h.forwardRef(({className:a,...n},i)=>e.jsx(Nd,{className:ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md active:scale-95",a),...n,ref:i,children:e.jsx(Xg,{className:ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-300 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 hover:shadow-xl")})}));ns.displayName=Nd.displayName;async function Jg(a){if(!a.ok){const n=await a.text()||a.statusText;throw new Error(`${a.status}: ${n}`)}}async function Ea(a,n,i){const o=i?{"Content-Type":"application/json"}:{},c=localStorage.getItem("token");c&&(o.Authorization=`Bearer ${c}`);const m=n.startsWith("http")?n:`http://localhost:5000${n}`,x=await fetch(m,{method:a,headers:o,body:i?JSON.stringify(i):void 0,credentials:"include"});return x.status===401?(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload(),x):(await Jg(x),x)}const ev=({on401:a})=>async({queryKey:n})=>{try{const i="http://localhost:5000",o=n[0],c=o.startsWith("http")?o:`${i}${o}`,u=localStorage.getItem("token"),m={};u&&(m.Authorization=`Bearer ${u}`);const x=new AbortController,f=setTimeout(()=>x.abort(),1e4),g=await fetch(c,{headers:m,credentials:"include",signal:x.signal});if(clearTimeout(f),a==="returnNull"&&(g.status===401||g.status===403))return null;if(!g.ok){if(a==="returnNull")return null;const b=await g.text()||g.statusText;throw new Error(`${g.status}: ${b}`)}return await g.json()}catch(i){return console.warn("API request failed:",i.message),null}};new Il({defaultOptions:{queries:{queryFn:ev({on401:"returnNull"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:!1,retryOnMount:!1,refetchOnReconnect:!1},mutations:{retry:!1}}});function Go(){const{theme:a,setTheme:n}=Hl(),{user:i,logout:o}=Tt(),{toast:c}=st(),[u,m]=h.useState(!1),[x,f]=h.useState(!1),[g,b]=h.useState(!1),[y,k]=h.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",address:"",bio:""}),[_,E]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,T]=h.useState({current:!1,new:!1,confirm:!1}),[S,w]=h.useState({appointments:!0,messages:!0,promotions:!1,emailUpdates:!0,smsAlerts:!0}),A=async()=>{try{(await Ea("PUT","/api/user/profile",y)).ok&&(c({title:"Perfil atualizado",description:"Suas informações foram salvas com sucesso."}),m(!1))}catch{c({title:"Erro",description:"Não foi possível atualizar o perfil.",variant:"destructive"})}},I=async()=>{if(_.newPassword!==_.confirmPassword){c({title:"Erro",description:"As senhas não coincidem.",variant:"destructive"});return}try{(await Ea("PUT","/api/user/password",{currentPassword:_.currentPassword,newPassword:_.newPassword})).ok&&(c({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."}),f(!1),E({currentPassword:"",newPassword:"",confirmPassword:""}))}catch{c({title:"Erro",description:"Não foi possível alterar a senha.",variant:"destructive"})}},M=()=>{o(),c({title:"Desconectado",description:"Você foi desconectado com sucesso."})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"lg:hidden sticky top-0 z-10 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-3 sm:px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>window.history.back(),children:e.jsx(et,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Configurações"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-8 space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[e.jsx(Da,{size:24,className:"sm:w-8 sm:h-8"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Configurações"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Gerencie sua conta e preferências"})]})]})}),e.jsxs(oe,{children:[e.jsxs(Te,{className:"flex flex-row items-center justify-between space-y-0 pb-3 sm:pb-4",children:[e.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(bt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Perfil"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>m(!u),className:"text-xs sm:text-sm",children:[e.jsx(Jf,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),u?"Cancelar":"Editar"]})]}),e.jsxs(le,{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(bt,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm sm:text-base",children:i?.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 truncate",children:i?.email}),e.jsx(qe,{variant:"secondary",className:"mt-1 text-xs",children:i?.userType==="client"?"Cliente":"Profissional"})]}),u&&e.jsx(O,{variant:"outline",size:"sm",className:"flex-shrink-0",children:e.jsx(Cs,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 pt-3 sm:pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome"}),e.jsx(me,{value:y.name,onChange:$=>k({...y,name:$.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(me,{value:y.email,onChange:$=>k({...y,email:$.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),e.jsx(me,{value:y.phone,onChange:$=>k({...y,phone:$.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Endereço"}),e.jsx(me,{value:y.address,onChange:$=>k({...y,address:$.target.value}),className:"mt-1 h-9 sm:h-10 text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Bio"}),e.jsx("textarea",{value:y.bio,onChange:$=>k({...y,bio:$.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",rows:3,placeholder:"Conte um pouco sobre você..."})]}),e.jsx("div",{className:"md:col-span-2 flex gap-2",children:e.jsxs(O,{onClick:A,className:"bg-yellow-500 hover:bg-yellow-600 text-sm",children:[e.jsx(wn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),"Salvar"]})})]})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Na,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Notificações"]})}),e.jsx(le,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Agendamentos"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Receber notificações sobre consultas"})]}),e.jsx(ns,{checked:S.appointments,onCheckedChange:$=>w({...S,appointments:$})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Mensagens"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Notificações de novas mensagens"})]}),e.jsx(ns,{checked:S.messages,onCheckedChange:$=>w({...S,messages:$})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Promoções"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Ofertas e descontos especiais"})]}),e.jsx(ns,{checked:S.promotions,onCheckedChange:$=>w({...S,promotions:$})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Receber atualizações por email"})]}),e.jsx(ns,{checked:S.emailUpdates,onCheckedChange:$=>w({...S,emailUpdates:$})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"SMS"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Alertas importantes via SMS"})]}),e.jsx(ns,{checked:S.smsAlerts,onCheckedChange:$=>w({...S,smsAlerts:$})})]})]})})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[a==="dark"?e.jsx(gc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}):e.jsx(Nc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Aparência"]})}),e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Modo Escuro"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Alternar entre tema claro e escuro"})]}),e.jsx(ns,{checked:a==="dark",onCheckedChange:$=>n($?"dark":"light")})]})})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Vs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600"}),"Segurança"]})}),e.jsxs(le,{className:"space-y-3 sm:space-y-4",children:[e.jsxs(O,{variant:"outline",onClick:()=>f(!x),className:"w-full justify-start text-sm",children:[e.jsx(Xf,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Alterar Senha"]}),x&&e.jsxs("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha Atual"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{type:v.current?"text":"password",value:_.currentPassword,onChange:$=>E({..._,currentPassword:$.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>T({...v,current:!v.current}),children:v.current?e.jsx(xn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx($s,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{type:v.new?"text":"password",value:_.newPassword,onChange:$=>E({..._,newPassword:$.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>T({...v,new:!v.new}),children:v.new?e.jsx(xn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx($s,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(me,{type:v.confirm?"text":"password",value:_.confirmPassword,onChange:$=>E({..._,confirmPassword:$.target.value}),className:"h-9 sm:h-10 text-sm pr-10"}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-9 sm:h-10 w-9 sm:w-10 p-0 hover:bg-transparent",onClick:()=>T({...v,confirm:!v.confirm}),children:v.confirm?e.jsx(xn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}):e.jsx($s,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-400"})})]})]}),e.jsxs(O,{onClick:I,className:"bg-yellow-500 hover:bg-yellow-600 text-sm",children:[e.jsx(wn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Alterar Senha"]})]})]})]}),e.jsxs(oe,{className:"border-red-200 dark:border-red-800",children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg text-red-600 dark:text-red-400",children:[e.jsx(Sa,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Zona de Perigo"]})}),e.jsx(le,{className:"space-y-3 sm:space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Excluir Conta"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Esta ação não pode ser desfeita. Sua conta será permanentemente removida."}),e.jsxs(O,{variant:"destructive",onClick:()=>b(!0),className:"text-sm",children:[e.jsx(Sa,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Excluir Conta"]})]})})]}),e.jsx("div",{className:"pt-4 sm:pt-6",children:e.jsxs(O,{variant:"outline",onClick:M,className:"w-full text-red-600 border-red-200 hover:bg-red-50 dark:border-red-800 dark:hover:bg-red-900/20 text-sm",children:[e.jsx(Ca,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Sair da Conta"]})})]})]})}const tv=({amount:a})=>{const{toast:n}=st(),[,i]=ut(),[o,c]=h.useState(!1),[u,m]=h.useState(""),[x,f]=h.useState(""),[g,b]=h.useState(""),[y,k]=h.useState(""),_=async E=>{E.preventDefault(),c(!0);try{(await Ea("POST","/api/create-payment-intent",{amount:a,card:{cardNumber:u,expiryDate:x,cvv:g,cardHolder:y}})).ok&&(n({title:"Pagamento Realizado",description:"Seu pagamento foi processado com sucesso!"}),i("/profile"))}catch(v){n({title:"Erro no Pagamento",description:v.message||"Erro ao processar pagamento",variant:"destructive"})}c(!1)};return e.jsxs("form",{onSubmit:_,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Nome no Cartão"}),e.jsx(me,{type:"text",placeholder:"João da Silva",value:y,onChange:E=>k(E.target.value),className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Número do Cartão"}),e.jsx(me,{type:"text",placeholder:"0000 0000 0000 0000",value:u,onChange:E=>m(E.target.value),maxLength:19,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"Validade"}),e.jsx(me,{type:"text",placeholder:"MM/AA",value:x,onChange:E=>f(E.target.value),maxLength:5,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-2",children:"CVV"}),e.jsx(me,{type:"text",placeholder:"123",value:g,onChange:E=>b(E.target.value),maxLength:4,className:"h-10 sm:h-12 text-sm sm:text-base",required:!0})]})]})]}),e.jsx(O,{type:"submit",disabled:o,className:"w-full h-10 sm:h-12 text-sm sm:text-base font-semibold",children:o?"Processando...":`Pagar R$ ${a.toFixed(2)}`})]})};function sv(){const[,a]=ut(),n=150;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:e.jsx("div",{className:"max-w-lg mx-auto px-3 sm:px-4 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[e.jsx(et,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]}),e.jsx("h1",{className:"text-base sm:text-lg font-semibold",children:"Pagamento"}),e.jsx("div",{className:"w-12 sm:w-16"})]})})}),e.jsxs("div",{className:"max-w-lg mx-auto p-3 sm:p-4 space-y-4 sm:space-y-6",children:[e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsxs(Oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(fc,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Resumo do Serviço"]})}),e.jsxs(le,{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{children:"Consulta Fisioterapia"}),e.jsx("span",{children:"R$ 120,00"})]}),e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{children:"Taxa de serviço"}),e.jsx("span",{children:"R$ 30,00"})]}),e.jsx("div",{className:"border-t pt-2 sm:pt-3",children:e.jsxs("div",{className:"flex justify-between font-semibold text-base sm:text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["R$ ",n.toFixed(2)]})]})})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{className:"pb-3 sm:pb-4",children:e.jsx(Oe,{className:"text-base sm:text-lg",children:"Informações de Pagamento"})}),e.jsx(le,{children:e.jsx(tv,{amount:n})})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx(Vs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-800 dark:text-green-300",children:"Pagamento Seguro"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Suas informações são protegidas com criptografia SSL"})]}),e.jsx(Oa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 flex-shrink-0"})]})]}),e.jsx(qt,{hidePlus:!0})]})}var In="Tabs",[av,K0]=ks(In,[ml]),kd=ml(),[nv,pr]=av(In),Cd=h.forwardRef((a,n)=>{const{__scopeTabs:i,value:o,onValueChange:c,defaultValue:u,orientation:m="horizontal",dir:x,activationMode:f="automatic",...g}=a,b=fl(x),[y,k]=qs({prop:o,onChange:c,defaultProp:u??"",caller:In});return e.jsx(nv,{scope:i,baseId:Ra(),value:y,onValueChange:k,orientation:m,dir:b,activationMode:f,children:e.jsx(Le.div,{dir:b,"data-orientation":m,...g,ref:n})})});Cd.displayName=In;var Sd="TabsList",Pd=h.forwardRef((a,n)=>{const{__scopeTabs:i,loop:o=!0,...c}=a,u=pr(Sd,i),m=kd(i);return e.jsx(fm,{asChild:!0,...m,orientation:u.orientation,dir:u.dir,loop:o,children:e.jsx(Le.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:n})})});Pd.displayName=Sd;var Td="TabsTrigger",Ed=h.forwardRef((a,n)=>{const{__scopeTabs:i,value:o,disabled:c=!1,...u}=a,m=pr(Td,i),x=kd(i),f=Rd(m.baseId,o),g=Ad(m.baseId,o),b=o===m.value;return e.jsx(pm,{asChild:!0,...x,focusable:!c,active:b,children:e.jsx(Le.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":g,"data-state":b?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:f,...u,ref:n,onMouseDown:we(a.onMouseDown,y=>{!c&&y.button===0&&y.ctrlKey===!1?m.onValueChange(o):y.preventDefault()}),onKeyDown:we(a.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&m.onValueChange(o)}),onFocus:we(a.onFocus,()=>{const y=m.activationMode!=="manual";!b&&!c&&y&&m.onValueChange(o)})})})});Ed.displayName=Td;var Md="TabsContent",Ld=h.forwardRef((a,n)=>{const{__scopeTabs:i,value:o,forceMount:c,children:u,...m}=a,x=pr(Md,i),f=Rd(x.baseId,o),g=Ad(x.baseId,o),b=o===x.value,y=h.useRef(b);return h.useEffect(()=>{const k=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(k)},[]),e.jsx(Vi,{present:c||b,children:({present:k})=>e.jsx(Le.div,{"data-state":b?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":f,hidden:!k,id:g,tabIndex:0,...m,ref:n,style:{...a.style,animationDuration:y.current?"0s":void 0},children:k&&u})})});Ld.displayName=Md;function Rd(a,n){return`${a}-trigger-${n}`}function Ad(a,n){return`${a}-content-${n}`}var iv=Cd,Od=Pd,Id=Ed,Dd=Ld;const zd=iv,xr=h.forwardRef(({className:a,...n},i)=>e.jsx(Od,{ref:i,className:ue("inline-flex h-auto min-h-12 items-center justify-center rounded-md bg-muted p-1.5 text-muted-foreground w-full border border-border shadow-sm",a),...n}));xr.displayName=Od.displayName;const is=h.forwardRef(({className:a,...n},i)=>e.jsx(Id,{ref:i,className:ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm hover:bg-accent/50 hover:text-accent-foreground min-h-10 sm:min-h-11",a),...n}));is.displayName=Id.displayName;const Xt=h.forwardRef(({className:a,...n},i)=>e.jsx(Dd,{ref:i,className:ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n}));Xt.displayName=Dd.displayName;function rv({params:a}){const[n,i]=h.useState(void 0),[o,c]=h.useState(new Date),[u,m]=h.useState(""),[x,f]=h.useState(!1);ut();const{data:g}=yn({queryKey:[`/api/professionals/${a.id}`]}),{data:b=[]}=yn({queryKey:["/api/professionals"]}),y=g||b.find(M=>M.id===parseInt(a.id));if(!y)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profissional não encontrado"}),e.jsx(ht,{href:"/",children:e.jsx(O,{children:"Voltar para Home"})})]})});const k={fisioterapeuta:"🏃‍♂️",acompanhante_hospitalar:"🏥",tecnico_enfermagem:"💉"},_={fisioterapeuta:"Fisioterapeuta",acompanhante_hospitalar:"Acompanhante Hospitalar",tecnico_enfermagem:"Técnico em Enfermagem"},E=k[y.category]||"👨‍⚕️",v=_[y.category]||y.category,S=(()=>{const M=[];for(let $=8;$<=18;$++)for(let se of[0,30]){const re=`${$.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`;M.push(re)}return M})(),w=()=>{u.trim()&&(console.log("Sending message:",u),m(""),f(!1))},A=[],I=[];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{href:"/",children:e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(et,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Perfil do Profissional"}),e.jsx("div",{className:"ml-auto flex gap-2",children:e.jsx(O,{variant:"outline",size:"sm",children:e.jsx(ap,{className:"h-4 w-4"})})})]})}),e.jsxs("div",{className:"p-4 pb-20 space-y-6",children:[e.jsx(oe,{children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:y.imageUrl||void 0,alt:y.name,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover mx-auto sm:mx-0"})}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:y.name}),e.jsxs("p",{className:"text-lg text-primary font-semibold flex items-center justify-center sm:justify-start gap-2 mb-2",children:[e.jsx("span",{children:E}),v]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:y.specialization})]}),e.jsx(qe,{variant:y.available?"secondary":"outline",className:`${y.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:y.available?"Disponível":"Ocupado"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Ct,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-semibold",children:y.rating})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Avaliação"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold mb-1",children:y.totalReviews}),e.jsx("p",{className:"text-xs text-gray-500",children:"Avaliações"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold mb-1",children:y.experience}),e.jsx("p",{className:"text-xs text-gray-500",children:"Experiência"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-semibold mb-1 text-primary",children:["R$ ",y.hourlyRate,"/h"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor"})]})]}),e.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-400 mb-6",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{children:y.location}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[y.distance," km de você"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(O,{className:"flex-1",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]}),e.jsxs(Ta,{open:x,onOpenChange:f,children:[e.jsx(Ii,{asChild:!0,children:e.jsxs(O,{variant:"outline",className:"flex-1",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})}),e.jsxs(Ks,{children:[e.jsx(Qs,{children:e.jsxs(Ys,{children:["Enviar mensagem para ",y.name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(St,{placeholder:"Digite sua mensagem sobre o serviço que você precisa...",value:u,onChange:M=>m(M.target.value),rows:4}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{onClick:w,disabled:!u.trim(),children:"Enviar Mensagem"}),e.jsx(O,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"})]})]})]})]}),e.jsxs(O,{variant:"outline",children:[e.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Videochamada"]})]})]})]})})}),e.jsxs(zd,{defaultValue:"about",className:"space-y-4 sm:space-y-6",children:[e.jsxs(xr,{className:"grid w-full grid-cols-4 h-auto sm:h-10 p-1 gap-1",children:[e.jsx(is,{value:"about",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Sobre"}),e.jsx(is,{value:"portfolio",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Portfólio"}),e.jsx(is,{value:"reviews",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Avaliações"}),e.jsx(is,{value:"schedule",className:"text-xs sm:text-sm px-2 sm:px-3 py-1.5 sm:py-1.5 whitespace-nowrap",children:"Agendar"})]}),e.jsxs(Xt,{value:"about",className:"space-y-6",children:[e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Wf,{className:"h-5 w-5"}),"Sobre o Profissional"]})}),e.jsx(le,{children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:y.description})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-5 w-5"}),"Certificações e Qualificações"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-3",children:y.certifications?.split(",").map((M,$)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(it,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:M.trim()})]},$))})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5"}),"Informações de Contato"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:y.location})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:"Atendimento de segunda a sábado"})]})]})})]})]}),e.jsx(Xt,{value:"portfolio",className:"space-y-6",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"h-5 w-5"}),"Portfólio de Serviços"]})}),e.jsx(le,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(M=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-sm border",children:[e.jsx("img",{src:M.image,alt:M.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx(qe,{variant:"outline",className:"mb-2",children:M.category}),e.jsx("h3",{className:"font-semibold mb-2",children:M.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.description})]})]},M.id))})})]})}),e.jsx(Xt,{value:"reviews",className:"space-y-6",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"h-5 w-5"}),"Avaliações dos Pacientes"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-6",children:I.map(M=>e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:M.patient[0]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:M.patient}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(M.date).toLocaleDateString("pt-BR")})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map(($,se)=>e.jsx(Ct,{className:`h-4 w-4 ${se<M.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},se))})]}),e.jsx(qe,{variant:"outline",className:"mb-2",children:M.service}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:M.comment})]},M.id))})})]})}),e.jsx(Xt,{value:"schedule",className:"space-y-6",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Agendar Consulta"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Selecione a data"}),e.jsx("input",{type:"date",value:o.toISOString().split("T")[0],onChange:M=>c(new Date(M.target.value)),className:"w-full p-3 border rounded-lg",min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Horários disponíveis"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:S.map(M=>e.jsx(O,{variant:n===M?"default":"outline",size:"sm",onClick:()=>i(M),className:"text-xs",children:M},M))})]}),n&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Resumo do Agendamento"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Profissional:"})," ",y.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Serviço:"})," ",y.specialization]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data:"})," ",o.toLocaleDateString("pt-BR")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Horário:"})," ",n]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Valor:"})," R$ ",y.hourlyRate,"/hora"]})]}),e.jsx(ht,{href:"/payment",children:e.jsx(O,{className:"w-full mt-4",children:"Confirmar Agendamento"})})]})]})})]})})]})]})]})}const ov=gm,lv=vm,cv=h.forwardRef(({className:a,inset:n,children:i,...o},c)=>e.jsxs(pl,{ref:c,className:ue("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...o,children:[i,e.jsx(mc,{className:"ml-auto"})]}));cv.displayName=pl.displayName;const dv=h.forwardRef(({className:a,...n},i)=>e.jsx(xl,{ref:i,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...n}));dv.displayName=xl.displayName;const Fd=h.forwardRef(({className:a,sideOffset:n=4,...i},o)=>e.jsx(xm,{children:e.jsx(gl,{ref:o,sideOffset:n,className:ue("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...i})}));Fd.displayName=gl.displayName;const Bt=h.forwardRef(({className:a,inset:n,...i},o)=>e.jsx(vl,{ref:o,className:ue("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",a),...i}));Bt.displayName=vl.displayName;const hv=h.forwardRef(({className:a,children:n,checked:i,...o},c)=>e.jsxs(yl,{ref:c,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(bl,{children:e.jsx(Oa,{className:"h-4 w-4"})})}),n]}));hv.displayName=yl.displayName;const uv=h.forwardRef(({className:a,children:n,...i},o)=>e.jsxs(wl,{ref:o,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(bl,{children:e.jsx(Kf,{className:"h-2 w-2 fill-current"})})}),n]}));uv.displayName=wl.displayName;const mv=h.forwardRef(({className:a,inset:n,...i},o)=>e.jsx(_l,{ref:o,className:ue("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...i}));mv.displayName=_l.displayName;const zi=h.forwardRef(({className:a,...n},i)=>e.jsx(jl,{ref:i,className:ue("-mx-1 my-1 h-px bg-muted",a),...n}));zi.displayName=jl.displayName;const fv=bm,pv=wm,$d=h.forwardRef(({className:a,align:n="center",sideOffset:i=4,...o},c)=>e.jsx(ym,{children:e.jsx(Nl,{ref:c,align:n,sideOffset:i,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",a),...o})}));$d.displayName=Nl.displayName;const xv=[{label:"Início",to:"/provider-dashboard",icon:e.jsx(lr,{className:"h-6 w-6"})},{label:"Agenda",to:"/agenda-profissional",icon:e.jsx(Je,{className:"h-6 w-6"})},{label:"Chat",to:"/messages-provider",icon:e.jsx(kt,{className:"h-6 w-6"})},{label:"Pedidos",to:"/provider-orders",icon:e.jsx(Qf,{className:"h-6 w-6"})},{label:"Perfil",to:"/provider-profile",icon:e.jsx(bt,{className:"h-6 w-6"})}];function Fi(){const[a]=ut();return e.jsx("nav",{className:"bg-white border-t border-gray-200 fixed bottom-0 left-0 w-full z-50 shadow rounded-t-xl px-0",children:e.jsx("ul",{className:"flex justify-around items-center h-16 max-w-full px-2 sm:px-4",children:xv.map(n=>e.jsx("li",{children:e.jsxs(ht,{href:n.to,className:`flex flex-col items-center text-xs font-medium transition-colors duration-200 ${a===n.to?"text-yellow-500":"text-gray-500 hover:text-yellow-500"}`,children:[n.icon,e.jsx("span",{className:"mt-1",children:n.label})]})},n.to))})})}function Js({children:a}){return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"flex-1 flex flex-col",children:a}),e.jsx(Fi,{})]})}function Bd(a,n){const i=h.useRef(n);h.useEffect(function(){n!==i.current&&a.attributionControl!=null&&(i.current!=null&&a.attributionControl.removeAttribution(i.current),n!=null&&a.attributionControl.addAttribution(n)),i.current=n},[a,n])}const gv=1;function vv(a){return Object.freeze({__version:gv,map:a})}function yv(a,n){return Object.freeze({...a,...n})}const Zd=h.createContext(null),Hd=Zd.Provider;function gr(){const a=h.useContext(Zd);if(a==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return a}function bv(a){function n(i,o){const{instance:c,context:u}=a(i).current;return h.useImperativeHandle(o,()=>c),i.children==null?null:ki.createElement(Hd,{value:u},i.children)}return h.forwardRef(n)}function wv(a){function n(i,o){const[c,u]=h.useState(!1),{instance:m}=a(i,u).current;h.useImperativeHandle(o,()=>m),h.useEffect(function(){c&&m.update()},[m,c,i.children]);const x=m._contentNode;return x?kn.createPortal(i.children,x):null}return h.forwardRef(n)}function _v(a){function n(i,o){const{instance:c}=a(i).current;return h.useImperativeHandle(o,()=>c),null}return h.forwardRef(n)}function qd(a,n){const i=h.useRef();h.useEffect(function(){return n!=null&&a.instance.on(n),i.current=n,function(){i.current!=null&&a.instance.off(i.current),i.current=null}},[a,n])}function vr(a,n){const i=a.pane??n.pane;return i?{...a,pane:i}:a}function jv(a,n){return function(o,c){const u=gr(),m=a(vr(o,u),u);return Bd(u.map,o.attribution),qd(m.current,o.eventHandlers),n(m.current,u,o,c),m}}var wa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Nv=wa.exports,Ko;function kv(){return Ko||(Ko=1,function(a,n){(function(i,o){o(n)})(Nv,function(i){var o="1.9.4";function c(t){var s,r,l,d;for(r=1,l=arguments.length;r<l;r++){d=arguments[r];for(s in d)t[s]=d[s]}return t}var u=Object.create||function(){function t(){}return function(s){return t.prototype=s,new t}}();function m(t,s){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var l=r.call(arguments,2);return function(){return t.apply(s,l.length?l.concat(r.call(arguments)):arguments)}}var x=0;function f(t){return"_leaflet_id"in t||(t._leaflet_id=++x),t._leaflet_id}function g(t,s,r){var l,d,p,j;return j=function(){l=!1,d&&(p.apply(r,d),d=!1)},p=function(){l?d=arguments:(t.apply(r,arguments),setTimeout(j,s),l=!0)},p}function b(t,s,r){var l=s[1],d=s[0],p=l-d;return t===l&&r?t:((t-d)%p+p)%p+d}function y(){return!1}function k(t,s){if(s===!1)return t;var r=Math.pow(10,s===void 0?6:s);return Math.round(t*r)/r}function _(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function E(t){return _(t).split(/\s+/)}function v(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var r in s)t.options[r]=s[r];return t.options}function T(t,s,r){var l=[];for(var d in t)l.push(encodeURIComponent(r?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!s||s.indexOf("?")===-1?"?":"&")+l.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(t,s){return t.replace(S,function(r,l){var d=s[l];if(d===void 0)throw new Error("No value provided for variable "+r);return typeof d=="function"&&(d=d(s)),d})}var A=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function I(t,s){for(var r=0;r<t.length;r++)if(t[r]===s)return r;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var se=0;function re(t){var s=+new Date,r=Math.max(0,16-(s-se));return se=s+r,window.setTimeout(t,r)}var H=window.requestAnimationFrame||$("RequestAnimationFrame")||re,ae=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function B(t,s,r){if(r&&H===re)t.call(s);else return H.call(window,m(t,s))}function W(t){t&&ae.call(window,t)}var P={__proto__:null,extend:c,create:u,bind:m,get lastId(){return x},stamp:f,throttle:g,wrapNum:b,falseFn:y,formatNum:k,trim:_,splitWords:E,setOptions:v,getParamString:T,template:w,isArray:A,indexOf:I,emptyImageUrl:M,requestFn:H,cancelFn:ae,requestAnimFrame:B,cancelAnimFrame:W};function C(){}C.extend=function(t){var s=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=s.__super__=this.prototype,l=u(r);l.constructor=s,s.prototype=l;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(s[d]=this[d]);return t.statics&&c(s,t.statics),t.includes&&(q(t.includes),c.apply(null,[l].concat(t.includes))),c(l,t),delete l.statics,delete l.includes,l.options&&(l.options=r.options?u(r.options):{},c(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,j=l._initHooks.length;p<j;p++)l._initHooks[p].call(this)}},s},C.include=function(t){var s=this.prototype.options;return c(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},C.mergeOptions=function(t){return c(this.prototype.options,t),this},C.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function q(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=A(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(t,s,r){if(typeof t=="object")for(var l in t)this._on(l,t[l],s);else{t=E(t);for(var d=0,p=t.length;d<p;d++)this._on(t[d],s,r)}return this},off:function(t,s,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],s);else{t=E(t);for(var d=arguments.length===1,p=0,j=t.length;p<j;p++)d?this._off(t[p]):this._off(t[p],s,r)}return this},_on:function(t,s,r,l){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,r)===!1){r===this&&(r=void 0);var d={fn:s,ctx:r};l&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,s,r){var l,d,p;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(d=0,p=l.length;d<p;d++)l[d].fn=y;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var j=this._listens(t,s,r);if(j!==!1){var N=l[j];this._firingCount&&(N.fn=y,this._events[t]=l=l.slice()),l.splice(j,1)}}},fire:function(t,s,r){if(!this.listens(t,r))return this;var l=c({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var p=0,j=d.length;p<j;p++){var N=d[p],R=N.fn;N.once&&this.off(t,R,N.ctx),R.call(N.ctx||this,l)}this._firingCount--}}return r&&this._propagateEvent(l),this},listens:function(t,s,r,l){typeof t!="string"&&console.warn('"string" type argument expected');var d=s;typeof s!="function"&&(l=!!s,d=void 0,r=void 0);var p=this._events&&this._events[t];if(p&&p.length&&this._listens(t,d,r)!==!1)return!0;if(l){for(var j in this._eventParents)if(this._eventParents[j].listens(t,s,r,l))return!0}return!1},_listens:function(t,s,r){if(!this._events)return!1;var l=this._events[t]||[];if(!s)return!!l.length;r===this&&(r=void 0);for(var d=0,p=l.length;d<p;d++)if(l[d].fn===s&&l[d].ctx===r)return d;return!1},once:function(t,s,r){if(typeof t=="object")for(var l in t)this._on(l,t[l],s,!0);else{t=E(t);for(var d=0,p=t.length;d<p;d++)this._on(t[d],s,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[f(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[f(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var ce=C.extend(V);function U(t,s,r){this.x=r?Math.round(t):t,this.y=r?Math.round(s):s}var J=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(t){return this.clone()._add(ne(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(ne(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new U(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new U(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(t){t=ne(t);var s=t.x-this.x,r=t.y-this.y;return Math.sqrt(s*s+r*r)},equals:function(t){return t=ne(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=ne(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function ne(t,s,r){return t instanceof U?t:A(t)?new U(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new U(t.x,t.y):new U(t,s,r)}function ve(t,s){if(t)for(var r=s?[t,s]:t,l=0,d=r.length;l<d;l++)this.extend(r[l])}ve.prototype={extend:function(t){var s,r;if(!t)return this;if(t instanceof U||typeof t[0]=="number"||"x"in t)s=r=ne(t);else if(t=Pe(t),s=t.min,r=t.max,!s||!r)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=r.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,r;return typeof t[0]=="number"||t instanceof U?t=ne(t):t=Pe(t),t instanceof ve?(s=t.min,r=t.max):s=r=t,s.x>=this.min.x&&r.x<=this.max.x&&s.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=Pe(t);var s=this.min,r=this.max,l=t.min,d=t.max,p=d.x>=s.x&&l.x<=r.x,j=d.y>=s.y&&l.y<=r.y;return p&&j},overlaps:function(t){t=Pe(t);var s=this.min,r=this.max,l=t.min,d=t.max,p=d.x>s.x&&l.x<r.x,j=d.y>s.y&&l.y<r.y;return p&&j},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,r=this.max,l=Math.abs(s.x-r.x)*t,d=Math.abs(s.y-r.y)*t;return Pe(ne(s.x-l,s.y-d),ne(r.x+l,r.y+d))},equals:function(t){return t?(t=Pe(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Pe(t,s){return!t||t instanceof ve?t:new ve(t,s)}function _e(t,s){if(t)for(var r=s?[t,s]:t,l=0,d=r.length;l<d;l++)this.extend(r[l])}_e.prototype={extend:function(t){var s=this._southWest,r=this._northEast,l,d;if(t instanceof de)l=t,d=t;else if(t instanceof _e){if(l=t._southWest,d=t._northEast,!l||!d)return this}else return t?this.extend(ee(t)||K(t)):this;return!s&&!r?(this._southWest=new de(l.lat,l.lng),this._northEast=new de(d.lat,d.lng)):(s.lat=Math.min(l.lat,s.lat),s.lng=Math.min(l.lng,s.lng),r.lat=Math.max(d.lat,r.lat),r.lng=Math.max(d.lng,r.lng)),this},pad:function(t){var s=this._southWest,r=this._northEast,l=Math.abs(s.lat-r.lat)*t,d=Math.abs(s.lng-r.lng)*t;return new _e(new de(s.lat-l,s.lng-d),new de(r.lat+l,r.lng+d))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof de||"lat"in t?t=ee(t):t=K(t);var s=this._southWest,r=this._northEast,l,d;return t instanceof _e?(l=t.getSouthWest(),d=t.getNorthEast()):l=d=t,l.lat>=s.lat&&d.lat<=r.lat&&l.lng>=s.lng&&d.lng<=r.lng},intersects:function(t){t=K(t);var s=this._southWest,r=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),p=d.lat>=s.lat&&l.lat<=r.lat,j=d.lng>=s.lng&&l.lng<=r.lng;return p&&j},overlaps:function(t){t=K(t);var s=this._southWest,r=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),p=d.lat>s.lat&&l.lat<r.lat,j=d.lng>s.lng&&l.lng<r.lng;return p&&j},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=K(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(t,s){return t instanceof _e?t:new _e(t,s)}function de(t,s,r){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,r!==void 0&&(this.alt=+r)}de.prototype={equals:function(t,s){if(!t)return!1;t=ee(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+k(this.lat,t)+", "+k(this.lng,t)+")"},distanceTo:function(t){return Ce.distance(this,ee(t))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,r=s/Math.cos(Math.PI/180*this.lat);return K([this.lat-s,this.lng-r],[this.lat+s,this.lng+r])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function ee(t,s,r){return t instanceof de?t:A(t)&&typeof t[0]!="object"?t.length===3?new de(t[0],t[1],t[2]):t.length===2?new de(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new de(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new de(t,s,r)}var te={latLngToPoint:function(t,s){var r=this.projection.project(t),l=this.scale(s);return this.transformation._transform(r,l)},pointToLatLng:function(t,s){var r=this.scale(s),l=this.transformation.untransform(t,r);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,r=this.scale(t),l=this.transformation.transform(s.min,r),d=this.transformation.transform(s.max,r);return new ve(l,d)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?b(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?b(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new de(r,s,l)},wrapLatLngBounds:function(t){var s=t.getCenter(),r=this.wrapLatLng(s),l=s.lat-r.lat,d=s.lng-r.lng;if(l===0&&d===0)return t;var p=t.getSouthWest(),j=t.getNorthEast(),N=new de(p.lat-l,p.lng-d),R=new de(j.lat-l,j.lng-d);return new _e(N,R)}},Ce=c({},te,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var r=Math.PI/180,l=t.lat*r,d=s.lat*r,p=Math.sin((s.lat-t.lat)*r/2),j=Math.sin((s.lng-t.lng)*r/2),N=p*p+Math.cos(l)*Math.cos(d)*j*j,R=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*R}}),G=6378137,D={R:G,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,r=this.MAX_LATITUDE,l=Math.max(Math.min(r,t.lat),-r),d=Math.sin(l*s);return new U(this.R*t.lng*s,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var s=180/Math.PI;return new de((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:function(){var t=G*Math.PI;return new ve([-t,-t],[t,t])}()};function z(t,s,r,l){if(A(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=r,this._d=l}z.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new U((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function Y(t,s,r,l){return new z(t,s,r,l)}var je=c({},Ce,{code:"EPSG:3857",projection:D,transformation:function(){var t=.5/(Math.PI*D.R);return Y(t,.5,-t,.5)}()}),Ne=c({},je,{code:"EPSG:900913"});function Qe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function yt(t,s){var r="",l,d,p,j,N,R;for(l=0,p=t.length;l<p;l++){for(N=t[l],d=0,j=N.length;d<j;d++)R=N[d],r+=(d?"L":"M")+R.x+" "+R.y;r+=s?he.svg?"z":"x":""}return r||"M0 0"}var At=document.documentElement.style,Ss="ActiveXObject"in window,$n=Ss&&!document.addEventListener,Fa="msLaunchUri"in navigator&&!("documentMode"in document),ia=Dt("webkit"),ra=Dt("android"),Ps=Dt("android 2")||Dt("android 3"),Ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bn=ra&&Dt("Google")&&Ot<537&&!("AudioNode"in window),oa=!!window.opera,$a=!Fa&&Dt("chrome"),Ba=Dt("gecko")&&!ia&&!oa&&!Ss,Za=!$a&&Dt("safari"),Ts=Dt("phantom"),Ha="OTransition"in At,F=navigator.platform.indexOf("Win")===0,ie=Ss&&"transition"in At,pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ps,ke="MozPerspective"in At,We=!window.L_DISABLE_3D&&(ie||pe||ke)&&!Ha&&!Ts,Ze=typeof orientation<"u"||Dt("mobile"),Ee=Ze&&ia,$e=Ze&&pe,Ie=!window.PointerEvent&&window.MSPointerEvent,De=!!(window.PointerEvent||Ie),Ve="ontouchstart"in window||!!window.TouchEvent,mt=!window.L_NO_TOUCH&&(Ve||De),Be=Ze&&oa,It=Ze&&Ba,at=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rt=function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",y,s),window.removeEventListener("testPassiveEventSupport",y,s)}catch{}return t}(),lt=function(){return!!document.createElement("canvas").getContext}(),ot=!!(document.createElementNS&&Qe("svg").createSVGRect),qa=!!ot&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Zn=!ot&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Hn=navigator.platform.indexOf("Mac")===0,su=navigator.platform.indexOf("Linux")===0;function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var he={ie:Ss,ielt9:$n,edge:Fa,webkit:ia,android:ra,android23:Ps,androidStock:Bn,opera:oa,chrome:$a,gecko:Ba,safari:Za,phantom:Ts,opera12:Ha,win:F,ie3d:ie,webkit3d:pe,gecko3d:ke,any3d:We,mobile:Ze,mobileWebkit:Ee,mobileWebkit3d:$e,msPointer:Ie,pointer:De,touch:mt,touchNative:Ve,mobileOpera:Be,mobileGecko:It,retina:at,passiveEvents:rt,canvas:lt,svg:ot,vml:Zn,inlineSvg:qa,mac:Hn,linux:su},_r=he.msPointer?"MSPointerDown":"pointerdown",jr=he.msPointer?"MSPointerMove":"pointermove",Nr=he.msPointer?"MSPointerUp":"pointerup",kr=he.msPointer?"MSPointerCancel":"pointercancel",qn={touchstart:_r,touchmove:jr,touchend:Nr,touchcancel:kr},Cr={touchstart:lu,touchmove:Wa,touchend:Wa,touchcancel:Wa},Es={},Sr=!1;function au(t,s,r){return s==="touchstart"&&ou(),Cr[s]?(r=Cr[s].bind(this,r),t.addEventListener(qn[s],r,!1),r):(console.warn("wrong event specified:",s),y)}function nu(t,s,r){if(!qn[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(qn[s],r,!1)}function iu(t){Es[t.pointerId]=t}function ru(t){Es[t.pointerId]&&(Es[t.pointerId]=t)}function Pr(t){delete Es[t.pointerId]}function ou(){Sr||(document.addEventListener(_r,iu,!0),document.addEventListener(jr,ru,!0),document.addEventListener(Nr,Pr,!0),document.addEventListener(kr,Pr,!0),Sr=!0)}function Wa(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var r in Es)s.touches.push(Es[r]);s.changedTouches=[s],t(s)}}function lu(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&nt(s),Wa(t,s)}function cu(t){var s={},r,l;for(l in t)r=t[l],s[l]=r&&r.bind?r.bind(t):r;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var du=200;function hu(t,s){t.addEventListener("dblclick",s);var r=0,l;function d(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var j=Rr(p);if(!(j.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!j.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var N=Date.now();N-r<=du?(l++,l===2&&s(cu(p))):l=1,r=N}}}return t.addEventListener("click",d),{dblclick:s,simDblclick:d}}function uu(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var Wn=Ga(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),la=Ga(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Tr=la==="webkitTransition"||la==="OTransition"?la+"End":"transitionend";function Er(t){return typeof t=="string"?document.getElementById(t):t}function ca(t,s){var r=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!r||r==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);r=l?l[s]:null}return r==="auto"?null:r}function Me(t,s,r){var l=document.createElement(t);return l.className=s||"",r&&r.appendChild(l),l}function He(t){var s=t.parentNode;s&&s.removeChild(t)}function Va(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ms(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function Ls(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function Vn(t,s){if(t.classList!==void 0)return t.classList.contains(s);var r=Ua(t);return r.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(r)}function ye(t,s){if(t.classList!==void 0)for(var r=E(s),l=0,d=r.length;l<d;l++)t.classList.add(r[l]);else if(!Vn(t,s)){var p=Ua(t);Un(t,(p?p+" ":"")+s)}}function Ue(t,s){t.classList!==void 0?t.classList.remove(s):Un(t,_((" "+Ua(t)+" ").replace(" "+s+" "," ")))}function Un(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function Ua(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function wt(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&mu(t,s)}function mu(t,s){var r=!1,l="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(l)}catch{if(s===1)return}s=Math.round(s*100),r?(r.Enabled=s!==100,r.Opacity=s):t.style.filter+=" progid:"+l+"(opacity="+s+")"}function Ga(t){for(var s=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in s)return t[r];return!1}function ms(t,s,r){var l=s||new U(0,0);t.style[Wn]=(he.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(r?" scale("+r+")":"")}function Ge(t,s){t._leaflet_pos=s,he.any3d?ms(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function fs(t){return t._leaflet_pos||new U(0,0)}var da,ha,Gn;if("onselectstart"in document)da=function(){xe(window,"selectstart",nt)},ha=function(){Fe(window,"selectstart",nt)};else{var ua=Ga(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);da=function(){if(ua){var t=document.documentElement.style;Gn=t[ua],t[ua]="none"}},ha=function(){ua&&(document.documentElement.style[ua]=Gn,Gn=void 0)}}function Kn(){xe(window,"dragstart",nt)}function Qn(){Fe(window,"dragstart",nt)}var Ka,Yn;function Xn(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Qa(),Ka=t,Yn=t.style.outlineStyle,t.style.outlineStyle="none",xe(window,"keydown",Qa))}function Qa(){Ka&&(Ka.style.outlineStyle=Yn,Ka=void 0,Yn=void 0,Fe(window,"keydown",Qa))}function Mr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Jn(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var fu={__proto__:null,TRANSFORM:Wn,TRANSITION:la,TRANSITION_END:Tr,get:Er,getStyle:ca,create:Me,remove:He,empty:Va,toFront:Ms,toBack:Ls,hasClass:Vn,addClass:ye,removeClass:Ue,setClass:Un,getClass:Ua,setOpacity:wt,testProp:Ga,setTransform:ms,setPosition:Ge,getPosition:fs,get disableTextSelection(){return da},get enableTextSelection(){return ha},disableImageDrag:Kn,enableImageDrag:Qn,preventOutline:Xn,restoreOutline:Qa,getSizedParentNode:Mr,getScale:Jn};function xe(t,s,r,l){if(s&&typeof s=="object")for(var d in s)ti(t,d,s[d],r);else{s=E(s);for(var p=0,j=s.length;p<j;p++)ti(t,s[p],r,l)}return this}var zt="_leaflet_events";function Fe(t,s,r,l){if(arguments.length===1)Lr(t),delete t[zt];else if(s&&typeof s=="object")for(var d in s)si(t,d,s[d],r);else if(s=E(s),arguments.length===2)Lr(t,function(N){return I(s,N)!==-1});else for(var p=0,j=s.length;p<j;p++)si(t,s[p],r,l);return this}function Lr(t,s){for(var r in t[zt]){var l=r.split(/\d/)[0];(!s||s(l))&&si(t,l,null,null,r)}}var ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ti(t,s,r,l){var d=s+f(r)+(l?"_"+f(l):"");if(t[zt]&&t[zt][d])return this;var p=function(N){return r.call(l||t,N||window.event)},j=p;!he.touchNative&&he.pointer&&s.indexOf("touch")===0?p=au(t,s,p):he.touch&&s==="dblclick"?p=hu(t,p):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(ei[s]||s,p,he.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(p=function(N){N=N||window.event,ni(t,N)&&j(N)},t.addEventListener(ei[s],p,!1)):t.addEventListener(s,j,!1):t.attachEvent("on"+s,p),t[zt]=t[zt]||{},t[zt][d]=p}function si(t,s,r,l,d){d=d||s+f(r)+(l?"_"+f(l):"");var p=t[zt]&&t[zt][d];if(!p)return this;!he.touchNative&&he.pointer&&s.indexOf("touch")===0?nu(t,s,p):he.touch&&s==="dblclick"?uu(t,p):"removeEventListener"in t?t.removeEventListener(ei[s]||s,p,!1):t.detachEvent("on"+s,p),t[zt][d]=null}function ps(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ai(t){return ti(t,"wheel",ps),this}function ma(t){return xe(t,"mousedown touchstart dblclick contextmenu",ps),t._leaflet_disable_click=!0,this}function nt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function xs(t){return nt(t),ps(t),this}function Rr(t){if(t.composedPath)return t.composedPath();for(var s=[],r=t.target;r;)s.push(r),r=r.parentNode;return s}function Ar(t,s){if(!s)return new U(t.clientX,t.clientY);var r=Jn(s),l=r.boundingClientRect;return new U((t.clientX-l.left)/r.x-s.clientLeft,(t.clientY-l.top)/r.y-s.clientTop)}var pu=he.linux&&he.chrome?window.devicePixelRatio:he.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Or(t){return he.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/pu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ni(t,s){var r=s.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var xu={__proto__:null,on:xe,off:Fe,stopPropagation:ps,disableScrollPropagation:ai,disableClickPropagation:ma,preventDefault:nt,stop:xs,getPropagationPath:Rr,getMousePosition:Ar,getWheelDelta:Or,isExternalTarget:ni,addListener:xe,removeListener:Fe},Ir=ce.extend({run:function(t,s,r,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=fs(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,r=this._duration*1e3;s<r?this._runFrame(this._easeOut(s/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var r=this._startPos.add(this._offset.multiplyBy(t));s&&r._round(),Ge(this._el,r),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Se=ce.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=v(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ee(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=la&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xe(this._proxy,Tr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,r){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(ee(t),s,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=c({animate:r.animate},r.zoom),r.pan=c({animate:r.animate,duration:r.duration},r.pan));var l=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,r.zoom):this._tryAnimatedPan(t,r.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,r){var l=this.getZoomScale(s),d=this.getSize().divideBy(2),p=t instanceof U?t:this.latLngToContainerPoint(t),j=p.subtract(d).multiplyBy(1-1/l),N=this.containerPointToLatLng(d.add(j));return this.setView(N,s,{zoom:r})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():K(t);var r=ne(s.paddingTopLeft||s.padding||[0,0]),l=ne(s.paddingBottomRight||s.padding||[0,0]),d=this.getBoundsZoom(t,!1,r.add(l));if(d=typeof s.maxZoom=="number"?Math.min(s.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var p=l.subtract(r).divideBy(2),j=this.project(t.getSouthWest(),d),N=this.project(t.getNorthEast(),d),R=this.unproject(j.add(N).divideBy(2).add(p),d);return{center:R,zoom:d}},fitBounds:function(t,s){if(t=K(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,s);return this.setView(r.center,r.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=ne(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ir,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ye(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,r){if(r=r||{},r.animate===!1||!he.any3d)return this.setView(t,s,r);this._stop();var l=this.project(this.getCenter()),d=this.project(t),p=this.getSize(),j=this._zoom;t=ee(t),s=s===void 0?j:s;var N=Math.max(p.x,p.y),R=N*this.getZoomScale(j,s),Z=d.distanceTo(l)||1,Q=1.42,fe=Q*Q;function be(Ke){var cn=Ke?-1:1,nm=Ke?R:N,im=R*R-N*N+cn*fe*fe*Z*Z,rm=2*nm*fe*Z,pi=im/rm,go=Math.sqrt(pi*pi+1)-pi,om=go<1e-9?-18:Math.log(go);return om}function ct(Ke){return(Math.exp(Ke)-Math.exp(-Ke))/2}function Xe(Ke){return(Math.exp(Ke)+Math.exp(-Ke))/2}function jt(Ke){return ct(Ke)/Xe(Ke)}var ft=be(0);function zs(Ke){return N*(Xe(ft)/Xe(ft+Q*Ke))}function em(Ke){return N*(Xe(ft)*jt(ft+Q*Ke)-ct(ft))/fe}function tm(Ke){return 1-Math.pow(1-Ke,1.5)}var sm=Date.now(),po=(be(1)-ft)/Q,am=r.duration?1e3*r.duration:1e3*po*.8;function xo(){var Ke=(Date.now()-sm)/am,cn=tm(Ke)*po;Ke<=1?(this._flyToFrame=B(xo,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(em(cn)/Z)),j),this.getScaleZoom(N/zs(cn),j),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),xo.call(this),this},flyToBounds:function(t,s){var r=this._getBoundsCenterZoom(t,s);return this.flyTo(r.center,r.zoom,s)},setMaxBounds:function(t){return t=K(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var r=this.getCenter(),l=this._limitCenter(r,this._zoom,K(t));return r.equals(l)||this.panTo(l,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var r=ne(s.paddingTopLeft||s.padding||[0,0]),l=ne(s.paddingBottomRight||s.padding||[0,0]),d=this.project(this.getCenter()),p=this.project(t),j=this.getPixelBounds(),N=Pe([j.min.add(r),j.max.subtract(l)]),R=N.getSize();if(!N.contains(p)){this._enforcingBounds=!0;var Z=p.subtract(N.getCenter()),Q=N.extend(p).getSize().subtract(R);d.x+=Z.x<0?-Q.x:Q.x,d.y+=Z.y<0?-Q.y:Q.y,this.panTo(this.unproject(d),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),l=s.divideBy(2).round(),d=r.divideBy(2).round(),p=l.subtract(d);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=m(this._handleGeolocationResponse,this),r=m(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,r,t):navigator.geolocation.getCurrentPosition(s,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,r=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,r=t.coords.longitude,l=new de(s,r),d=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var j=this.getBoundsZoom(d);this.setView(l,p.maxZoom?Math.min(j,p.maxZoom):j)}var N={latlng:l,bounds:d,timestamp:t.timestamp};for(var R in t.coords)typeof t.coords[R]=="number"&&(N[R]=t.coords[R]);this.fire("locationfound",N)}},addHandler:function(t,s){if(!s)return this;var r=this[t]=new s(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),He(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)He(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=Me("div",r,s||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new _e(s,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,r){t=K(t),r=ne(r||[0,0]);var l=this.getZoom()||0,d=this.getMinZoom(),p=this.getMaxZoom(),j=t.getNorthWest(),N=t.getSouthEast(),R=this.getSize().subtract(r),Z=Pe(this.project(N,l),this.project(j,l)).getSize(),Q=he.any3d?this.options.zoomSnap:1,fe=R.x/Z.x,be=R.y/Z.y,ct=s?Math.max(fe,be):Math.min(fe,be);return l=this.getScaleZoom(ct,l),Q&&(l=Math.round(l/(Q/100))*(Q/100),l=s?Math.ceil(l/Q)*Q:Math.floor(l/Q)*Q),Math.max(d,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var r=this._getTopLeftPoint(t,s);return new ve(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var r=this.options.crs;return s=s===void 0?this._zoom:s,r.scale(t)/r.scale(s)},getScaleZoom:function(t,s){var r=this.options.crs;s=s===void 0?this._zoom:s;var l=r.zoom(t*r.scale(s));return isNaN(l)?1/0:l},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ee(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(ne(t),s)},layerPointToLatLng:function(t){var s=ne(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(ee(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ee(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(K(t))},distance:function(t,s){return this.options.crs.distance(ee(t),ee(s))},containerPointToLayerPoint:function(t){return ne(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return ne(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(ne(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(t)))},mouseEventToContainerPoint:function(t){return Ar(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=Er(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xe(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,ye(t,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ca(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ge(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(t.markerPane,"leaflet-zoom-hide"),ye(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,r){Ge(this._mapPane,new U(0,0));var l=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var d=this._zoom!==s;this._moveStart(d,r)._move(t,s)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,r,l){s===void 0&&(s=this._zoom);var d=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?r&&r.pinch&&this.fire("zoom",r):((d||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[f(this._container)]=this;var s=t?Fe:xe;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var r=[],l,d=s==="mouseout"||s==="mouseover",p=t.target||t.srcElement,j=!1;p;){if(l=this._targets[f(p)],l&&(s==="click"||s==="preclick")&&this._draggableMoved(l)){j=!0;break}if(l&&l.listens(s,!0)&&(d&&!ni(p,t)||(r.push(l),d))||p===this._container)break;p=p.parentNode}return!r.length&&!j&&!d&&this.listens(s,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var r=t.type;r==="mousedown"&&Xn(s),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,r){if(t.type==="click"){var l=c({},t);l.type="preclick",this._fireDOMEvent(l,l.type,r)}var d=this._findEventTargets(t,s);if(r){for(var p=[],j=0;j<r.length;j++)r[j].listens(s,!0)&&p.push(r[j]);d=p.concat(d)}if(d.length){s==="contextmenu"&&nt(t);var N=d[0],R={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Z=N.getLatLng&&(!N._radius||N._radius<=10);R.containerPoint=Z?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(t),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=Z?N.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(j=0;j<d.length;j++)if(d[j].fire(s,R,!0),R.originalEvent._stopped||d[j].options.bubblingMouseEvents===!1&&I(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return fs(this._mapPane)||new U(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var r=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var r=this.getSize()._divideBy(2);return this.project(t,s)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,r){var l=this._getNewPixelOrigin(r,s);return this.project(t,s)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,s,r){var l=this._getNewPixelOrigin(r,s);return Pe([this.project(t.getSouthWest(),s)._subtract(l),this.project(t.getNorthWest(),s)._subtract(l),this.project(t.getSouthEast(),s)._subtract(l),this.project(t.getNorthEast(),s)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,r){if(!r)return t;var l=this.project(t,s),d=this.getSize().divideBy(2),p=new ve(l.subtract(d),l.add(d)),j=this._getBoundsOffset(p,r,s);return Math.abs(j.x)<=1&&Math.abs(j.y)<=1?t:this.unproject(l.add(j),s)},_limitOffset:function(t,s){if(!s)return t;var r=this.getPixelBounds(),l=new ve(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(l,s))},_getBoundsOffset:function(t,s,r){var l=Pe(this.project(s.getNorthEast(),r),this.project(s.getSouthWest(),r)),d=l.min.subtract(t.min),p=l.max.subtract(t.max),j=this._rebound(d.x,-p.x),N=this._rebound(d.y,-p.y);return new U(j,N)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),r=this.getMaxZoom(),l=he.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(s,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ue(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var r=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,s),!0)},_createAnimProxy:function(){var t=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var r=Wn,l=this._proxy.style[r];ms(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),l===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){He(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();ms(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(s),d=this._getCenterOffset(t)._divideBy(1-1/l);return r.animate!==!0&&!this.getSize().contains(d)?!1:(B(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,r,l){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ue(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gu(t,s){return new Se(t,s)}var Et=C.extend({options:{position:"topright"},initialize:function(t){v(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),r=this.getPosition(),l=t._controlCorners[r];return ye(s,"leaflet-control"),r.indexOf("bottom")!==-1?l.insertBefore(s,l.firstChild):l.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(He(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),fa=function(t){return new Et(t)};Se.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",r=this._controlContainer=Me("div",s+"control-container",this._container);function l(d,p){var j=s+d+" "+s+p;t[d+p]=Me("div",j,r)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)He(this._controlCorners[t]);He(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Dr=Et.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,r,l){return r<l?-1:l<r?1:0}},initialize:function(t,s,r){v(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in s)this._addLayer(s[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Et.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ue(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ue(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=Me("div",t),r=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ma(s),ai(s);var l=this._section=Me("section",t+"-list");r&&(this._map.on("click",this.collapse,this),xe(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=Me("a",t+"-toggle",s);d.href="#",d.title="Layers",d.setAttribute("role","button"),xe(d,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){nt(p),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=Me("div",t+"-base",l),this._separator=Me("div",t+"-separator",l),this._overlaysList=Me("div",t+"-overlays",l),s.appendChild(l)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:r}),this.options.sortLayers&&this._layers.sort(m(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Va(this._baseLayersList),Va(this._overlaysList),this._layerControlInputs=[];var t,s,r,l,d=0;for(r=0;r<this._layers.length;r++)l=this._layers[r],this._addItem(l),s=s||l.overlay,t=t||!l.overlay,d+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(f(t.target)),r=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,s)},_createRadioElement:function(t,s){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=r,l.firstChild},_addItem:function(t){var s=document.createElement("label"),r=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=r):l=this._createRadioElement("leaflet-base-layers_"+f(this),r),this._layerControlInputs.push(l),l.layerId=f(t.layer),xe(l,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var p=document.createElement("span");s.appendChild(p),p.appendChild(l),p.appendChild(d);var j=t.overlay?this._overlaysList:this._baseLayersList;return j.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,r,l=[],d=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)s=t[p],r=this._getLayer(s.layerId).layer,s.checked?l.push(r):s.checked||d.push(r);for(p=0;p<d.length;p++)this._map.hasLayer(d[p])&&this._map.removeLayer(d[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,r,l=this._map.getZoom(),d=t.length-1;d>=0;d--)s=t[d],r=this._getLayer(s.layerId).layer,s.disabled=r.options.minZoom!==void 0&&l<r.options.minZoom||r.options.maxZoom!==void 0&&l>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,xe(t,"click",nt),this.expand();var s=this;setTimeout(function(){Fe(t,"click",nt),s._preventClick=!1})}}),vu=function(t,s,r){return new Dr(t,s,r)},ii=Et.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",r=Me("div",s+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,s+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,s+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,r,l,d){var p=Me("a",r,l);return p.innerHTML=t,p.href="#",p.title=s,p.setAttribute("role","button"),p.setAttribute("aria-label",s),ma(p),xe(p,"click",xs),xe(p,"click",d,this),xe(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";Ue(this._zoomInButton,s),Ue(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ye(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ye(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ii,this.addControl(this.zoomControl))});var yu=function(t){return new ii(t)},zr=Et.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",r=Me("div",s),l=this.options;return this._addScales(l,s+"-line",r),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,r){t.metric&&(this._mScale=Me("div",s,r)),t.imperial&&(this._iScale=Me("div",s,r))},_update:function(){var t=this._map,s=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),r=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,r,s/t)},_updateImperial:function(t){var s=t*3.2808399,r,l,d;s>5280?(r=s/5280,l=this._getRoundNum(r),this._updateScale(this._iScale,l+" mi",l/r)):(d=this._getRoundNum(s),this._updateScale(this._iScale,d+" ft",d/s))},_updateScale:function(t,s,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),r=t/s;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,s*r}}),bu=function(t){return new zr(t)},wu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ri=Et.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?wu+" ":"")+"Leaflet</a>"},initialize:function(t){v(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),ma(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new ri().addTo(this)});var _u=function(t){return new ri(t)};Et.Layers=Dr,Et.Zoom=ii,Et.Scale=zr,Et.Attribution=ri,fa.layers=vu,fa.zoom=yu,fa.scale=bu,fa.attribution=_u;var Ft=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(t,s){return t.addHandler(s,this),this};var ju={Events:V},Fr=he.touch?"touchstart mousedown":"mousedown",ts=ce.extend({options:{clickTolerance:3},initialize:function(t,s,r,l){v(this,l),this._element=t,this._dragStartTarget=s||t,this._preventOutline=r},enable:function(){this._enabled||(xe(this._dragStartTarget,Fr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ts._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,Fr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Vn(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ts._dragging===this&&this.finishDrag();return}if(!(ts._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ts._dragging=this,this._preventOutline&&Xn(this._element),Kn(),da(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,r=Mr(this._element);this._startPoint=new U(s.clientX,s.clientY),this._startPos=fs(this._element),this._parentScale=Jn(r);var l=t.type==="mousedown";xe(document,l?"mousemove":"touchmove",this._onMove,this),xe(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,r=new U(s.clientX,s.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,nt(t),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ue(document.body,"leaflet-dragging"),this._lastTarget&&(Ue(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),Qn(),ha();var s=this._moved&&this._moving;this._moving=!1,ts._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function $r(t,s,r){var l,d=[1,4,2,8],p,j,N,R,Z,Q,fe,be;for(p=0,Q=t.length;p<Q;p++)t[p]._code=gs(t[p],s);for(N=0;N<4;N++){for(fe=d[N],l=[],p=0,Q=t.length,j=Q-1;p<Q;j=p++)R=t[p],Z=t[j],R._code&fe?Z._code&fe||(be=Ya(Z,R,fe,s,r),be._code=gs(be,s),l.push(be)):(Z._code&fe&&(be=Ya(Z,R,fe,s,r),be._code=gs(be,s),l.push(be)),l.push(R));t=l}return t}function Br(t,s){var r,l,d,p,j,N,R,Z,Q;if(!t||t.length===0)throw new Error("latlngs not passed");_t(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var fe=ee([0,0]),be=K(t),ct=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());ct<1700&&(fe=oi(t));var Xe=t.length,jt=[];for(r=0;r<Xe;r++){var ft=ee(t[r]);jt.push(s.project(ee([ft.lat-fe.lat,ft.lng-fe.lng])))}for(N=R=Z=0,r=0,l=Xe-1;r<Xe;l=r++)d=jt[r],p=jt[l],j=d.y*p.x-p.y*d.x,R+=(d.x+p.x)*j,Z+=(d.y+p.y)*j,N+=j*3;N===0?Q=jt[0]:Q=[R/N,Z/N];var zs=s.unproject(ne(Q));return ee([zs.lat+fe.lat,zs.lng+fe.lng])}function oi(t){for(var s=0,r=0,l=0,d=0;d<t.length;d++){var p=ee(t[d]);s+=p.lat,r+=p.lng,l++}return ee([s/l,r/l])}var Nu={__proto__:null,clipPolygon:$r,polygonCenter:Br,centroid:oi};function Zr(t,s){if(!s||!t.length)return t.slice();var r=s*s;return t=Su(t,r),t=Cu(t,r),t}function Hr(t,s,r){return Math.sqrt(pa(t,s,r,!0))}function ku(t,s,r){return pa(t,s,r)}function Cu(t,s){var r=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,d=new l(r);d[0]=d[r-1]=1,li(t,d,s,0,r-1);var p,j=[];for(p=0;p<r;p++)d[p]&&j.push(t[p]);return j}function li(t,s,r,l,d){var p=0,j,N,R;for(N=l+1;N<=d-1;N++)R=pa(t[N],t[l],t[d],!0),R>p&&(j=N,p=R);p>r&&(s[j]=1,li(t,s,r,l,j),li(t,s,r,j,d))}function Su(t,s){for(var r=[t[0]],l=1,d=0,p=t.length;l<p;l++)Pu(t[l],t[d])>s&&(r.push(t[l]),d=l);return d<p-1&&r.push(t[p-1]),r}var qr;function Wr(t,s,r,l,d){var p=l?qr:gs(t,r),j=gs(s,r),N,R,Z;for(qr=j;;){if(!(p|j))return[t,s];if(p&j)return!1;N=p||j,R=Ya(t,s,N,r,d),Z=gs(R,r),N===p?(t=R,p=Z):(s=R,j=Z)}}function Ya(t,s,r,l,d){var p=s.x-t.x,j=s.y-t.y,N=l.min,R=l.max,Z,Q;return r&8?(Z=t.x+p*(R.y-t.y)/j,Q=R.y):r&4?(Z=t.x+p*(N.y-t.y)/j,Q=N.y):r&2?(Z=R.x,Q=t.y+j*(R.x-t.x)/p):r&1&&(Z=N.x,Q=t.y+j*(N.x-t.x)/p),new U(Z,Q,d)}function gs(t,s){var r=0;return t.x<s.min.x?r|=1:t.x>s.max.x&&(r|=2),t.y<s.min.y?r|=4:t.y>s.max.y&&(r|=8),r}function Pu(t,s){var r=s.x-t.x,l=s.y-t.y;return r*r+l*l}function pa(t,s,r,l){var d=s.x,p=s.y,j=r.x-d,N=r.y-p,R=j*j+N*N,Z;return R>0&&(Z=((t.x-d)*j+(t.y-p)*N)/R,Z>1?(d=r.x,p=r.y):Z>0&&(d+=j*Z,p+=N*Z)),j=t.x-d,N=t.y-p,l?j*j+N*N:new U(d,p)}function _t(t){return!A(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Vr(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_t(t)}function Ur(t,s){var r,l,d,p,j,N,R,Z;if(!t||t.length===0)throw new Error("latlngs not passed");_t(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Q=ee([0,0]),fe=K(t),be=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());be<1700&&(Q=oi(t));var ct=t.length,Xe=[];for(r=0;r<ct;r++){var jt=ee(t[r]);Xe.push(s.project(ee([jt.lat-Q.lat,jt.lng-Q.lng])))}for(r=0,l=0;r<ct-1;r++)l+=Xe[r].distanceTo(Xe[r+1])/2;if(l===0)Z=Xe[0];else for(r=0,p=0;r<ct-1;r++)if(j=Xe[r],N=Xe[r+1],d=j.distanceTo(N),p+=d,p>l){R=(p-l)/d,Z=[N.x-R*(N.x-j.x),N.y-R*(N.y-j.y)];break}var ft=s.unproject(ne(Z));return ee([ft.lat+Q.lat,ft.lng+Q.lng])}var Tu={__proto__:null,simplify:Zr,pointToSegmentDistance:Hr,closestPointOnSegment:ku,clipSegment:Wr,_getEdgeIntersection:Ya,_getBitCode:gs,_sqClosestPointOnSegment:pa,isFlat:_t,_flat:Vr,polylineCenter:Ur},ci={project:function(t){return new U(t.lng,t.lat)},unproject:function(t){return new de(t.y,t.x)},bounds:new ve([-180,-90],[180,90])},di={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ve([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,r=this.R,l=t.lat*s,d=this.R_MINOR/r,p=Math.sqrt(1-d*d),j=p*Math.sin(l),N=Math.tan(Math.PI/4-l/2)/Math.pow((1-j)/(1+j),p/2);return l=-r*Math.log(Math.max(N,1e-10)),new U(t.lng*s*r,l)},unproject:function(t){for(var s=180/Math.PI,r=this.R,l=this.R_MINOR/r,d=Math.sqrt(1-l*l),p=Math.exp(-t.y/r),j=Math.PI/2-2*Math.atan(p),N=0,R=.1,Z;N<15&&Math.abs(R)>1e-7;N++)Z=d*Math.sin(j),Z=Math.pow((1-Z)/(1+Z),d/2),R=Math.PI/2-2*Math.atan(p*Z)-j,j+=R;return new de(j*s,t.x*s/r)}},Eu={__proto__:null,LonLat:ci,Mercator:di,SphericalMercator:D},Mu=c({},Ce,{code:"EPSG:3395",projection:di,transformation:function(){var t=.5/(Math.PI*di.R);return Y(t,.5,-t,.5)}()}),Gr=c({},Ce,{code:"EPSG:4326",projection:ci,transformation:Y(1/180,1,-1/180,.5)}),Lu=c({},te,{projection:ci,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var r=s.lng-t.lng,l=s.lat-t.lat;return Math.sqrt(r*r+l*l)},infinite:!0});te.Earth=Ce,te.EPSG3395=Mu,te.EPSG3857=je,te.EPSG900913=Ne,te.EPSG4326=Gr,te.Simple=Lu;var Mt=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[f(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[f(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var r=this.getEvents();s.on(r,this),this.once("remove",function(){s.off(r,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=f(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return f(t)in this._layers},eachLayer:function(t,s){for(var r in this._layers)t.call(s,this._layers[r]);return this},_addLayers:function(t){t=t?A(t)?t:[t]:[];for(var s=0,r=t.length;s<r;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[f(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=f(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,r=this._getZoomSpan();for(var l in this._zoomBoundLayers){var d=this._zoomBoundLayers[l].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),s=d.maxZoom===void 0?s:Math.max(s,d.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rs=Mt.extend({initialize:function(t,s){v(this,s),this._layers={};var r,l;if(t)for(r=0,l=t.length;r<l;r++)this.addLayer(t[r])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),r,l;for(r in this._layers)l=this._layers[r],l[t]&&l[t].apply(l,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var r in this._layers)t.call(s,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return f(t)}}),Ru=function(t,s){return new Rs(t,s)},Vt=Rs.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Rs.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Rs.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new _e;for(var s in this._layers){var r=this._layers[s];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),Au=function(t,s){return new Vt(t,s)},As=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){v(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(r,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,s){var r=this.options,l=r[s+"Size"];typeof l=="number"&&(l=[l,l]);var d=ne(l),p=ne(s==="shadow"&&r.shadowAnchor||r.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(r.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return he.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ou(t){return new As(t)}var xa=As.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof xa.imagePath!="string"&&(xa.imagePath=this._detectIconPath()),(this.options.imagePath||xa.imagePath)+As.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(r,l,d){var p=l.exec(r);return p&&p[d]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Me("div","leaflet-default-icon-path",document.body),s=ca(t,"background-image")||ca(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Kr=Ft.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ts(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ue(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,r=s._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,p=fs(s._icon),j=r.getPixelBounds(),N=r.getPixelOrigin(),R=Pe(j.min._subtract(N).add(d),j.max._subtract(N).subtract(d));if(!R.contains(p)){var Z=ne((Math.max(R.max.x,p.x)-R.max.x)/(j.max.x-R.max.x)-(Math.min(R.min.x,p.x)-R.min.x)/(j.min.x-R.min.x),(Math.max(R.max.y,p.y)-R.max.y)/(j.max.y-R.max.y)-(Math.min(R.min.y,p.y)-R.min.y)/(j.min.y-R.min.y)).multiplyBy(l);r.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),Ge(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=B(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,r=s._shadow,l=fs(s._icon),d=s._map.layerPointToLatLng(l);r&&Ge(r,l),s._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Xa=Mt.extend({options:{icon:new xa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){v(this,s),this._latlng=ee(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=ee(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),l=!1;r!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),ye(r,s),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(r,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),p=!1;d!==this._shadow&&(this._removeShadow(),p=!0),d&&(ye(d,s),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),He(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&He(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ge(this._icon,t),this._shadow&&Ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Kr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Kr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&wt(this._icon,t),this._shadow&&wt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,r=s.iconSize?ne(s.iconSize):ne(0,0),l=s.iconAnchor?ne(s.iconAnchor):ne(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:r.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Iu(t,s){return new Xa(t,s)}var ss=Mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return v(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ja=ss.extend({options:{fill:!0,radius:10},initialize:function(t,s){v(this,s),this._latlng=ee(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=ee(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return ss.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,r=this._clickTolerance(),l=[t+r,s+r];this._pxBounds=new ve(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Du(t,s){return new Ja(t,s)}var hi=Ja.extend({initialize:function(t,s,r){if(typeof s=="number"&&(s=c({},r,{radius:s})),v(this,s),this._latlng=ee(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ss.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,r=this._map,l=r.options.crs;if(l.distance===Ce.distance){var d=Math.PI/180,p=this._mRadius/Ce.R/d,j=r.project([s+p,t]),N=r.project([s-p,t]),R=j.add(N).divideBy(2),Z=r.unproject(R).lat,Q=Math.acos((Math.cos(p*d)-Math.sin(s*d)*Math.sin(Z*d))/(Math.cos(s*d)*Math.cos(Z*d)))/d;(isNaN(Q)||Q===0)&&(Q=p/Math.cos(Math.PI/180*s)),this._point=R.subtract(r.getPixelOrigin()),this._radius=isNaN(Q)?0:R.x-r.project([Z,t-Q]).x,this._radiusY=R.y-j.y}else{var fe=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(fe).x}this._updateBounds()}});function zu(t,s,r){return new hi(t,s,r)}var Ut=ss.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){v(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,r=null,l=pa,d,p,j=0,N=this._parts.length;j<N;j++)for(var R=this._parts[j],Z=1,Q=R.length;Z<Q;Z++){d=R[Z-1],p=R[Z];var fe=l(t,d,p,!0);fe<s&&(s=fe,r=l(t,d,p))}return r&&(r.distance=Math.sqrt(s)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ur(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=ee(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new _e,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return _t(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],r=_t(t),l=0,d=t.length;l<d;l++)r?(s[l]=ee(t[l]),this._bounds.extend(s[l])):s[l]=this._convertLatLngs(t[l]);return s},_project:function(){var t=new ve;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new U(t,t);this._rawPxBounds&&(this._pxBounds=new ve([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,r){var l=t[0]instanceof de,d=t.length,p,j;if(l){for(j=[],p=0;p<d;p++)j[p]=this._map.latLngToLayerPoint(t[p]),r.extend(j[p]);s.push(j)}else for(p=0;p<d;p++)this._projectLatlngs(t[p],s,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,r,l,d,p,j,N,R;for(r=0,d=0,p=this._rings.length;r<p;r++)for(R=this._rings[r],l=0,j=R.length;l<j-1;l++)N=Wr(R[l],R[l+1],t,l,!0),N&&(s[d]=s[d]||[],s[d].push(N[0]),(N[1]!==R[l+1]||l===j-2)&&(s[d].push(N[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,r=0,l=t.length;r<l;r++)t[r]=Zr(t[r],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var r,l,d,p,j,N,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,p=this._parts.length;r<p;r++)for(N=this._parts[r],l=0,j=N.length,d=j-1;l<j;d=l++)if(!(!s&&l===0)&&Hr(t,N[d],N[l])<=R)return!0;return!1}});function Fu(t,s){return new Ut(t,s)}Ut._flat=Vr;var Os=Ut.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Br(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=Ut.prototype._convertLatLngs.call(this,t),r=s.length;return r>=2&&s[0]instanceof de&&s[0].equals(s[r-1])&&s.pop(),s},_setLatLngs:function(t){Ut.prototype._setLatLngs.call(this,t),_t(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _t(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,r=new U(s,s);if(t=new ve(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,d=this._rings.length,p;l<d;l++)p=$r(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,r,l,d,p,j,N,R,Z;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,R=this._parts.length;p<R;p++)for(r=this._parts[p],j=0,Z=r.length,N=Z-1;j<Z;N=j++)l=r[j],d=r[N],l.y>t.y!=d.y>t.y&&t.x<(d.x-l.x)*(t.y-l.y)/(d.y-l.y)+l.x&&(s=!s);return s||Ut.prototype._containsPoint.call(this,t,!0)}});function $u(t,s){return new Os(t,s)}var Gt=Vt.extend({initialize:function(t,s){v(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=A(t)?t:t.features,r,l,d;if(s){for(r=0,l=s.length;r<l;r++)d=s[r],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var j=en(t,p);return j?(j.feature=an(t),j.defaultOptions=j.options,this.resetStyle(j),p.onEachFeature&&p.onEachFeature(t,j),this.addLayer(j)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function en(t,s){var r=t.type==="Feature"?t.geometry:t,l=r?r.coordinates:null,d=[],p=s&&s.pointToLayer,j=s&&s.coordsToLatLng||ui,N,R,Z,Q;if(!l&&!r)return null;switch(r.type){case"Point":return N=j(l),Qr(p,t,N,s);case"MultiPoint":for(Z=0,Q=l.length;Z<Q;Z++)N=j(l[Z]),d.push(Qr(p,t,N,s));return new Vt(d);case"LineString":case"MultiLineString":return R=tn(l,r.type==="LineString"?0:1,j),new Ut(R,s);case"Polygon":case"MultiPolygon":return R=tn(l,r.type==="Polygon"?1:2,j),new Os(R,s);case"GeometryCollection":for(Z=0,Q=r.geometries.length;Z<Q;Z++){var fe=en({geometry:r.geometries[Z],type:"Feature",properties:t.properties},s);fe&&d.push(fe)}return new Vt(d);case"FeatureCollection":for(Z=0,Q=r.features.length;Z<Q;Z++){var be=en(r.features[Z],s);be&&d.push(be)}return new Vt(d);default:throw new Error("Invalid GeoJSON object.")}}function Qr(t,s,r,l){return t?t(s,r):new Xa(r,l&&l.markersInheritOptions&&l)}function ui(t){return new de(t[1],t[0],t[2])}function tn(t,s,r){for(var l=[],d=0,p=t.length,j;d<p;d++)j=s?tn(t[d],s-1,r):(r||ui)(t[d]),l.push(j);return l}function mi(t,s){return t=ee(t),t.alt!==void 0?[k(t.lng,s),k(t.lat,s),k(t.alt,s)]:[k(t.lng,s),k(t.lat,s)]}function sn(t,s,r,l){for(var d=[],p=0,j=t.length;p<j;p++)d.push(s?sn(t[p],_t(t[p])?0:s-1,r,l):mi(t[p],l));return!s&&r&&d.length>0&&d.push(d[0].slice()),d}function Is(t,s){return t.feature?c({},t.feature,{geometry:s}):an(s)}function an(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var fi={toGeoJSON:function(t){return Is(this,{type:"Point",coordinates:mi(this.getLatLng(),t)})}};Xa.include(fi),hi.include(fi),Ja.include(fi),Ut.include({toGeoJSON:function(t){var s=!_t(this._latlngs),r=sn(this._latlngs,s?1:0,!1,t);return Is(this,{type:(s?"Multi":"")+"LineString",coordinates:r})}}),Os.include({toGeoJSON:function(t){var s=!_t(this._latlngs),r=s&&!_t(this._latlngs[0]),l=sn(this._latlngs,r?2:s?1:0,!0,t);return s||(l=[l]),Is(this,{type:(r?"Multi":"")+"Polygon",coordinates:l})}}),Rs.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(r){s.push(r.toGeoJSON(t).geometry.coordinates)}),Is(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var r=s==="GeometryCollection",l=[];return this.eachLayer(function(d){if(d.toGeoJSON){var p=d.toGeoJSON(t);if(r)l.push(p.geometry);else{var j=an(p);j.type==="FeatureCollection"?l.push.apply(l,j.features):l.push(j)}}}),r?Is(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Yr(t,s){return new Gt(t,s)}var Bu=Yr,nn=Mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,r){this._url=t,this._bounds=K(s),v(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){He(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ms(this._image),this},bringToBack:function(){return this._map&&Ls(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=K(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:Me("img");if(ye(s,"leaflet-image-layer"),this._zoomAnimated&&ye(s,"leaflet-zoom-animated"),this.options.className&&ye(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onload=m(this.fire,this,"load"),s.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ms(this._image,r,s)},_reset:function(){var t=this._image,s=new ve(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=s.getSize();Ge(t,s.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Zu=function(t,s,r){return new nn(t,s,r)},Xr=nn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:Me("video");if(ye(s,"leaflet-image-layer"),this._zoomAnimated&&ye(s,"leaflet-zoom-animated"),this.options.className&&ye(s,this.options.className),s.onselectstart=y,s.onmousemove=y,s.onloadeddata=m(this.fire,this,"load"),t){for(var r=s.getElementsByTagName("source"),l=[],d=0;d<r.length;d++)l.push(r[d].src);this._url=r.length>0?l:[s.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var j=Me("source");j.src=this._url[p],s.appendChild(j)}}});function Hu(t,s,r){return new Xr(t,s,r)}var Jr=nn.extend({_initImage:function(){var t=this._image=this._url;ye(t,"leaflet-image-layer"),this._zoomAnimated&&ye(t,"leaflet-zoom-animated"),this.options.className&&ye(t,this.options.className),t.onselectstart=y,t.onmousemove=y}});function qu(t,s,r){return new Jr(t,s,r)}var $t=Mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof de||A(t))?(this._latlng=ee(t),v(this,s)):(v(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&wt(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(m(He,void 0,this._container),200)):He(this._container),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ee(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ms(this._container),this},bringToBack:function(){return this._map&&Ls(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Vt){s=null;var r=this._source._layers;for(var l in r)if(r[l]._map){s=r[l];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=ne(this.options.offset),r=this._getAnchor();this._zoomAnimated?Ge(this._container,t.add(r)):s=s.add(t).add(r);var l=this._containerBottom=-s.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=l+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(t,s,r,l){var d=s;return d instanceof t||(d=new t(l).setContent(s)),r&&d.setLatLng(r),d}}),Mt.include({_initOverlay:function(t,s,r,l){var d=r;return d instanceof t?(v(d,l),d._source=this):(d=s&&!l?s:new t(l,this),d.setContent(r)),d}});var rn=$t.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,$t.prototype.openOn.call(this,t)},onAdd:function(t){$t.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ss||this._source.on("preclick",ps))},onRemove:function(t){$t.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ss||this._source.off("preclick",ps))},getEvents:function(){var t=$t.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=Me("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=Me("div",t+"-content-wrapper",s);if(this._contentNode=Me("div",t+"-content",r),ma(s),ai(this._contentNode),xe(s,"contextmenu",ps),this._tipContainer=Me("div",t+"-tip-container",s),this._tip=Me("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=Me("a",t+"-close-button",s);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',xe(l,"click",function(d){nt(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),s.width=r+1+"px",s.whiteSpace="",s.height="";var l=t.offsetHeight,d=this.options.maxHeight,p="leaflet-popup-scrolled";d&&l>d?(s.height=d+"px",ye(t,p)):Ue(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();Ge(this._container,s.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(ca(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+s,l=this._containerWidth,d=new U(this._containerLeft,-r-this._containerBottom);d._add(fs(this._container));var p=t.layerPointToContainerPoint(d),j=ne(this.options.autoPanPadding),N=ne(this.options.autoPanPaddingTopLeft||j),R=ne(this.options.autoPanPaddingBottomRight||j),Z=t.getSize(),Q=0,fe=0;p.x+l+R.x>Z.x&&(Q=p.x+l-Z.x+R.x),p.x-Q-N.x<0&&(Q=p.x-N.x),p.y+r+R.y>Z.y&&(fe=p.y+r-Z.y+R.y),p.y-fe-N.y<0&&(fe=p.y-N.y),(Q||fe)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Q,fe]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Wu=function(t,s){return new rn(t,s)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(t,s,r){return this._initOverlay(rn,t,s,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Mt.include({bindPopup:function(t,s){return this._popup=this._initOverlay(rn,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Vt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){xs(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof ss)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var on=$t.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){$t.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){$t.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=$t.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,r,l=this._map,d=this._container,p=l.latLngToContainerPoint(l.getCenter()),j=l.layerPointToContainerPoint(t),N=this.options.direction,R=d.offsetWidth,Z=d.offsetHeight,Q=ne(this.options.offset),fe=this._getAnchor();N==="top"?(s=R/2,r=Z):N==="bottom"?(s=R/2,r=0):N==="center"?(s=R/2,r=Z/2):N==="right"?(s=0,r=Z/2):N==="left"?(s=R,r=Z/2):j.x<p.x?(N="right",s=0,r=Z/2):(N="left",s=R+(Q.x+fe.x)*2,r=Z/2),t=t.subtract(ne(s,r,!0)).add(Q).add(fe),Ue(d,"leaflet-tooltip-right"),Ue(d,"leaflet-tooltip-left"),Ue(d,"leaflet-tooltip-top"),Ue(d,"leaflet-tooltip-bottom"),ye(d,"leaflet-tooltip-"+N),Ge(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&wt(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vu=function(t,s){return new on(t,s)};Se.include({openTooltip:function(t,s,r){return this._initOverlay(on,t,s,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Mt.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(on,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[s](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Vt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(xe(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),xe(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,r,l;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(r),s=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(s)}});var eo=As.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Va(s),s.appendChild(r.html)):s.innerHTML=r.html!==!1?r.html:"",r.bgPos){var l=ne(r.bgPos);s.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Uu(t){return new eo(t)}As.Default=xa;var ga=Mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){v(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),He(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ms(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof U?t:new U(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,r=-t(-1/0,1/0),l=0,d=s.length,p;l<d;l++)p=s[l].style.zIndex,s[l]!==this._container&&p&&(r=t(r,+p));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){wt(this._container,this.options.opacity);var t=+new Date,s=!1,r=!1;for(var l in this._tiles){var d=this._tiles[l];if(!(!d.current||!d.loaded)){var p=Math.min(1,(t-d.loaded)/200);wt(d.el,p),p<1?s=!0:(d.active?r=!0:this._onOpaqueTile(d),d.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),s&&(W(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=s-Math.abs(t-r),this._onUpdateLevel(r)):(He(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var l=this._levels[t],d=this._map;return l||(l=this._levels[t]={},l.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=s,l.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,d.getCenter(),d.getZoom()),y(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var t,s,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var l=s.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)He(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,r,l){var d=Math.floor(t/2),p=Math.floor(s/2),j=r-1,N=new U(+d,+p);N.z=+j;var R=this._tileCoordsToKey(N),Z=this._tiles[R];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),j>l?this._retainParent(d,p,j,l):!1)},_retainChildren:function(t,s,r,l){for(var d=2*t;d<2*t+2;d++)for(var p=2*s;p<2*s+2;p++){var j=new U(d,p);j.z=r+1;var N=this._tileCoordsToKey(j),R=this._tiles[N];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);r+1<l&&this._retainChildren(d,p,r+1,l)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,r,l){var d=Math.round(s);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var p=this.options.updateWhenZooming&&d!==this._tileZoom;(!l||p)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,s)},_setZoomTransform:function(t,s,r){var l=this._map.getZoomScale(r,t.zoom),d=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(s,r)).round();he.any3d?ms(t.el,d,l):Ge(t.el,d)},_resetGrid:function(){var t=this._map,s=t.options.crs,r=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],l).x/r.x),Math.ceil(t.project([0,s.wrapLng[1]],l).x/r.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],l).y/r.x),Math.ceil(t.project([s.wrapLat[1],0],l).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,r=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),l=s.getZoomScale(r,this._tileZoom),d=s.project(t,this._tileZoom).floor(),p=s.getSize().divideBy(l*2);return new ve(d.subtract(p),d.add(p))},_update:function(t){var s=this._map;if(s){var r=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(l),p=d.getCenter(),j=[],N=this.options.keepBuffer,R=new ve(d.getBottomLeft().subtract([N,-N]),d.getTopRight().add([N,-N]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var Q=this._tiles[Z].coords;(Q.z!==this._tileZoom||!R.contains(new U(Q.x,Q.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var fe=d.min.y;fe<=d.max.y;fe++)for(var be=d.min.x;be<=d.max.x;be++){var ct=new U(be,fe);if(ct.z=this._tileZoom,!!this._isValidTile(ct)){var Xe=this._tiles[this._tileCoordsToKey(ct)];Xe?Xe.current=!0:j.push(ct)}}if(j.sort(function(ft,zs){return ft.distanceTo(p)-zs.distanceTo(p)}),j.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jt=document.createDocumentFragment();for(be=0;be<j.length;be++)this._addTile(j[be],jt);this._level.el.appendChild(jt)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var r=this._globalTileRange;if(!s.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!s.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return K(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,r=this.getTileSize(),l=t.scaleBy(r),d=l.add(r),p=s.unproject(l,t.z),j=s.unproject(d,t.z);return[p,j]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),r=new _e(s[0],s[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),r=new U(+s[0],+s[1]);return r.z=+s[2],r},_removeTile:function(t){var s=this._tiles[t];s&&(He(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ye(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=y,t.onmousemove=y,he.ielt9&&this.options.opacity<1&&wt(t,this.options.opacity)},_addTile:function(t,s){var r=this._getTilePos(t),l=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),m(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&B(m(this._tileReady,this,t,null,d)),Ge(d,r),this._tiles[l]={el:d,coords:t,current:!0},s.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,s,r){s&&this.fire("tileerror",{error:s,tile:r,coords:t});var l=this._tileCoordsToKey(t);r=this._tiles[l],r&&(r.loaded=+new Date,this._map._fadeAnimated?(wt(r.el,0),W(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),s||(ye(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new U(this._wrapX?b(t.x,this._wrapX):t.x,this._wrapY?b(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new ve(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Gu(t){return new ga(t)}var Ds=ga.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=v(this,s),s.detectRetina&&he.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var r=document.createElement("img");return xe(r,"load",m(this._tileOnLoad,this,s,r)),xe(r,"error",m(this._tileOnError,this,s,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var s={r:he.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=r),s["-y"]=r}return w(this._url,c(s,this.options))},_tileOnLoad:function(t,s){he.ielt9?setTimeout(m(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,r){var l=this.options.errorTileUrl;l&&s.getAttribute("src")!==l&&(s.src=l),t(r,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,r=this.options.zoomReverse,l=this.options.zoomOffset;return r&&(t=s-t),t+l},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=y,s.onerror=y,!s.complete)){s.src=M;var r=this._tiles[t].coords;He(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:r})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",M),ga.prototype._removeTile.call(this,t)},_tileReady:function(t,s,r){if(!(!this._map||r&&r.getAttribute("src")===M))return ga.prototype._tileReady.call(this,t,s,r)}});function to(t,s){return new Ds(t,s)}var so=Ds.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var r=c({},this.defaultWmsParams);for(var l in s)l in this.options||(r[l]=s[l]);s=v(this,s);var d=s.detectRetina&&he.retina?2:1,p=this.getTileSize();r.width=p.x*d,r.height=p.y*d,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ds.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),r=this._crs,l=Pe(r.project(s[0]),r.project(s[1])),d=l.min,p=l.max,j=(this._wmsVersion>=1.3&&this._crs===Gr?[d.y,d.x,p.y,p.x]:[d.x,d.y,p.x,p.y]).join(","),N=Ds.prototype.getTileUrl.call(this,t);return N+T(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+j},setParams:function(t,s){return c(this.wmsParams,t),s||this.redraw(),this}});function Ku(t,s){return new so(t,s)}Ds.WMS=so,to.wms=Ku;var Kt=Mt.extend({options:{padding:.1},initialize:function(t){v(this,t),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var r=this._map.getZoomScale(s,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,s),p=l.multiplyBy(-r).add(d).subtract(this._map._getNewPixelOrigin(t,s));he.any3d?ms(this._container,p,r):Ge(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),r=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new ve(r,r.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ao=Kt.extend({options:{tolerance:0},getEvents:function(){var t=Kt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");xe(t,"mousemove",this._onMouseMove,this),xe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xe(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,He(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var t=this._bounds,s=this._container,r=t.getSize(),l=he.retina?2:1;Ge(s,t.min),s.width=l*r.x,s.height=l*r.y,s.style.width=r.x+"px",s.style.height=r.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[f(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,r=s.next,l=s.prev;r?r.prev=l:this._drawLast=l,l?l.next=r:this._drawFirst=r,delete t._order,delete this._layers[f(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),r=[],l,d;for(d=0;d<s.length;d++){if(l=Number(s[d]),isNaN(l))return;r.push(l)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ve,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var r=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var r,l,d,p,j=t._parts,N=j.length,R=this._ctx;if(N){for(R.beginPath(),r=0;r<N;r++){for(l=0,d=j[r].length;l<d;l++)p=j[r][l],R[l?"lineTo":"moveTo"](p.x,p.y);s&&R.closePath()}this._fillStroke(R,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,r=this._ctx,l=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||l)/l;d!==1&&(r.save(),r.scale(1,d)),r.beginPath(),r.arc(s.x,s.y/d,l,0,Math.PI*2,!1),d!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,s){var r=s.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),r,l,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(l=r);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var r,l,d=this._drawFirst;d;d=d.next)r=d.layer,r.options.interactive&&r._containsPoint(s)&&(l=r);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(ye(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,r){this._map._fireDOMEvent(s,r||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var r=s.next,l=s.prev;if(r)r.prev=l;else return;l?l.next=r:r&&(this._drawFirst=r),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var r=s.next,l=s.prev;if(l)l.next=r;else return;r?r.prev=l:l&&(this._drawLast=l),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function no(t){return he.canvas?new ao(t):null}var va=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qu={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=va("shape");ye(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=va("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;He(s),t.removeInteractiveTarget(s),delete this._layers[f(t)]},_updateStyle:function(t){var s=t._stroke,r=t._fill,l=t.options,d=t._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(s||(s=t._stroke=va("stroke")),d.appendChild(s),s.weight=l.weight+"px",s.color=l.color,s.opacity=l.opacity,l.dashArray?s.dashStyle=A(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=l.lineCap.replace("butt","flat"),s.joinstyle=l.lineJoin):s&&(d.removeChild(s),t._stroke=null),l.fill?(r||(r=t._fill=va("fill")),d.appendChild(r),r.color=l.fillColor||l.color,r.opacity=l.fillOpacity):r&&(d.removeChild(r),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),r=Math.round(t._radius),l=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+r+","+l+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){Ms(t._container)},_bringToBack:function(t){Ls(t._container)}},ln=he.vml?va:Qe,ya=Kt.extend({_initContainer:function(){this._container=ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){He(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var t=this._bounds,s=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,r.setAttribute("width",s.x),r.setAttribute("height",s.y)),Ge(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=ln("path");t.options.className&&ye(s,t.options.className),t.options.interactive&&ye(s,"leaflet-interactive"),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){He(t._path),t.removeInteractiveTarget(t._path),delete this._layers[f(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,r=t.options;s&&(r.stroke?(s.setAttribute("stroke",r.color),s.setAttribute("stroke-opacity",r.opacity),s.setAttribute("stroke-width",r.weight),s.setAttribute("stroke-linecap",r.lineCap),s.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?s.setAttribute("stroke-dasharray",r.dashArray):s.removeAttribute("stroke-dasharray"),r.dashOffset?s.setAttribute("stroke-dashoffset",r.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),r.fill?(s.setAttribute("fill",r.fillColor||r.color),s.setAttribute("fill-opacity",r.fillOpacity),s.setAttribute("fill-rule",r.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,yt(t._parts,s))},_updateCircle:function(t){var s=t._point,r=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||r,d="a"+r+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(s.x-r)+","+s.y+d+r*2+",0 "+d+-r*2+",0 ";this._setPath(t,p)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){Ms(t._path)},_bringToBack:function(t){Ls(t._path)}});he.vml&&ya.include(Qu);function io(t){return he.svg||he.vml?new ya(t):null}Se.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&no(t)||io(t)}});var ro=Os.extend({initialize:function(t,s){Os.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=K(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Yu(t,s){return new ro(t,s)}ya.create=ln,ya.pointsToPath=yt,Gt.geometryToLayer=en,Gt.coordsToLatLng=ui,Gt.coordsToLatLngs=tn,Gt.latLngToCoords=mi,Gt.latLngsToCoords=sn,Gt.getFeature=Is,Gt.asFeature=an,Se.mergeOptions({boxZoom:!0});var oo=Ft.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){He(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),da(),Kn(),this._startPoint=this._map.mouseEventToContainerPoint(t),xe(document,{contextmenu:xs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new ve(this._point,this._startPoint),r=s.getSize();Ge(this._box,s.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(He(this._box),Ue(this._container,"leaflet-crosshair")),ha(),Qn(),Fe(document,{contextmenu:xs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var s=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",oo),Se.mergeOptions({doubleClickZoom:!0});var lo=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,r=s.getZoom(),l=s.options.zoomDelta,d=t.originalEvent.shiftKey?r-l:r+l;s.options.doubleClickZoom==="center"?s.setZoom(d):s.setZoomAround(t.containerPoint,d)}});Se.addInitHook("addHandler","doubleClickZoom",lo),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var co=Ft.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ts(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ue(this._map._container,"leaflet-grab"),Ue(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=K(this._map.options.maxBounds);this._offsetLimit=Pe(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),r=this._initialWorldOffset,l=this._draggable._newPos.x,d=(l-s+r)%t+s-r,p=(l+s+r)%t-s-r,j=Math.abs(d+r)<Math.abs(p+r)?d:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=j},_onDragEnd:function(t){var s=this._map,r=s.options,l=!r.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),l)s.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,j=r.easeLinearity,N=d.multiplyBy(j/p),R=N.distanceTo([0,0]),Z=Math.min(r.inertiaMaxSpeed,R),Q=N.multiplyBy(Z/R),fe=Z/(r.inertiaDeceleration*j),be=Q.multiplyBy(-fe/2).round();!be.x&&!be.y?s.fire("moveend"):(be=s._limitOffset(be,s.options.maxBounds),B(function(){s.panBy(be,{duration:fe,easeLinearity:j,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",co),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ho=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),xe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,r=t.scrollTop||s.scrollTop,l=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(l,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},r=this.keyCodes,l,d;for(l=0,d=r.left.length;l<d;l++)s[r.left[l]]=[-1*t,0];for(l=0,d=r.right.length;l<d;l++)s[r.right[l]]=[t,0];for(l=0,d=r.down.length;l<d;l++)s[r.down[l]]=[0,t];for(l=0,d=r.up.length;l<d;l++)s[r.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},r=this.keyCodes,l,d;for(l=0,d=r.zoomIn.length;l<d;l++)s[r.zoomIn[l]]=t;for(l=0,d=r.zoomOut.length;l<d;l++)s[r.zoomOut[l]]=-t},_addHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,r=this._map,l;if(s in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(l=this._panKeys[s],t.shiftKey&&(l=ne(l).multiplyBy(3)),r.options.maxBounds&&(l=r._limitOffset(ne(l),r.options.maxBounds)),r.options.worldCopyJump){var d=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(l)));r.panTo(d)}else r.panBy(l)}else if(s in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;xs(t)}}});Se.addInitHook("addHandler","keyboard",ho),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var uo=Ft.extend({addHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=Or(t),r=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),l),xs(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=r?Math.ceil(d/r)*r:d,j=t._limitZoom(s+(this._delta>0?p:-p))-s;this._delta=0,this._startTime=null,j&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+j):t.setZoomAround(this._lastMousePos,s+j))}});Se.addInitHook("addHandler","scrollWheelZoom",uo);var Xu=600;Se.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var mo=Ft.extend({addHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new U(s.clientX,s.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(xe(document,"touchend",nt),xe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Xu),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Fe(document,"touchend",nt),Fe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new U(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});r._simulated=!0,s.target.dispatchEvent(r)}});Se.addInitHook("addHandler","tapHold",mo),Se.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var fo=Ft.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var r=s.mouseEventToContainerPoint(t.touches[0]),l=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(r.add(l)._divideBy(2))),this._startDist=r.distanceTo(l),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),nt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,r=s.mouseEventToContainerPoint(t.touches[0]),l=s.mouseEventToContainerPoint(t.touches[1]),d=r.distanceTo(l)/this._startDist;if(this._zoom=s.getScaleZoom(d,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&d<1||this._zoom>s.getMaxZoom()&&d>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var p=r._add(l)._divideBy(2)._subtract(this._centerPoint);if(d===1&&p.x===0&&p.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var j=m(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(j,this,!0),nt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",fo),Se.BoxZoom=oo,Se.DoubleClickZoom=lo,Se.Drag=co,Se.Keyboard=ho,Se.ScrollWheelZoom=uo,Se.TapHold=mo,Se.TouchZoom=fo,i.Bounds=ve,i.Browser=he,i.CRS=te,i.Canvas=ao,i.Circle=hi,i.CircleMarker=Ja,i.Class=C,i.Control=Et,i.DivIcon=eo,i.DivOverlay=$t,i.DomEvent=xu,i.DomUtil=fu,i.Draggable=ts,i.Evented=ce,i.FeatureGroup=Vt,i.GeoJSON=Gt,i.GridLayer=ga,i.Handler=Ft,i.Icon=As,i.ImageOverlay=nn,i.LatLng=de,i.LatLngBounds=_e,i.Layer=Mt,i.LayerGroup=Rs,i.LineUtil=Tu,i.Map=Se,i.Marker=Xa,i.Mixin=ju,i.Path=ss,i.Point=U,i.PolyUtil=Nu,i.Polygon=Os,i.Polyline=Ut,i.Popup=rn,i.PosAnimation=Ir,i.Projection=Eu,i.Rectangle=ro,i.Renderer=Kt,i.SVG=ya,i.SVGOverlay=Jr,i.TileLayer=Ds,i.Tooltip=on,i.Transformation=z,i.Util=P,i.VideoOverlay=Xr,i.bind=m,i.bounds=Pe,i.canvas=no,i.circle=zu,i.circleMarker=Du,i.control=fa,i.divIcon=Uu,i.extend=c,i.featureGroup=Au,i.geoJSON=Yr,i.geoJson=Bu,i.gridLayer=Gu,i.icon=Ou,i.imageOverlay=Zu,i.latLng=ee,i.latLngBounds=K,i.layerGroup=Ru,i.map=gu,i.marker=Iu,i.point=ne,i.polygon=$u,i.polyline=Fu,i.popup=Wu,i.rectangle=Yu,i.setOptions=v,i.stamp=f,i.svg=io,i.svgOverlay=qu,i.tileLayer=to,i.tooltip=Vu,i.transformation=Y,i.version=o,i.videoOverlay=Hu;var Ju=window.L;i.noConflict=function(){return window.L=Ju,this},window.L=i})}(wa,wa.exports)),wa.exports}var za=kv();const Qo=Em(za);function yr(a,n,i){return Object.freeze({instance:a,context:n,container:i})}function br(a,n){return n==null?function(o,c){const u=h.useRef();return u.current||(u.current=a(o,c)),u}:function(o,c){const u=h.useRef();u.current||(u.current=a(o,c));const m=h.useRef(o),{instance:x}=u.current;return h.useEffect(function(){m.current!==o&&(n(x,o,m.current),m.current=o)},[x,o,c]),u}}function Cv(a,n){h.useEffect(function(){return(n.layerContainer??n.map).addLayer(a.instance),function(){n.layerContainer?.removeLayer(a.instance),n.map.removeLayer(a.instance)}},[n,a])}function Wd(a){return function(i){const o=gr(),c=a(vr(i,o),o);return Bd(o.map,i.attribution),qd(c.current,i.eventHandlers),Cv(c.current,o),c}}function Sv(a,n){const i=br(a,n),o=Wd(i);return bv(o)}function Pv(a,n){const i=br(a),o=jv(i,n);return wv(o)}function Tv(a,n){const i=br(a,n),o=Wd(i);return _v(o)}function Ev(a,n,i){const{opacity:o,zIndex:c}=n;o!=null&&o!==i.opacity&&a.setOpacity(o),c!=null&&c!==i.zIndex&&a.setZIndex(c)}function Mv(){return gr().map}function $i(){return $i=Object.assign||function(a){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])}return a},$i.apply(this,arguments)}function Lv({bounds:a,boundsOptions:n,center:i,children:o,className:c,id:u,placeholder:m,style:x,whenReady:f,zoom:g,...b},y){const[k]=h.useState({className:c,id:u,style:x}),[_,E]=h.useState(null);h.useImperativeHandle(y,()=>_?.map??null,[_]);const v=h.useCallback(S=>{if(S!==null&&_===null){const w=new za.Map(S,b);i!=null&&g!=null?w.setView(i,g):a!=null&&w.fitBounds(a,n),f!=null&&w.whenReady(f),E(vv(w))}},[]);h.useEffect(()=>()=>{_?.map.remove()},[_]);const T=_?ki.createElement(Hd,{value:_},o):m??null;return ki.createElement("div",$i({},k,{ref:v}),T)}const Rv=h.forwardRef(Lv),Yo=Sv(function({position:n,...i},o){const c=new za.Marker(n,i);return yr(c,yv(o,{overlayContainer:c}))},function(n,i,o){i.position!==o.position&&n.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&n.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&n.setOpacity(i.opacity),n.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?n.dragging.enable():n.dragging.disable())}),Av=Pv(function(n,i){const o=new za.Popup(n,i.overlayContainer);return yr(o,i)},function(n,i,{position:o},c){h.useEffect(function(){const{instance:m}=n;function x(g){g.popup===m&&(m.update(),c(!0))}function f(g){g.popup===m&&c(!1)}return i.map.on({popupopen:x,popupclose:f}),i.overlayContainer==null?(o!=null&&m.setLatLng(o),m.openOn(i.map)):i.overlayContainer.bindPopup(m),function(){i.map.off({popupopen:x,popupclose:f}),i.overlayContainer?.unbindPopup(),i.map.removeLayer(m)}},[n,i,c,o])}),Ov=Tv(function({url:n,...i},o){const c=new za.TileLayer(n,vr(i,o));return yr(c,o)},function(n,i,o){Ev(n,i,o);const{url:c}=i;c!=null&&c!==o.url&&n.setUrl(c)});function Iv({userLocation:a}){const n=Mv();return h.useEffect(()=>{n&&a&&(console.log("🗺️ Centralizando mapa em:",a),n.setView(a,15))},[n,a]),null}function Xo(){const[a,n]=h.useState(null),[i,o]=h.useState(!0),[c,u]=h.useState(5),[m,x]=h.useState(!1),[f,g]=h.useState(null),[b,y]=h.useState(!1),[k,_]=h.useState(!1),[E,v]=h.useState(!1),[T,S]=h.useState(!1),[w,A]=h.useState(null),[I,M]=h.useState(!1),{theme:$,setTheme:se}=Hl(),{logout:re,user:H}=Tt(),{toast:ae}=st(),[B,W]=h.useState(0),[P,C]=h.useState(!1),[q,V]=h.useState(null);h.useEffect(()=>{S(!1)},[H?.profileImage]),h.useEffect(()=>{const F="geolocation"in navigator,ie=window.location.protocol==="https:"||window.location.hostname==="localhost";v(F),console.log("📍 Geolocalização suportada:",F),console.log("📍 Contexto seguro (HTTPS/localhost):",ie),console.log("📍 Protocolo atual:",window.location.protocol),console.log("📍 Hostname atual:",window.location.hostname)},[]),h.useEffect(()=>{console.log("📍 Localização do usuário atualizada:",f)},[f]),h.useEffect(()=>{E&&!f&&!b&&(console.log("📍 Ativando geolocalização automática..."),Ts())},[E,f,b]);const ce={monthlyEarnings:0,totalServices:0,averageRating:0,responseTime:"0min",monthlyGrowth:0,servicesThisWeek:0},[U,J]=h.useState([]),[ne,ve]=h.useState(!1),[Pe,_e]=h.useState(0),[K,de]=h.useState(""),[ee,te]=h.useState({}),[Ce,G]=h.useState(null),[D,z]=h.useState([]),Y=[],je=[],Ne=0,Qe=F=>{n(F),window.location.href=`/service-offer/${F}`},yt=F=>{A(F),M(!0)},At=()=>{M(!1),A(null)},Ss=()=>{A(null)},$n=()=>{re(),window.location.href="/"},Fa=async F=>{try{const ie=localStorage.getItem("token");if(!ie){ae({title:"Erro",description:"Token de autenticação não encontrado.",variant:"destructive"});return}(await fetch(`${ge()}/api/provider/availability`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify({available:F})})).ok?(o(F),ae({title:F?"Disponível":"Indisponível",description:F?"Você está agora disponível para receber solicitações de serviço.":"Você está agora indisponível. Os clientes não verão seu perfil."})):ae({title:"Erro",description:"Não foi possível atualizar sua disponibilidade.",variant:"destructive"})}catch(ie){console.error("Error updating availability:",ie),ae({title:"Erro",description:"Erro ao conectar com o servidor.",variant:"destructive"})}},ia=F=>{console.log(`Marking notification ${F} as read`)},ra=(F,ie,pe,ke)=>{const Ze=(pe-F)*Math.PI/180,Ee=(ke-ie)*Math.PI/180,$e=Math.sin(Ze/2)*Math.sin(Ze/2)+Math.cos(F*Math.PI/180)*Math.cos(pe*Math.PI/180)*Math.sin(Ee/2)*Math.sin(Ee/2);return 6371*(2*Math.atan2(Math.sqrt($e),Math.sqrt(1-$e)))},Ps={"rua das flores, 150, vila madalena, são paulo, sp":[-23.55,-46.68],"av. albert einstein, 627, morumbi, são paulo, sp":[-23.62,-46.72],"rua harmonia, 456, vila madalena, são paulo, sp":[-23.55,-46.68],"rua dos pinheiros, 789, pinheiros, são paulo, sp":[-23.5671,-46.7034],"rua dona adma jafet, 91, bela vista, são paulo, sp":[-23.56,-46.65],"av. paulista, 1000, bela vista, são paulo, sp":[-23.56,-46.66],"av. paulista, são paulo, sp":[-23.56,-46.66],"rua augusta, jardins, são paulo, sp":[-23.56,-46.66],"rua harmonia, vila madalena, são paulo, sp":[-23.55,-46.68],"rua das flores, vila madalena, são paulo, sp":[-23.55,-46.68],"rua dos pinheiros, pinheiros, são paulo, sp":[-23.5671,-46.7034],"rua dona adma jafet, bela vista, são paulo, sp":[-23.56,-46.65],"av. brigadeiro faria lima, são paulo, sp":[-23.59,-46.68],"shopping morumbi, são paulo, sp":[-23.62,-46.72],"hospital albert einstein, são paulo, sp":[-23.62,-46.72],"hospital sírio-libanês, são paulo, sp":[-23.56,-46.65],"vila madalena, são paulo, sp":[-23.55,-46.68],"jardins, são paulo, sp":[-23.56,-46.66],"morumbi, são paulo, sp":[-23.62,-46.72],"itaim bibi, são paulo, sp":[-23.6,-46.68],"moema, são paulo, sp":[-23.6,-46.66],"pinheiros, são paulo, sp":[-23.5671,-46.7034],"vila mariana, são paulo, sp":[-23.59,-46.63],"centro, são paulo, sp":[-23.5505,-46.6333],"sé, são paulo, sp":[-23.5505,-46.6333],"republica, são paulo, sp":[-23.54,-46.64],"bela vista, são paulo, sp":[-23.56,-46.65],"consolação, são paulo, sp":[-23.56,-46.66],"liberdade, são paulo, sp":[-23.56,-46.64],"bom retiro, são paulo, sp":[-23.53,-46.64],"brás, são paulo, sp":[-23.54,-46.62],"cambuci, são paulo, sp":[-23.57,-46.62],"tatuapé, são paulo, sp":[-23.54,-46.57],"vila prudente, são paulo, sp":[-23.58,-46.58],"mooca, são paulo, sp":[-23.55,-46.6],"belenzinho, são paulo, sp":[-23.54,-46.62],"penha, são paulo, sp":[-23.52,-46.54],"santana, são paulo, sp":[-23.5,-46.64],"tucuruvi, são paulo, sp":[-23.48,-46.62],"casa verde, são paulo, sp":[-23.51,-46.66],"vila guilherme, são paulo, sp":[-23.52,-46.61],"lapa, são paulo, sp":[-23.52,-46.7],"perdizes, são paulo, sp":[-23.53,-46.68],"vila pompeia, são paulo, sp":[-23.54,-46.68],"butantã, são paulo, sp":[-23.57,-46.72],"jabaquara, são paulo, sp":[-23.65,-46.64],"santo amaro, são paulo, sp":[-23.65,-46.72],"campo belo, são paulo, sp":[-23.61,-46.68],"vila olímpia, são paulo, sp":[-23.6,-46.69],"brooklin, são paulo, sp":[-23.61,-46.7],"vila andrade, são paulo, sp":[-23.63,-46.72],"jardim paulista, são paulo, sp":[-23.57,-46.67],"jardim europa, são paulo, sp":[-23.57,-46.68],"jardim paulistano, são paulo, sp":[-23.58,-46.68],"alto de pinheiros, são paulo, sp":[-23.57,-46.71],"vila leopoldina, são paulo, sp":[-23.53,-46.73],"barra funda, são paulo, sp":[-23.52,-46.66],"campos elíseos, são paulo, sp":[-23.54,-46.65],"santa cecília, são paulo, sp":[-23.54,-46.66],"vila buarque, são paulo, sp":[-23.54,-46.65],"higienópolis, são paulo, sp":[-23.55,-46.66],"pacifica, são paulo, sp":[-23.55,-46.67],"vila romana, são paulo, sp":[-23.54,-46.69],"sumaré, são paulo, sp":[-23.55,-46.67],"agua branca, são paulo, sp":[-23.52,-46.68],"vila nova cachoeirinha, são paulo, sp":[-23.49,-46.67],"limão, são paulo, sp":[-23.5,-46.65],"brasilândia, são paulo, sp":[-23.47,-46.64],"freguesia do ó, são paulo, sp":[-23.52,-46.7],"rua leão xiii, 431, serrinha, fortaleza, ce":[-3.7319,-38.5267],"rua leão xiii, serrinha, fortaleza, ce":[-3.7319,-38.5267],"leão xiii, serrinha, fortaleza, ce":[-3.7319,-38.5267],"serrinha, fortaleza, ce":[-3.7319,-38.5267],"avenida beira mar, fortaleza, ce":[-3.7319,-38.5267],"praça do ferreira, fortaleza, ce":[-3.7319,-38.5267],"centro, fortaleza, ce":[-3.7319,-38.5267],"aldeota, fortaleza, ce":[-3.7319,-38.5267],"meireles, fortaleza, ce":[-3.7319,-38.5267],"dionísio torres, fortaleza, ce":[-3.7319,-38.5267],"papicu, fortaleza, ce":[-3.7319,-38.5267],"cocó, fortaleza, ce":[-3.7319,-38.5267],"varjota, fortaleza, ce":[-3.7319,-38.5267],"montese, fortaleza, ce":[-3.7319,-38.5267],"fátima, fortaleza, ce":[-3.7319,-38.5267],"joaquim távora, fortaleza, ce":[-3.7319,-38.5267],"benfica, fortaleza, ce":[-3.7319,-38.5267],"damas, fortaleza, ce":[-3.7319,-38.5267],"são gerardo, fortaleza, ce":[-3.7319,-38.5267],"parangaba, fortaleza, ce":[-3.7319,-38.5267],"messejana, fortaleza, ce":[-3.7319,-38.5267],"conjunto ceará, fortaleza, ce":[-3.7319,-38.5267],"sabiguaba, fortaleza, ce":[-3.7319,-38.5267],"copacabana, rio de janeiro, rj":[-22.9707,-43.1824],"ipanema, rio de janeiro, rj":[-22.9844,-43.2034],"centro, belo horizonte, mg":[-19.9167,-43.9345],"centro, salvador, ba":[-12.9714,-38.5011],"centro, recife, pe":[-8.0476,-34.877],"centro, brasília, df":[-15.7942,-47.8822],"centro, curitiba, pr":[-25.4289,-49.2671],"centro, porto alegre, rs":[-30.0346,-51.2177],"centro, belém, pa":[-1.4554,-48.4898],"centro, manaus, am":[-3.119,-60.0217]},Ot=new Map,Bn=async F=>{try{if(Ot.has(F)){const De=Ot.get(F);return console.log(`✅ Coordenadas encontradas no cache: "${F}" → [${De[0]}, ${De[1]}]`),De}const ie=F.toLowerCase().trim().replace(/\s+/g," ");for(const[De,Ve]of Object.entries(Ps))if(ie===De)return Ot.set(F,Ve),console.log(`✅ Busca exata no mapeamento local: "${F}" → [${Ve[0]}, ${Ve[1]}]`),Ve;const pe=["rua leão xiii","serrinha","fortaleza"];for(const De of pe)if(ie.includes(De)){for(const[Ve,mt]of Object.entries(Ps))if(Ve.includes(De))return Ot.set(F,mt),console.log(`✅ Busca por palavra-chave "${De}": "${F}" → [${mt[0]}, ${mt[1]}]`),mt}let ke=null;for(const[De,Ve]of Object.entries(Ps)){const mt=oa(ie,De);mt>.6&&(!ke||mt>ke.score)&&(ke={key:De,coords:Ve,score:mt})}if(ke)return Ot.set(F,ke.coords),console.log(`✅ Busca parcial no mapeamento local: "${F}" → "${ke.key}" (score: ${ke.score.toFixed(2)}) → [${ke.coords[0]}, ${ke.coords[1]}]`),ke.coords;const We=ie.match(/([^,]+),\s*([a-z]{2})/);let Ze="",Ee="";We&&(Ze=We[1].trim(),Ee=We[2].trim().toUpperCase());const $e=[];Ze&&Ee?$e.push(ie+", "+Ze+", "+Ee+", brasil",ie+", "+Ze+", "+Ee,ie+", "+Ee+", brasil",ie+", brasil"):$e.push(ie+", brasil",ie);for(const De of $e)try{console.log(`🌐 Tentando geocoding externo para: "${De}"`);const Ve=new AbortController,mt=setTimeout(()=>Ve.abort(),5e3),Be=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(De)}&limit=3&countrycodes=br&addressdetails=1&accept-language=pt-BR`,{signal:Ve.signal});if(clearTimeout(mt),Be.ok){const It=await Be.json();if(It.length>0){const at=It.reduce((ot,qa)=>{const Zn=parseFloat(qa.importance||0),Hn=parseFloat(ot.importance||0);return Zn>Hn?qa:ot}),rt=parseFloat(at.lat),lt=parseFloat(at.lon);if($a(rt,lt)){const ot=[rt,lt];return Ot.set(F,ot),console.log(`✅ Geocoding externo bem-sucedido para "${F}": [${rt}, ${lt}] (relevância: ${at.importance})`),ot}else console.log(`⚠️ Coordenadas inválidas para "${F}": [${rt}, ${lt}]`)}}}catch(Ve){Ve.name==="AbortError"?console.warn(`⏰ Timeout na tentativa "${De}"`):console.warn(`❌ Erro na tentativa "${De}":`,Ve)}const Ie=Ba(ie,Ze,Ee);return Ot.set(F,Ie),console.log(`🔄 Usando fallback inteligente para "${F}": [${Ie[0].toFixed(6)}, ${Ie[1].toFixed(6)}]`),Ie}catch(ie){console.error("Erro geral no geocoding:",ie);const pe=[-15.7942,-47.8822];return Ot.set(F,pe),console.log(`🔄 Fallback final para "${F}": centro do Brasil`),pe}},oa=(F,ie)=>{const pe=F.split(" ").filter(Ie=>Ie.length>2),ke=ie.split(" ").filter(Ie=>Ie.length>2);if(pe.length===0||ke.length===0)return 0;const Ze=["rua","avenida","fortaleza","serrinha","leão","xiii"].some(Ie=>F.includes(Ie)&&ie.includes(Ie));let $e=pe.filter(Ie=>ke.some(De=>De.includes(Ie)||Ie.includes(De))).length/Math.max(pe.length,ke.length);return Ze&&($e+=.3),Math.min($e,1)},$a=(F,ie)=>F>=-34&&F<=6&&ie>=-74&&ie<=-34,Ba=(F,ie,pe)=>{const ke={"são paulo":[-23.5505,-46.6333],sp:[-23.5505,-46.6333],fortaleza:[-3.7319,-38.5267],ce:[-3.7319,-38.5267],serrinha:[-3.7319,-38.5267],"rio de janeiro":[-22.9068,-43.1729],rj:[-22.9068,-43.1729],"belo horizonte":[-19.9167,-43.9345],mg:[-19.9167,-43.9345],salvador:[-12.9714,-38.5011],ba:[-12.9714,-38.5011],recife:[-8.0476,-34.877],pe:[-8.0476,-34.877],brasília:[-15.7942,-47.8822],df:[-15.7942,-47.8822],curitiba:[-25.4289,-49.2671],pr:[-25.4289,-49.2671],"porto alegre":[-30.0346,-51.2177],rs:[-30.0346,-51.2177],belém:[-1.4554,-48.4898],pa:[-1.4554,-48.4898],manaus:[-3.119,-60.0217],am:[-3.119,-60.0217]};if(F.includes("fortaleza")||F.includes("ce")||F.includes("serrinha")||ie.includes("fortaleza")||ie.includes("ce")||ie.includes("serrinha")||pe.includes("CE"))return console.log(`🎯 Detecção específica de Fortaleza para: "${F}"`),[-3.7319,-38.5267];for(const[$e,Ie]of Object.entries(ke))if(F.includes($e)||ie.includes($e)||pe.includes($e))return Ie;const We=F.split("").reduce(($e,Ie)=>($e=($e<<5)-$e+Ie.charCodeAt(0),$e&$e),0),Ze=Math.abs(We)%2e3/1e4-.1,Ee=Math.abs(We>>10)%2e3/1e4-.1;return[-15.7942+Ze,-47.8822+Ee]},Za=async()=>{if(console.log("🚀 Iniciando busca de solicitações..."),console.log("👤 Usuário:",H),!H){console.log("❌ Usuário não autenticado");return}ve(!0),_e(0),de("Iniciando busca de solicitações..."),J([]),te({});try{const F=localStorage.getItem("token");if(console.log("🔑 Token encontrado:",!!F),!F){ae({title:"Erro de Autenticação",description:"Token de autenticação não encontrado. Faça login novamente.",variant:"destructive"}),ve(!1);return}const ie=["fisioterapeuta","acompanhante_hospitalar","tecnico_enfermagem"],pe=[];let ke=0;console.log("🌐 URL da API:",ge()),console.log("🔑 Token presente:",!!F);const We=ie.map(async Be=>{const It=`${ge()}/api/service-requests/category/${Be}`;console.log(`📡 Buscando solicitações para categoria: ${Be}`),console.log(`🔗 URL completa: ${It}`);try{const at=await fetch(It,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(console.log(`📊 Resposta para ${Be}:`,at.status,at.statusText),at.ok){const rt=await at.json();return console.log(`✅ Solicitações encontradas para ${Be}:`,rt),console.log(`📈 Quantidade de solicitações para ${Be}:`,rt.length),ke+=rt.length,rt}else{const rt=await at.text();return console.error(`❌ Erro na API para ${Be}:`,rt),console.error(`Status: ${at.status}, StatusText: ${at.statusText}`),[]}}catch(at){return console.error(`💥 Erro na requisição para ${Be}:`,at),[]}});if(_e(30),de("Buscando solicitações das categorias..."),(await Promise.all(We)).forEach(Be=>pe.push(...Be)),console.log("📋 Total de solicitações encontradas:",pe.length),pe.length===0){ve(!1),ae({title:"Nenhuma solicitação encontrada",description:"Não há solicitações disponíveis no momento. Tente novamente mais tarde."});return}const Ee=pe.filter(Be=>Be.status==="open").sort((Be,It)=>new Date(It.createdAt).getTime()-new Date(Be.createdAt).getTime());console.log("🔓 Solicitações abertas encontradas:",Ee.length),_e(50),de(`Processando ${Ee.length} solicitações...`),J(Ee);const $e={},Ie=[],De=3;for(let Be=0;Be<Ee.length;Be+=De){const at=Ee.slice(Be,Be+De).map(async lt=>{if(lt.address)try{const ot=await Bn(lt.address);ot?($e[lt.id]=ot,console.log(`✅ Endereço geocodificado: ${lt.address} → [${ot[0]}, ${ot[1]}]`)):(Ie.push(lt.address),console.warn(`❌ Falha no geocoding: ${lt.address}`))}catch(ot){Ie.push(lt.address),console.error(`❌ Erro no geocoding para ${lt.address}:`,ot)}});await Promise.all(at);const rt=50+Math.min((Be+De)/Ee.length*40,40);_e(rt),de(`Processando localizações... ${Math.round((Be+De)/Ee.length*100)}%`),console.log(`🔄 Progresso do geocoding: ${rt.toFixed(1)}%`)}_e(100),de("Finalizando..."),te($e),z(Ie);const Ve=Object.keys($e).length,mt=Ee.length-Ve;console.log(`✅ Processamento concluído: ${Ee.length} solicitações`),console.log(`📍 Com coordenadas: ${Ve}`),console.log(`❓ Sem coordenadas: ${mt}`),Ie.length>0?ae({title:"Solicitações Carregadas!",description:`${Ee.length} solicitações encontradas. ${Ve} com localização precisa. ${Ie.length} com problemas de localização.`,variant:"default"}):ae({title:"Solicitações Carregadas!",description:`${Ee.length} solicitações encontradas. Todos os endereços foram localizados com sucesso!`,variant:"default"})}catch(F){console.error("💥 Erro geral ao buscar solicitações:",F),ae({title:"Erro de Conexão",description:"Erro ao carregar solicitações. Verifique sua conexão e tente novamente.",variant:"destructive"})}finally{ve(!1)}},Ts=()=>{if(console.log("📍 Iniciando geolocalização..."),console.log("📍 Geolocalização suportada:",E),y(!0),_(!0),E){console.log("📍 Geolocalização suportada pelo navegador");const F={enableHighAccuracy:!0,timeout:3e4,maximumAge:0};navigator.geolocation.getCurrentPosition(ie=>{const{latitude:pe,longitude:ke,accuracy:We}=ie.coords;if(console.log("📍 Localização obtida com sucesso:",{latitude:pe,longitude:ke,accuracy:`${We}m de precisão`}),pe&&ke&&!isNaN(pe)&&!isNaN(ke)&&pe>=-90&&pe<=90&&ke>=-180&&ke<=180){console.log("📍 Coordenadas válidas:",[pe,ke]),g([pe,ke]),V(We||0),W(Ee=>Ee+1),y(!1),C(!0);const Ze=We<=10?"Excelente":We<=30?"Muito Boa":We<=50?"Boa":We<=100?"Regular":"Baixa";ae({title:`Localização ${Ze}`,description:`Precisão: ${Math.round(We||0)}m | ${pe.toFixed(6)}, ${ke.toFixed(6)}`}),setTimeout(()=>{W(Ee=>Ee+1)},200),setTimeout(()=>{C(!1)},3e3)}else console.warn("📍 Coordenadas inválidas:",{latitude:pe,longitude:ke}),y(!1),ae({title:"Erro na Localização",description:"Coordenadas inválidas obtidas. Tente novamente.",variant:"destructive"})},ie=>{console.error("📍 Erro na geolocalização:",ie);let pe="Erro desconhecido na geolocalização";switch(ie.code){case ie.PERMISSION_DENIED:pe="Permissão negada. Ative a localização nas configurações do navegador.";break;case ie.POSITION_UNAVAILABLE:pe="Localização indisponível. Verifique sua conexão de internet.";break;case ie.TIMEOUT:pe="Tempo limite excedido. Tente novamente em alguns segundos.";break}console.log(`📍 ${pe}`),y(!1)},F)}else console.log("📍 Geolocalização não suportada pelo navegador"),y(!1)};h.useEffect(()=>{console.log("useEffect triggered - user:",H),H?(console.log("User authenticated, calling fetchServiceRequests"),Za()):console.log("User not authenticated yet")},[H]);const Ha=()=>{f&&(console.log("🗺️ Centralizando mapa na localização do usuário:",f),W(F=>F+1))};return e.jsxs(Js,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-32",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b-2 border-gray-200 dark:border-gray-700 rounded-b-lg px-3 sm:px-4 py-2 sm:py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:H?.profileImage&&!T?e.jsx("img",{src:`${ge()}${H.profileImage}`,alt:`Foto de ${H?.name||"Profissional"}`,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700",onError:F=>{S(!0);const ie=F.target;ie.src.includes("http")||(ie.src=`https://lifebee.onrender.com${H.profileImage}`)},onLoad:()=>{console.log("Imagem carregada com sucesso:",H.profileImage),S(!1)}}):e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-yellow-500 flex items-center justify-center border-2 border-gray-200 dark:border-gray-700",children:e.jsx("span",{className:"text-white text-xs sm:text-sm font-semibold",children:H?.name?H.name.charAt(0).toUpperCase():"P"})})}),e.jsxs("div",{className:"min-w-0 flex-1 overflow-hidden",children:[e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:"Painel do Profissional"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:["Bem-vindo de volta, ",H?.name||"Profissional","!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-emerald-500 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${i?"text-emerald-700 dark:text-emerald-300":"text-gray-600 dark:text-gray-400"}`,children:i?"Disponível":"Indisponível"})]}),e.jsx(Qc,{children:e.jsxs(Yp,{children:[e.jsx(Xp,{asChild:!0,children:e.jsx(ns,{checked:i,onCheckedChange:Fa,className:"h-6 w-11 sm:h-7 sm:w-12 [&>span]:h-5 [&>span]:w-5 sm:[&>span]:h-6 sm:[&>span]:w-6 flex-shrink-0 data-[state=checked]:bg-blue-500 data-[state=checked]:hover:bg-blue-600 data-[state=unchecked]:bg-gray-400 data-[state=unchecked]:hover:bg-gray-500 transition-all duration-300 ease-in-out shadow-md hover:shadow-lg"})}),e.jsx(Yc,{children:e.jsx("p",{children:i?"Clique para ficar indisponível":"Clique para ficar disponível"})})]})})]}),e.jsxs(fv,{open:m,onOpenChange:x,children:[e.jsx(pv,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",className:"relative h-8 sm:h-9 w-8 sm:w-auto px-2.5 sm:px-3 min-w-0 flex-shrink-0 justify-center aspect-square sm:aspect-auto",children:[e.jsx(Na,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),Ne>0]})}),e.jsxs($d,{className:"w-80 p-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-xl backdrop-blur-sm",align:"end",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Notificações"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>x(!1),children:e.jsx(Ia,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:je.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhuma notificação"}):je.map(F=>{const ie=F.icon;return e.jsx("div",{className:`p-4 border-b hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer ${F.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,onClick:()=>ia(F.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full bg-gray-100 dark:bg-gray-700 ${F.color}`,children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`text-sm font-medium ${F.read?"text-gray-900 dark:text-white":"text-blue-900 dark:text-blue-100"}`,children:F.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:F.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.time})]}),!F.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})]})},F.id)})}),je.length>0&&e.jsx("div",{className:"p-3 border-t",children:e.jsx(O,{variant:"ghost",size:"sm",className:"w-full",children:"Ver todas as notificações"})})]})]}),e.jsxs(ov,{children:[e.jsx(lv,{asChild:!0,children:e.jsx(O,{variant:"outline",size:"sm",className:"h-8 sm:h-9 w-8 sm:w-auto px-2 sm:px-3 min-w-0 flex-shrink-0 gap-1 sm:gap-1.5 justify-center aspect-square sm:aspect-auto",children:e.jsx(or,{className:"h-2 w-2 sm:h-3 sm:w-3 flex-shrink-0"})})}),e.jsxs(Fd,{align:"end",className:"w-56 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg z-[100]",children:[e.jsx(Bt,{asChild:!0,children:e.jsxs(ht,{href:"/provider-profile",className:"flex items-center cursor-pointer",children:[e.jsx(bt,{className:"mr-2 h-4 w-4"}),"Meu Perfil"]})}),e.jsx(Bt,{asChild:!0,children:e.jsxs(ht,{href:"/provider-proposals",className:"flex items-center cursor-pointer",children:[e.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Propostas"]})}),e.jsx(Bt,{asChild:!0,children:e.jsxs(ht,{href:"/settings",className:"flex items-center cursor-pointer",children:[e.jsx(wc,{className:"mr-2 h-4 w-4"}),"Configurações"]})}),e.jsx(Bt,{onClick:()=>se($==="dark"?"light":"dark"),children:$==="dark"?e.jsxs(e.Fragment,{children:[e.jsx(Nc,{className:"mr-2 h-4 w-4"}),"Modo Claro"]}):e.jsxs(e.Fragment,{children:[e.jsx(gc,{className:"mr-2 h-4 w-4"}),"Modo Escuro"]})}),e.jsx(zi,{}),e.jsxs(Bt,{children:[e.jsx(Vs,{className:"mr-2 h-4 w-4"}),"Privacidade e Segurança"]}),e.jsxs(Bt,{children:[e.jsx(Na,{className:"mr-2 h-4 w-4"}),"Preferências de Notificação"]}),e.jsxs(Bt,{children:[e.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Métodos de Pagamento"]}),e.jsxs(Bt,{children:[e.jsx(xc,{className:"mr-2 h-4 w-4"}),"Central de Ajuda"]}),e.jsx(zi,{}),e.jsxs(Bt,{onClick:$n,className:"text-red-600 dark:text-red-400 focus:text-red-600 dark:focus:text-red-400",children:[e.jsx(Ca,{className:"mr-2 h-4 w-4"}),"Sair da Conta"]})]})]})]})]})}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 pb-8 sm:pb-12 lg:pb-16 space-y-6 sm:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ganhos do Mês"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",ce.monthlyEarnings.toLocaleString("pt-BR")]})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full",children:e.jsx(Qt,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(rp,{className:"h-3 w-3 text-green-600"}),e.jsxs("span",{className:"text-xs text-green-600",children:["+",ce.monthlyGrowth,"% vs mês anterior"]})]})]})}),e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Serviços Realizados"}),e.jsx("p",{className:"text-2xl font-bold",children:ce.totalServices})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full",children:e.jsx(Lo,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[ce.servicesThisWeek," esta semana"]})]})}),e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avaliação Média"}),e.jsxs("p",{className:"text-2xl font-bold flex items-center gap-1",children:[ce.averageRating,e.jsx(Ct,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"})]})]}),e.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full",children:e.jsx(rr,{className:"h-6 w-6 text-yellow-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Baseado em 47 avaliações"})]})}),e.jsx(oe,{children:e.jsxs(le,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo de Resposta"}),e.jsx("p",{className:"text-2xl font-bold",children:ce.responseTime})]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-full",children:e.jsx(op,{className:"h-6 w-6 text-purple-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Média de resposta"})]})})]}),e.jsxs(zd,{defaultValue:"opportunities",className:"space-y-6 sm:space-y-8",children:[e.jsxs(xr,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto min-h-12 p-1.5 gap-1.5 sm:gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsxs(is,{value:"opportunities",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Oportunidades"}),e.jsx("span",{className:"xs:hidden",children:"Oport."})]}),e.jsxs(is,{value:"performance",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Performance"}),e.jsx("span",{className:"xs:hidden",children:"Perf."})]}),e.jsx(ht,{href:"/agenda-profissional",className:"contents",children:e.jsx("button",{type:"button",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 text-xs sm:text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm hover:text-yellow-600 dark:hover:text-yellow-400 min-h-10 sm:min-h-11 text-center",children:"Agenda"})}),e.jsxs(is,{value:"earnings",className:"text-xs sm:text-sm px-2 sm:px-3 lg:px-4 py-2.5 sm:py-3 whitespace-nowrap min-h-10 sm:min-h-11 text-center font-medium transition-all duration-200 hover:bg-white dark:hover:bg-gray-700 hover:shadow-sm data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:text-yellow-600 dark:data-[state=active]:text-yellow-400 data-[state=active]:shadow-md data-[state=active]:font-semibold",children:[e.jsx("span",{className:"hidden xs:inline",children:"Ganhos"}),e.jsx("span",{className:"xs:hidden",children:"Ganhos"})]})]}),e.jsx(Xt,{value:"opportunities",className:"space-y-8",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs(Oe,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(ze,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-base sm:text-lg lg:text-xl",children:"Serviços Próximos a Você"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Raio:"}),e.jsx(me,{type:"number",value:c,onChange:F=>u(Number(F.target.value)),className:"w-12 sm:w-16 h-7 sm:h-8 text-xs sm:text-sm",min:"1",max:"50"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"km"})]})})]})}),e.jsxs(le,{children:[e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg h-48 sm:h-56 md:h-64 mb-4 sm:mb-6 overflow-hidden relative sticky top-2 sm:top-4 z-10",children:[e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx(O,{size:"sm",variant:"outline",onClick:()=>{console.log("🔘 Botão de localização clicado!"),k&&f?Ha():Ts()},className:"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg",disabled:b,children:b?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}):k?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs hidden sm:inline",children:"Centralizar"})]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs hidden sm:inline",children:"Minha Localização"})]})})}),b?e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Obtendo sua localização..."})]})}):f?e.jsxs(Rv,{center:f||[-23.55052,-46.633308],zoom:15,style:{height:"100%",width:"100%"},children:[f&&e.jsx(Iv,{userLocation:f}),e.jsx(Ov,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f&&e.jsx(Yo,{position:f,icon:Qo.divIcon({className:"custom-div-icon",html:`<div style="background-color: ${P?"#10b981":"#3b82f6"}; width: 24px; height: 24px; border-radius: 50%; border: 4px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.4); animation: pulse 2s infinite; ${P?"border-color: #10b981;":""}"></div>`,iconSize:[24,24],iconAnchor:[12,12]}),children:e.jsx(Av,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("strong",{children:"📍 Sua localização"}),P&&e.jsx("div",{className:"text-green-600 text-xs font-bold",children:"✓ Atualizada"}),e.jsxs("small",{children:["Lat: ",f[0].toFixed(6)]}),e.jsx("br",{}),e.jsxs("small",{children:["Lng: ",f[1].toFixed(6)]}),e.jsx("br",{}),q&&e.jsxs("small",{className:`font-medium ${q<=20?"text-green-600":q<=50?"text-yellow-600":"text-red-600"}`,children:["Precisão: ",Math.round(q),"m"]}),e.jsx("br",{}),e.jsxs("small",{children:["Raio de busca: ",c,"km"]})]})})}),U.map(F=>{const ie=ee[F.id];if(!ie)return null;const pe=Ce===F.id,ke=w?.id===F.id;return e.jsx(Yo,{position:ie,draggable:pe,icon:Qo.divIcon({className:"custom-div-icon",html:`<div style="width: 32px; height: 32px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.3); background-image: url('/service-icon.png'); background-size: cover; background-position: center; background-repeat: no-repeat; ${ke?"animation: pulse 2s infinite;":""}"></div>`,iconSize:[32,32],iconAnchor:[16,16]}),eventHandlers:{click:()=>{pe?G(null):yt(F)},dragend:We=>{if(pe){const Ze=We.target.getLatLng();te(Ee=>({...Ee,[F.id]:[Ze.lat,Ze.lng]})),G(null),ae({title:"Posição Atualizada",description:"A posição da solicitação foi ajustada manualmente."})}}}},F.id)})]},`map-${B}-${f?`${f[0]}-${f[1]}`:"fallback"}`):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ze,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:"Clique para obter sua localização"}),e.jsx(O,{size:"sm",onClick:Ts,disabled:b,className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:b?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-4 w-4 mr-1"}),"Obter Localização"]})})]})}),e.jsx("div",{className:"absolute left-0 right-0 bottom-0 p-2 text-center pointer-events-none",children:e.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 rounded-lg px-3 py-2 shadow-lg",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium mb-1",children:["Mostrando serviços em um raio de ",c,"km"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Sua localização"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("span",{children:["Solicitações (",U.length,")"]})]}),w&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Selecionado"})]})]})]})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg",children:"Solicitações Disponíveis"}),D.length>0&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["⚠️ ",D.length," endereço(s) não localizados"]})]}),e.jsx(O,{variant:"outline",size:"sm",onClick:Za,disabled:ne,className:"h-8 sm:h-9 px-3 sm:px-4 text-xs sm:text-sm",children:ne?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-primary mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Carregando..."}),e.jsx("span",{className:"sm:hidden",children:"..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(sp,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Atualizar"}),e.jsx("span",{className:"sm:hidden",children:"Atualizar"})]})})]}),ne?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsxs("div",{className:"relative mx-auto mb-3 sm:mb-4",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-gray-200 rounded-full"}),e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 sm:w-16 sm:h-16 border-4 border-primary rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+Pe*.36}% 0%, ${50+Pe*.36}% 50%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs sm:text-sm font-medium text-primary",children:[Pe,"%"]})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-2",children:K}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 sm:h-2 max-w-xs mx-auto",children:e.jsx("div",{className:"bg-primary h-1.5 sm:h-2 rounded-full transition-all duration-300",style:{width:`${Pe}%`}})})]}):U.length===0?e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx(Na,{className:"h-6 w-6 sm:h-8 sm:w-8 text-gray-400"})}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-2",children:"Nenhuma solicitação disponível"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4",children:"Novas solicitações aparecerão aqui automaticamente"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:["💡 ",e.jsx("strong",{children:"Dica:"})," Clique nos pins amarelos no mapa para ver detalhes dos serviços!"]})})]}):U.map(F=>e.jsx(oe,{id:`service-${F.id}`,className:"border-l-4 border-l-primary transition-all duration-300",children:e.jsx(le,{className:"p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsxs("h4",{className:"font-semibold text-sm sm:text-base lg:text-lg",children:["Solicitação #",F.id]}),e.jsx(qe,{variant:"outline",className:"text-xs w-fit",children:F.category==="fisioterapeuta"?"Fisioterapeuta":F.category==="acompanhante_hospitalar"?"Acompanhante":F.category==="tecnico_enfermagem"?"Técnico Enfermagem":F.category})]}),e.jsx("p",{className:"font-medium text-primary mb-1 text-sm sm:text-base",children:F.serviceType}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:F.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1 sm:gap-2 text-xs sm:text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(ze,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:F.address})]}),e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(Je,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[new Date(F.scheduledDate).toLocaleDateString("pt-BR")," às ",F.scheduledTime]})]}),e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(kt,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{children:[F.responses||0," respostas"]})]}),ee[F.id]&&f&&e.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[e.jsx("span",{className:"h-3 w-3 flex-shrink-0",children:"📏"}),e.jsxs("span",{children:[ra(f[0],f[1],ee[F.id][0],ee[F.id][1]).toFixed(1)," km"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[F.budget&&e.jsxs("p",{className:"text-sm sm:text-base lg:text-lg font-bold text-green-600",children:["R$ ",parseFloat(F.budget).toFixed(2)]}),e.jsx(O,{size:"sm",className:"w-full sm:w-auto h-9 sm:h-10 text-xs sm:text-sm",onClick:()=>Qe(F.id),children:"Ofertar Serviço"})]})]})})},F.id))]})]})]})}),e.jsx(Xt,{value:"performance",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(qf,{className:"h-5 w-5"}),"Performance Mensal"]})}),e.jsx(le,{children:e.jsx("div",{className:"space-y-4",children:Y.map((F,ie)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:F.month}),e.jsxs("p",{className:"text-sm text-gray-600",children:[F.services," serviços"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",F.earnings.toLocaleString("pt-BR")]}),ie>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[F.earnings>Y[ie-1].earnings?"+":"",((F.earnings-Y[ie-1].earnings)/Y[ie-1].earnings*100).toFixed(1),"%"]})]})]},F.month))})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(ip,{className:"h-5 w-5"}),"Metas e Objetivos"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Meta Mensal: R$ 5.000"}),e.jsx("span",{className:"text-sm text-gray-600",children:"97%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"97%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Serviços no Mês: 25"}),e.jsx("span",{className:"text-sm text-gray-600",children:"92%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"92%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avaliação 4.8+"}),e.jsx("span",{className:"text-sm text-gray-600",children:"100%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:"100%"}})})]})]})})]})]})}),e.jsx(Xt,{value:"schedule",className:"space-y-8",children:e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Próximos Agendamentos"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 border border-orange-200 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"bg-orange-500 text-white rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(gt,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Maria Silva"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Fisioterapia Respiratória"}),e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Hoje às 14:00 • Vila Madalena"})]}),e.jsx(O,{size:"sm",children:"Ver Detalhes"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 text-blue-600 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(Je,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"João Santos"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhamento Hospitalar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Amanhã às 08:00 • Hospital das Clínicas"})]}),e.jsx(O,{variant:"outline",size:"sm",children:"Ver Detalhes"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 text-green-600 rounded-full w-10 h-10 flex items-center justify-center",children:e.jsx(Lo,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:"Ana Costa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Curativo Domiciliar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Quinta-feira às 16:00 • Jardins"})]}),e.jsx(O,{variant:"outline",size:"sm",children:"Ver Detalhes"})]})]})})]})}),e.jsx(Xt,{value:"earnings",className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(oe,{className:"lg:col-span-2",children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Histórico de Ganhos"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Fisioterapia Respiratória"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Maria Silva • Hoje"})]}),e.jsx("p",{className:"font-semibold text-green-600",children:"+R$ 120,00"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Acompanhamento Hospitalar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"João Santos • Ontem"})]}),e.jsx("p",{className:"font-semibold text-green-600",children:"+R$ 200,00"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Curativo Domiciliar"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ana Costa • 2 dias atrás"})]}),e.jsx("p",{className:"font-semibold text-green-600",children:"+R$ 80,00"})]})]})})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(ep,{className:"h-5 w-5"}),"Resumo do Mês"]})}),e.jsx(le,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"R$ 4.850"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total em Maio"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Fisioterapia"}),e.jsx("span",{className:"text-sm font-medium",children:"R$ 2.400"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Acompanhamento"}),e.jsx("span",{className:"text-sm font-medium",children:"R$ 1.600"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Curativos"}),e.jsx("span",{className:"text-sm font-medium",children:"R$ 850"})]})]})]})})]})]})})]})]})]}),e.jsx(Ta,{open:I,onOpenChange:M,children:e.jsxs(Ks,{className:"max-w-2xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-xl",children:[e.jsxs(Qs,{children:[e.jsxs(Ys,{className:"flex items-center gap-2 text-xl",children:[e.jsx(ze,{className:"h-6 w-6 text-yellow-500"}),"Detalhes da Solicitação"]}),e.jsx(ld,{children:"Informações completas sobre o cliente e o serviço solicitado"})]}),w&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[w.clientProfileImage?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${ge()}${w.clientProfileImage}`,alt:w.clientName||"Cliente",className:"w-full h-full object-cover",onError:F=>{const ie=F.target;ie.style.display="none";const pe=ie.parentElement;pe&&(pe.innerHTML=`
                                  <div class="w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                    <span class="text-white text-xl font-bold">
                                      ${w.clientName?w.clientName.charAt(0).toUpperCase():"C"}
                                    </span>
                                  </div>
                                `)}})}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:w.clientName?w.clientName.charAt(0).toUpperCase():"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:w.clientName||"Cliente"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ct,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:w.clientRating||"5.0"}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[w.clientServices||"0"," serviços"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cliente desde ",w.clientSince?new Date(w.clientSince).getFullYear():"2024"]})]})]}),e.jsx("div",{className:"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent hover:bg-primary/80 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:w.status==="open"?"Aberta":w.status==="in_progress"?"Em Andamento":w.status==="completed"?"Concluída":"Normal"})]})}),e.jsxs("div",{className:"p-6 pt-0 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-primary mb-2",children:w.serviceType||"Serviço Solicitado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:w.description||"Descrição do serviço não disponível"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",w.budget?parseFloat(w.budget).toFixed(2):"0,00"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(ze,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Distância"}),e.jsx("p",{className:"font-semibold text-blue-600",children:ee[w.id]&&f?`${ra(f[0],f[1],ee[w.id][0],ee[w.id][1]).toFixed(1)} km`:"0 km"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(gt,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Horário"}),e.jsx("p",{className:"font-semibold text-purple-600",children:w.scheduledTime||"Não definido"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(kt,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respostas"}),e.jsx("p",{className:"font-semibold text-orange-600",children:w.responses||0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-500"}),"Endereço"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:w.address||"Endereço não informado"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-gray-500"}),"Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:w.scheduledDate?new Date(w.scheduledDate).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Data não definida"})]}),w.additionalInfo&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-gray-500"}),"Detalhes Adicionais"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:w.additionalInfo})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(O,{onClick:()=>Qe(w.id),className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Fazer Proposta"]}),e.jsx(O,{variant:"outline",onClick:At,className:"flex-1",children:"Fechar"})]}),e.jsxs(O,{variant:"ghost",size:"sm",onClick:Ss,className:"w-full text-xs",children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),"Limpar Seleção no Mapa"]})]})]})})]})}function Jo(a,[n,i]){return Math.min(i,Math.max(n,a))}var Dv=[" ","Enter","ArrowUp","ArrowDown"],zv=[" ","Enter"],js="Select",[Dn,zn,Fv]=sl(js),[na,Q0]=ks(js,[Fv,Cn]),Fn=Cn(),[$v,hs]=na(js),[Bv,Zv]=na(js),Vd=a=>{const{__scopeSelect:n,children:i,open:o,defaultOpen:c,onOpenChange:u,value:m,defaultValue:x,onValueChange:f,dir:g,name:b,autoComplete:y,disabled:k,required:_,form:E}=a,v=Fn(n),[T,S]=h.useState(null),[w,A]=h.useState(null),[I,M]=h.useState(!1),$=fl(g),[se,re]=qs({prop:o,defaultProp:c??!1,onChange:u,caller:js}),[H,ae]=qs({prop:m,defaultProp:x,onChange:f,caller:js}),B=h.useRef(null),W=T?E||!!T.closest("form"):!0,[P,C]=h.useState(new Set),q=Array.from(P).map(V=>V.props.value).join(";");return e.jsx(ol,{...v,children:e.jsxs($v,{required:_,scope:n,trigger:T,onTriggerChange:S,valueNode:w,onValueNodeChange:A,valueNodeHasChildren:I,onValueNodeHasChildrenChange:M,contentId:Ra(),value:H,onValueChange:ae,open:se,onOpenChange:re,dir:$,triggerPointerDownPosRef:B,disabled:k,children:[e.jsx(Dn.Provider,{scope:n,children:e.jsx(Bv,{scope:a.__scopeSelect,onNativeOptionAdd:h.useCallback(V=>{C(ce=>new Set(ce).add(V))},[]),onNativeOptionRemove:h.useCallback(V=>{C(ce=>{const U=new Set(ce);return U.delete(V),U})},[]),children:i})}),W?e.jsxs(xh,{"aria-hidden":!0,required:_,tabIndex:-1,name:b,autoComplete:y,value:H,onChange:V=>ae(V.target.value),disabled:k,form:E,children:[H===void 0?e.jsx("option",{value:""}):null,Array.from(P)]},q):null]})})};Vd.displayName=js;var Ud="SelectTrigger",Gd=h.forwardRef((a,n)=>{const{__scopeSelect:i,disabled:o=!1,...c}=a,u=Fn(i),m=hs(Ud,i),x=m.disabled||o,f=tt(n,m.onTriggerChange),g=zn(i),b=h.useRef("touch"),[y,k,_]=vh(v=>{const T=g().filter(A=>!A.disabled),S=T.find(A=>A.value===m.value),w=yh(T,v,S);w!==void 0&&m.onValueChange(w.value)}),E=v=>{x||(m.onOpenChange(!0),_()),v&&(m.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(ll,{asChild:!0,...u,children:e.jsx(Le.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:x,"data-disabled":x?"":void 0,"data-placeholder":gh(m.value)?"":void 0,...c,ref:f,onClick:we(c.onClick,v=>{v.currentTarget.focus(),b.current!=="mouse"&&E(v)}),onPointerDown:we(c.onPointerDown,v=>{b.current=v.pointerType;const T=v.target;T.hasPointerCapture(v.pointerId)&&T.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(E(v),v.preventDefault())}),onKeyDown:we(c.onKeyDown,v=>{const T=y.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&k(v.key),!(T&&v.key===" ")&&Dv.includes(v.key)&&(E(),v.preventDefault())})})})});Gd.displayName=Ud;var Kd="SelectValue",Qd=h.forwardRef((a,n)=>{const{__scopeSelect:i,className:o,style:c,children:u,placeholder:m="",...x}=a,f=hs(Kd,i),{onValueNodeHasChildrenChange:g}=f,b=u!==void 0,y=tt(n,f.onValueNodeChange);return Pt(()=>{g(b)},[g,b]),e.jsx(Le.span,{...x,ref:y,style:{pointerEvents:"none"},children:gh(f.value)?e.jsx(e.Fragment,{children:m}):u})});Qd.displayName=Kd;var Hv="SelectIcon",Yd=h.forwardRef((a,n)=>{const{__scopeSelect:i,children:o,...c}=a;return e.jsx(Le.span,{"aria-hidden":!0,...c,ref:n,children:o||"▼"})});Yd.displayName=Hv;var qv="SelectPortal",Xd=a=>e.jsx(al,{asChild:!0,...a});Xd.displayName=qv;var Ns="SelectContent",Jd=h.forwardRef((a,n)=>{const i=hs(Ns,a.__scopeSelect),[o,c]=h.useState();if(Pt(()=>{c(new DocumentFragment)},[]),!i.open){const u=o;return u?kn.createPortal(e.jsx(eh,{scope:a.__scopeSelect,children:e.jsx(Dn.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),u):null}return e.jsx(th,{...a,ref:n})});Jd.displayName=Ns;var Lt=10,[eh,us]=na(Ns),Wv="SelectContentImpl",Vv=km("SelectContent.RemoveScroll"),th=h.forwardRef((a,n)=>{const{__scopeSelect:i,position:o="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:m,side:x,sideOffset:f,align:g,alignOffset:b,arrowPadding:y,collisionBoundary:k,collisionPadding:_,sticky:E,hideWhenDetached:v,avoidCollisions:T,...S}=a,w=hs(Ns,i),[A,I]=h.useState(null),[M,$]=h.useState(null),se=tt(n,te=>I(te)),[re,H]=h.useState(null),[ae,B]=h.useState(null),W=zn(i),[P,C]=h.useState(!1),q=h.useRef(!1);h.useEffect(()=>{if(A)return _m(A)},[A]),jm();const V=h.useCallback(te=>{const[Ce,...G]=W().map(Y=>Y.ref.current),[D]=G.slice(-1),z=document.activeElement;for(const Y of te)if(Y===z||(Y?.scrollIntoView({block:"nearest"}),Y===Ce&&M&&(M.scrollTop=0),Y===D&&M&&(M.scrollTop=M.scrollHeight),Y?.focus(),document.activeElement!==z))return},[W,M]),ce=h.useCallback(()=>V([re,A]),[V,re,A]);h.useEffect(()=>{P&&ce()},[P,ce]);const{onOpenChange:U,triggerPointerDownPosRef:J}=w;h.useEffect(()=>{if(A){let te={x:0,y:0};const Ce=D=>{te={x:Math.abs(Math.round(D.pageX)-(J.current?.x??0)),y:Math.abs(Math.round(D.pageY)-(J.current?.y??0))}},G=D=>{te.x<=10&&te.y<=10?D.preventDefault():A.contains(D.target)||U(!1),document.removeEventListener("pointermove",Ce),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",G,{capture:!0})}}},[A,U,J]),h.useEffect(()=>{const te=()=>U(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[U]);const[ne,ve]=vh(te=>{const Ce=W().filter(z=>!z.disabled),G=Ce.find(z=>z.ref.current===document.activeElement),D=yh(Ce,te,G);D&&setTimeout(()=>D.ref.current.focus())}),Pe=h.useCallback((te,Ce,G)=>{const D=!q.current&&!G;(w.value!==void 0&&w.value===Ce||D)&&(H(te),D&&(q.current=!0))},[w.value]),_e=h.useCallback(()=>A?.focus(),[A]),K=h.useCallback((te,Ce,G)=>{const D=!q.current&&!G;(w.value!==void 0&&w.value===Ce||D)&&B(te)},[w.value]),de=o==="popper"?Bi:sh,ee=de===Bi?{side:x,sideOffset:f,align:g,alignOffset:b,arrowPadding:y,collisionBoundary:k,collisionPadding:_,sticky:E,hideWhenDetached:v,avoidCollisions:T}:{};return e.jsx(eh,{scope:i,content:A,viewport:M,onViewportChange:$,itemRefCallback:Pe,selectedItem:re,onItemLeave:_e,itemTextRefCallback:K,focusSelectedItem:ce,selectedItemText:ae,position:o,isPositioned:P,searchRef:ne,children:e.jsx(Nm,{as:Vv,allowPinchZoom:!0,children:e.jsx(Cm,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:we(c,te=>{w.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:e.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...S,...ee,onPlaced:()=>C(!0),ref:se,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:we(S.onKeyDown,te=>{const Ce=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Ce&&te.key.length===1&&ve(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let D=W().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(te.key)&&(D=D.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const z=te.target,Y=D.indexOf(z);D=D.slice(Y+1)}setTimeout(()=>V(D)),te.preventDefault()}})})})})})})});th.displayName=Wv;var Uv="SelectItemAlignedPosition",sh=h.forwardRef((a,n)=>{const{__scopeSelect:i,onPlaced:o,...c}=a,u=hs(Ns,i),m=us(Ns,i),[x,f]=h.useState(null),[g,b]=h.useState(null),y=tt(n,se=>b(se)),k=zn(i),_=h.useRef(!1),E=h.useRef(!0),{viewport:v,selectedItem:T,selectedItemText:S,focusSelectedItem:w}=m,A=h.useCallback(()=>{if(u.trigger&&u.valueNode&&x&&g&&v&&T&&S){const se=u.trigger.getBoundingClientRect(),re=g.getBoundingClientRect(),H=u.valueNode.getBoundingClientRect(),ae=S.getBoundingClientRect();if(u.dir!=="rtl"){const z=ae.left-re.left,Y=H.left-z,je=se.left-Y,Ne=se.width+je,Qe=Math.max(Ne,re.width),yt=window.innerWidth-Lt,At=Jo(Y,[Lt,Math.max(Lt,yt-Qe)]);x.style.minWidth=Ne+"px",x.style.left=At+"px"}else{const z=re.right-ae.right,Y=window.innerWidth-H.right-z,je=window.innerWidth-se.right-Y,Ne=se.width+je,Qe=Math.max(Ne,re.width),yt=window.innerWidth-Lt,At=Jo(Y,[Lt,Math.max(Lt,yt-Qe)]);x.style.minWidth=Ne+"px",x.style.right=At+"px"}const B=k(),W=window.innerHeight-Lt*2,P=v.scrollHeight,C=window.getComputedStyle(g),q=parseInt(C.borderTopWidth,10),V=parseInt(C.paddingTop,10),ce=parseInt(C.borderBottomWidth,10),U=parseInt(C.paddingBottom,10),J=q+V+P+U+ce,ne=Math.min(T.offsetHeight*5,J),ve=window.getComputedStyle(v),Pe=parseInt(ve.paddingTop,10),_e=parseInt(ve.paddingBottom,10),K=se.top+se.height/2-Lt,de=W-K,ee=T.offsetHeight/2,te=T.offsetTop+ee,Ce=q+V+te,G=J-Ce;if(Ce<=K){const z=B.length>0&&T===B[B.length-1].ref.current;x.style.bottom="0px";const Y=g.clientHeight-v.offsetTop-v.offsetHeight,je=Math.max(de,ee+(z?_e:0)+Y+ce),Ne=Ce+je;x.style.height=Ne+"px"}else{const z=B.length>0&&T===B[0].ref.current;x.style.top="0px";const je=Math.max(K,q+v.offsetTop+(z?Pe:0)+ee)+G;x.style.height=je+"px",v.scrollTop=Ce-K+v.offsetTop}x.style.margin=`${Lt}px 0`,x.style.minHeight=ne+"px",x.style.maxHeight=W+"px",o?.(),requestAnimationFrame(()=>_.current=!0)}},[k,u.trigger,u.valueNode,x,g,v,T,S,u.dir,o]);Pt(()=>A(),[A]);const[I,M]=h.useState();Pt(()=>{g&&M(window.getComputedStyle(g).zIndex)},[g]);const $=h.useCallback(se=>{se&&E.current===!0&&(A(),w?.(),E.current=!1)},[A,w]);return e.jsx(Kv,{scope:i,contentWrapper:x,shouldExpandOnScrollRef:_,onScrollButtonChange:$,children:e.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:e.jsx(Le.div,{...c,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});sh.displayName=Uv;var Gv="SelectPopperPosition",Bi=h.forwardRef((a,n)=>{const{__scopeSelect:i,align:o="start",collisionPadding:c=Lt,...u}=a,m=Fn(i);return e.jsx(il,{...m,...u,ref:n,align:o,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bi.displayName=Gv;var[Kv,wr]=na(Ns,{}),Zi="SelectViewport",ah=h.forwardRef((a,n)=>{const{__scopeSelect:i,nonce:o,...c}=a,u=us(Zi,i),m=wr(Zi,i),x=tt(n,u.onViewportChange),f=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(Dn.Slot,{scope:i,children:e.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:x,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:we(c.onScroll,g=>{const b=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:k}=m;if(k?.current&&y){const _=Math.abs(f.current-b.scrollTop);if(_>0){const E=window.innerHeight-Lt*2,v=parseFloat(y.style.minHeight),T=parseFloat(y.style.height),S=Math.max(v,T);if(S<E){const w=S+_,A=Math.min(E,w),I=w-A;y.style.height=A+"px",y.style.bottom==="0px"&&(b.scrollTop=I>0?I:0,y.style.justifyContent="flex-end")}}}f.current=b.scrollTop})})})]})});ah.displayName=Zi;var nh="SelectGroup",[Qv,Yv]=na(nh),Xv=h.forwardRef((a,n)=>{const{__scopeSelect:i,...o}=a,c=Ra();return e.jsx(Qv,{scope:i,id:c,children:e.jsx(Le.div,{role:"group","aria-labelledby":c,...o,ref:n})})});Xv.displayName=nh;var ih="SelectLabel",rh=h.forwardRef((a,n)=>{const{__scopeSelect:i,...o}=a,c=Yv(ih,i);return e.jsx(Le.div,{id:c.id,...o,ref:n})});rh.displayName=ih;var Nn="SelectItem",[Jv,oh]=na(Nn),lh=h.forwardRef((a,n)=>{const{__scopeSelect:i,value:o,disabled:c=!1,textValue:u,...m}=a,x=hs(Nn,i),f=us(Nn,i),g=x.value===o,[b,y]=h.useState(u??""),[k,_]=h.useState(!1),E=tt(n,w=>f.itemRefCallback?.(w,o,c)),v=Ra(),T=h.useRef("touch"),S=()=>{c||(x.onValueChange(o),x.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Jv,{scope:i,value:o,disabled:c,textId:v,isSelected:g,onItemTextChange:h.useCallback(w=>{y(A=>A||(w?.textContent??"").trim())},[]),children:e.jsx(Dn.ItemSlot,{scope:i,value:o,disabled:c,textValue:b,children:e.jsx(Le.div,{role:"option","aria-labelledby":v,"data-highlighted":k?"":void 0,"aria-selected":g&&k,"data-state":g?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...m,ref:E,onFocus:we(m.onFocus,()=>_(!0)),onBlur:we(m.onBlur,()=>_(!1)),onClick:we(m.onClick,()=>{T.current!=="mouse"&&S()}),onPointerUp:we(m.onPointerUp,()=>{T.current==="mouse"&&S()}),onPointerDown:we(m.onPointerDown,w=>{T.current=w.pointerType}),onPointerMove:we(m.onPointerMove,w=>{T.current=w.pointerType,c?f.onItemLeave?.():T.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(m.onPointerLeave,w=>{w.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:we(m.onKeyDown,w=>{f.searchRef?.current!==""&&w.key===" "||(zv.includes(w.key)&&S(),w.key===" "&&w.preventDefault())})})})})});lh.displayName=Nn;var _a="SelectItemText",ch=h.forwardRef((a,n)=>{const{__scopeSelect:i,className:o,style:c,...u}=a,m=hs(_a,i),x=us(_a,i),f=oh(_a,i),g=Zv(_a,i),[b,y]=h.useState(null),k=tt(n,S=>y(S),f.onItemTextChange,S=>x.itemTextRefCallback?.(S,f.value,f.disabled)),_=b?.textContent,E=h.useMemo(()=>e.jsx("option",{value:f.value,disabled:f.disabled,children:_},f.value),[f.disabled,f.value,_]),{onNativeOptionAdd:v,onNativeOptionRemove:T}=g;return Pt(()=>(v(E),()=>T(E)),[v,T,E]),e.jsxs(e.Fragment,{children:[e.jsx(Le.span,{id:f.textId,...u,ref:k}),f.isSelected&&m.valueNode&&!m.valueNodeHasChildren?kn.createPortal(u.children,m.valueNode):null]})});ch.displayName=_a;var dh="SelectItemIndicator",hh=h.forwardRef((a,n)=>{const{__scopeSelect:i,...o}=a;return oh(dh,i).isSelected?e.jsx(Le.span,{"aria-hidden":!0,...o,ref:n}):null});hh.displayName=dh;var Hi="SelectScrollUpButton",uh=h.forwardRef((a,n)=>{const i=us(Hi,a.__scopeSelect),o=wr(Hi,a.__scopeSelect),[c,u]=h.useState(!1),m=tt(n,o.onScrollButtonChange);return Pt(()=>{if(i.viewport&&i.isPositioned){let x=function(){const g=f.scrollTop>0;u(g)};const f=i.viewport;return x(),f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[i.viewport,i.isPositioned]),c?e.jsx(fh,{...a,ref:m,onAutoScroll:()=>{const{viewport:x,selectedItem:f}=i;x&&f&&(x.scrollTop=x.scrollTop-f.offsetHeight)}}):null});uh.displayName=Hi;var qi="SelectScrollDownButton",mh=h.forwardRef((a,n)=>{const i=us(qi,a.__scopeSelect),o=wr(qi,a.__scopeSelect),[c,u]=h.useState(!1),m=tt(n,o.onScrollButtonChange);return Pt(()=>{if(i.viewport&&i.isPositioned){let x=function(){const g=f.scrollHeight-f.clientHeight,b=Math.ceil(f.scrollTop)<g;u(b)};const f=i.viewport;return x(),f.addEventListener("scroll",x),()=>f.removeEventListener("scroll",x)}},[i.viewport,i.isPositioned]),c?e.jsx(fh,{...a,ref:m,onAutoScroll:()=>{const{viewport:x,selectedItem:f}=i;x&&f&&(x.scrollTop=x.scrollTop+f.offsetHeight)}}):null});mh.displayName=qi;var fh=h.forwardRef((a,n)=>{const{__scopeSelect:i,onAutoScroll:o,...c}=a,u=us("SelectScrollButton",i),m=h.useRef(null),x=zn(i),f=h.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return h.useEffect(()=>()=>f(),[f]),Pt(()=>{x().find(b=>b.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[x]),e.jsx(Le.div,{"aria-hidden":!0,...c,ref:n,style:{flexShrink:0,...c.style},onPointerDown:we(c.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:we(c.onPointerMove,()=>{u.onItemLeave?.(),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:we(c.onPointerLeave,()=>{f()})})}),e0="SelectSeparator",ph=h.forwardRef((a,n)=>{const{__scopeSelect:i,...o}=a;return e.jsx(Le.div,{"aria-hidden":!0,...o,ref:n})});ph.displayName=e0;var Wi="SelectArrow",t0=h.forwardRef((a,n)=>{const{__scopeSelect:i,...o}=a,c=Fn(i),u=hs(Wi,i),m=us(Wi,i);return u.open&&m.position==="popper"?e.jsx(cl,{...c,...o,ref:n}):null});t0.displayName=Wi;var s0="SelectBubbleInput",xh=h.forwardRef(({__scopeSelect:a,value:n,...i},o)=>{const c=h.useRef(null),u=tt(o,c),m=vd(n);return h.useEffect(()=>{const x=c.current;if(!x)return;const f=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(f,"value").set;if(m!==n&&b){const y=new Event("change",{bubbles:!0});b.call(x,n),x.dispatchEvent(y)}},[m,n]),e.jsx(Le.select,{...i,style:{...ql,...i.style},ref:u,defaultValue:n})});xh.displayName=s0;function gh(a){return a===""||a===void 0}function vh(a){const n=Ws(a),i=h.useRef(""),o=h.useRef(0),c=h.useCallback(m=>{const x=i.current+m;n(x),function f(g){i.current=g,window.clearTimeout(o.current),g!==""&&(o.current=window.setTimeout(()=>f(""),1e3))}(x)},[n]),u=h.useCallback(()=>{i.current="",window.clearTimeout(o.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(o.current),[]),[i,c,u]}function yh(a,n,i){const c=n.length>1&&Array.from(n).every(g=>g===n[0])?n[0]:n,u=i?a.indexOf(i):-1;let m=a0(a,Math.max(u,0));c.length===1&&(m=m.filter(g=>g!==i));const f=m.find(g=>g.textValue.toLowerCase().startsWith(c.toLowerCase()));return f!==i?f:void 0}function a0(a,n){return a.map((i,o)=>a[(n+o)%a.length])}var n0=Vd,bh=Gd,i0=Qd,r0=Yd,o0=Xd,wh=Jd,l0=ah,_h=rh,jh=lh,c0=ch,d0=hh,Nh=uh,kh=mh,Ch=ph;const Ma=n0,La=i0,ea=h.forwardRef(({className:a,children:n,...i},o)=>e.jsxs(bh,{ref:o,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[n,e.jsx(r0,{asChild:!0,children:e.jsx(or,{className:"h-4 w-4 opacity-50"})})]}));ea.displayName=bh.displayName;const Sh=h.forwardRef(({className:a,...n},i)=>e.jsx(Nh,{ref:i,className:ue("flex cursor-default items-center justify-center py-1",a),...n,children:e.jsx(Gf,{className:"h-4 w-4"})}));Sh.displayName=Nh.displayName;const Ph=h.forwardRef(({className:a,...n},i)=>e.jsx(kh,{ref:i,className:ue("flex cursor-default items-center justify-center py-1",a),...n,children:e.jsx(or,{className:"h-4 w-4"})}));Ph.displayName=kh.displayName;const ta=h.forwardRef(({className:a,children:n,position:i="popper",...o},c)=>e.jsx(o0,{children:e.jsxs(wh,{ref:c,className:ue("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...o,children:[e.jsx(Sh,{}),e.jsx(l0,{className:ue("p-1",i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(Ph,{})]})}));ta.displayName=wh.displayName;const h0=h.forwardRef(({className:a,...n},i)=>e.jsx(_h,{ref:i,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...n}));h0.displayName=_h.displayName;const pt=h.forwardRef(({className:a,children:n,...i},o)=>e.jsxs(jh,{ref:o,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(d0,{children:e.jsx(Oa,{className:"h-4 w-4"})})}),e.jsx(c0,{children:n})]}));pt.displayName=jh.displayName;const u0=h.forwardRef(({className:a,...n},i)=>e.jsx(Ch,{ref:i,className:ue("-mx-1 my-1 h-px bg-muted",a),...n}));u0.displayName=Ch.displayName;const Ni={fisioterapeuta:{name:"Fisioterapeuta",icon:"🏃‍♂️",subServices:[{id:"terapias_especializadas",name:"Terapias Especializadas"}]},acompanhante_hospitalar:{name:"Acompanhante Hospitalar",icon:"🏥",subServices:[{id:"acompanhamento_hospitalar",name:"Acompanhamento Hospitalar"},{id:"companhia_apoio_emocional",name:"Companhia e Apoio Emocional"}]},tecnico_enfermagem:{name:"Técnico em Enfermagem",icon:"💉",subServices:[{id:"curativos_medicacao",name:"Curativos e Medicação"},{id:"preparacao_refeicoes",name:"Preparação de Refeições"},{id:"compras_transporte",name:"Compras e Transporte"},{id:"lavanderia_limpeza",name:"Lavanderia e Limpeza"}]}};function m0({onComplete:a}){const[n,i]=h.useState(1),[o,c]=h.useState({name:"",email:"",phone:"",address:"",category:"",subService:"",specialization:"",description:"",experience:"",certifications:"",hourlyRate:"",profileImage:null,documents:[]}),u=4,m=()=>{n<u?i(n+1):a()},x=()=>{n>1&&i(n-1)},f=(b,y)=>{c(k=>({...k,[b]:y}))},g=()=>{switch(n){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Informações Pessoais"}),e.jsx("p",{className:"text-gray-600",children:"Vamos começar com seus dados básicos"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"text",placeholder:"Nome completo",value:o.name,onChange:b=>f("name",b.target.value),className:"pl-10 py-3",required:!0})]}),e.jsxs("div",{className:"relative",children:[e.jsx(bn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"email",placeholder:"E-mail profissional",value:o.email,onChange:b=>f("email",b.target.value),className:"pl-10 py-3",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"tel",placeholder:"(11) 99999-9999",value:o.phone,onChange:b=>f("phone",b.target.value),className:"pl-10 py-3",required:!0})]}),o.phone&&o.phone.length>=10&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(it,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:"Telefone válido"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ze,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"text",placeholder:"Cidade, Estado",value:o.address,onChange:b=>f("address",b.target.value),className:"pl-10 py-3",required:!0})]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Área de Atuação"}),e.jsx("p",{className:"text-gray-600",children:"Selecione sua especialidade profissional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Categoria Principal"}),e.jsxs(Ma,{value:o.category,onValueChange:b=>f("category",b),children:[e.jsx(ea,{children:e.jsx(La,{placeholder:"Selecione sua área de atuação"})}),e.jsx(ta,{children:Object.entries(Ni).map(([b,y])=>e.jsxs(pt,{value:b,children:[y.icon," ",y.name]},b))})]})]}),o.category&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Serviço Específico"}),e.jsxs(Ma,{value:o.subService,onValueChange:b=>f("subService",b),children:[e.jsx(ea,{children:e.jsx(La,{placeholder:"Selecione o serviço específico"})}),e.jsx(ta,{children:Ni[o.category]?.subServices.map(b=>e.jsx(pt,{value:b.id,children:b.name},b.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Especialização"}),e.jsx(me,{placeholder:"Ex: Fisioterapia respiratória, Reabilitação neurológica...",value:o.specialization,onChange:b=>f("specialization",b.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Descrição dos Serviços"}),e.jsx(St,{placeholder:"Descreva em detalhes como você realiza seus serviços, metodologia e diferenciais...",rows:4,value:o.description,onChange:b=>f("description",b.target.value)})]})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Experiência e Qualificações"}),e.jsx("p",{className:"text-gray-600",children:"Conte-nos sobre sua experiência profissional"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{placeholder:"Ex: 5 anos",value:o.experience,onChange:b=>f("experience",b.target.value),className:"pl-10"}),e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tempo de Experiência"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx(me,{type:"number",placeholder:"80.00",value:o.hourlyRate,onChange:b=>f("hourlyRate",b.target.value),className:"pl-10"}),e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Valor por Hora (R$)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),"Certificações e Qualificações"]}),e.jsx(St,{placeholder:"Liste suas certificações, cursos e qualificações relevantes...",rows:4,value:o.certifications,onChange:b=>f("certifications",b.target.value)})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Documentação"}),e.jsx("p",{className:"text-gray-600",children:"Adicione sua foto e documentos profissionais"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(Cs,{className:"h-4 w-4"}),"Foto de Perfil"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Mo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para adicionar uma foto profissional"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG até 2MB"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium mb-2 block flex items-center gap-2",children:[e.jsx(pc,{className:"h-4 w-4"}),"Documentos Profissionais"]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(Mo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Adicione diplomas, certificados e registros profissionais"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, JPG, PNG até 5MB cada"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(it,{className:"h-5 w-5 text-blue-600"}),"Revisão dos Dados"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Categoria:"})," ",o.category&&Ni[o.category]?.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Especialização:"})," ",o.specialization]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Experiência:"})," ",o.experience]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Valor/Hora:"})," R$ ",o.hourlyRate]})]})]})]})]});default:return null}};return e.jsx(Js,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Cadastro de Profissional"})]})}),e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e.jsx(Da,{size:40})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Cadastro do Profissional"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Junte-se à nossa rede de profissionais de saúde"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-white/80 text-sm",children:["Etapa ",n," de ",u]}),e.jsxs("span",{className:"text-white/80 text-sm",children:[Math.round(n/u*100),"%"]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${n/u*100}%`}})})]}),e.jsx(oe,{className:"bg-white/95 backdrop-blur-sm",children:e.jsxs(le,{className:"p-6",children:[g(),e.jsxs("div",{className:"flex gap-3 mt-8",children:[n>1&&e.jsx(O,{variant:"outline",onClick:x,className:"flex-1",children:"Voltar"}),e.jsxs(O,{onClick:m,className:"flex-1",children:[n===u?"Finalizar Cadastro":"Continuar",e.jsx(hc,{className:"ml-2 h-4 w-4"})]})]})]})})]})]})})}function f0(){const{toast:a}=st(),[n,i]=h.useState(""),[o,c]=h.useState("all"),[u,m]=h.useState([]),[x,f]=h.useState(!0),[g,b]=h.useState(null);h.useEffect(()=>{y()},[]);const y=async()=>{try{f(!0);const I=await fetch(`${ge()}/api/provider/orders`,{credentials:"include",headers:{"Content-Type":"application/json"}});if(I.ok){const M=await I.json();m(M)}else console.error("Erro ao buscar pedidos:",I.statusText),a({title:"Erro",description:"Não foi possível carregar os pedidos",variant:"destructive"})}catch(I){console.error("Erro ao buscar pedidos:",I),a({title:"Erro",description:"Erro de conexão ao carregar pedidos",variant:"destructive"})}finally{f(!1)}},k=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},_=I=>{switch(I){case"pending":return"Pendente";case"accepted":return"Aceito";case"rejected":return"Rejeitado";case"completed":return"Concluído";default:return"Desconhecido"}},E=I=>{switch(I){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},v=I=>{switch(I){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return"Desconhecida"}},T=u.filter(I=>{const M=I.clientName.toLowerCase().includes(n.toLowerCase())||I.serviceType.toLowerCase().includes(n.toLowerCase()),$=o==="all"||I.status===o;return M&&$}),S=async I=>{try{b(I);const M=await fetch(`${ge()}/api/provider/orders/${I}/accept`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(M.ok)a({title:"Sucesso",description:"Pedido aceito com sucesso!"}),y();else{const $=await M.json();a({title:"Erro",description:$.message||"Erro ao aceitar pedido",variant:"destructive"})}}catch(M){console.error("Erro ao aceitar pedido:",M),a({title:"Erro",description:"Erro de conexão ao aceitar pedido",variant:"destructive"})}finally{b(null)}},w=async I=>{try{b(I);const M=await fetch(`${ge()}/api/provider/orders/${I}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(M.ok)a({title:"Sucesso",description:"Pedido rejeitado com sucesso!"}),y();else{const $=await M.json();a({title:"Erro",description:$.message||"Erro ao rejeitar pedido",variant:"destructive"})}}catch(M){console.error("Erro ao rejeitar pedido:",M),a({title:"Erro",description:"Erro de conexão ao rejeitar pedido",variant:"destructive"})}finally{b(null)}},A=I=>{console.log(`Entrando em contato com cliente do pedido ${I}`)};return e.jsx(Js,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"lg:hidden",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Meus Pedidos"})]})}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Buscar pedidos...",value:n,onChange:I=>i(I.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[e.jsx(O,{variant:o==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),children:"Todos"}),e.jsx(O,{variant:o==="pending"?"default":"outline",size:"sm",onClick:()=>c("pending"),children:"Pendentes"}),e.jsx(O,{variant:o==="accepted"?"default":"outline",size:"sm",onClick:()=>c("accepted"),children:"Aceitos"}),e.jsx(O,{variant:o==="completed"?"default":"outline",size:"sm",onClick:()=>c("completed"),children:"Concluídos"})]})]}),e.jsx("div",{className:"space-y-4",children:x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xt,{className:"h-8 w-8 text-gray-400 animate-spin"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Carregando pedidos..."})]}):T.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(_s,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Nenhum pedido encontrado"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:n?"Tente ajustar sua busca":"Você ainda não tem pedidos"})]}):T.map(I=>e.jsxs(oe,{className:"overflow-hidden",children:[e.jsx(Te,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:I.clientName}),e.jsx(qe,{className:k(I.status),children:_(I.status)})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.serviceType})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",I.budget]}),e.jsx("p",{className:"text-xs text-gray-500",children:I.timePosted})]})]})}),e.jsxs(le,{className:"pt-0",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:I.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{children:I.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(yc,{className:"h-4 w-4"}),e.jsxs("span",{children:[I.distance,"km"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gt,{className:"h-4 w-4"}),e.jsxs("span",{children:[I.responses," respostas"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(qe,{className:E(I.urgency),children:v(I.urgency)}),I.clientRating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm",children:I.clientRating})]})]}),e.jsxs("div",{className:"flex gap-2",children:[I.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(O,{size:"sm",className:"flex-1",onClick:()=>S(I.id),disabled:g===I.id,children:[g===I.id?e.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(it,{className:"h-4 w-4 mr-2"}),"Aceitar"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>w(I.id),disabled:g===I.id,children:[g===I.id?e.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Us,{className:"h-4 w-4 mr-2"}),"Rejeitar"]})]}),I.status==="accepted"&&e.jsxs(O,{size:"sm",className:"flex-1",onClick:()=>A(I.id),children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Entrar em Contato"]}),I.clientPhone&&e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Ligar"]})]}),I.scheduledDate&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vf,{className:"h-4 w-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:["Agendado para: ",I.scheduledDate]})]})})]})]},I.id))})]})]})})}function p0(){const[,a]=ut(),{user:n,logout:i}=Tt(),{toast:o}=st(),[c,u]=h.useState(!0),[m,x]=h.useState(!1),[f,g]=h.useState(!1),[b,y]=h.useState(!1),k=h.useRef(null),[_,E]=h.useState(null),[v,T]=h.useState(null),[S,w]=h.useState({name:"",email:"",phone:"",specialization:"",category:"",subCategory:"",description:"",experience:"",certifications:"",hourlyRate:"",location:"",available:!0});h.useEffect(()=>{n?.userType==="provider"&&A()},[n]);const A=async()=>{try{u(!0);const B=localStorage.getItem("token"),W={"Content-Type":"application/json"};B&&(W.Authorization=`Bearer ${B}`);const P=await fetch(`${ge()}/api/provider/profile`,{credentials:"include",headers:W});if(P.ok){const q=await P.json();E(q),w({name:q.name||"",email:q.email||"",phone:q.phone||"",specialization:q.specialization||"",category:q.category||"",subCategory:q.subCategory||"",description:q.description||"",experience:q.experience||"",certifications:q.certifications||"",hourlyRate:q.hourlyRate||"",location:q.location||"",available:q.available||!0})}const C=await fetch(`${ge()}/api/user`,{credentials:"include",headers:W});if(C.ok){const q=await C.json();T(q)}}catch(B){console.error("Erro ao carregar dados do perfil:",B),o({title:"Erro",description:"Não foi possível carregar os dados do perfil",variant:"destructive"})}finally{u(!1)}},I=async()=>{try{x(!0);const B=localStorage.getItem("token"),W={"Content-Type":"application/json"};B&&(W.Authorization=`Bearer ${B}`);const P=await fetch(`${ge()}/api/provider/profile`,{method:"PUT",credentials:"include",headers:W,body:JSON.stringify(S)});if(P.ok)o({title:"Sucesso",description:"Perfil atualizado com sucesso!"}),g(!1),A();else{const C=await P.json();o({title:"Erro",description:C.message||"Erro ao atualizar perfil",variant:"destructive"})}}catch(B){console.error("Erro ao salvar perfil:",B),o({title:"Erro",description:"Erro de conexão ao salvar perfil",variant:"destructive"})}finally{x(!1)}},M=()=>{g(!1),_&&v&&w({name:_.name||"",email:v.email||"",phone:v.phone||"",specialization:_.specialization||"",category:_.category||"",subCategory:_.subCategory||"",description:_.description||"",experience:_.experience||"",certifications:_.certifications||"",hourlyRate:_.hourlyRate||"",location:_.location||"",available:_.available||!0})},$=async B=>{const W=B.target.files?.[0];if(!W)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(W.type)){o({title:"Erro",description:"Apenas imagens são permitidas (JPEG, PNG, GIF, WebP)",variant:"destructive"});return}if(W.size>5*1024*1024){o({title:"Erro",description:"A imagem deve ter no máximo 5MB",variant:"destructive"});return}try{y(!0);const C=localStorage.getItem("token"),q=new FormData;q.append("profileImage",W);const V=await fetch(`${ge()}/api/provider/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${C}`},body:q});if(V.ok){const ce=await V.json();_&&E({..._,imageUrl:ce.imageUrl}),o({title:"Sucesso",description:"Imagem de perfil atualizada com sucesso!"})}else{const ce=await V.json();o({title:"Erro",description:ce.message||"Erro ao fazer upload da imagem",variant:"destructive"})}}catch(C){console.error("Erro ao fazer upload da imagem:",C),o({title:"Erro",description:"Erro de conexão ao fazer upload da imagem",variant:"destructive"})}finally{y(!1)}},se=()=>{k.current?.click()},re=()=>{i(),a("/login"),o({title:"Logout realizado",description:"Você foi desconectado com sucesso."})},H=B=>({fisioterapeuta:"Fisioterapeuta",acompanhante_hospitalar:"Acompanhante Hospitalar",tecnico_enfermagem:"Técnico de Enfermagem"})[B]||B,ae=B=>({companhia_apoio_emocional:"Companhia e Apoio Emocional",preparacao_refeicoes:"Preparação de Refeições",compras_transporte:"Compras e Transporte",lavanderia_limpeza:"Lavanderia e Limpeza",curativos_medicacao:"Curativos e Medicação",terapias_especializadas:"Terapias Especializadas",acompanhamento_hospitalar:"Acompanhamento Hospitalar"})[B]||B;return c?e.jsx(Js,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando perfil..."})]})})}):e.jsx(Js,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:e.jsxs("div",{className:"w-full max-w-sm lg:max-w-none mx-auto lg:mx-0 relative px-3 sm:px-4 lg:px-8 py-3 sm:py-4 lg:py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>a("/provider-dashboard"),className:"p-2",children:e.jsx(et,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Meu Perfil"})]}),f?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:M,variant:"outline",size:"sm",children:[e.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),e.jsx(O,{onClick:I,size:"sm",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Salvando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wn,{className:"h-4 w-4 mr-2"}),"Salvar"]})})]}):e.jsxs(O,{onClick:()=>g(!0),size:"sm",children:[e.jsx(jc,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),_&&e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"mb-6",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsxs(os,{className:"w-24 h-24 mx-auto border-4 border-yellow-500",children:[e.jsx(ls,{src:_.imageUrl?`${ge()}${_.imageUrl}`:void 0,alt:_.name}),e.jsx(cs,{className:"bg-yellow-500 text-white text-2xl font-bold",children:_.name?.charAt(0)||"P"})]}),e.jsx(O,{size:"sm",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full w-8 h-8 p-0 bg-white border-2 border-gray-200 hover:bg-gray-50",onClick:se,disabled:b,children:b?e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full"}):e.jsx(Cs,{className:"h-4 w-4"})})]}),e.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:$,className:"hidden"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:f?e.jsx(me,{value:S.name,onChange:B=>w(W=>({...W,name:B.target.value})),className:"text-center text-2xl font-bold"}):_.name}),e.jsx("p",{className:"text-lg text-primary font-semibold mb-2",children:f?e.jsx(me,{value:S.specialization,onChange:B=>w(W=>({...W,specialization:B.target.value})),className:"text-center text-lg"}):_.specialization}),e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:_.totalReviews}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avaliações"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:_.rating}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nota"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R$ ",parseFloat(_.hourlyRate||"0").toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hora"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(qe,{variant:_.available?"secondary":"outline",className:`${_.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:_.available?e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),"Disponível"]}):e.jsxs(e.Fragment,{children:[e.jsx(_s,{className:"h-3 w-3 mr-1"}),"Indisponível"]})})})]})})}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),"Informações Profissionais"]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Nt,{children:"Categoria"}),f?e.jsxs(Ma,{value:S.category,onValueChange:B=>w(W=>({...W,category:B})),children:[e.jsx(ea,{children:e.jsx(La,{placeholder:"Selecione a categoria"})}),e.jsxs(ta,{children:[e.jsx(pt,{value:"fisioterapeuta",children:"Fisioterapeuta"}),e.jsx(pt,{value:"acompanhante_hospitalar",children:"Acompanhante Hospitalar"}),e.jsx(pt,{value:"tecnico_enfermagem",children:"Técnico de Enfermagem"})]})]}):e.jsx("p",{className:"font-medium",children:H(_.category)})]}),e.jsxs("div",{children:[e.jsx(Nt,{children:"Subcategoria"}),f?e.jsxs(Ma,{value:S.subCategory,onValueChange:B=>w(W=>({...W,subCategory:B})),children:[e.jsx(ea,{children:e.jsx(La,{placeholder:"Selecione a subcategoria"})}),e.jsxs(ta,{children:[e.jsx(pt,{value:"companhia_apoio_emocional",children:"Companhia e Apoio Emocional"}),e.jsx(pt,{value:"preparacao_refeicoes",children:"Preparação de Refeições"}),e.jsx(pt,{value:"compras_transporte",children:"Compras e Transporte"}),e.jsx(pt,{value:"lavanderia_limpeza",children:"Lavanderia e Limpeza"}),e.jsx(pt,{value:"curativos_medicacao",children:"Curativos e Medicação"}),e.jsx(pt,{value:"terapias_especializadas",children:"Terapias Especializadas"}),e.jsx(pt,{value:"acompanhamento_hospitalar",children:"Acompanhamento Hospitalar"})]})]}):e.jsx("p",{className:"font-medium",children:ae(_.subCategory)})]})]}),e.jsxs("div",{children:[e.jsx(Nt,{children:"Descrição"}),f?e.jsx(St,{value:S.description,onChange:B=>w(W=>({...W,description:B.target.value})),placeholder:"Descreva seus serviços...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:_.description})]}),e.jsxs("div",{children:[e.jsx(Nt,{children:"Experiência"}),f?e.jsx(St,{value:S.experience,onChange:B=>w(W=>({...W,experience:B.target.value})),placeholder:"Descreva sua experiência...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:_.experience||"Não informado"})]}),e.jsxs("div",{children:[e.jsx(Nt,{children:"Certificações"}),f?e.jsx(St,{value:S.certifications,onChange:B=>w(W=>({...W,certifications:B.target.value})),placeholder:"Liste suas certificações...",rows:3}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:_.certifications||"Não informado"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Nt,{children:"Valor por Hora (R$)"}),f?e.jsx(me,{type:"number",value:S.hourlyRate,onChange:B=>w(W=>({...W,hourlyRate:B.target.value})),placeholder:"0.00"}):e.jsxs("p",{className:"font-medium",children:["R$ ",parseFloat(_.hourlyRate||"0").toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(Nt,{children:"Localização"}),f?e.jsx(me,{value:S.location,onChange:B=>w(W=>({...W,location:B.target.value})),placeholder:"Sua localização"}):e.jsx("p",{className:"font-medium",children:_.location||"Não informado"})]})]})]})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(bn,{className:"h-5 w-5"}),"Informações de Contato"]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bn,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),f?e.jsx(me,{type:"email",value:S.email,onChange:B=>w(W=>({...W,email:B.target.value}))}):e.jsx("p",{className:"font-medium",children:v?.email||"Não informado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wt,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Telefone"}),f?e.jsx(me,{value:S.phone,onChange:B=>w(W=>({...W,phone:B.target.value}))}):e.jsx("p",{className:"font-medium",children:v?.phone||"Não informado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ze,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Endereço"}),e.jsx("p",{className:"font-medium",children:_.location||"Não informado"})]})]})]})]}),e.jsx(oe,{className:"mb-6 border-green-100 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Vs,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v?.isVerified?"Conta Verificada":"Conta Pendente"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v?.isVerified?"Sua identidade foi confirmada com sucesso":"Aguardando verificação da identidade"})]})]}),e.jsx(qe,{className:`${v?.isVerified?"bg-green-500 text-white":"bg-yellow-500 text-white"} shadow-md hover:opacity-90 transition-opacity`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:v?.isVerified?"✓":"⏳"}),e.jsx("span",{children:v?.isVerified?"Verificado":"Pendente"})]})})]})})}),e.jsx(oe,{className:"mb-6 border-red-100 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Ca,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Sair da Conta"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Encerre sua sessão e saia do aplicativo"})]})]}),e.jsxs(O,{onClick:re,variant:"destructive",className:"bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Sair"]})]})})})]})]})})})}function x0(){const{user:a}=Tt(),{toast:n}=st(),[,i]=ut(),[o,c]=h.useState([]),[u,m]=h.useState(!0),[x,f]=h.useState(""),[g,b]=h.useState("all");h.useEffect(()=>{(async()=>{if(a)try{m(!0);const A=await fetch(`${ge()}/api/professionals/${a.id}/proposals`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(A.ok){const I=await A.json();c(I)}else console.error("Erro ao buscar propostas:",A.status),n({title:"Erro",description:"Não foi possível carregar suas propostas",variant:"destructive"})}catch(A){console.error("Erro ao buscar propostas:",A),n({title:"Erro",description:"Erro ao carregar propostas",variant:"destructive"})}finally{m(!1)}})()},[a,n]);const y=o.filter(w=>{const A=w.serviceRequest.serviceType.toLowerCase().includes(x.toLowerCase())||w.serviceRequest.clientName.toLowerCase().includes(x.toLowerCase())||w.serviceRequest.description.toLowerCase().includes(x.toLowerCase()),I=g==="all"||w.status===g;return A&&I}),k=w=>{switch(w){case"accepted":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},_=w=>{switch(w){case"accepted":return"Aceita";case"rejected":return"Rejeitada";case"completed":return"Concluída";case"pending":return"Pendente";default:return"Desconhecido"}},E=w=>{switch(w){case"accepted":return e.jsx(it,{className:"h-4 w-4"});case"rejected":return e.jsx(Us,{className:"h-4 w-4"});case"completed":return e.jsx(it,{className:"h-4 w-4"});case"pending":return e.jsx(gt,{className:"h-4 w-4"});default:return e.jsx(gt,{className:"h-4 w-4"})}},v=w=>new Date(w).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(w)),S=async w=>{try{console.log("🚀 Iniciando openChat para proposta:",w.id),console.log("📋 Dados da proposta:",{clientId:w.serviceRequest.clientId,serviceRequestId:w.serviceRequestId,serviceType:w.serviceRequest.serviceType,clientName:w.serviceRequest.clientName});const A=localStorage.getItem("token");if(!A){console.error("❌ Token não encontrado"),n({title:"Erro",description:"Token de autenticação não encontrado. Faça login novamente.",variant:"destructive"});return}n({title:"Iniciando conversa...",description:"Aguarde um momento..."});const I={clientId:w.serviceRequest.clientId,serviceRequestId:w.serviceRequestId,initialMessage:`Olá! Gostaria de conversar sobre o serviço "${w.serviceRequest.serviceType}". Minha proposta: R$ ${w.proposedPrice} - Tempo estimado: ${w.estimatedTime}. ${w.message?`Observações: ${w.message}`:""}`};console.log("📤 Enviando requisição para /api/conversations"),console.log("📤 Request body:",I),console.log("📤 API URL:",ge());const M=await fetch(`${ge()}/api/conversations`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify(I)});if(console.log("📥 Response status:",M.status),console.log("📥 Response headers:",Object.fromEntries(M.headers.entries())),M.ok){const $=await M.json();console.log("✅ Resposta bem-sucedida:",$),n({title:"Conversa iniciada!",description:`Mensagem enviada para ${w.serviceRequest.clientName}`}),console.log("🧭 Navegando para:",`/messages/${$.id}`),i(`/messages/${$.id}`)}else{const $=await M.json();console.error("❌ Erro na resposta:",$),console.error("❌ Status:",M.status),n({title:"Erro",description:$.message||"Erro ao iniciar conversa",variant:"destructive"})}}catch(A){console.error("❌ Erro ao abrir chat:",A),n({title:"Erro",description:"Erro ao abrir chat. Tente novamente.",variant:"destructive"})}};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-yellow-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas propostas..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{href:"/provider-dashboard",children:e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(et,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Minhas Propostas"})]})}),e.jsxs("div",{className:"p-4 space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(me,{placeholder:"Buscar por serviço, cliente ou descrição...",value:x,onChange:w=>f(w.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:g==="all"?"default":"outline",size:"sm",onClick:()=>b("all"),children:"Todas"}),e.jsx(O,{variant:g==="pending"?"default":"outline",size:"sm",onClick:()=>b("pending"),children:"Pendentes"}),e.jsx(O,{variant:g==="accepted"?"default":"outline",size:"sm",onClick:()=>b("accepted"),children:"Aceitas"}),e.jsx(O,{variant:g==="rejected"?"default":"outline",size:"sm",onClick:()=>b("rejected"),children:"Rejeitadas"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total de Propostas"}),e.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),e.jsx(Yt,{className:"h-6 w-6 text-blue-600"})]})})}),e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.filter(w=>w.status==="pending").length})]}),e.jsx(gt,{className:"h-6 w-6 text-yellow-600"})]})})}),e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aceitas"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.filter(w=>w.status==="accepted").length})]}),e.jsx(it,{className:"h-6 w-6 text-green-600"})]})})}),e.jsx(oe,{children:e.jsx(le,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Concluídas"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.filter(w=>w.status==="completed").length})]}),e.jsx(it,{className:"h-6 w-6 text-blue-600"})]})})})]}),e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsx(oe,{children:e.jsxs(le,{className:"p-8 text-center",children:[e.jsx(Yt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:x||g!=="all"?"Nenhuma proposta encontrada":"Nenhuma proposta ainda"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x||g!=="all"?"Tente ajustar os filtros de busca":"Você ainda não fez nenhuma proposta. Explore os serviços disponíveis!"}),!x&&g==="all"&&e.jsx(ht,{href:"/provider-dashboard",children:e.jsx(O,{className:"mt-4",children:"Explorar Serviços"})})]})}):y.map(w=>e.jsx(oe,{className:"hover:shadow-md transition-shadow",children:e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:w.serviceRequest.serviceType}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:w.serviceRequest.description})]}),e.jsx(qe,{className:k(w.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[E(w.status),_(w.status)]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[w.serviceRequest.clientProfileImage?e.jsx("img",{src:`${ge()}${w.serviceRequest.clientProfileImage}`,alt:w.serviceRequest.clientName,className:"w-10 h-10 rounded-full object-cover",onError:A=>{const I=A.target;I.style.display="none";const M=I.parentElement;M&&(M.innerHTML=`
                                  <div class="w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm font-bold">
                                      ${w.serviceRequest.clientName.charAt(0).toUpperCase()}
                                    </span>
                                  </div>
                                `)}}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:w.serviceRequest.clientName.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:w.serviceRequest.clientName}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Cliente desde ",new Date(w.serviceRequest.clientCreatedAt).getFullYear()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sua Proposta"}),e.jsx("p",{className:"font-semibold text-green-600",children:T(w.proposedPrice)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento Cliente"}),e.jsx("p",{className:"font-semibold text-blue-600",children:T(w.serviceRequest.budget)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(gt,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tempo Estimado"}),e.jsx("p",{className:"font-semibold text-purple-600",children:w.estimatedTime})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Je,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Agendada"}),e.jsx("p",{className:"font-semibold text-orange-600",children:w.serviceRequest.scheduledDate?new Date(w.serviceRequest.scheduledDate).toLocaleDateString("pt-BR"):"Não definida"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{children:w.serviceRequest.address})]}),w.message&&e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Sua mensagem:"})," ",w.message]})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Proposta enviada em ",v(w.createdAt)]})]}),e.jsx("div",{className:"flex flex-col gap-2 lg:flex-shrink-0",children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>S(w),children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Chat com Cliente"]})})]})})},w.id))})]})]})}function g0(){const n=Fc()?.id;Tt();const{toast:i}=st(),[o,c]=h.useState(""),[u,m]=h.useState(""),[x,f]=h.useState(""),[g,b]=h.useState(!1),[y,k]=h.useState(!0),[_,E]=h.useState(null),[v,T]=h.useState(null),[S,w]=h.useState(!1),[A,I]=h.useState([]),[M,$]=h.useState(!1),[se,re]=h.useState(!1),[H,ae]=h.useState(""),[B,W]=h.useState(!1),[P,C]=h.useState(!1),[q,V]=h.useState(""),[ce,U]=h.useState(!1),[J,ne]=h.useState({id:parseInt(n||"0"),clientName:"",clientAvatar:"",clientProfileImage:"",serviceType:"",location:"",distance:0,urgency:"low",budget:0,description:"",timePosted:"",responses:0,preferredTime:"",scheduledTime:"",clientRating:0,previousServices:0,additionalDetails:"",additionalInfo:"",address:"",scheduledDate:"",status:"open",clientCreatedAt:""}),ve=(G,D,z,Y)=>{const Ne=(z-G)*Math.PI/180,Qe=(Y-D)*Math.PI/180,yt=Math.sin(Ne/2)*Math.sin(Ne/2)+Math.cos(G*Math.PI/180)*Math.cos(z*Math.PI/180)*Math.sin(Qe/2)*Math.sin(Qe/2);return 6371*(2*Math.atan2(Math.sqrt(yt),Math.sqrt(1-yt)))},Pe=()=>new Promise(G=>{if(!navigator.geolocation){G(null);return}navigator.geolocation.getCurrentPosition(D=>{const{latitude:z,longitude:Y}=D.coords;G([z,Y])},D=>{G(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),_e=async G=>{try{const D=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(G)}&limit=1&countrycodes=br`,{method:"GET",headers:{Accept:"application/json","User-Agent":"LifeBee-App/1.0"}});if(!D.ok)return null;const z=await D.json();if(z&&z.length>0){const{lat:Y,lon:je}=z[0];return[parseFloat(Y),parseFloat(je)]}return null}catch{return null}};h.useEffect(()=>{(async()=>{if(!n){E("ID do serviço não fornecido"),k(!1);return}try{k(!0),E(null);const D=await fetch(`${ge()}/api/service-requests/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!D.ok)throw new Error(`Erro ao carregar serviço: ${D.status}`);const z=await D.json(),Y={id:z.id,clientName:z.clientName||"Cliente",clientAvatar:z.clientProfileImage||"",clientProfileImage:z.clientProfileImage||"",serviceType:z.serviceType||"Serviço",location:z.address||"",distance:0,urgency:z.urgency||"low",budget:z.budget||0,description:z.description||"Descrição não disponível",timePosted:z.createdAt||"",responses:z.responses||0,preferredTime:z.scheduledTime||"Não definido",scheduledTime:z.scheduledTime||"Não definido",clientRating:5,previousServices:0,additionalDetails:z.description||"",additionalInfo:z.description||"",address:z.address||"Endereço não informado",scheduledDate:z.scheduledDate||"",status:z.status||"open",clientCreatedAt:z.clientCreatedAt||""};if(ne(Y),Y.address&&Y.address!=="Endereço não informado"){w(!0);try{const je=await Pe();T(je);const Ne=await _e(Y.address);if(Ne&&je){const Qe=ve(je[0],je[1],Ne[0],Ne[1]);ne(yt=>({...yt,distance:Math.round(Qe*10)/10}))}else ne(Qe=>({...Qe,distance:-1}))}catch{ne(Ne=>({...Ne,distance:-1}))}finally{w(!1)}}}catch(D){console.error("Erro ao carregar serviço:",D),E(D instanceof Error?D.message:"Erro desconhecido"),i({title:"Erro",description:"Não foi possível carregar os detalhes do serviço",variant:"destructive"})}finally{k(!1)}})()},[n,i]),h.useEffect(()=>{(async()=>{if(n)try{$(!0);const D=await fetch(`${ge()}/api/service-requests/${n}/offers`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(D.ok){const z=await D.json();I(z)}else console.error("Erro ao buscar propostas:",D.status)}catch(D){console.error("Erro ao buscar propostas:",D)}finally{$(!1)}})()},[n]);const K=async()=>{if(o.trim()&&u&&x)try{const G=await fetch(`${ge()}/api/service-requests/${n}/offers`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({proposedPrice:parseFloat(u),estimatedTime:x,message:o})});if(G.ok){const D=await G.json();i({title:"Sucesso!",description:"Sua proposta foi enviada com sucesso"});const z=await fetch(`${ge()}/api/service-requests/${n}/offers`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(z.ok){const Y=await z.json();I(Y)}b(!0)}else{const D=await G.json();i({title:"Erro",description:D.message||"Não foi possível enviar a proposta",variant:"destructive"})}}catch{i({title:"Erro",description:"Não foi possível enviar a proposta",variant:"destructive"})}},de=async()=>{if(!H.trim()){i({title:"Erro",description:"Digite uma mensagem antes de enviar",variant:"destructive"});return}W(!0);try{await new Promise(G=>setTimeout(G,1e3)),i({title:"Sucesso",description:"Mensagem enviada com sucesso!"}),ae(""),re(!1)}catch(G){console.error("Erro ao enviar mensagem:",G),i({title:"Erro",description:"Erro ao enviar mensagem. Tente novamente.",variant:"destructive"})}finally{W(!1)}},ee=async()=>{if(!q.trim()){i({title:"Erro",description:"Digite uma mensagem antes de enviar",variant:"destructive"});return}U(!0);try{await new Promise(G=>setTimeout(G,1e3)),i({title:"Sucesso",description:"Mensagem enviada com sucesso!"}),V(""),C(!1)}catch(G){console.error("Erro ao enviar mensagem:",G),i({title:"Erro",description:"Erro ao enviar mensagem. Tente novamente.",variant:"destructive"})}finally{U(!1)}},te=G=>{switch(G){case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},Ce=G=>{const D=new Date(G),Y=Math.floor((new Date().getTime()-D.getTime())/(1e3*60));return Y<1?"agora mesmo":Y<60?`há ${Y} min`:Y<1440?`há ${Math.floor(Y/60)}h`:`há ${Math.floor(Y/1440)} dias`};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-yellow-500"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando detalhes do serviço..."})]})}):_?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx(_s,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erro ao carregar serviço"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:_}),e.jsx(ht,{href:"/provider-dashboard",children:e.jsxs(O,{children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Voltar ao Dashboard"]})})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{href:"/provider-dashboard",children:e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(et,{className:"h-4 w-4"})})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Detalhes do Serviço"})]})}),e.jsx("div",{className:"p-3 sm:p-4 space-y-4 sm:space-y-6 max-w-4xl mx-auto",children:g?e.jsx(oe,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:e.jsxs(le,{className:"p-4 sm:p-6 text-center",children:[e.jsx(it,{className:"h-12 w-12 sm:h-16 sm:w-16 text-green-600 mx-auto mb-3 sm:mb-4"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-green-800 dark:text-green-200 mb-2",children:"Oferta Enviada com Sucesso!"}),e.jsxs("p",{className:"text-sm sm:text-base text-green-700 dark:text-green-300 mb-4",children:["Sua proposta foi enviada para ",J.clientName,". Você receberá uma notificação quando ela responder."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(ht,{href:"/provider-dashboard",children:e.jsx(O,{variant:"outline",className:"h-10 sm:h-11 text-sm sm:text-base",children:"Voltar ao Dashboard"})}),e.jsxs(Ta,{open:se,onOpenChange:re,children:[e.jsx(Ii,{asChild:!0,children:e.jsxs(O,{className:"h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})}),e.jsxs(Ks,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Qs,{children:e.jsxs(Ys,{className:"text-lg sm:text-xl",children:["Mensagem para ",J.clientName]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(St,{placeholder:"Digite uma mensagem adicional...",rows:4,className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]",value:H,onChange:G=>ae(G.target.value)}),e.jsx(O,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",onClick:de,disabled:B,children:B?e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})]})]})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[J.clientProfileImage?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:`${ge()}${J.clientProfileImage}`,alt:J.clientName||"Cliente",className:"w-full h-full object-cover",onError:G=>{const D=G.target;D.style.display="none";const z=D.parentElement;z&&(z.innerHTML=`
                                <div class="w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                                  <span class="text-white text-xl font-bold">
                                    ${J.clientName?J.clientName.charAt(0).toUpperCase():"C"}
                                  </span>
                                </div>
                              `)}})}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:J.clientName?J.clientName.charAt(0).toUpperCase():"C"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:J.clientName||"Cliente"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ct,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:J.clientRating||"5.0"}),e.jsx("span",{className:"text-gray-500",children:"•"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[J.previousServices||"0"," serviços"]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cliente desde ",J.clientCreatedAt?new Date(J.clientCreatedAt).getFullYear():"2024"]})]})]}),e.jsx(qe,{className:te(J.urgency),children:J.status==="open"?"Aberta":J.status==="in_progress"?"Em Andamento":J.status==="completed"?"Concluída":"Normal"})]})}),e.jsxs(le,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg text-primary mb-2",children:J.serviceType||"Serviço Solicitado"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:J.description||"Descrição do serviço não disponível"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento"}),e.jsxs("div",{className:"font-semibold text-green-600",children:["R$ ",J.budget?typeof J.budget=="string"?parseFloat(J.budget).toFixed(2):J.budget.toFixed(2):"0,00"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(ze,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Distância"}),e.jsx("div",{className:"font-semibold text-blue-600",children:S?e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(xt,{className:"h-3 w-3 animate-spin"}),e.jsx("span",{children:"Calculando..."})]}):J.distance===-1?"Não disponível":`${J.distance||"0"} km`})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(gt,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Horário"}),e.jsx("div",{className:"font-semibold text-purple-600",children:J.preferredTime||"Não definido"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(kt,{className:"h-5 w-5 text-orange-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Respostas"}),e.jsx("div",{className:"font-semibold text-orange-600",children:J.responses||0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-500"}),"Endereço"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:J.address||"Endereço não informado"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-gray-500"}),"Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:J.scheduledDate?new Date(J.scheduledDate).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Data não definida"})]}),J.additionalInfo&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold mb-1 text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4 text-gray-500"}),"Detalhes Adicionais"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:J.additionalInfo})]})]})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(Yt,{className:"h-5 w-5"}),"Fazer Proposta"]})}),e.jsxs(le,{className:"space-y-4 p-4 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Valor Proposto (R$)"}),e.jsx(me,{type:"number",placeholder:"120.00",value:u,onChange:G=>m(G.target.value),className:"h-10 sm:h-11 text-sm sm:text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Tempo Estimado"}),e.jsx(me,{placeholder:"1 hora",value:x,onChange:G=>f(G.target.value),className:"h-10 sm:h-11 text-sm sm:text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium block",children:"Mensagem da Proposta"}),e.jsx(St,{placeholder:"Olá! Sou fisioterapeuta especializada em reabilitação respiratória pós-COVID. Tenho experiência com pacientes na sua faixa etária e posso levar equipamentos específicos para o atendimento domiciliar...",rows:4,value:o,onChange:G=>c(G.target.value),className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]"})]}),e.jsxs("div",{className:"flex items-start gap-2 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(_s,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs sm:text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-medium mb-1",children:"Dicas para uma boa proposta:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Demonstre sua experiência específica no tipo de serviço"}),e.jsx("li",{children:"• Mencione equipamentos ou materiais que você possui"}),e.jsx("li",{children:"• Seja claro sobre disponibilidade e tempo de resposta"}),e.jsx("li",{children:"• Ofereça um valor competitivo mas justo"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsxs(O,{onClick:K,disabled:!o.trim()||!u||!x,className:"flex-1 h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Enviar Proposta"]}),e.jsxs(Ta,{open:P,onOpenChange:C,children:[e.jsx(Ii,{asChild:!0,children:e.jsxs(O,{variant:"outline",className:"h-10 sm:h-11 text-sm sm:text-base",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Observações"]})}),e.jsxs(Ks,{className:"bg-white dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Qs,{children:e.jsxs(Ys,{className:"text-lg sm:text-xl",children:["Observações para ",J.clientName]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(St,{placeholder:"Faça uma pergunta sobre o serviço...",rows:4,className:"text-sm sm:text-base min-h-[100px] sm:min-h-[120px]",value:q,onChange:G=>V(G.target.value)}),e.jsx(O,{className:"w-full h-10 sm:h-11 text-sm sm:text-base",onClick:ee,disabled:ce,children:ce?e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})]})]})]})]})]})]}),e.jsxs(oe,{children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Outras Propostas"}),M&&e.jsx(xt,{className:"h-4 w-4 animate-spin text-gray-500"})]})}),e.jsx(le,{children:A.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(kt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:M?"Carregando propostas...":"Nenhuma proposta ainda"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Seja o primeiro a fazer uma proposta!"})]}):e.jsx("div",{className:"space-y-3",children:A.map(G=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[G.professionalProfileImage?e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`${ge()}${G.professionalProfileImage}`,alt:G.professionalName||"Profissional",className:"w-full h-full object-cover",onError:D=>{const z=D.target;z.style.display="none";const Y=z.parentElement;Y&&(Y.innerHTML=`
                                       <div class="w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center">
                                         <span class="text-white text-xs font-bold">
                                           ${G.professionalName?G.professionalName.charAt(0).toUpperCase():"P"}
                                         </span>
                                       </div>
                                     `)}})}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:G.professionalName?G.professionalName.charAt(0).toUpperCase():"P"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:G.professionalName||"Profissional"}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["⭐ ",G.professionalRating||"5.0"," • ",G.professionalTotalReviews||"0"," serviços"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-sm",children:["R$ ",G.proposedPrice?parseFloat(G.proposedPrice).toFixed(2):"0,00"]}),e.jsx("p",{className:"text-xs text-gray-500",children:Ce(G.createdAt)})]})]},G.id))})})]})]})})]})}function v0(){console.log("Servico component rendering");const[,a]=ut(),{toast:n}=st(),{isAuthenticated:i,isLoading:o}=Tt(),[c,u]=h.useState(""),[m,x]=h.useState(""),[f,g]=h.useState(""),[b,y]=h.useState(""),[k,_]=h.useState(""),[E,v]=h.useState(""),[T,S]=h.useState(""),[w,A]=h.useState(""),[I,M]=h.useState(""),[$,se]=h.useState(""),[re,H]=h.useState(""),[ae,B]=h.useState(""),[W,P]=h.useState(!1),[C,q]=h.useState(!1),[V,ce]=h.useState(!1);if(h.useEffect(()=>{console.log("Auth state:",{isAuthenticated:i,isLoading:o}),!o&&!i&&(n({title:"Acesso Negado",description:"Você precisa estar logado para acessar esta página",variant:"destructive"}),a("/login"))},[i,o,a,n]),o)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})});if(!i)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Redirecionando para login..."})})});const U=[{value:"fisioterapeuta",label:"Fisioterapeuta",icon:"🧑‍⚕️"},{value:"acompanhante_hospitalar",label:"Acompanhante Hospitalar",icon:"🏥"},{value:"tecnico_enfermagem",label:"Técnico em Enfermagem",icon:"🩺"}],J=async K=>{K.preventDefault(),P(!0),q(!1);const de=localStorage.getItem("token");if(!de){n({title:"Erro",description:"Você precisa estar logado para solicitar um serviço",variant:"destructive"}),P(!1);return}try{const ee=await fetch(`${ge()}/api/service-request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify({category:c,serviceType:m,description:f,address:_e(),scheduledDate:$,scheduledTime:re,budget:ae?parseFloat(ae):null}),credentials:"include"});if(ee.ok){const te=await ee.json();q(!0),n({title:"Sucesso!",description:"Sua solicitação foi enviada com sucesso. Profissionais serão notificados."}),u(""),x(""),g(""),y(""),_(""),v(""),S(""),A(""),M(""),se(""),H(""),B("")}else{const te=await ee.json();n({title:"Erro",description:te.message||"Erro ao enviar solicitação",variant:"destructive"})}}catch{n({title:"Erro",description:"Erro de conexão. Tente novamente.",variant:"destructive"})}finally{P(!1)}},ne=K=>U.find(de=>de.value===K)?.icon||"📋",ve=async K=>{if(K.length===8){ce(!0);try{const ee=await(await fetch(`https://viacep.com.br/ws/${K}/json/`)).json();ee.erro?n({title:"CEP não encontrado",description:"Verifique se o CEP está correto",variant:"destructive"}):(_(ee.logradouro||""),S(ee.bairro||""),A(ee.localidade||""),M(ee.uf||""),n({title:"Endereço encontrado!",description:"Endereço preenchido automaticamente pelo CEP",variant:"default"}))}catch(de){console.error("Erro ao buscar CEP:",de),n({title:"Erro",description:"Erro ao buscar endereço pelo CEP",variant:"destructive"})}finally{ce(!1)}}},Pe=K=>K.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),_e=()=>[k,E,T,w,I].filter(Boolean).join(", ");return console.log("Rendering Servico component, auth state:",{isAuthenticated:i,isLoading:o}),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pb-24",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Solicitar Serviço"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Preencha os dados abaixo para solicitar um profissional"})]}),e.jsxs(oe,{className:"w-full",children:[e.jsx(Te,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Nova Solicitação"]})}),e.jsxs(le,{children:[e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Categoria do Serviço"}),e.jsxs(Ma,{value:c,onValueChange:u,required:!0,children:[e.jsx(ea,{children:e.jsx(La,{placeholder:"Selecione uma categoria"})}),e.jsx(ta,{children:U.map(K=>e.jsx(pt,{value:K.value,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:K.icon}),e.jsx("span",{children:K.label})]})},K.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Tipo de Serviço"}),e.jsx(me,{placeholder:"Ex: Fisioterapia domiciliar, Acompanhamento hospitalar...",value:m,onChange:K=>x(K.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Descrição Detalhada"}),e.jsx(St,{placeholder:"Descreva o serviço que precisa, sintomas, necessidades específicas...",value:f,onChange:K=>g(K.target.value),rows:4,required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(ze,{className:"h-4 w-4 inline mr-1"}),"Endereço"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{placeholder:"CEP (00000-000)",value:b,onChange:K=>{const de=Pe(K.target.value);y(de),de.length===9&&ve(de.replace(/\D/g,""))},maxLength:9,required:!0}),V&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(xt,{className:"h-4 w-4 animate-spin text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(me,{placeholder:"Rua/Avenida",value:k,onChange:K=>_(K.target.value),required:!0})}),e.jsx("div",{children:e.jsx(me,{placeholder:"Número",value:E,onChange:K=>v(K.target.value),required:!0})})]}),e.jsx(me,{placeholder:"Bairro",value:T,onChange:K=>S(K.target.value),required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(me,{placeholder:"Cidade",value:w,onChange:K=>A(K.target.value),required:!0}),e.jsx(me,{placeholder:"Estado",value:I,onChange:K=>M(K.target.value),maxLength:2,required:!0})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Endereço Completo"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:_e()||"Preencha os campos acima ou digite o CEP para preenchimento automático"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Data"}),e.jsx(me,{type:"date",value:$,onChange:K=>se(K.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Hora"}),e.jsx(me,{type:"time",value:re,onChange:K=>H(K.target.value),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Orçamento Previsto (Opcional)"}),e.jsx(me,{type:"number",placeholder:"R$ 0,00",value:ae,onChange:K=>B(K.target.value),min:"0",step:"0.01"})]}),e.jsx(O,{type:"submit",className:"w-full",disabled:W,size:"lg",children:W?e.jsxs(e.Fragment,{children:[e.jsx(xt,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"mr-2 h-4 w-4"}),"Solicitar Serviço"]})})]}),C&&e.jsxs("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(it,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Solicitação Enviada!"})]}),e.jsxs("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:["Profissionais da categoria ",ne(c)," serão notificados sobre sua solicitação."]})]})]})]})]})}),e.jsx(qt,{hidePlus:!0})]})}var Th="AlertDialog",[y0,Y0]=ks(Th,[kl]),es=kl(),Eh=a=>{const{__scopeAlertDialog:n,...i}=a,o=es(n);return e.jsx(hl,{...o,...i,modal:!0})};Eh.displayName=Th;var b0="AlertDialogTrigger",Mh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,...o}=a,c=es(i);return e.jsx(ul,{...c,...o,ref:n})});Mh.displayName=b0;var w0="AlertDialogPortal",Lh=a=>{const{__scopeAlertDialog:n,...i}=a,o=es(n);return e.jsx(dl,{...o,...i})};Lh.displayName=w0;var _0="AlertDialogOverlay",Rh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,...o}=a,c=es(i);return e.jsx(Ui,{...c,...o,ref:n})});Rh.displayName=_0;var Hs="AlertDialogContent",[j0,N0]=y0(Hs),k0=rl("AlertDialogContent"),Ah=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,children:o,...c}=a,u=es(i),m=h.useRef(null),x=tt(n,m),f=h.useRef(null);return e.jsx(Sm,{contentName:Hs,titleName:Oh,docsSlug:"alert-dialog",children:e.jsx(j0,{scope:i,cancelRef:f,children:e.jsxs(Gi,{role:"alertdialog",...u,...c,ref:x,onOpenAutoFocus:we(c.onOpenAutoFocus,g=>{g.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[e.jsx(k0,{children:o}),e.jsx(S0,{contentRef:m})]})})})});Ah.displayName=Hs;var Oh="AlertDialogTitle",Ih=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,...o}=a,c=es(i);return e.jsx(Qi,{...c,...o,ref:n})});Ih.displayName=Oh;var Dh="AlertDialogDescription",zh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,...o}=a,c=es(i);return e.jsx(Yi,{...c,...o,ref:n})});zh.displayName=Dh;var C0="AlertDialogAction",Fh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,...o}=a,c=es(i);return e.jsx(Ki,{...c,...o,ref:n})});Fh.displayName=C0;var $h="AlertDialogCancel",Bh=h.forwardRef((a,n)=>{const{__scopeAlertDialog:i,...o}=a,{cancelRef:c}=N0($h,i),u=es(i),m=tt(n,c);return e.jsx(Ki,{...u,...o,ref:m})});Bh.displayName=$h;var S0=({contentRef:a})=>{const n=`\`${Hs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hs}\` by passing a \`${Dh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,a]),null},P0=Eh,T0=Mh,E0=Lh,Zh=Rh,Hh=Ah,qh=Fh,Wh=Bh,Vh=Ih,Uh=zh;const M0=P0,L0=T0,R0=E0,Gh=h.forwardRef(({className:a,...n},i)=>e.jsx(Zh,{className:ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:i}));Gh.displayName=Zh.displayName;const Kh=h.forwardRef(({className:a,...n},i)=>e.jsxs(R0,{children:[e.jsx(Gh,{}),e.jsx(Hh,{ref:i,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n})]}));Kh.displayName=Hh.displayName;const Qh=({className:a,...n})=>e.jsx("div",{className:ue("flex flex-col space-y-2 text-center sm:text-left",a),...n});Qh.displayName="AlertDialogHeader";const Yh=({className:a,...n})=>e.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...n});Yh.displayName="AlertDialogFooter";const Xh=h.forwardRef(({className:a,...n},i)=>e.jsx(Vh,{ref:i,className:ue("text-lg font-semibold",a),...n}));Xh.displayName=Vh.displayName;const Jh=h.forwardRef(({className:a,...n},i)=>e.jsx(Uh,{ref:i,className:ue("text-sm text-muted-foreground",a),...n}));Jh.displayName=Uh.displayName;const eu=h.forwardRef(({className:a,...n},i)=>e.jsx(qh,{ref:i,className:ue(mr(),a),...n}));eu.displayName=qh.displayName;const tu=h.forwardRef(({className:a,...n},i)=>e.jsx(Wh,{ref:i,className:ue(mr({variant:"outline"}),"mt-2 sm:mt-0",a),...n}));tu.displayName=Wh.displayName;function A0(){const[,a]=ut(),{user:n}=Tt(),{toast:i}=st(),[o,c]=h.useState([]),[u,m]=h.useState(!0),[x,f]=h.useState(null),g=async()=>{if(n){m(!0);try{const v=localStorage.getItem("token");if(console.log("👤 Usuário:",n),!v){i({title:"Erro de Autenticação",description:"Token não encontrado. Faça login novamente.",variant:"destructive"});return}const S=`${ge()}/api/service-requests/my-requests`;console.log("🌐 Fazendo requisição para:",S),console.log("🔑 Token:",v.substring(0,20)+"...");const w=await fetch(S,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}});if(console.log("📡 Resposta do servidor:",w.status,w.statusText),w.ok){const A=await w.json();console.log("✅ Dados recebidos:",A),c(A)}else{console.error("❌ Erro ao buscar solicitações:",w.status);const A=await w.text();console.error("📄 Resposta de erro:",A),i({title:"Erro",description:"Erro ao carregar suas solicitações.",variant:"destructive"})}}catch(v){console.error("💥 Erro ao buscar solicitações:",v),i({title:"Erro de Conexão",description:"Erro ao conectar com o servidor.",variant:"destructive"})}finally{m(!1)}}},b=async v=>{f(v);try{const T=localStorage.getItem("token");if(!T){i({title:"Erro de Autenticação",description:"Token não encontrado. Faça login novamente.",variant:"destructive"});return}const S=await fetch(`${ge()}/api/service-requests/${v}`,{method:"DELETE",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(S.ok)c(w=>w.filter(A=>A.id!==v)),i({title:"Solicitação Excluída",description:"Sua solicitação foi excluída com sucesso."});else{const w=await S.json();i({title:"Erro",description:w.message||"Erro ao excluir solicitação.",variant:"destructive"})}}catch(T){console.error("Erro ao excluir solicitação:",T),i({title:"Erro de Conexão",description:"Erro ao conectar com o servidor.",variant:"destructive"})}finally{f(null)}};h.useEffect(()=>{g()},[n]);const y=v=>{switch(v){case"open":return"bg-blue-100 text-blue-800 border-blue-200";case"in_progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=v=>{switch(v){case"open":return"Aberta";case"in_progress":return"Em Andamento";case"completed":return"Concluída";case"cancelled":return"Cancelada";default:return"Desconhecido"}},_=v=>{switch(v){case"open":return e.jsx($s,{className:"h-4 w-4"});case"in_progress":return e.jsx(gt,{className:"h-4 w-4"});case"completed":return e.jsx(it,{className:"h-4 w-4"});case"cancelled":return e.jsx(Us,{className:"h-4 w-4"});default:return e.jsx(Hf,{className:"h-4 w-4"})}},E=v=>{switch(v){case"fisioterapeuta":return"Fisioterapeuta";case"acompanhante_hospitalar":return"Acompanhante Hospitalar";case"tecnico_enfermagem":return"Técnico de Enfermagem";default:return v}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col pb-24",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"mr-2",children:e.jsx(et,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Minhas Solicitações"})]}),u?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas solicitações..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(Jt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Nenhuma solicitação encontrada"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Você ainda não fez nenhuma solicitação de serviço"}),e.jsx(O,{onClick:()=>a("/servico"),children:"Fazer Primeira Solicitação"})]}):e.jsx("div",{className:"space-y-4",children:o.map(v=>e.jsxs(oe,{className:"border-l-4 border-l-primary",children:[e.jsx(Te,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Solicitação #",v.id]}),e.jsx(qe,{variant:"outline",className:`text-xs ${y(v.status)}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[_(v.status),k(v.status)]})})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E(v.category)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>a(`/service-offer/${v.id}`),disabled:v.status!=="open",children:e.jsx($s,{className:"h-4 w-4"})}),e.jsxs(M0,{children:[e.jsx(L0,{asChild:!0,children:e.jsx(O,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:v.status!=="open"||x===v.id,children:x===v.id?e.jsx(xt,{className:"h-4 w-4 animate-spin"}):e.jsx(Sa,{className:"h-4 w-4"})})}),e.jsxs(Kh,{children:[e.jsxs(Qh,{children:[e.jsx(Xh,{children:"Excluir Solicitação"}),e.jsx(Jh,{children:"Tem certeza que deseja excluir esta solicitação? Esta ação não pode ser desfeita e todos os profissionais que responderam não poderão mais ver sua solicitação."})]}),e.jsxs(Yh,{children:[e.jsx(tu,{children:"Cancelar"}),e.jsx(eu,{onClick:()=>b(v.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})]})}),e.jsx(le,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary mb-1",children:v.serviceType}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:v.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:v.address})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:new Date(v.scheduledDate).toLocaleDateString("pt-BR")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:v.scheduledTime})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["R$ ",v.budget&&!isNaN(Number(v.budget))?Number(v.budget).toFixed(2):"Não informado"]})]})]}),v.responses!==void 0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsxs("span",{children:[v.responses," profissional(is) responderam"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Criada em ",new Date(v.createdAt).toLocaleDateString("pt-BR")," às"," ",new Date(v.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})})]},v.id))}),e.jsx("div",{className:"mt-6",children:e.jsx(O,{onClick:()=>a("/servico"),className:"w-full",children:"Nova Solicitação"})})]})}),e.jsx(qt,{})]})}function O0({onLogin:a}){const[n,i]=h.useState(!0),[o,c]=h.useState(!1),[u,m]=h.useState("client"),[x,f]=h.useState(""),[g,b]=h.useState(""),[y,k]=h.useState(""),[_,E]=h.useState(""),[v,T]=h.useState(""),[S,w]=h.useState(!1),{toast:A}=st(),[I,M]=h.useState(""),[$,se]=h.useState(""),[re,H]=h.useState(""),[ae,B]=h.useState(""),[W,P]=h.useState(""),C=D=>{const z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return D?z.test(D)?D.length>100?"Email muito longo":"":"Digite um email válido":"Email é obrigatório"},q=D=>{const z=/^\(\d{2}\) \d{4,5}-\d{4}$/;return D?z.test(D)?"":"Digite um telefone válido: (11) 99999-9999":"Telefone é obrigatório"},V=D=>D?D.length<8?"Senha deve ter pelo menos 8 caracteres":/(?=.*[a-z])/.test(D)?/(?=.*[A-Z])/.test(D)?/(?=.*\d)/.test(D)?/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(D)?D.length>50?"Senha muito longa":"":"Senha deve conter pelo menos um caractere especial":"Senha deve conter pelo menos um número":"Senha deve conter pelo menos uma letra maiúscula":"Senha deve conter pelo menos uma letra minúscula":"Senha é obrigatória",ce=D=>D?D.length<2?"Nome deve ter pelo menos 2 caracteres":D.length>100?"Nome muito longo":/^[a-zA-ZÀ-ÿ\s]+$/.test(D)?"":"Nome deve conter apenas letras":"Nome é obrigatório",U=D=>D?D!==g?"As senhas não coincidem":"":"Confirme sua senha",J=D=>{if(!D)return{strength:0,color:"bg-gray-200",text:""};let z=0;return D.length>=8&&z++,/(?=.*[a-z])/.test(D)&&z++,/(?=.*[A-Z])/.test(D)&&z++,/(?=.*\d)/.test(D)&&z++,/(?=.*[!@#$%^&*(),.?":{}|<>])/.test(D)&&z++,z<=1?{strength:z,color:"bg-red-500",text:"Muito fraca"}:z<=2?{strength:z,color:"bg-orange-500",text:"Fraca"}:z<=3?{strength:z,color:"bg-yellow-500",text:"Média"}:z<=4?{strength:z,color:"bg-blue-500",text:"Forte"}:{strength:z,color:"bg-green-500",text:"Muito forte"}},ne=D=>{const Y=D.replace(/\D/g,"").substring(0,11);return Y.length<=2?Y:Y.length<=7?`(${Y.substring(0,2)}) ${Y.substring(2)}`:`(${Y.substring(0,2)}) ${Y.substring(2,7)}-${Y.substring(7)}`},ve=D=>{const z=ne(D.target.value);T(z),n||se(q(z))},Pe=D=>{const z=D.target.value;f(z),M(C(z))},_e=D=>{const z=D.target.value;b(z),H(V(z)),y&&B(U(y))},K=D=>{const z=D.target.value;k(z),B(U(z))},de=D=>{const z=D.target.value;E(z),n||P(ce(z))},ee=async D=>{console.log("🔐 Iniciando login social:",D),w(!0);try{const Y=`https://lifebee-backend.onrender.com/api/auth/${D}`;console.log("🔐 URL de autenticação:",Y),console.log("🔐 Redirecionando diretamente..."),window.location.href=Y}catch(z){console.error("❌ Erro no login social:",z),w(!1),A({title:"Erro no login social",description:z.message,variant:"destructive"})}},te=()=>{M(""),se(""),H(""),B(""),P("")},Ce=()=>{i(!n),te()},G=async D=>{D.preventDefault();const z=C(x),Y=V(g);if(M(z),H(Y),n){if(z||Y){A({title:"Erro de validação",description:"Por favor, corrija os campos destacados",variant:"destructive"});return}}else{const je=ce(_),Ne=q(v),Qe=U(y);if(P(je),se(Ne),B(Qe),z||Y||je||Ne||Qe){A({title:"Erro de validação",description:"Por favor, corrija os campos destacados",variant:"destructive"});return}}w(!0);try{if(n){const je=await Ea("POST","/api/auth/login",{email:x,password:g,userType:u}),Ne=await je.json();if(je.ok)localStorage.setItem("token",Ne.token),localStorage.setItem("user",JSON.stringify(Ne.user)),A({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${Ne.user.name}`}),a(Ne.user.userType);else throw new Error(Ne.message||"Erro no login")}else{const je=await Ea("POST","/api/auth/register",{username:x,email:x,password:g,name:_,userType:u,phone:v}),Ne=await je.json();if(je.ok)localStorage.setItem("token",Ne.token),localStorage.setItem("user",JSON.stringify(Ne.user)),A({title:"Conta criada com sucesso!",description:`Bem-vindo(a), ${Ne.user.name}`}),a(Ne.user.userType);else throw new Error(Ne.message||"Erro no cadastro")}}catch(je){A({title:n?"Erro no login":"Erro no cadastro",description:je.message,variant:"destructive"})}finally{w(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 xl:p-12",children:e.jsxs("div",{className:"max-w-md w-full text-center lg:text-left space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 sm:gap-3",children:[e.jsx(Da,{size:40,className:"sm:w-12 sm:h-12"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"LifeBee"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-xs sm:text-sm font-medium",children:"Cuidados Profissionais"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white leading-tight",children:"Conectamos você com profissionais de saúde qualificados"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base lg:text-lg",children:"Fisioterapeutas, técnicos em enfermagem e acompanhantes hospitalares prontos para cuidar de você"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:[e.jsx(qe,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 text-xs sm:text-sm",children:"🏃‍♂️ Fisioterapia"}),e.jsx(qe,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs sm:text-sm",children:"💉 Enfermagem"}),e.jsx(qe,{variant:"secondary",className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 text-xs sm:text-sm",children:"🏥 Acompanhamento"})]})]})}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8 xl:p-12",children:e.jsxs(oe,{className:"w-full max-w-md shadow-xl border-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm",children:[e.jsxs(Te,{className:"space-y-3 sm:space-y-4 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-2",children:n?"Entrar na conta":"Criar conta"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs sm:text-sm",children:n?"Acesse sua conta para continuar":"Junte-se à nossa comunidade de cuidados"})]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-1 flex w-full",children:[e.jsx(O,{variant:"ghost",className:`flex-1 rounded-lg transition-all duration-200 text-xs sm:text-sm lg:text-base py-2 sm:py-3 lg:py-4 px-2 sm:px-4 lg:px-6 ${n?"bg-white shadow-sm text-gray-900 dark:bg-gray-600 dark:text-white":"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white"}`,onClick:()=>{i(!0),te()},children:"Entrar"}),e.jsx(O,{variant:"ghost",className:`flex-1 rounded-lg transition-all duration-200 text-xs sm:text-sm lg:text-base py-2 sm:py-3 lg:py-4 px-2 sm:px-4 lg:px-6 ${n?"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white":"bg-white shadow-sm text-gray-900 dark:bg-gray-600 dark:text-white"}`,onClick:()=>{i(!1),te()},children:"Cadastrar"})]})]}),e.jsxs(le,{className:"space-y-3 sm:space-y-4",children:[e.jsxs("form",{onSubmit:G,className:"space-y-3 sm:space-y-4",children:[!n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Você é:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 lg:gap-4",children:[e.jsxs(O,{type:"button",variant:u==="client"?"default":"outline",className:`h-10 sm:h-12 lg:h-14 text-xs sm:text-sm lg:text-base px-2 sm:px-4 lg:px-6 ${u==="client"?"bg-yellow-500 hover:bg-yellow-600":"border-gray-300"}`,onClick:()=>m("client"),children:[e.jsx(bt,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 mr-1 sm:mr-2"}),"Cliente"]}),e.jsxs(O,{type:"button",variant:u==="provider"?"default":"outline",className:`h-10 sm:h-12 lg:h-14 text-xs sm:text-sm lg:text-base px-2 sm:px-4 lg:px-6 ${u==="provider"?"bg-yellow-500 hover:bg-yellow-600":"border-gray-300"}`,onClick:()=>m("provider"),children:[e.jsx(np,{className:"h-3 w-3 sm:h-4 sm:w-4 lg:h-5 lg:w-5 mr-1 sm:mr-2"}),"Profissional"]})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome completo"}),e.jsx(me,{type:"text",placeholder:"Seu nome completo",value:_,onChange:de,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${W?"border-red-500 focus:border-red-500":""}`,autoComplete:"name",required:!n}),W&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:W})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Telefone"}),e.jsx(me,{type:"tel",placeholder:"(11) 99999-9999",value:v,onChange:ve,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${$?"border-red-500 focus:border-red-500":""}`,autoComplete:"tel",required:!n}),$&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:$})]})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx(me,{type:"email",placeholder:"seu@email.com",value:x,onChange:Pe,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${I?"border-red-500 focus:border-red-500":""}`,autoComplete:"email",required:!0}),I&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:I})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{type:o?"text":"password",placeholder:"Sua senha",value:g,onChange:_e,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 pr-10 ${re?"border-red-500 focus:border-red-500":""}`,autoComplete:n?"current-password":"new-password",required:!0}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-10 sm:h-12 w-10 sm:w-12 p-0 hover:bg-transparent",onClick:()=>c(!o),children:o?e.jsx(xn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}):e.jsx($s,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})})]}),re&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:re}),!n&&g&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(D=>{const z=J(g);return e.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${D<=z.strength?z.color:"bg-gray-200"}`},D)})}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Força da senha: ",J(g).text]})]})]}),!n&&e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar senha"}),e.jsx(me,{type:"password",placeholder:"Confirme sua senha",value:y,onChange:K,className:`h-10 sm:h-12 text-sm sm:text-base px-3 sm:px-4 ${ae?"border-red-500 focus:border-red-500":""}`,autoComplete:"new-password",required:!n}),ae&&e.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:ae})]}),e.jsx(O,{type:"submit",disabled:S,className:"w-full h-10 sm:h-12 lg:h-14 bg-yellow-500 hover:bg-yellow-600 text-white font-medium text-sm sm:text-base lg:text-lg px-4 sm:px-6 lg:px-8",children:S?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n?"Entrando...":"Cadastrando..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:n?"Entrar":"Criar conta"}),e.jsx(hc,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"text-center space-y-2 sm:space-y-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[n?"Não tem uma conta?":"Já tem uma conta?",e.jsx("button",{type:"button",className:"ml-1 text-yellow-600 hover:text-yellow-700 font-medium",onClick:Ce,children:n?"Cadastre-se":"Faça login"})]}),n&&e.jsx("button",{type:"button",className:"text-xs sm:text-sm text-yellow-600 hover:text-yellow-700",children:"Esqueceu sua senha?"})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-xs sm:text-sm",children:e.jsx("span",{className:"bg-white dark:bg-gray-800 px-2 text-gray-500 dark:text-gray-400",children:"Ou continue com"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[e.jsxs(O,{type:"button",variant:"outline",className:"h-10 sm:h-12 flex items-center justify-center gap-2 text-xs sm:text-sm border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",onClick:D=>{D.preventDefault(),D.stopPropagation(),console.log("🔘 Botão Google clicado!"),console.log("🔘 Estado isLoading:",S),console.log("🔘 Evento:",D),console.log("🔘 Target:",D.target),console.log("🔘 Current Target:",D.currentTarget),S?console.log("❌ Botão desabilitado devido ao estado de loading"):ee("google")},disabled:S,children:[e.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(O,{type:"button",variant:"outline",className:"h-10 sm:h-12 flex items-center justify-center gap-2 text-xs sm:text-sm border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",onClick:()=>ee("apple"),disabled:S,children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Apple"]})]})]})]})]})})]})}function el(){const[,a]=ut();return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(oe,{className:"w-full max-w-md mx-4",children:e.jsxs(le,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(_s,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Página não encontrada"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 mb-6",children:"A página que você está procurando não existe ou foi movida."}),e.jsxs(O,{onClick:()=>a("/"),className:"w-full",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Voltar para Home"]})]})})})}function I0(){const{user:a}=Tt(),{toast:n}=st(),[i,o]=h.useState([]),[c,u]=h.useState(!0),[m,x]=h.useState("all");h.useEffect(()=>{a?.userType==="provider"&&f()},[a]);const f=async()=>{u(!0);try{const _=await fetch(`${ge()}/api/appointments/provider`,{credentials:"include"});if(_.ok){const E=await _.json();o(E)}else o([])}catch{o([])}finally{u(!1)}},g=_=>{switch(_){case"agendado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"confirmado":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"em_andamento":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"concluido":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";case"cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},b=_=>{switch(_){case"confirmado":return e.jsx(it,{className:"h-3 w-3"});case"cancelado":return e.jsx(Us,{className:"h-3 w-3"});case"em_andamento":return e.jsx(dc,{className:"h-3 w-3"});case"concluido":return e.jsx(it,{className:"h-3 w-3"});default:return e.jsx(_s,{className:"h-3 w-3"})}},y=_=>{switch(_){case"agendado":return"Agendado";case"confirmado":return"Confirmado";case"em_andamento":return"Em Andamento";case"concluido":return"Concluído";case"cancelado":return"Cancelado";default:return _}},k=m==="all"?i:i.filter(_=>_.status===m);return e.jsx(Js,{children:e.jsxs("div",{className:"max-w-3xl mx-auto py-4 sm:py-6 px-2 sm:px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Agenda do Profissional"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx(O,{variant:m==="all"?"default":"outline",size:"sm",onClick:()=>x("all"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="all"?"bg-yellow-500 hover:bg-yellow-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Todos"}),e.jsx(O,{variant:m==="agendado"?"default":"outline",size:"sm",onClick:()=>x("agendado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="agendado"?"bg-blue-500 hover:bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Agendados"}),e.jsx(O,{variant:m==="confirmado"?"default":"outline",size:"sm",onClick:()=>x("confirmado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="confirmado"?"bg-green-500 hover:bg-green-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Confirmados"}),e.jsx(O,{variant:m==="em_andamento"?"default":"outline",size:"sm",onClick:()=>x("em_andamento"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="em_andamento"?"bg-orange-500 hover:bg-orange-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Em andamento"}),e.jsx(O,{variant:m==="concluido"?"default":"outline",size:"sm",onClick:()=>x("concluido"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="concluido"?"bg-gray-500 hover:bg-gray-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Concluídos"}),e.jsx(O,{variant:m==="cancelado"?"default":"outline",size:"sm",onClick:()=>x("cancelado"),className:`text-xs sm:text-sm px-3 py-2 h-auto font-medium transition-all duration-200 ${m==="cancelado"?"bg-red-500 hover:bg-red-600 text-white shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Cancelados"})]}),c?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Carregando agendamentos..."}):k.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Nenhum agendamento encontrado."}):e.jsx("div",{className:"space-y-4",children:k.map(_=>e.jsxs(oe,{children:[e.jsxs(Te,{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-4",children:[e.jsx(bt,{className:"h-6 w-6 text-gray-400 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(Oe,{className:"text-base sm:text-lg font-semibold truncate",children:_.clientName}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:[ba(new Date(_.date),"dd 'de' MMMM 'de' yyyy",{locale:Di})," às ",_.time]})]}),e.jsxs(qe,{className:`${g(_.status)} flex-shrink-0`,children:[b(_.status),e.jsx("span",{className:"ml-1 hidden sm:inline",children:y(_.status)}),e.jsx("span",{className:"ml-1 sm:hidden",children:y(_.status).charAt(0)})]})]}),e.jsx(le,{className:"p-4 pt-0",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Tipo: ",e.jsx("span",{className:"font-medium",children:_.type==="presencial"?"Presencial":"Online"})]}),_.location&&e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Local: ",e.jsx("span",{className:"font-medium truncate block",children:_.location})]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Duração: ",e.jsxs("span",{className:"font-medium",children:[_.duration," min"]})]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-300",children:["Valor: ",e.jsxs("span",{className:"font-medium",children:["R$ ",_.price]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.canConfirm&&e.jsx(O,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Agendamento confirmado!"}),children:"Confirmar"}),_.canStart&&e.jsx(O,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Atendimento iniciado!"}),children:"Iniciar"}),_.canFinish&&e.jsx(O,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Atendimento concluído!"}),children:"Concluir"}),_.canCancel&&e.jsx(O,{size:"sm",variant:"destructive",className:"flex-1 sm:flex-none",onClick:()=>n({title:"Agendamento cancelado!"}),children:"Cancelar"})]})]})})]},_.id))})]})})}function tl({params:a}){const{user:n}=Tt(),{toast:i}=st(),[o,c]=h.useState(""),[u,m]=h.useState(""),x=h.useRef(null),[f,g]=h.useState([]),[b,y]=h.useState([]),[k,_]=h.useState(!0),[,E]=ut(),[v,T]=$c("/messages/:conversationId"),S=a?.conversationId||null,w=async()=>{try{_(!0);const P=localStorage.getItem("token");if(!P){i({title:"Erro de autenticação",description:"Faça login para acessar as mensagens",variant:"destructive"});return}const C=await fetch(`${ge()}/api/messages`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`}});if(C.ok){const q=await C.json();y(q)}else C.status===401?i({title:"Sessão expirada",description:"Faça login novamente",variant:"destructive"}):i({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"})}catch{i({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"})}finally{_(!1)}},A=async P=>{try{const C=localStorage.getItem("token");if(!C)return;const q=await fetch(`${ge()}/api/messages/${P}`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`}});if(q.ok){const V=await q.json();g(V)}else q.status===404&&(i({title:"Conversa não encontrada",description:"Esta conversa não existe ou você não tem acesso.",variant:"destructive"}),E("/messages"))}catch{}};h.useEffect(()=>{w()},[]),h.useEffect(()=>{S&&A(S)},[S]);const I=b.filter(P=>P.professionalName.toLowerCase().includes(u.toLowerCase())||P.specialization.toLowerCase().includes(u.toLowerCase())),M=b.find(P=>String(P.id)===String(S)),$=()=>{x.current?.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{$()},[f]);const se=P=>{const C=new Date,q=new Date(P),V=C.getTime()-q.getTime(),ce=Math.floor(V/(1e3*60)),U=Math.floor(V/(1e3*60*60)),J=Math.floor(V/(1e3*60*60*24));return ce<1?"agora":ce<60?`${ce}m`:U<24?`${U}h`:J<7?`${J}d`:q.toLocaleDateString("pt-BR")},re=P=>new Date(P).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),H=async()=>{if(!o.trim()||!M)return;const P=localStorage.getItem("token");if(!P){i({title:"Erro de autenticação",description:"Faça login para enviar mensagens",variant:"destructive"});return}try{const C={id:Date.now(),senderId:n?.id||0,content:o,timestamp:new Date,isRead:!1,type:"text"};g(V=>[...V,C]),c(""),(await fetch(`${ge()}/api/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({recipientId:M.professionalId,conversationId:Number(S),content:o,type:"text"})})).ok?S&&A(S):(g(V=>V.filter(ce=>ce.id!==C.id)),i({title:"Erro",description:"Não foi possível enviar a mensagem",variant:"destructive"}))}catch{i({title:"Erro de conexão",description:"Não foi possível enviar a mensagem",variant:"destructive"})}},ae=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),H())},B=P=>{E(`/messages/${P}`)},W=async P=>{try{const C=localStorage.getItem("token");if(!C)return;(await fetch(`${ge()}/api/messages/conversation/${P}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`}})).ok?(i({title:"Conversa excluída",description:"A conversa foi removida com sucesso."}),w()):i({title:"Erro",description:"Não foi possível excluir a conversa",variant:"destructive"})}catch{i({title:"Erro",description:"Erro ao excluir conversa",variant:"destructive"})}};return S?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>E("/messages"),className:"lg:hidden",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>E("/messages"),children:e.jsx(et,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(os,{className:"w-10 h-10",children:[e.jsx(ls,{src:M?.professionalAvatar,alt:M?.professionalName}),e.jsx(cs,{className:"bg-yellow-500 text-white",children:M?.professionalName.split(" ").map(P=>P[0]).join("")})]}),M?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:M?.professionalName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:M?.specialization}),M?.isOnline&&e.jsx("span",{className:"text-xs text-green-600",children:"online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Wt,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Bs,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(vc,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"60vh"},children:[f.map(P=>{const C=P.senderId===n?.id;return e.jsx("div",{className:`flex ${C?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${C?"order-2":""}`,children:[!C&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:M?.professionalName})}),e.jsx("div",{className:`rounded-2xl px-4 py-2 ${C?"bg-yellow-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:P.content})}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${C?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs text-gray-500",children:re(P.timestamp)}),C&&e.jsx("div",{className:"text-gray-500",children:P.isRead?e.jsx(uc,{className:"h-3 w-3 text-blue-500"}):e.jsx(Oa,{className:"h-3 w-3"})})]})]})},P.id)}),e.jsx("div",{ref:x})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(bc,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Cs,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(me,{placeholder:"Digite sua mensagem...",value:o,onChange:P=>c(P.target.value),onKeyPress:ae,className:"pr-10"}),e.jsx(O,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:e.jsx(_c,{className:"h-4 w-4"})})]}),e.jsx(O,{onClick:H,disabled:!o.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:e.jsx(Yt,{className:"h-4 w-4"})})]})})]}),e.jsx(qt,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})})}),e.jsxs("div",{className:"w-full lg:w-96 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Buscar conversas...",value:u,onChange:P=>m(P.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:k?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Carregando conversas..."})]})}):I.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Jt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não tem conversas ativas"})]})}):I.map(P=>e.jsxs("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between",onClick:()=>B(P.id),children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(os,{className:"w-12 h-12",children:[e.jsx(ls,{src:P.professionalAvatar,alt:P.professionalName}),e.jsx(cs,{className:"bg-yellow-500 text-white",children:P.professionalName.split(" ").map(C=>C[0]).join("")})]}),P.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:P.professionalName}),e.jsx("span",{className:"text-xs text-gray-500",children:se(P.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(qe,{variant:"secondary",className:"text-xs px-2 py-0 bg-yellow-100 text-yellow-800",children:P.specialization}),P.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:P.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.lastMessage}),P.unreadCount>0&&e.jsx(qe,{className:"bg-yellow-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:P.unreadCount})]}),P.location&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ze,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.location})]})]})]}),e.jsx("button",{className:"ml-2 p-2 rounded-full hover:bg-red-100 text-red-600",title:"Excluir conversa",onClick:C=>{C.stopPropagation(),W(P.id)},children:e.jsx(Sa,{className:"h-5 w-5"})})]},P.id))})]}),e.jsx(qt,{})]})}function mn({params:a}){const{user:n}=Tt(),{toast:i}=st(),[o,c]=h.useState(""),[u,m]=h.useState(""),x=h.useRef(null),[f,g]=h.useState([]),[b,y]=h.useState([]),[k,_]=h.useState(!0),[,E]=ut(),[v,T]=$c("/messages-provider/:conversationId"),S=a?.conversationId||null,w=async()=>{try{console.log("🔄 fetchConversations - Iniciando busca de conversas..."),_(!0);const P=localStorage.getItem("token");if(!P){console.log("❌ Token não encontrado"),i({title:"Erro de autenticação",description:"Faça login para acessar as mensagens",variant:"destructive"});return}const C=await fetch(`${ge()}/api/messages`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`}});if(C.ok){const q=await C.json();console.log("📋 Dados recebidos do backend:",q),y(q),console.log("✅ Conversas atualizadas no estado:",q.length,"conversas")}else C.status===401?(console.log("❌ Erro 401 - Sessão expirada"),i({title:"Sessão expirada",description:"Faça login novamente",variant:"destructive"})):(console.log("❌ Erro na resposta:",C.status),i({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"}))}catch(P){console.log("❌ Erro na busca de conversas:",P),i({title:"Erro de conexão",description:"Não foi possível carregar as conversas",variant:"destructive"})}finally{_(!1),console.log("🔄 fetchConversations - Finalizado")}},A=async P=>{try{const C=localStorage.getItem("token");if(!C)return;const q=await fetch(`${ge()}/api/messages/${P}`,{credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`}});if(q.ok){const V=await q.json();g(V)}}catch{}};h.useEffect(()=>{w()},[]),h.useEffect(()=>{S&&A(S)},[S]),h.useEffect(()=>{console.log("Mensagens carregadas do backend:",f)},[f]);const I=b.filter(P=>P.clientName?.toLowerCase().includes(u.toLowerCase())),M=b.find(P=>String(P.id)===String(S)),$=()=>{x.current?.scrollIntoView({behavior:"smooth"})};h.useEffect(()=>{$()},[f]);const se=P=>{const C=new Date,q=new Date(P),V=C.getTime()-q.getTime(),ce=Math.floor(V/(1e3*60)),U=Math.floor(V/(1e3*60*60)),J=Math.floor(V/(1e3*60*60*24));return ce<1?"agora":ce<60?`${ce}m`:U<24?`${U}h`:J<7?`${J}d`:q.toLocaleDateString("pt-BR")},re=P=>new Date(P).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),H=async()=>{if(!o.trim()||!M)return;const P=localStorage.getItem("token");if(!P){i({title:"Erro de autenticação",description:"Faça login para enviar mensagens",variant:"destructive"});return}try{const C={id:Date.now(),senderId:n?.id||0,content:o,timestamp:new Date,isRead:!1,type:"text"};g(V=>[...V,C]),c(""),(await fetch(`${ge()}/api/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({recipientId:M.clientId,conversationId:Number(S),content:o,type:"text"})})).ok?S&&A(S):(g(V=>V.filter(ce=>ce.id!==C.id)),i({title:"Erro",description:"Não foi possível enviar a mensagem",variant:"destructive"}))}catch{i({title:"Erro de conexão",description:"Não foi possível enviar a mensagem",variant:"destructive"})}},ae=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),H())},B=P=>{E(`/messages-provider/${P}`)},W=async P=>{try{console.log("🗑️ Tentando excluir conversa:",P);const C=localStorage.getItem("token");if(!C)return;const q=await fetch(`${ge()}/api/messages/conversation/${P}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`}});q.ok?(console.log("✅ Conversa excluída com sucesso, recarregando lista..."),i({title:"Conversa excluída",description:"A conversa foi removida com sucesso."}),await w(),console.log("✅ Lista de conversas recarregada")):(console.log("❌ Erro ao excluir conversa:",q.status),i({title:"Erro",description:"Não foi possível excluir a conversa",variant:"destructive"}))}catch(C){console.log("❌ Erro ao excluir conversa:",C),i({title:"Erro",description:"Erro ao excluir conversa",variant:"destructive"})}};return S?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>E("/messages"),className:"lg:hidden",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{variant:"ghost",size:"sm",className:"lg:hidden p-2",onClick:()=>E("/messages"),children:e.jsx(et,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs(os,{className:"w-10 h-10",children:[e.jsx(ls,{src:M?.clientAvatar,alt:M?.clientName}),e.jsx(cs,{className:"bg-yellow-500 text-white",children:M?.clientName?.split(" ").map(P=>P[0]).join("")})]}),M?.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:M?.clientName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:M?.specialization}),M?.isOnline&&e.jsx("span",{className:"text-xs text-green-600",children:"online"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Wt,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Bs,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(vc,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{maxHeight:"60vh"},children:[f.map(P=>{const C=P.senderId===n?.id;return e.jsx("div",{className:`flex ${C?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md ${C?"order-2":""}`,children:[!C&&e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-gray-600",children:M?.clientName})}),e.jsx("div",{className:`rounded-2xl px-4 py-2 ${C?"bg-yellow-500 text-white":"bg-gray-100 text-gray-900"}`,children:e.jsx("p",{className:"text-sm",children:P.content})}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${C?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:"text-xs text-gray-500",children:re(P.timestamp)}),C&&e.jsx("div",{className:"text-gray-500",children:P.isRead?e.jsx(uc,{className:"h-3 w-3 text-blue-500"}):e.jsx(Oa,{className:"h-3 w-3"})})]})]})},P.id)}),e.jsx("div",{ref:x})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(bc,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(Cs,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(me,{placeholder:"Digite sua mensagem...",value:o,onChange:P=>c(P.target.value),onKeyPress:ae,className:"pr-10"}),e.jsx(O,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2",children:e.jsx(_c,{className:"h-4 w-4"})})]}),e.jsx(O,{onClick:H,disabled:!o.trim(),className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:e.jsx(Yt,{className:"h-4 w-4"})})]})})]}),e.jsx(Fi,{})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 pb-24",children:[e.jsx("div",{className:"bg-white border-b px-4 py-3 shadow-sm",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Mensagens"})})}),e.jsxs("div",{className:"w-full lg:w-96 bg-white border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Buscar conversas...",value:u,onChange:P=>m(P.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:k?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Carregando conversas..."})]})}):I.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Jt,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma conversa encontrada"}),e.jsx("p",{className:"text-gray-500",children:"Você ainda não tem conversas ativas"})]})}):I.map(P=>e.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors flex items-center justify-between",onClick:()=>B(P.id),children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsxs(os,{className:"w-10 h-10 sm:w-12 sm:h-12",children:[e.jsx(ls,{src:P.clientAvatar,alt:P.clientName}),e.jsx(cs,{className:"bg-yellow-500 text-white text-xs sm:text-sm",children:P.clientName?.split(" ").map(C=>C[0]).join("")})]}),P.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-500 border-2 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate text-sm sm:text-base",children:P.clientName}),e.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:se(P.lastMessageTime)})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-1 flex-wrap",children:[e.jsx(qe,{variant:"secondary",className:"text-xs px-1.5 sm:px-2 py-0 bg-yellow-100 text-yellow-800",children:P.specialization}),P.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-gray-600",children:P.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate flex-1 min-w-0",children:P.lastMessage}),P.unreadCount>0&&e.jsx(qe,{className:"bg-yellow-500 text-white text-xs min-w-[18px] sm:min-w-[20px] h-4 sm:h-5 flex items-center justify-center flex-shrink-0",children:P.unreadCount})]}),P.location&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ze,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-500 truncate",children:P.location})]})]})]}),e.jsx("button",{className:"ml-1 sm:ml-2 p-1.5 sm:p-2 rounded-full hover:bg-red-100 text-red-600 flex-shrink-0",title:"Excluir conversa",onClick:C=>{C.stopPropagation(),W(P.id)},children:e.jsx(Sa,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]},P.id))})]}),e.jsx(Fi,{})]})}function D0(){const{toast:a}=st();return h.useEffect(()=>{const n=new URLSearchParams(window.location.search),i=n.get("token"),o=n.get("userType"),c=n.get("error");if(c){a({title:"Erro na autenticação",description:c==="google_auth_failed"?"Falha no login com Google":"Falha no login com Apple",variant:"destructive"}),window.location.href="/login";return}if(i&&o){localStorage.setItem("token",i);try{const u=JSON.parse(atob(i.split(".")[1])),m={id:u.id,email:u.email,userType:u.userType,name:u.name||"Usuário"};localStorage.setItem("user",JSON.stringify(m)),a({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${m.name}`}),o==="provider"?window.location.href="/provider-dashboard":window.location.href="/home"}catch(u){console.error("Erro ao decodificar token:",u),a({title:"Erro na autenticação",description:"Token inválido",variant:"destructive"}),window.location.href="/login"}}else a({title:"Erro na autenticação",description:"Dados de autenticação inválidos",variant:"destructive"}),window.location.href="/login"},[a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-yellow-50 via-amber-50 to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Da,{size:48,className:"text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"LifeBee"}),e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:"Cuidados Profissionais"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Processando autenticação..."})]})]})})}function z0(){const{user:a,isLoading:n,isAuthenticated:i}=Tt();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-yellow-500 border-t-transparent rounded-full"})}):i?a?.userType==="provider"?e.jsxs(_i,{children:[e.jsx(Re,{path:"/",component:Xo}),e.jsx(Re,{path:"/provider-dashboard",component:Xo}),e.jsx(Re,{path:"/provider-registration",children:e.jsx(m0,{onComplete:()=>window.location.reload()})}),e.jsx(Re,{path:"/provider-orders",component:f0}),e.jsx(Re,{path:"/provider-proposals",component:x0}),e.jsx(Re,{path:"/service-offer/:id",component:g0}),e.jsx(Re,{path:"/messages/:conversationId",component:mn}),e.jsx(Re,{path:"/messages",component:mn}),e.jsx(Re,{path:"/messages-provider/:conversationId",component:mn}),e.jsx(Re,{path:"/messages-provider",component:mn}),e.jsx(Re,{path:"/agenda",component:Vo}),e.jsx(Re,{path:"/agenda-profissional",component:I0}),e.jsx(Re,{path:"/profile",component:Uo}),e.jsx(Re,{path:"/provider-profile",component:p0}),e.jsx(Re,{path:"/settings",component:Go}),e.jsx(Re,{component:el})]}):e.jsxs(_i,{children:[e.jsx(Re,{path:"/",component:tx}),e.jsx(Re,{path:"/agenda",component:Vo}),e.jsx(Re,{path:"/messages/:conversationId",component:tl}),e.jsx(Re,{path:"/messages",component:tl}),e.jsx(Re,{path:"/profile",component:Uo}),e.jsx(Re,{path:"/settings",component:Go}),e.jsx(Re,{path:"/payment",component:sv}),e.jsx(Re,{path:"/professional/:id",component:rv}),e.jsx(Re,{path:"/servico",component:v0}),e.jsx(Re,{path:"/my-requests",component:A0}),e.jsx(Re,{component:el})]}):e.jsxs(_i,{children:[e.jsx(Re,{path:"/auth-callback",component:D0}),e.jsx(Re,{path:"*",children:e.jsx(O0,{onLogin:()=>{window.location.reload()}})})]})}function F0(){const[a,n]=h.useState(!0);return e.jsx(zl,{client:$l,children:e.jsx(Zl,{defaultTheme:"light",storageKey:"lifebee-theme",children:e.jsxs(Qc,{children:[a?e.jsx(ex,{onComplete:()=>n(!1)}):e.jsx(z0,{}),e.jsx(Ec,{})]})})})}window.addEventListener("unhandledrejection",a=>{console.warn("Unhandled promise rejection:",a.reason),a.preventDefault()});window.addEventListener("error",a=>{console.warn("Uncaught error:",a.error)});Am.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(hp,{children:e.jsx(zl,{client:$l,children:e.jsxs(Zl,{defaultTheme:"light",storageKey:"lifebee-ui-theme",children:[e.jsx(F0,{}),e.jsx(Ec,{})]})})})}));
